(self.webpackChunkDeliveryAppFrontend=self.webpackChunkDeliveryAppFrontend||[]).push([[179],{173:(sf,ji,wi)=>{"use strict";function kt(t){return"function"==typeof t}function Rn(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Fn=Rn(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function f(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class He{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(kt(i))try{i()}catch(s){n=s instanceof Fn?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{$t(s)}catch(d){n=n??[],d instanceof Fn?n=[...n,...d.errors]:n.push(d)}}if(n)throw new Fn(n)}}add(n){var e;if(n&&n!==this)if(this.closed)$t(n);else{if(n instanceof He){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&f(e,n)}remove(n){const{_finalizers:e}=this;e&&f(e,n),n instanceof He&&n._removeParent(this)}}He.EMPTY=(()=>{const t=new He;return t.closed=!0,t})();const $n=He.EMPTY;function Ti(t){return t instanceof He||t&&"closed"in t&&kt(t.remove)&&kt(t.add)&&kt(t.unsubscribe)}function $t(t){kt(t)?t():t.unsubscribe()}const mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ci={setTimeout(t,n,...e){const{delegate:i}=Ci;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Ci;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _r(t){Ci.setTimeout(()=>{const{onUnhandledError:n}=mn;if(!n)throw t;n(t)})}function zr(){}const rs=Jt("C",void 0,void 0);function Jt(t,n,e){return{kind:t,value:n,error:e}}let xn=null;function Fe(t){if(mn.useDeprecatedSynchronousErrorHandling){const n=!xn;if(n&&(xn={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=xn;if(xn=null,e)throw i}}else t()}class yn extends He{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ti(n)&&n.add(this)):this.destination=ai}static create(n,e,i){return new Cs(n,e,i)}next(n){this.isStopped?Ec(function fi(t){return Jt("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ec(function rr(t){return Jt("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ec(rs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hi=Function.prototype.bind;function Zt(t,n){return hi.call(t,n)}class Xn{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){os(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){os(i)}else os(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){os(e)}}}class Cs extends yn{constructor(n,e,i){let r;if(super(),kt(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&mn.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Zt(n.next,s),error:n.error&&Zt(n.error,s),complete:n.complete&&Zt(n.complete,s)}):r=n}this.destination=new Xn(r)}}function os(t){mn.useDeprecatedSynchronousErrorHandling?function Wt(t){mn.useDeprecatedSynchronousErrorHandling&&xn&&(xn.errorThrown=!0,xn.error=t)}(t):_r(t)}function Ec(t,n){const{onStoppedNotification:e}=mn;e&&Ci.setTimeout(()=>e(t,n))}const ai={closed:!0,next:zr,error:function el(t){throw t},complete:zr},Ic="function"==typeof Symbol&&Symbol.observable||"@@observable";function ss(t){return t}function Pl(t){return 0===t.length?ss:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let zn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function tl(t){return t&&t instanceof yn||function hd(t){return t&&kt(t.next)&&kt(t.error)&&kt(t.complete)}(t)&&Ti(t)}(e)?e:new Cs(e,i,r);return Fe(()=>{const{operator:d,source:m}=this;s.add(d?d.call(s,m):m?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=kc(i))((r,s)=>{const d=new Cs({next:m=>{try{e(m)}catch(b){s(b),d.unsubscribe()}},error:s,complete:r});this.subscribe(d)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ic](){return this}pipe(...e){return Pl(e)(this)}toPromise(e){return new(e=kc(e))((i,r)=>{let s;this.subscribe(d=>s=d,d=>r(d),()=>i(s))})}}return t.create=n=>new t(n),t})();function kc(t){var n;return null!==(n=t??mn.Promise)&&void 0!==n?n:Promise}const Ia=Rn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ct=(()=>{class t extends zn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Rl(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Ia}next(e){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?$n:(this.currentObservers=null,s.push(e),new He(()=>{this.currentObservers=null,f(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new zn;return e.source=this,e}}return t.create=(n,e)=>new Rl(n,e),t})();class Rl extends Ct{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:$n}}function as(t){return kt(t?.lift)}function Ai(t){return n=>{if(as(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oi(t,n,e,i,r){return new xs(t,n,e,i,r)}class xs extends yn{constructor(n,e,i,r,s,d){super(n),this.onFinalize=s,this.shouldUnsubscribe=d,this._next=e?function(m){try{e(m)}catch(b){n.error(b)}}:super._next,this._error=r?function(m){try{r(m)}catch(b){n.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Kt(t,n){return Ai((e,i)=>{let r=0;e.subscribe(Oi(i,s=>{i.next(t.call(n,s,r++))}))})}function la(t){return this instanceof la?(this.v=t,this):new la(t)}function Tu(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),s=[];return r={},d("next"),d("throw"),d("return"),r[Symbol.asyncIterator]=function(){return this},r;function d(G){i[G]&&(r[G]=function(X){return new Promise(function(ie,ve){s.push([G,X,ie,ve])>1||m(G,X)})})}function m(G,X){try{!function b(G){G.value instanceof la?Promise.resolve(G.value.v).then(S,I):R(s[0][2],G)}(i[G](X))}catch(ie){R(s[0][3],ie)}}function S(G){m("next",G)}function I(G){m("throw",G)}function R(G,X){G(X),s.shift(),s.length&&m(s[0][0],s[0][1])}}function _d(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function nl(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(d){return new Promise(function(m,b){!function r(s,d,m,b){Promise.resolve(b).then(function(S){s({value:S,done:m})},d)}(m,b,(d=t[s](d)).done,d.value)})}}}const Fl=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Nc(t){return kt(t?.then)}function zs(t){return kt(t[Ic])}function Lc(t){return Symbol.asyncIterator&&kt(t?.[Symbol.asyncIterator])}function bd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zl=function Mu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Fc(t){return kt(t?.[zl])}function Bs(t){return Tu(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield la(e.read());if(r)return yield la(void 0);yield yield la(i)}}finally{e.releaseLock()}})}function il(t){return kt(t?.getReader)}function Rr(t){if(t instanceof zn)return t;if(null!=t){if(zs(t))return function ce(t){return new zn(n=>{const e=t[Ic]();if(kt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Fl(t))return function j(t){return new zn(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Nc(t))return function Y(t){return new zn(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,_r)})}(t);if(Lc(t))return he(t);if(Fc(t))return function ae(t){return new zn(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(il(t))return function xe(t){return he(Bs(t))}(t)}throw bd(t)}function he(t){return new zn(n=>{(function Re(t,n){var e,i,r,s;return function fd(t,n,e,i){return new(e||(e=Promise))(function(s,d){function m(I){try{S(i.next(I))}catch(R){d(R)}}function b(I){try{S(i.throw(I))}catch(R){d(R)}}function S(I){I.done?s(I.value):function r(s){return s instanceof e?s:new e(function(d){d(s)})}(I.value).then(m,b)}S((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=_d(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(d){r={error:d}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function ke(t,n,e,i=0,r=!1){const s=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Ae(t,n,e=1/0){return kt(n)?Ae((i,r)=>Kt((s,d)=>n(i,s,r,d))(Rr(t(i,r))),e):("number"==typeof n&&(e=n),Ai((i,r)=>function Se(t,n,e,i,r,s,d,m){const b=[];let S=0,I=0,R=!1;const G=()=>{R&&!b.length&&!S&&n.complete()},X=ve=>S<i?ie(ve):b.push(ve),ie=ve=>{s&&n.next(ve),S++;let Me=!1;Rr(e(ve,I++)).subscribe(Oi(n,Ke=>{r?.(Ke),s?X(Ke):n.next(Ke)},()=>{Me=!0},void 0,()=>{if(Me)try{for(S--;b.length&&S<i;){const Ke=b.shift();d?ke(n,d,()=>ie(Ke)):ie(Ke)}G()}catch(Ke){n.error(Ke)}}))};return t.subscribe(Oi(n,X,()=>{R=!0,G()})),()=>{m?.()}}(i,r,t,e)))}function rt(t=1/0){return Ae(ss,t)}const vt=new zn(t=>t.complete());function cn(t){return t&&kt(t.schedule)}function Xt(t){return t[t.length-1]}function Tn(t){return kt(Xt(t))?t.pop():void 0}function qn(t){return cn(Xt(t))?t.pop():void 0}function en(t,n=0){return Ai((e,i)=>{e.subscribe(Oi(i,r=>ke(i,t,()=>i.next(r),n),()=>ke(i,t,()=>i.complete(),n),r=>ke(i,t,()=>i.error(r),n)))})}function $i(t,n=0){return Ai((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function tt(t,n){if(!t)throw new Error("Iterable cannot be null");return new zn(e=>{ke(e,n,()=>{const i=t[Symbol.asyncIterator]();ke(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Fi(t,n){return n?function Br(t,n){if(null!=t){if(zs(t))return function or(t,n){return Rr(t).pipe($i(n),en(n))}(t,n);if(Fl(t))return function Bl(t,n){return new zn(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(Nc(t))return function Oa(t,n){return Rr(t).pipe($i(n),en(n))}(t,n);if(Lc(t))return tt(t,n);if(Fc(t))return function Vs(t,n){return new zn(e=>{let i;return ke(e,n,()=>{i=t[zl](),ke(e,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(d){return void e.error(d)}s?e.complete():e.next(r)},0,!0)}),()=>kt(i?.return)&&i.return()})}(t,n);if(il(t))return function rl(t,n){return tt(Bs(t),n)}(t,n)}throw bd(t)}(t,n):Rr(t)}function ro(...t){const n=qn(t),e=function Pi(t,n){return"number"==typeof Xt(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Rr(i[0]):rt(e)(Fi(i,n)):vt}function Ri(t={}){const{connector:n=(()=>new Ct),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let d,m,b,S=0,I=!1,R=!1;const G=()=>{m?.unsubscribe(),m=void 0},X=()=>{G(),d=b=void 0,I=R=!1},ie=()=>{const ve=d;X(),ve?.unsubscribe()};return Ai((ve,Me)=>{S++,!R&&!I&&G();const Ke=b=b??n();Me.add(()=>{S--,0===S&&!R&&!I&&(m=Du(ie,r))}),Ke.subscribe(Me),!d&&S>0&&(d=new Cs({next:dt=>Ke.next(dt),error:dt=>{R=!0,G(),m=Du(X,e,dt),Ke.error(dt)},complete:()=>{I=!0,G(),m=Du(X,i),Ke.complete()}}),Rr(ve).subscribe(d))})(s)}}function Du(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new Cs({next:()=>{i.unsubscribe(),t()}});return n(...e).subscribe(i)}function sr(t){for(let n in t)if(t[n]===sr)return n;throw Error("Could not find renamed property on target object.")}function uo(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function li(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ci=sr({__forward_ref__:sr});function Bn(t){return t.__forward_ref__=Bn,t.toString=function(){return mt(this())},t}function On(t){return Qn(t)?t():t}function Qn(t){return"function"==typeof t&&t.hasOwnProperty(ci)&&t.__forward_ref__===Bn}class ct extends Error{constructor(n,e){super(function ca(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function vn(t){return"string"==typeof t?t:null==t?"":String(t)}function Vl(t,n){throw new ct(-201,!1)}function Io(t,n){null==t&&function Vn(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function Qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function js(t){return Sd(t,zc)||Sd(t,Bc)}function Sd(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ul(t){return t&&(t.hasOwnProperty(Ph)||t.hasOwnProperty(jl))?t[Ph]:null}const zc=sr({\u0275prov:sr}),Ph=sr({\u0275inj:sr}),Bc=sr({ngInjectableDef:sr}),jl=sr({ngInjectorDef:sr});var Nn=(()=>((Nn=Nn||{})[Nn.Default=0]="Default",Nn[Nn.Host=1]="Host",Nn[Nn.Self=2]="Self",Nn[Nn.SkipSelf=4]="SkipSelf",Nn[Nn.Optional=8]="Optional",Nn))();let Wr;function ko(t){const n=Wr;return Wr=t,n}function uf(t,n,e){const i=js(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Nn.Optional?null:void 0!==n?n:void Vl(mt(t))}function ua(t){return{toString:t}.toString()}var $s=(()=>(($s=$s||{})[$s.OnPush=0]="OnPush",$s[$s.Default=1]="Default",$s))(),Ts=(()=>{return(t=Ts||(Ts={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ts;var t})();const hr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gs={},un=[],Td=sr({\u0275cmp:sr}),Vc=sr({\u0275dir:sr}),Md=sr({\u0275pipe:sr}),Hc=sr({\u0275mod:sr}),Ws=sr({\u0275fac:sr}),ol=sr({__NG_ELEMENT_ID__:sr});let Fh=0;function it(t){return ua(()=>{const e=!0===t.standalone,i={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===$s.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ts.Emulated,id:"c"+Fh++,styles:t.styles||un,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,d=t.features;return r.inputs=Ed(t.inputs,i),r.outputs=Ed(t.outputs),d&&d.forEach(m=>m(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map($l).filter(Uc):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(fo).filter(Uc):null,r})}function $l(t){return Gi(t)||Ao(t)}function Uc(t){return null!==t}function Ft(t){return ua(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ed(t,n){if(null==t)return Gs;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,n&&(n[r]=s)}return e}const qe=it;function po(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gi(t){return t[Td]||null}function Ao(t){return t[Vc]||null}function fo(t){return t[Md]||null}function cs(t,n){const e=t[Hc]||null;if(!e&&!0===n)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return e}function Go(t){return Array.isArray(t)&&"object"==typeof t[1]}function mo(t){return Array.isArray(t)&&!0===t[1]}function Vh(t){return 0!=(8&t.flags)}function Ad(t){return 2==(2&t.flags)}function Iu(t){return 1==(1&t.flags)}function ha(t){return null!==t.template}function $0(t){return 0!=(256&t[2])}function ul(t,n){return t.hasOwnProperty(Ws)?t[Ws]:null}class jh{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function pi(){return dl}function dl(t){return t.type.prototype.ngOnChanges&&(t.setInput=$h),Kl}function Kl(){const t=Wc(this),n=t?.current;if(n){const e=t.previous;if(e===Gs)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function $h(t,n,e,i){const r=Wc(t)||function Pd(t,n){return t[Gh]=n}(t,{previous:Gs,current:null}),s=r.current||(r.current={}),d=r.previous,m=this.declaredInputs[e],b=d[m];s[m]=new jh(b&&b.currentValue,n,d===Gs),t[i]=n}pi.ngInherit=!0;const Gh="__ngSimpleChanges__";function Wc(t){return t[Gh]||null}function wr(t){for(;Array.isArray(t);)t=t[0];return t}function Xl(t,n){return wr(n[t])}function so(t,n){return wr(n[t.index])}function _f(t,n){return t.data[n]}function Zc(t,n){return t[n]}function ao(t,n){const e=n[t];return Go(e)?e:e[0]}function Kc(t){return 64==(64&t[2])}function pa(t,n){return null==n?null:t[n]}function Ou(t){t[18]=0}function qh(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const Gn={lFrame:Tf(null),bindingsEnabled:!0};function bf(){return Gn.bindingsEnabled}function _t(){return Gn.lFrame.lView}function Mi(){return Gn.lFrame.tView}function ye(t){return Gn.lFrame.contextLView=t,t[8]}function me(t){return Gn.lFrame.contextLView=null,t}function Zr(){let t=Yh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yh(){return Gn.lFrame.currentTNode}function Fa(t,n){const e=Gn.lFrame;e.currentTNode=t,e.isParent=n}function fa(){return Gn.lFrame.isParent}function Xh(){Gn.lFrame.isParent=!1}function Ro(){const t=Gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Va(){return Gn.lFrame.bindingIndex++}function ma(t){const n=Gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Cf(t,n){const e=Gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ld(n)}function Ld(t){Gn.lFrame.currentDirectiveIndex=t}function Pu(){return Gn.lFrame.currentQueryIndex}function Ru(t){Gn.lFrame.currentQueryIndex=t}function ig(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Jh(t,n,e){if(e&Nn.SkipSelf){let r=n,s=t;for(;!(r=r.parent,null!==r||e&Nn.Host||(r=ig(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;n=r,t=s}const i=Gn.lFrame=Sf();return i.currentTNode=n,i.lView=t,!0}function ep(t){const n=Sf(),e=t[1];Gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Sf(){const t=Gn.lFrame,n=null===t?null:t.child;return null===n?Tf(t):n}function Tf(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Mf(){const t=Gn.lFrame;return Gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Df=Mf;function Fd(){const t=Mf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function go(){return Gn.lFrame.selectedIndex}function Ys(t){Gn.lFrame.selectedIndex=t}function g(){const t=Gn.lFrame;return _f(t.tView,t.selectedIndex)}function E(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:m,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:I}=s;d&&(t.contentHooks||(t.contentHooks=[])).push(-e,d),m&&((t.contentHooks||(t.contentHooks=[])).push(e,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,m)),b&&(t.viewHooks||(t.viewHooks=[])).push(-e,b),S&&((t.viewHooks||(t.viewHooks=[])).push(e,S),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,S)),null!=I&&(t.destroyHooks||(t.destroyHooks=[])).push(e,I)}}function A(t,n,e){$(t,n,3,e)}function F(t,n,e,i){(3&t[2])===e&&$(t,n,e,i)}function L(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function $(t,n,e,i){const s=i??-1,d=n.length-1;let m=0;for(let b=void 0!==i?65535&t[18]:0;b<d;b++)if("number"==typeof n[b+1]){if(m=n[b],null!=i&&m>=i)break}else n[b]<0&&(t[18]+=65536),(m<s||-1==s)&&(Q(t,e,n,b),t[18]=(4294901760&t[18])+b+2),b++}function Q(t,n,e,i){const r=e[i]<0,s=e[i+1],m=t[r?-e[i]:e[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{s.call(m)}finally{}}}else try{s.call(m)}finally{}}class ne{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Te(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],d=e[i++],m=e[i++];t.setAttribute(n,d,m,s)}else{const s=r,d=e[++i];ze(s)?t.setProperty(n,s,d):t.setAttribute(n,s,d),i++}}return i}function Ue(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Ie(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||gt(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function gt(t,n,e,i,r){let s=0,d=t.length;if(-1===n)d=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){d=-1;break}if(m>n){d=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===e){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==d&&(t.splice(d,0,n),s=d+1),t.splice(s++,0,e),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Ne(t){return-1!==t}function Je(t){return 32767&t}function lt(t,n){let e=function $e(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Ze=!0;function ot(t){const n=Ze;return Ze=t,n}let Bt=0;const Ut={};function pn(t,n){const e=rn(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,jn(i.data,t),jn(n,null),jn(i.blueprint,null));const r=Pt(t,n),s=t.injectorIndex;if(Ne(r)){const d=Je(r),m=lt(r,n),b=m[1].data;for(let S=0;S<8;S++)n[s+S]=m[d+S]|b[d+S]}return n[s+8]=r,s}function jn(t,n){t.push(0,0,0,0,0,0,0,0,n)}function rn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Pt(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=_o(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Di(t,n,e){!function Vt(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ol)&&(i=e[ol]),null==i&&(i=e[ol]=Bt++);const r=255&i;n.data[t+(r>>5)]|=1<<r}(t,n,e)}function Wi(t,n,e){if(e&Nn.Optional||void 0!==t)return t;Vl()}function Bi(t,n,e,i){if(e&Nn.Optional&&void 0===i&&(i=null),0==(e&(Nn.Self|Nn.Host))){const r=t[9],s=ko(void 0);try{return r?r.get(n,i,e&Nn.Optional):uf(n,i,e&Nn.Optional)}finally{ko(s)}}return Wi(i,0,e)}function Wo(t,n,e,i=Nn.Default,r){if(null!==t){if(1024&n[2]){const d=function fl(t,n,e,i,r){let s=t,d=n;for(;null!==s&&null!==d&&1024&d[2]&&!(256&d[2]);){const m=us(s,d,e,i|Nn.Self,Ut);if(m!==Ut)return m;let b=s.parent;if(!b){const S=d[21];if(S){const I=S.get(e,Ut,i);if(I!==Ut)return I}b=_o(d),d=d[15]}s=b}return r}(t,n,e,i,Ut);if(d!==Ut)return d}const s=us(t,n,e,i,Ut);if(s!==Ut)return s}return Bi(n,e,i,r)}function us(t,n,e,i,r){const s=function Yi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ol)?t[ol]:void 0;return"number"==typeof n?n>=0?255&n:Ji:n}(e);if("function"==typeof s){if(!Jh(n,t,i))return i&Nn.Host?Wi(r,0,i):Bi(n,e,i,r);try{const d=s(i);if(null!=d||i&Nn.Optional)return d;Vl()}finally{Df()}}else if("number"==typeof s){let d=null,m=rn(t,n),b=-1,S=i&Nn.Host?n[16][6]:null;for((-1===m||i&Nn.SkipSelf)&&(b=-1===m?Pt(t,n):n[m+8],-1!==b&&Dr(i,!1)?(d=n[1],m=Je(b),n=lt(b,n)):m=-1);-1!==m;){const I=n[1];if(yi(s,m,I.data)){const R=qo(m,n,e,d,i,S);if(R!==Ut)return R}b=n[m+8],-1!==b&&Dr(i,n[1].data[m+8]===S)&&yi(s,m,n)?(d=I,m=Je(b),n=lt(b,n)):m=-1}}return r}function qo(t,n,e,i,r,s){const d=n[1],m=d.data[t+8],I=Is(m,d,e,null==i?Ad(m)&&Ze:i!=d&&0!=(3&m.type),r&Nn.Host&&s===m);return null!==I?Vi(n,d,I,m):Ut}function Is(t,n,e,i,r){const s=t.providerIndexes,d=n.data,m=1048575&s,b=t.directiveStart,I=s>>20,G=r?m+I:t.directiveEnd;for(let X=i?m:m+I;X<G;X++){const ie=d[X];if(X<b&&e===ie||X>=b&&ie.type===e)return X}if(r){const X=d[b];if(X&&ha(X)&&X.type===e)return b}return null}function Vi(t,n,e,i){let r=t[e];const s=n.data;if(function oe(t){return t instanceof ne}(r)){const d=r;d.resolving&&function Pa(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ct(-200,`Circular dependency in DI detected for ${t}${e}`)}(function In(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vn(t)}(s[e]));const m=ot(d.canSeeViewProviders);d.resolving=!0;const b=d.injectImpl?ko(d.injectImpl):null;Jh(t,i,Nn.Default);try{r=t[e]=d.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&function D(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const d=dl(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,d)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==b&&ko(b),ot(m),d.resolving=!1,Df()}}return r}function yi(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Dr(t,n){return!(t&Nn.Self||t&Nn.Host&&n)}class Nr{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Wo(this._tNode,this._lView,n,i,e)}}function Ji(){return new Nr(Zr(),_t())}function _n(t){return ua(()=>{const n=t.prototype.constructor,e=n[Ws]||Yc(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[Ws]||Yc(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Yc(t){return Qn(t)?()=>{const n=Yc(On(t));return n&&n()}:ul(t)}function _o(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}const Ko="__parameters__";function Jl(t,n,e){return ua(()=>{const i=function Xs(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const d=new r(...s);return m.annotation=d,m;function m(b,S,I){const R=b.hasOwnProperty(Ko)?b[Ko]:Object.defineProperty(b,Ko,{value:[]})[Ko];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(d),b}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class At{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Qe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ga(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),ga(i,n)):n!==t&&n.push(i)}return n}function Ua(t,n){t.forEach(e=>Array.isArray(e)?Ua(e,n):n(e))}function Q0(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function ip(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Lu(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function _a(t,n,e){let i=tc(t,n);return i>=0?t[1|i]=e:(i=~i,function nv(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Ef(t,n){const e=tc(t,n);if(e>=0)return t[1|e]}function tc(t,n){return function nc(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const s=i+(r-i>>1),d=t[s<<e];if(n===d)return s<<e;d>n?r=s:i=s+1}return~(r<<e)}(t,n,1)}const Bu={},ya="__NG_DI_FLAG__",lg="ngTempTokenPath",Vr=/\n/gm,Qc="__source";let Vu;function di(t){const n=Vu;return Vu=t,n}function rv(t,n=Nn.Default){if(void 0===Vu)throw new ct(-203,!1);return null===Vu?uf(t,void 0,n):Vu.get(t,n&Nn.Optional?null:void 0,n)}function Ee(t,n=Nn.Default){return(function Rh(){return Wr}()||rv)(On(t),n)}function er(t,n=Nn.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),Ee(t,n)}function Qs(t){const n=[];for(let e=0;e<t.length;e++){const i=On(t[e]);if(Array.isArray(i)){if(0===i.length)throw new ct(900,!1);let r,s=Nn.Default;for(let d=0;d<i.length;d++){const m=i[d],b=No(m);"number"==typeof b?-1===b?r=m.token:s|=b:r=m}n.push(Ee(r,s))}else n.push(Ee(i))}return n}function Yo(t,n){return t[ya]=n,t.prototype[ya]=n,t}function No(t){return t[ya]}const rc=Yo(Jl("Optional"),8),rp=Yo(Jl("SkipSelf"),4);var Js=(()=>((Js=Js||{})[Js.Important=1]="Important",Js[Js.DashCase=2]="DashCase",Js))();const _l=new Map;let p1=0;const Tr="__ngContext__";function Xo(t,n){Go(n)?(t[Tr]=n[20],function Lf(t){_l.set(t[20],t)}(n)):t[Tr]=n}function zf(t,n){return undefined(t,n)}function ap(t){const n=t[3];return mo(n)?n[3]:n}function y1(t){return b1(t[13])}function v1(t){return b1(t[4])}function b1(t){for(;null!==t&&!mo(t);)t=t[4];return t}function $d(t,n,e,i,r){if(null!=i){let s,d=!1;mo(i)?s=i:Go(i)&&(d=!0,i=i[0]);const m=wr(i);0===t&&null!==e?null==r?Cv(n,e,m):Gd(n,e,m,r||null,!0):1===t&&null!==e?Gd(n,e,m,r||null,!0):2===t?function qf(t,n,e){const i=mg(t,n);i&&function OC(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,m,d):3===t&&n.destroyNode(m),null!=s&&function D1(t,n,e,i,r){const s=e[7];s!==wr(e)&&$d(n,t,i,s,r);for(let m=10;m<e.length;m++){const b=e[m];hp(b[1],b,t,n,i,s)}}(n,t,s,e,r)}}function w1(t,n,e){return t.createElement(n,e)}function x1(t,n){const e=t[9],i=e.indexOf(n),r=n[3];512&n[2]&&(n[2]&=-513,qh(r,-1)),e.splice(i,1)}function nu(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const r=i[17];null!==r&&r!==t&&x1(r,i),n>0&&(t[e-1][4]=i[4]);const s=ip(t,10+n);!function C1(t,n){hp(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const d=s[19];null!==d&&d.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function lp(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&hp(t,n,e,3,null,null),function IC(t){let n=t[13];if(!n)return S1(t[1],t);for(;n;){let e=null;if(Go(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Go(n)&&S1(n[1],n),n=n[3];null===n&&(n=t),Go(n)&&S1(n[1],n),e=n&&n[4]}n=e}}(n)}}function S1(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function AC(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof ne)){const s=e[i+1];if(Array.isArray(s))for(let d=0;d<s.length;d+=2){const m=r[s[d]],b=s[d+1];try{b.call(m)}finally{}}else try{s.call(r)}finally{}}}}(t,n),function kC(t,n){const e=t.cleanup,i=n[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const d=e[s+1],m="function"==typeof d?d(n):wr(n[d]),b=i[r=e[s+2]],S=e[s+3];"boolean"==typeof S?m.removeEventListener(e[s],b,S):S>=0?i[r=S]():i[r=-S].unsubscribe(),s+=2}else{const d=i[r=e[s+1]];e[s].call(d)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&mo(n[3])){e!==n[3]&&x1(e,n);const i=n[19];null!==i&&i.detachView(t)}!function va(t){_l.delete(t[20])}(n)}}function bv(t,n,e){return function wv(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Ts.None||r===Ts.Emulated)return null}return so(i,e)}(t,n.parent,e)}function Gd(t,n,e,i,r){t.insertBefore(n,e,i,r)}function Cv(t,n,e){t.appendChild(n,e)}function fg(t,n,e,i,r){null!==i?Gd(t,n,e,i,r):Cv(t,n,e)}function mg(t,n){return t.parentNode(n)}function Uf(t,n,e){return jf(t,n,e)}let Wd,pp,iu,jf=function T1(t,n,e){return 40&t.type?so(t,e):null};function $f(t,n,e,i){const r=bv(t,i,n),s=n[11],m=Uf(i.parent||n[6],i,n);if(null!=r)if(Array.isArray(e))for(let b=0;b<e.length;b++)fg(s,r,e[b],m,!1);else fg(s,r,e,m,!1)}function Gf(t,n){if(null!==n){const e=n.type;if(3&e)return so(n,t);if(4&e)return Wf(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Gf(t,i);{const r=t[n.index];return mo(r)?Wf(-1,r):wr(r)}}if(32&e)return zf(n,t)()||wr(t[n.index]);{const i=dp(t,n);return null!==i?Array.isArray(i)?i[0]:Gf(ap(t[16]),i):Gf(t,n.next)}}return null}function dp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Wf(t,n){const e=10+t+1;if(e<n.length){const i=n[e],r=i[1].firstChild;if(null!==r)return Gf(i,r)}return n[7]}function M1(t,n,e,i,r,s,d){for(;null!=e;){const m=i[e.index],b=e.type;if(d&&0===n&&(m&&Xo(wr(m),i),e.flags|=4),64!=(64&e.flags))if(8&b)M1(t,n,e.child,i,r,s,!1),$d(n,t,r,m,s);else if(32&b){const S=zf(e,i);let I;for(;I=S();)$d(n,t,r,I,s);$d(n,t,r,m,s)}else 16&b?xv(t,n,i,e,r,s):$d(n,t,r,m,s);e=d?e.projectionNext:e.next}}function hp(t,n,e,i,r,s){M1(e,i,t.firstChild,n,r,s,!1)}function xv(t,n,e,i,r,s){const d=e[16],b=d[6].projection[i.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)$d(n,t,r,b[S],s);else M1(t,n,b,d[3],r,s,!0)}function gg(t,n,e){t.setAttribute(n,"style",e)}function Kf(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function qd(t){return function E1(){if(void 0===Wd&&(Wd=null,hr.trustedTypes))try{Wd=hr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wd}()?.createHTML(t)||t}function Sv(t){return function k1(){if(void 0===iu&&(iu=null,hr.trustedTypes))try{iu=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return iu}()?.createHTML(t)||t}class $u{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zC extends $u{getTypeName(){return"HTML"}}class BC extends $u{getTypeName(){return"Style"}}class VC extends $u{getTypeName(){return"Script"}}class O1 extends $u{getTypeName(){return"URL"}}class _g extends $u{getTypeName(){return"ResourceURL"}}function ps(t){return t instanceof $u?t.changingThisBreaksApplicationSecurity:t}function ac(t,n){const e=function HC(t){return t instanceof $u&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class Iv{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(qd(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class kv{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qd(n),e;const i=this.inertDocument.createElement("body");return i.innerHTML=qd(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const e=n.attributes;for(let r=e.length-1;0<r;r--){const d=e.item(r).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&n.removeAttribute(d)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Ov=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jf(t){return(t=String(t)).match(Ov)?t:"unsafe:"+t}function lc(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function em(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const Pv=lc("area,br,col,hr,img,wbr"),P1=lc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tm=lc("rp,rt"),Gu=em(Pv,em(P1,lc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),em(tm,lc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),em(tm,P1)),Zd=lc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rv=em(Zd,lc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GC=lc("script,style,template");class WC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Gu.hasOwnProperty(e))return this.sanitizedSomething=!0,!GC.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),d=s.name,m=d.toLowerCase();if(!Rv.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let b=s.value;Zd[m]&&(b=Jf(b)),this.buf.push(" ",d,'="',Nv(b),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Gu.hasOwnProperty(e)&&!Pv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Nv(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const qC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZC=/([^\#-~ |!])/g;function Nv(t){return t.replace(/&/g,"&amp;").replace(qC,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ZC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kd;function Lv(t,n){let e=null;try{Kd=Kd||function Ev(t){const n=new kv(t);return function Av(){try{return!!(new window.DOMParser).parseFromString(qd(""),"text/html")}catch{return!1}}()?new Iv(n):n}(t);let i=n?String(n):"";e=Kd.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Kd.getInertBodyElement(i)}while(i!==s);return qd((new WC).sanitizeChildren(vg(e)||e))}finally{if(e){const i=vg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function vg(t){return"content"in t&&function Fv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function nm(t){const n=uc();return n?Sv(n.sanitize(Cr.HTML,t)||""):ac(t,"HTML")?Sv(ps(t)):Lv(function I1(){return void 0!==pp?pp:typeof document<"u"?document:void 0}(),vn(t))}function ru(t){const n=uc();return n?n.sanitize(Cr.URL,t)||"":ac(t,"URL")?ps(t):Jf(vn(t))}function uc(){const t=_t();return t&&t[12]}const N1=new At("ENVIRONMENT_INITIALIZER"),Hv=new At("INJECTOR",-1),fp=new At("INJECTOR_DEF_TYPES");class Uv{get(n,e=Bu){if(e===Bu){const i=new Error(`NullInjectorError: No provider for ${mt(n)}!`);throw i.name="NullInjectorError",i}return e}}function QC(...t){return{\u0275providers:mp(0,t)}}function mp(t,...n){const e=[],i=new Set;let r;return Ua(n,s=>{const d=s;bg(d,e,[],i)&&(r||(r=[]),r.push(d))}),void 0!==r&&L1(r,e),e}function L1(t,n){for(let e=0;e<t.length;e++){const{providers:r}=t[e];Ua(r,s=>{n.push(s)})}}function bg(t,n,e,i){if(!(t=On(t)))return!1;let r=null,s=Ul(t);const d=!s&&Gi(t);if(s||d){if(d&&!d.standalone)return!1;r=t}else{const b=t.ngModule;if(s=Ul(b),!s)return!1;r=b}const m=i.has(r);if(d){if(m)return!1;if(i.add(r),d.dependencies){const b="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const S of b)bg(S,n,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let S;i.add(r);try{Ua(s.imports,I=>{bg(I,n,e,i)&&(S||(S=[]),S.push(I))})}finally{}void 0!==S&&L1(S,n)}if(!m){const S=ul(r)||(()=>new r);n.push({provide:r,useFactory:S,deps:un},{provide:fp,useValue:r,multi:!0},{provide:N1,useValue:()=>Ee(r),multi:!0})}const b=s.providers;null==b||m||Ua(b,I=>{n.push(I)})}}return r!==t&&void 0!==t.providers}const F1=sr({provide:String,useValue:sr});function wg(t){return null!==t&&"object"==typeof t&&F1 in t}function $a(t){return"function"==typeof t}const B1=new At("Set Injector scope."),Cg={},JC={};let V1;function xg(){return void 0===V1&&(V1=new Uv),V1}class Wu{}class $v extends Wu{constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(n,d=>this.processProvider(d)),this.records.set(Hv,Xd(void 0,this)),r.has("environment")&&this.records.set(Wu,Xd(void 0,this));const s=this.records.get(B1);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fp.multi,un,Nn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=di(this),i=ko(void 0);try{return n()}finally{di(e),ko(i)}}get(n,e=Bu,i=Nn.Default){this.assertNotDestroyed();const r=di(this),s=ko(void 0);try{if(!(i&Nn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const b=function ix(t){return"function"==typeof t||"object"==typeof t&&t instanceof At}(n)&&js(n);m=b&&this.injectableDefInScope(b)?Xd(H1(n),Cg):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(i&Nn.Self?xg():this.parent).get(n,e=i&Nn.Optional&&e===Bu?null:e)}catch(d){if("NullInjectorError"===d.name){if((d[lg]=d[lg]||[]).unshift(mt(n)),r)throw d;return function ov(t,n,e,i){const r=t[lg];throw n[Qc]&&r.unshift(n[Qc]),t.message=function ic(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=mt(n);if(Array.isArray(n))r=n.map(mt).join(" -> ");else if("object"==typeof n){let s=[];for(let d in n)if(n.hasOwnProperty(d)){let m=n[d];s.push(d+":"+("string"==typeof m?JSON.stringify(m):mt(m)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(Vr,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[lg]=null,t}(d,n,"R3InjectorError",this.source)}throw d}finally{ko(s),di(r)}}resolveInjectorInitializers(){const n=di(this),e=ko(void 0);try{const i=this.get(N1.multi,un,Nn.Self);for(const r of i)r()}finally{di(n),ko(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(mt(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(n){let e=$a(n=On(n))?n:On(n&&n.provide);const i=function Sg(t){return wg(t)?Xd(void 0,t.useValue):Xd(Yd(t),Cg)}(n);if($a(n)||!0!==n.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Xd(void 0,Cg,!0),r.factory=()=>Qs(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===Cg&&(e.value=JC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function nx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=On(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function H1(t){const n=js(t),e=null!==n?n.factory:ul(t);if(null!==e)return e;if(t instanceof At)throw new ct(204,!1);if(t instanceof Function)return function ex(t){const n=t.length;if(n>0)throw Lu(n,"?"),new ct(204,!1);const e=function H0(t){const n=t&&(t[zc]||t[Bc]);if(n){const e=function cf(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new ct(204,!1)}function Yd(t,n,e){let i;if($a(t)){const r=On(t);return ul(r)||H1(r)}if(wg(t))i=()=>On(t.useValue);else if(function dc(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Qs(t.deps||[]));else if(function z1(t){return!(!t||!t.useExisting)}(t))i=()=>Ee(On(t.useExisting));else{const r=On(t&&(t.useClass||t.provide));if(!function tx(t){return!!t.deps}(t))return ul(r)||H1(r);i=()=>new r(...Qs(t.deps))}return i}function Xd(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function U1(t){return!!t.\u0275providers}function im(t,n){for(const e of t)Array.isArray(e)?im(e,n):U1(e)?im(e.\u0275providers,n):n(e)}class na{}class Tg{resolveComponentFactory(n){throw function rm(t){const n=Error(`No component factory found for ${mt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let yl=(()=>{class t{}return t.NULL=new Tg,t})();function qv(){return Jd(Zr(),_t())}function Jd(t,n){return new Yt(so(t,n))}let Yt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=qv,t})();function Zv(t){return t instanceof Yt?t.nativeElement:t}class eh{}let cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function ox(){const t=_t(),e=ao(Zr().index,t);return(Go(e)?e:t)[11]}(),t})(),Kv=(()=>{class t{}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Yv=new ba("14.2.12"),Mg={};function j1(t){return t.ngOriginalError}class gp{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&j1(n);for(;e&&j1(e);)e=j1(e);return e||null}}function Eg(t){return t.ownerDocument.defaultView}function Ga(t){return t instanceof Function?t():t}function ib(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}e=r+1}}const nh="ng-template";function W1(t,n,e){let i=0;for(;i<t.length;){let r=t[i++];if(e&&"class"===r){if(r=t[i],-1!==ib(r.toLowerCase(),n,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===n)return!0;return!1}}return!1}function rb(t){return 4===t.type&&t.value!==nh}function ob(t,n,e){return n===(4!==t.type||e?t.value:nh)}function sx(t,n,e){let i=4;const r=t.attrs||[],s=function ab(t){for(let n=0;n<t.length;n++)if(Ue(t[n]))return n;return t.length}(r);let d=!1;for(let m=0;m<n.length;m++){const b=n[m];if("number"!=typeof b){if(!d)if(4&i){if(i=2|1&i,""!==b&&!ob(t,b,e)||""===b&&1===n.length){if(wa(i))return!1;d=!0}}else{const S=8&i?b:n[++m];if(8&i&&null!==t.attrs){if(!W1(t.attrs,S,e)){if(wa(i))return!1;d=!0}continue}const R=ax(8&i?"class":b,r,rb(t),e);if(-1===R){if(wa(i))return!1;d=!0;continue}if(""!==S){let G;G=R>s?"":r[R+1].toLowerCase();const X=8&i?G:null;if(X&&-1!==ib(X,S,0)||2&i&&S!==G){if(wa(i))return!1;d=!0}}}}else{if(!d&&!wa(i)&&!wa(b))return!1;if(d&&wa(b))continue;d=!1,i=b|1&i}}return wa(i)||d}function wa(t){return 0==(1&t)}function ax(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let s=!1;for(;r<n.length;){const d=n[r];if(d===t)return r;if(3===d||6===d)s=!0;else{if(1===d||2===d){let m=n[++r];for(;"string"==typeof m;)m=n[++r];continue}if(4===d)break;if(0===d){r+=4;continue}}r+=s?1:2}return-1}return function kg(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function ou(t,n,e=!1){for(let i=0;i<n.length;i++)if(sx(t,n[i],e))return!0;return!1}function q1(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function lb(t,n){return t?":not("+n.trim()+")":n}function lx(t){let n=t[0],e=1,i=2,r="",s=!1;for(;e<t.length;){let d=t[e];if("string"==typeof d)if(2&i){const m=t[++e];r+="["+d+(m.length>0?'="'+m+'"':"")+"]"}else 8&i?r+="."+d:4&i&&(r+=" "+d);else""!==r&&!wa(d)&&(n+=lb(s,r),r=""),i=d,s=s||!wa(i);e++}return""!==r&&(n+=lb(s,r)),n}const Zn={};function V(t){Ag(Mi(),_t(),go()+t,!1)}function Ag(t,n,e,i){if(!i)if(3==(3&n[2])){const s=t.preOrderCheckHooks;null!==s&&A(n,s,e)}else{const s=t.preOrderHooks;null!==s&&F(n,s,0,e)}Ys(e)}function qu(t,n=null,e=null,i){const r=Y1(t,n,e,i);return r.resolveInjectorInitializers(),r}function Y1(t,n=null,e=null,i,r=new Set){const s=[e||un,QC(t)];return i=i||("object"==typeof t?void 0:mt(t)),new $v(s,n||xg(),i||null,r)}let Fo=(()=>{class t{static create(e,i){if(Array.isArray(e))return qu({name:""},i,e,"");{const r=e.name??"";return qu({name:r},e.parent,e.providers,r)}}}return t.THROW_IF_NOT_FOUND=Bu,t.NULL=new Uv,t.\u0275prov=Qe({token:t,providedIn:"any",factory:()=>Ee(Hv)}),t.__NG_ELEMENT_ID__=-1,t})();function U(t,n=Nn.Default){const e=_t();return null===e?Ee(t,n):Wo(Zr(),e,On(t),n)}function Ng(){throw new Error("invalid")}function Lg(t,n){return t<<17|n<<2}function qa(t){return t>>17&32767}function t_(t){return 2|t}function hc(t){return(131068&t)>>2}function n_(t,n){return-131069&t|n<<2}function Dp(t){return 1|t}function Eb(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const d=t.data[s];Ru(r),d.contentQueries(2,n[s],s)}}}function Ap(t,n,e,i,r,s,d,m,b,S,I){const R=n.blueprint.slice();return R[0]=r,R[2]=76|i,(null!==I||t&&1024&t[2])&&(R[2]|=1024),Ou(R),R[3]=R[15]=t,R[8]=e,R[10]=d||t&&t[10],R[11]=m||t&&t[11],R[12]=b||t&&t[12]||null,R[9]=S||t&&t[9]||null,R[6]=s,R[20]=function fv(){return p1++}(),R[21]=I,R[16]=2==n.type?t[16]:R,R}function As(t,n,e,i,r){let s=t.data[n];if(null===s)s=function dm(t,n,e,i,r){const s=Yh(),d=fa(),b=t.data[n]=function f_(t,n,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?s:s&&s.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=b),null!==s&&(d?null==s.child&&null!==b.parent&&(s.child=b):null===s.next&&(s.next=b)),b}(t,n,e,i,r),function ng(){return Gn.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const d=function Rd(){const t=Gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===d?-1:d.injectorIndex}return Fa(s,!0),s}function Ku(t,n,e,i){if(0===e)return-1;const r=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function xa(t,n,e){ep(n);try{const i=t.viewQuery;null!==i&&Et(1,i,e);const r=t.template;null!==r&&d_(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Eb(t,n),t.staticViewQueries&&Et(2,t.viewQuery,e);const s=t.components;null!==s&&function u_(t,n){for(let e=0;e<n.length;e++)st(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,Fd()}}function mc(t,n,e,i){const r=n[2];if(128!=(128&r)){ep(n);try{Ou(n),function pl(t){return Gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&d_(t,n,e,2,i);const d=3==(3&r);if(d){const S=t.preOrderCheckHooks;null!==S&&A(n,S,null)}else{const S=t.preOrderHooks;null!==S&&F(n,S,0,null),L(n,0)}if(function pt(t){for(let n=y1(t);null!==n;n=v1(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&qh(s,1),r[2]|=512}}}(n),function et(t){for(let n=y1(t);null!==n;n=v1(n))for(let e=10;e<n.length;e++){const i=n[e],r=i[1];Kc(i)&&mc(r,i,r.template,i[8])}}(n),null!==t.contentQueries&&Eb(t,n),d){const S=t.contentCheckHooks;null!==S&&A(n,S)}else{const S=t.contentHooks;null!==S&&F(n,S,1),L(n,1)}!function Hg(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ys(~r);else{const s=r,d=e[++i],m=e[++i];Cf(d,s),m(2,n[s])}}}finally{Ys(-1)}}(t,n);const m=t.components;null!==m&&function kp(t,n){for(let e=0;e<n.length;e++)Ge(t,n[e])}(n,m);const b=t.viewQuery;if(null!==b&&Et(2,b,i),d){const S=t.viewCheckHooks;null!==S&&A(n,S)}else{const S=t.viewHooks;null!==S&&F(n,S,2),L(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,qh(n[3],-1))}finally{Fd()}}}function d_(t,n,e,i,r){const s=go(),d=2&i;try{Ys(-1),d&&n.length>22&&Ag(t,n,22,!1),e(i,r)}finally{Ys(s)}}function h_(t,n,e){if(Vh(n)){const r=n.directiveEnd;for(let s=n.directiveStart;s<r;s++){const d=t.data[s];d.contentQueries&&d.contentQueries(1,e[s],s)}}}function ah(t,n,e){!bf()||(function M(t,n,e,i){const r=e.directiveStart,s=e.directiveEnd;t.firstCreatePass||pn(e,n),Xo(i,n);const d=e.initialInputs;for(let m=r;m<s;m++){const b=t.data[m],S=ha(b);S&&ge(n,e,b);const I=Vi(n,t,m,e);Xo(I,n),null!==d&&we(0,m-r,I,b,0,d),S&&(ao(e.index,n)[8]=I)}}(t,n,e,so(e,n)),128==(128&e.flags)&&function k(t,n,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,d=function xf(){return Gn.lFrame.currentDirectiveIndex}();try{Ys(s);for(let m=i;m<r;m++){const b=t.data[m],S=n[m];Ld(m),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&O(b,S)}}finally{Ys(-1),Ld(d)}}(t,n,e))}function Op(t,n,e=so){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const d=i[s+1],m=-1===d?e(n,t):t[d];t[r++]=m}}}function p_(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Ug(t,n,e,i,r,s,d,m,b,S){const I=22+i,R=I+r,G=function Sx(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Zn);return e}(I,R),X="function"==typeof S?S():S;return G[1]={type:t,blueprint:G,template:e,queries:null,viewQuery:m,declTNode:n,data:G.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:b,consts:X,incompleteFirstPass:!1}}function kb(t,n,e,i){const r=Mt(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&wn(t).push(i,r.length-1))}function m_(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,r):e[i]=[n,r]}return e}function g_(t,n){const i=n.directiveEnd,r=t.data,s=n.attrs,d=[];let m=null,b=null;for(let S=n.directiveStart;S<i;S++){const I=r[S],R=I.inputs,G=null===s||rb(n)?null:_e(R,s);d.push(G),m=m_(R,S,m),b=m_(I.outputs,S,b)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=d,n.inputs=m,n.outputs=b}function o(t,n,e,i,r,s,d,m){const b=so(n,e);let I,S=n.inputs;!m&&null!=S&&(I=S[i])?(Kn(t,e,I,i,r),Ad(n)&&l(e,n.index)):3&n.type&&(i=function a(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=d?d(r,n.value||"",i):r,s.setProperty(b,i,r))}function l(t,n){const e=ao(n,t);16&e[2]||(e[2]|=32)}function v(t,n,e,i){let r=!1;if(bf()){const s=function N(t,n,e){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const d=i[s];ou(e,d.selectors,!1)&&(r||(r=[]),Di(pn(e,n),t,d.type),ha(d)?(B(t,e),r.unshift(d)):r.push(d))}return r}(t,n,e),d=null===i?null:{"":-1};if(null!==s){r=!0,J(e,t.data.length,s.length);for(let I=0;I<s.length;I++){const R=s[I];R.providersResolver&&R.providersResolver(R)}let m=!1,b=!1,S=Ku(t,n,s.length,null);for(let I=0;I<s.length;I++){const R=s[I];e.mergedAttrs=Ie(e.mergedAttrs,R.hostAttrs),de(t,e,n,S,R),Z(S,R,d),null!==R.contentQueries&&(e.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(e.flags|=128);const G=R.type.prototype;!m&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),m=!0),!b&&(G.ngOnChanges||G.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),b=!0),S++}g_(t,e)}d&&function H(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const s=e[n[r+1]];if(null==s)throw new ct(-301,!1);i.push(n[r],s)}}}(e,i,d)}return e.mergedAttrs=Ie(e.mergedAttrs,e.attrs),r}function C(t,n,e,i,r,s){const d=s.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const b=~n.index;(function T(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(m)!=b&&m.push(b),m.push(i,r,d)}}function O(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function B(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Z(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;ha(n)&&(e[""]=t)}}function J(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function de(t,n,e,i,r){t.data[i]=r;const s=r.factory||(r.factory=ul(r.type)),d=new ne(s,ha(r),U);t.blueprint[i]=d,e[i]=d,C(t,n,0,i,Ku(t,e,r.hostVars,Zn),r)}function ge(t,n,e){const i=so(n,t),r=p_(e),s=t[10],d=ht(t,Ap(t,r,null,e.onPush?32:16,i,n,s,s.createRenderer(i,e),null,null,null));t[n.index]=d}function le(t,n,e,i,r,s){const d=so(t,n);!function fe(t,n,e,i,r,s,d){if(null==s)t.removeAttribute(n,r,e);else{const m=null==d?vn(s):d(s,i||"",r);t.setAttribute(n,r,m,e)}}(n[11],d,s,t.value,e,i,r)}function we(t,n,e,i,r,s){const d=s[n];if(null!==d){const m=i.setInput;for(let b=0;b<d.length;){const S=d[b++],I=d[b++],R=d[b++];null!==m?i.setInput(e,R,S,I):e[I]=R}}}function _e(t,n){let e=null,i=0;for(;i<n.length;){const r=n[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,t[r],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Be(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function Ge(t,n){const e=ao(n,t);if(Kc(e)){const i=e[1];48&e[2]?mc(i,e,i.template,e[8]):e[5]>0&&nt(e)}}function nt(t){for(let i=y1(t);null!==i;i=v1(i))for(let r=10;r<i.length;r++){const s=i[r];if(Kc(s))if(512&s[2]){const d=s[1];mc(d,s,d.template,s[8])}else s[5]>0&&nt(s)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=ao(e[i],t);Kc(r)&&r[5]>0&&nt(r)}}function st(t,n){const e=ao(n,t),i=e[1];(function ut(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),xa(i,e,e[8])}function ht(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function We(t){for(;t;){t[2]|=32;const n=ap(t);if($0(t)&&!n)return t;t=n}return null}function xt(t,n,e,i=!0){const r=n[10];r.begin&&r.begin();try{mc(t,n,t.template,e)}catch(d){throw i&&ii(n,d),d}finally{r.end&&r.end()}}function Et(t,n,e){Ru(0),n(t,e)}function Mt(t){return t[7]||(t[7]=[])}function wn(t){return t.cleanup||(t.cleanup=[])}function ii(t,n){const e=t[9],i=e?e.get(gp,null):null;i&&i.handleError(n)}function Kn(t,n,e,i,r){for(let s=0;s<e.length;){const d=e[s++],m=e[s++],b=n[d],S=t.data[d];null!==S.setInput?S.setInput(b,r,i,m):b[m]=r}}function on(t,n,e){const i=Xl(n,t);!function sc(t,n,e){t.setValue(n,e)}(t[11],i,e)}function Ii(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,s=0;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?s=m:1==s?r=li(r,m):2==s&&(i=li(i,m+": "+n[++d]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function kn(t,n,e,i,r=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&i.push(wr(s)),mo(s))for(let m=10;m<s.length;m++){const b=s[m],S=b[1].firstChild;null!==S&&kn(b[1],b,S,i)}const d=e.type;if(8&d)kn(t,n,e.child,i);else if(32&d){const m=zf(e,n);let b;for(;b=m();)i.push(b)}else if(16&d){const m=dp(n,e);if(Array.isArray(m))i.push(...m);else{const b=ap(n[16]);kn(b[1],b,m,i,!0)}}e=r?e.projectionNext:e.next}return i}class Yn{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return kn(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(mo(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(nu(n,i),ip(e,i))}this._attachedToViewContainer=!1}lp(this._lView[1],this._lView)}onDestroy(n){kb(this._lView[1],this._lView,null,n)}markForCheck(){We(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){xt(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EC(t,n){hp(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=n}}class qi extends Yn{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;xt(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Xi extends yl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Gi(n);return new gr(e,this.ngModule)}}function Qi(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class mr{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){const r=this.injector.get(n,Mg,i);return r!==Mg||e===Mg?r:this.parentInjector.get(n,e,i)}}class gr extends na{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function cb(t){return t.map(lx).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Qi(this.componentDef.inputs)}get outputs(){return Qi(this.componentDef.outputs)}create(n,e,i,r){let s=(r=r||this.ngModule)instanceof Wu?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const d=s?new mr(n,s):n,m=d.get(eh,null);if(null===m)throw new ct(407,!1);const b=d.get(Kv,null),S=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",R=i?function Ib(t,n,e){return t.selectRootElement(n,e===Ts.ShadowDom)}(S,i,this.componentDef.encapsulation):w1(S,I,function ur(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(I)),G=this.componentDef.onPush?288:272,X=Ug(0,null,null,1,0,null,null,null,null,null),ie=Ap(null,X,null,G,null,null,m,S,b,d,null);let ve,Me;ep(ie);try{const Ke=function xi(t,n,e,i,r,s){const d=e[1];e[22]=t;const b=As(d,22,2,"#host",null),S=b.mergedAttrs=n.hostAttrs;null!==S&&(Ii(b,S,!0),null!==t&&(Te(r,t,S),null!==b.classes&&Kf(r,t,b.classes),null!==b.styles&&gg(r,t,b.styles)));const I=i.createRenderer(t,n),R=Ap(e,p_(n),null,n.onPush?32:16,e[22],b,i,I,s||null,null,null);return d.firstCreatePass&&(Di(pn(b,e),d,n.type),B(d,b),J(b,e.length,1)),ht(e,R),e[22]=R}(R,this.componentDef,ie,m,S);if(R)if(i)Te(S,R,["ng-version",Yv.full]);else{const{attrs:dt,classes:Ye}=function ub(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&n.push(s,t[++i]):8===r&&e.push(s);else{if(!wa(r))break;r=s}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);dt&&Te(S,R,dt),Ye&&Ye.length>0&&Kf(S,R,Ye.join(" "))}if(Me=_f(X,22),void 0!==e){const dt=Me.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const It=e[Ye];dt.push(null!=It?Array.from(It):null)}}ve=function xr(t,n,e,i){const r=e[1],s=function _(t,n,e){const i=Zr();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),de(t,i,n,Ku(t,n,1,null),e),g_(t,i));const r=Vi(n,t,i.directiveStart,i);Xo(r,n);const s=so(i,n);return s&&Xo(s,n),r}(r,e,n);if(t[8]=e[8]=s,null!==i)for(const m of i)m(s,n);if(n.contentQueries){const m=Zr();n.contentQueries(1,s,m.directiveStart)}const d=Zr();return!r.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ys(d.index),C(e[1],d,0,d.directiveStart,d.directiveEnd,n),O(n,s)),s}(Ke,this.componentDef,ie,[Yr]),xa(X,ie,null)}finally{Fd()}return new Hr(this.componentType,ve,Jd(Me,ie),ie,Me)}}class Hr extends class Gv{}{constructor(n,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new qi(r),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){const s=this._rootLView;Kn(s[1],s,r,n,e),l(s,this._tNode.index)}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Yr(){const t=Zr();E(_t()[1],t)}function wt(t){let n=function Hi(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(ha(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ct(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const d=t;d.inputs=Xr(t.inputs),d.declaredInputs=Xr(t.declaredInputs),d.outputs=Xr(t.outputs);const m=r.hostBindings;m&&wo(t,m);const b=r.viewQuery,S=r.contentQueries;if(b&&bo(t,b),S&&fs(t,S),uo(t.inputs,r.inputs),uo(t.declaredInputs,r.declaredInputs),uo(t.outputs,r.outputs),ha(r)&&r.data.animation){const I=t.data;I.animation=(I.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let d=0;d<s.length;d++){const m=s[d];m&&m.ngInherit&&m(t),m===wt&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Qo(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Ie(r.hostAttrs,e=Ie(e,r.hostAttrs))}}(i)}function Xr(t){return t===Gs?{}:t===un?[]:t}function bo(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function fs(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,s)=>{n(i,r,s),e(i,r,s)}:n}function wo(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}let Yu=null;function Xu(){if(!Yu){const t=hr.Symbol;if(t&&t.iterator)Yu=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Yu=i)}}}return Yu}function Rp(t){return!!Za(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xu()in t)}function Za(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ms(t,n,e){return t[n]=e}function lh(t,n){return t[n]}function zo(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function ia(t,n,e,i){const r=zo(t,n,e);return zo(t,n+1,i)||r}function Np(t,n,e,i,r){const s=ia(t,n,e,i);return zo(t,n+2,r)||s}function Ka(t,n,e,i,r,s){const d=ia(t,n,e,i);return ia(t,n+2,r,s)||d}function dn(t,n,e,i){const r=_t();return zo(r,Va(),n)&&(Mi(),le(g(),r,t,n,e,i)),dn}function Qu(t,n,e,i,r,s){const m=ia(t,function Ba(){return Gn.lFrame.bindingIndex}(),e,r);return ma(2),m?n+vn(e)+i+vn(r)+s:Zn}function K(t,n,e,i,r,s,d,m){const b=_t(),S=Mi(),I=t+22,R=S.firstCreatePass?function MN(t,n,e,i,r,s,d,m,b){const S=n.consts,I=As(n,t,4,d||null,pa(S,m));v(n,e,I,pa(S,b)),E(n,I);const R=I.tViews=Ug(2,I,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,S);return null!==n.queries&&(n.queries.template(n,I),R.queries=n.queries.embeddedTView(I)),I}(I,S,b,n,e,i,r,s,d):S.data[I];Fa(R,!1);const G=b[11].createComment("");$f(S,b,G,R),Xo(G,b),ht(b,b[I]=Be(G,b,G,R)),Iu(R)&&ah(S,b,R),null!=d&&Op(b,R,m)}function En(t){return Zc(function za(){return Gn.lFrame.contextLView}(),22+t)}function P(t,n,e){const i=_t();return zo(i,Va(),n)&&o(Mi(),g(),i,t,n,i[11],e,!1),P}function Dx(t,n,e,i,r){const d=r?"class":"style";Kn(t,e,n.inputs[d],d,i)}function W(t,n,e,i){const r=_t(),s=Mi(),d=22+t,m=r[11],b=r[d]=w1(m,n,function x(){return Gn.lFrame.currentNamespace}()),S=s.firstCreatePass?function EN(t,n,e,i,r,s,d){const m=n.consts,S=As(n,t,2,r,pa(m,s));return v(n,e,S,pa(m,d)),null!==S.attrs&&Ii(S,S.attrs,!1),null!==S.mergedAttrs&&Ii(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(d,s,r,0,n,e,i):s.data[d];Fa(S,!0);const I=S.mergedAttrs;null!==I&&Te(m,b,I);const R=S.classes;null!==R&&Kf(m,b,R);const G=S.styles;return null!==G&&gg(m,b,G),64!=(64&S.flags)&&$f(s,r,b,S),0===function Kh(){return Gn.lFrame.elementDepthCount}()&&Xo(b,r),function hl(){Gn.lFrame.elementDepthCount++}(),Iu(S)&&(ah(s,r,S),h_(s,S,r)),null!==i&&Op(r,S),W}function q(){let t=Zr();fa()?Xh():(t=t.parent,Fa(t,!1));const n=t;!function vf(){Gn.lFrame.elementDepthCount--}();const e=Mi();return e.firstCreatePass&&(E(e,t),Vh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function se(t){return 0!=(16&t.flags)}(n)&&Dx(e,n,_t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function pe(t){return 0!=(32&t.flags)}(n)&&Dx(e,n,_t(),n.stylesWithoutHost,!1),q}function at(t,n,e,i){return W(t,n,e,i),q(),at}function sn(t,n,e){const i=_t(),r=Mi(),s=t+22,d=r.firstCreatePass?function IN(t,n,e,i,r){const s=n.consts,d=pa(s,i),m=As(n,t,8,"ng-container",d);return null!==d&&Ii(m,d,!0),v(n,e,m,pa(s,r)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,r,i,n,e):r.data[s];Fa(d,!0);const m=i[s]=i[11].createComment("");return $f(r,i,m,d),Xo(m,i),Iu(d)&&(ah(r,i,d),h_(r,d,i)),null!=e&&Op(i,d),sn}function an(){let t=Zr();const n=Mi();return fa()?Xh():(t=t.parent,Fa(t,!1)),n.firstCreatePass&&(E(n,t),Vh(t)&&n.queries.elementEnd(t)),an}function Rt(t,n,e){return sn(t,n,e),an(),Rt}function bt(){return _t()}function v_(t){return!!t&&"function"==typeof t.then}function QD(t){return!!t&&"function"==typeof t.subscribe}const Ex=QD;function De(t,n,e,i){const r=_t(),s=Mi(),d=Zr();return function e3(t,n,e,i,r,s,d,m){const b=Iu(i),I=t.firstCreatePass&&wn(t),R=n[8],G=Mt(n);let X=!0;if(3&i.type||m){const Me=so(i,n),Ke=m?m(Me):Me,dt=G.length,Ye=m?Ln=>m(wr(Ln[i.index])):i.index;let It=null;if(!m&&b&&(It=function kN(t,n,e,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const d=r[s];if(d===e&&r[s+1]===i){const m=n[7],b=r[s+2];return m.length>b?m[b]:null}"string"==typeof d&&(s+=2)}return null}(t,n,r,i.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=s,It.__ngLastListenerFn__=s,X=!1;else{s=n3(i,n,R,s,!1);const Ln=e.listen(Ke,r,s);G.push(s,Ln),I&&I.push(r,Ye,dt,dt+1)}}else s=n3(i,n,R,s,!1);const ie=i.outputs;let ve;if(X&&null!==ie&&(ve=ie[r])){const Me=ve.length;if(Me)for(let Ke=0;Ke<Me;Ke+=2){const ri=n[ve[Ke]][ve[Ke+1]].subscribe(s),br=G.length;G.push(s,ri),I&&I.push(r,i.index,br,-(br+1))}}}(s,r,r[11],d,t,n,0,i),De}function t3(t,n,e,i){try{return!1!==e(i)}catch(r){return ii(t,r),!1}}function n3(t,n,e,i,r){return function s(d){if(d===Function)return i;We(2&t.flags?ao(t.index,n):n);let b=t3(n,0,i,d),S=s.__ngNextListenerFn__;for(;S;)b=t3(n,0,S,d)&&b,S=S.__ngNextListenerFn__;return r&&!1===b&&(d.preventDefault(),d.returnValue=!1),b}}function z(t=1){return function rg(t){return(Gn.lFrame.contextLView=function og(t,n){for(;t>0;)n=n[15],t--;return n}(t,Gn.lFrame.contextLView))[8]}(t)}function AN(t,n){let e=null;const i=function sb(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?ou(t,s,!0):q1(i,s))return r}else e=r}return e}function si(t){const n=_t()[16][6];if(!n.projection){const i=n.projection=Lu(t?t.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const d=t?AN(s,t):0;null!==d&&(r[d]?r[d].projectionNext=s:i[d]=s,r[d]=s),s=s.next}}}function ln(t,n=0,e){const i=_t(),r=Mi(),s=As(r,22+t,16,null,e||null);null===s.projection&&(s.projection=n),Xh(),64!=(64&s.flags)&&function Zf(t,n,e){xv(n[11],0,n,e,bv(t,e,n),Uf(e.parent||n[6],e,n))}(r,i,s)}function d3(t,n,e,i,r){const s=t[e+1],d=null===n;let m=i?qa(s):hc(s),b=!1;for(;0!==m&&(!1===b||d);){const I=t[m+1];RN(t[m],n)&&(b=!0,t[m+1]=i?Dp(I):t_(I)),m=i?qa(I):hc(I)}b&&(t[e+1]=i?t_(s):Dp(s))}function RN(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&tc(t,n)>=0}const Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h3(t){return t.substring(Jo.key,Jo.keyEnd)}function NN(t){return t.substring(Jo.value,Jo.valueEnd)}function p3(t,n){const e=Jo.textEnd;return e===n?-1:(n=Jo.keyEnd=function zN(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Jo.key=n,e),qg(t,n,e))}function f3(t,n){const e=Jo.textEnd;let i=Jo.key=qg(t,n,e);return e===i?-1:(i=Jo.keyEnd=function BN(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=g3(t,i,e),i=Jo.value=qg(t,i,e),i=Jo.valueEnd=function VN(t,n,e){let i=-1,r=-1,s=-1,d=n,m=d;for(;d<e;){const b=t.charCodeAt(d++);if(59===b)return m;34===b||39===b?m=d=_3(t,b,d,e):n===d-4&&85===s&&82===r&&76===i&&40===b?m=d=_3(t,41,d,e):b>32&&(m=d),s=r,r=i,i=-33&b}return m}(t,i,e),g3(t,i,e))}function m3(t){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=t.length}function qg(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function g3(t,n,e,i){return(n=qg(t,n,e))<e&&n++,n}function _3(t,n,e,i){let r=-1,s=e;for(;s<i;){const d=t.charCodeAt(s++);if(d==n&&92!==r)return s;r=92==d&&92===r?0:d}throw new Error}function Qr(t,n,e){return hu(t,n,e,!1),Qr}function Gt(t,n){return hu(t,n,null,!0),Gt}function gs(t){pu(b3,HN,t,!1)}function HN(t,n){for(let e=function FN(t){return m3(t),f3(t,qg(t,0,Jo.textEnd))}(n);e>=0;e=f3(n,e))b3(t,h3(n),NN(n))}function Si(t){pu(_a,Ju,t,!0)}function Ju(t,n){for(let e=function LN(t){return m3(t),p3(t,qg(t,0,Jo.textEnd))}(n);e>=0;e=p3(n,e))_a(t,h3(n),!0)}function hu(t,n,e,i){const r=_t(),s=Mi(),d=ma(2);s.firstUpdatePass&&v3(s,t,d,i),n!==Zn&&zo(r,d,n)&&w3(s,s.data[go()],r,r[11],t,r[d+1]=function ZN(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=mt(ps(t)))),t}(n,e),i,d)}function pu(t,n,e,i){const r=Mi(),s=ma(2);r.firstUpdatePass&&v3(r,null,s,i);const d=_t();if(e!==Zn&&zo(d,s,e)){const m=r.data[go()];if(x3(m,i)&&!y3(r,s)){let b=i?m.classesWithoutHost:m.stylesWithoutHost;null!==b&&(e=li(b,e||"")),Dx(r,m,d,e,i)}else!function qN(t,n,e,i,r,s,d,m){r===Zn&&(r=un);let b=0,S=0,I=0<r.length?r[0]:null,R=0<s.length?s[0]:null;for(;null!==I||null!==R;){const G=b<r.length?r[b+1]:void 0,X=S<s.length?s[S+1]:void 0;let ve,ie=null;I===R?(b+=2,S+=2,G!==X&&(ie=R,ve=X)):null===R||null!==I&&I<R?(b+=2,ie=I):(S+=2,ie=R,ve=X),null!==ie&&w3(t,n,e,i,ie,ve,d,m),I=b<r.length?r[b]:null,R=S<s.length?s[S]:null}}(r,m,d,d[11],d[s+1],d[s+1]=function WN(t,n,e){if(null==e||""===e)return un;const i=[],r=ps(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,s)}}function y3(t,n){return n>=t.expandoStartIndex}function v3(t,n,e,i){const r=t.data;if(null===r[e+1]){const s=r[go()],d=y3(t,e);x3(s,i)&&null===n&&!d&&(n=!1),n=function UN(t,n,e,i){const r=function Ql(t){const n=Gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=b_(e=Ax(null,t,n,e,i),n.attrs,i),s=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==r)if(e=Ax(r,t,n,e,i),null===s){let b=function jN(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==hc(i))return t[qa(i)]}(t,n,i);void 0!==b&&Array.isArray(b)&&(b=Ax(null,t,n,b[1],i),b=b_(b,n.attrs,i),function $N(t,n,e,i){t[qa(e?n.classBindings:n.styleBindings)]=i}(t,n,i,b))}else s=function GN(t,n,e){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=b_(i,t[s].hostAttrs,e);return b_(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(r,s,n,i),function ON(t,n,e,i,r,s){let d=s?n.classBindings:n.styleBindings,m=qa(d),b=hc(d);t[i]=e;let I,S=!1;if(Array.isArray(e)){const R=e;I=R[1],(null===I||tc(R,I)>0)&&(S=!0)}else I=e;if(r)if(0!==b){const G=qa(t[m+1]);t[i+1]=Lg(G,m),0!==G&&(t[G+1]=n_(t[G+1],i)),t[m+1]=function yb(t,n){return 131071&t|n<<17}(t[m+1],i)}else t[i+1]=Lg(m,0),0!==m&&(t[m+1]=n_(t[m+1],i)),m=i;else t[i+1]=Lg(b,0),0===m?m=i:t[b+1]=n_(t[b+1],i),b=i;S&&(t[i+1]=t_(t[i+1])),d3(t,I,i,!0),d3(t,I,i,!1),function PN(t,n,e,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&tc(s,n)>=0&&(e[i+1]=Dp(e[i+1]))}(n,I,t,i,s),d=Lg(m,b),s?n.classBindings=d:n.styleBindings=d}(r,s,n,e,d,i)}}function Ax(t,n,e,i,r){let s=null;const d=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<d&&(s=n[m],i=b_(i,s.hostAttrs,r),s!==t);)m++;return null!==t&&(e.directiveStylingLast=m),i}function b_(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const d=n[s];"number"==typeof d?r=d:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_a(t,d,!!e||n[++s]))}return void 0===t?null:t}function b3(t,n,e){_a(t,n,ps(e))}function w3(t,n,e,i,r,s,d,m){if(!(3&n.type))return;const b=t.data,S=b[m+1];Ob(function vb(t){return 1==(1&t)}(S)?C3(b,n,e,r,hc(S),d):void 0)||(Ob(s)||function _b(t){return 2==(2&t)}(S)&&(s=C3(b,null,e,r,m,d)),function PC(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Js.DashCase;null==r?t.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Js.Important),t.setStyle(e,i,r,s))}}(i,d,Xl(go(),e),r,s))}function C3(t,n,e,i,r,s){const d=null===n;let m;for(;r>0;){const b=t[r],S=Array.isArray(b),I=S?b[1]:b,R=null===I;let G=e[r+1];G===Zn&&(G=R?un:void 0);let X=R?Ef(G,i):I===i?G:void 0;if(S&&!Ob(X)&&(X=Ef(b,i)),Ob(X)&&(m=X,d))return m;const ie=t[r+1];r=d?qa(ie):hc(ie)}if(null!==n){let b=s?n.residualClasses:n.residualStyles;null!=b&&(m=Ef(b,i))}return m}function Ob(t){return void 0!==t}function x3(t,n){return 0!=(t.flags&(n?16:32))}function Pe(t,n=""){const e=_t(),i=Mi(),r=t+22,s=i.firstCreatePass?As(i,r,1,n,null):i.data[r],d=e[r]=function Bf(t,n){return t.createText(n)}(e[11],n);$f(i,e,d,s),Fa(s,!1)}function Sn(t){return ei("",t,""),Sn}function ei(t,n,e){const i=_t(),r=function gc(t,n,e,i){return zo(t,Va(),e)?n+vn(e)+i:Zn}(i,t,n,e);return r!==Zn&&on(i,go(),r),ei}function Lp(t,n,e,i,r){const s=_t(),d=Qu(s,t,n,e,i,r);return d!==Zn&&on(s,go(),d),Lp}function Pb(t,n,e){const i=_t();return zo(i,Va(),n)&&o(Mi(),g(),i,t,n,i[11],e,!0),Pb}const Kg="en-US";let U3=Kg;function Nx(t,n,e,i,r){if(t=On(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nx(t[s],n,e,i,r);else{const s=Mi(),d=_t();let m=$a(t)?t:On(t.provide),b=Yd(t);const S=Zr(),I=1048575&S.providerIndexes,R=S.directiveStart,G=S.providerIndexes>>20;if($a(t)||!t.multi){const X=new ne(b,r,U),ie=Fx(m,n,r?I:I+G,R);-1===ie?(Di(pn(S,d),s,m),Lx(s,t,n.length),n.push(m),S.directiveStart++,S.directiveEnd++,r&&(S.providerIndexes+=1048576),e.push(X),d.push(X)):(e[ie]=X,d[ie]=X)}else{const X=Fx(m,n,I+G,R),ie=Fx(m,n,I,I+G),ve=X>=0&&e[X],Me=ie>=0&&e[ie];if(r&&!Me||!r&&!ve){Di(pn(S,d),s,m);const Ke=function hF(t,n,e,i,r){const s=new ne(t,e,U);return s.multi=[],s.index=n,s.componentProviders=0,pE(s,r,i&&!e),s}(r?dF:uF,e.length,r,i,b);!r&&Me&&(e[ie].providerFactory=Ke),Lx(s,t,n.length,0),n.push(m),S.directiveStart++,S.directiveEnd++,r&&(S.providerIndexes+=1048576),e.push(Ke),d.push(Ke)}else Lx(s,t,X>-1?X:ie,pE(e[r?ie:X],b,!r&&i));!r&&i&&Me&&e[ie].componentProviders++}}}function Lx(t,n,e,i){const r=$a(n),s=function jv(t){return!!t.useClass}(n);if(r||s){const b=(s?On(n.useClass):n).prototype.ngOnDestroy;if(b){const S=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const I=S.indexOf(e);-1===I?S.push(e,[i,b]):S[I+1].push(i,b)}else S.push(e,b)}}}function pE(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Fx(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function uF(t,n,e,i){return zx(this.multi,[])}function dF(t,n,e,i){const r=this.multi;let s;if(this.providerFactory){const d=this.providerFactory.componentProviders,m=Vi(e,e[1],this.providerFactory.index,i);s=m.slice(0,d),zx(r,s);for(let b=d;b<m.length;b++)s.push(m[b])}else s=[],zx(r,s);return s}function zx(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function qt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function cF(t,n,e){const i=Mi();if(i.firstCreatePass){const r=ha(t);Nx(e,i.data,i.blueprint,r,!0),Nx(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class fm{}class fE{}class mE extends fm{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xi(this);const i=cs(n);this._bootstrapComponents=Ga(i.bootstrap),this._r3Injector=Y1(n,e,[{provide:fm,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],mt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Bx extends fE{constructor(n){super(),this.moduleType=n}create(n){return new mE(this.moduleType,n)}}class fF extends fm{constructor(n,e,i){super(),this.componentFactoryResolver=new Xi(this),this.instance=null;const r=new $v([...n,{provide:fm,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],e||xg(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function zb(t,n,e=null){return new fF(t,n,e).injector}let mF=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=mp(0,e.type),r=i.length>0?zb([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Qe({token:t,providedIn:"environment",factory:()=>new t(Ee(Wu))}),t})();function gE(t){t.getStandaloneInjector=n=>n.get(mF).getOrCreateStandaloneInjector(t)}function ed(t,n,e){const i=Ro()+t,r=_t();return r[i]===Zn?ms(r,i,e?n.call(e):n()):lh(r,i)}function tn(t,n,e,i){return TE(_t(),Ro(),t,n,e,i)}function tr(t,n,e,i,r){return function ME(t,n,e,i,r,s,d){const m=n+e;return ia(t,m,r,s)?ms(t,m+2,d?i.call(d,r,s):i(r,s)):M_(t,m+2)}(_t(),Ro(),t,n,e,i,r)}function td(t,n,e,i,r,s){return function DE(t,n,e,i,r,s,d,m){const b=n+e;return Np(t,b,r,s,d)?ms(t,b+3,m?i.call(m,r,s,d):i(r,s,d)):M_(t,b+3)}(_t(),Ro(),t,n,e,i,r,s)}function mm(t,n,e,i,r,s,d){return function EE(t,n,e,i,r,s,d,m,b){const S=n+e;return Ka(t,S,r,s,d,m)?ms(t,S+4,b?i.call(b,r,s,d,m):i(r,s,d,m)):M_(t,S+4)}(_t(),Ro(),t,n,e,i,r,s,d)}function Bb(t,n,e,i,r,s,d,m){const b=Ro()+t,S=_t(),I=Ka(S,b,e,i,r,s);return zo(S,b+4,d)||I?ms(S,b+5,m?n.call(m,e,i,r,s,d):n(e,i,r,s,d)):lh(S,b+5)}function Yg(t,n,e,i,r,s,d,m,b){const S=Ro()+t,I=_t(),R=Ka(I,S,e,i,r,s);return ia(I,S+4,d,m)||R?ms(I,S+6,b?n.call(b,e,i,r,s,d,m):n(e,i,r,s,d,m)):lh(I,S+6)}function SE(t,n,e,i){return function IE(t,n,e,i,r,s){let d=n+e,m=!1;for(let b=0;b<r.length;b++)zo(t,d++,r[b])&&(m=!0);return m?ms(t,d,i.apply(s,r)):M_(t,d)}(_t(),Ro(),t,n,e,i)}function M_(t,n){const e=t[n];return e===Zn?void 0:e}function TE(t,n,e,i,r,s){const d=n+e;return zo(t,d,r)?ms(t,d+1,s?i.call(s,r):i(r)):M_(t,d+1)}function wl(t,n){const e=Mi();let i;const r=t+22;e.firstCreatePass?(i=function TF(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=ul(i.type)),d=ko(U);try{const m=ot(!1),b=s();return ot(m),function DN(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,_t(),r,b),b}finally{ko(d)}}function fu(t,n,e){const i=t+22,r=_t(),s=Zc(r,i);return function D_(t,n){return t[1].data[n].pure}(r,i)?TE(r,Ro(),n,s.transform,e,s):s.transform(e)}function Ux(t){return n=>{setTimeout(t,void 0,n)}}const Xe=class IF extends Ct{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let r=n,s=e||(()=>null),d=i;if(n&&"object"==typeof n){const b=n;r=b.next?.bind(b),s=b.error?.bind(b),d=b.complete?.bind(b)}this.__isAsync&&(s=Ux(s),r&&(r=Ux(r)),d&&(d=Ux(d)));const m=super.subscribe({next:r,error:s,complete:d});return n instanceof He&&n.add(m),m}};function kF(){return this._results[Xu()]()}class E_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Xu(),i=E_.prototype;i[e]||(i[e]=kF)}get changes(){return this._changes||(this._changes=new Xe)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=ga(n);(this._changesDetected=!function tv(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=n[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=PF,t})();const AF=nr,OF=class extends AF{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n,e){const i=this._declarationTContainer.tViews,r=Ap(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(i)),xa(i,r,n),new Yn(r)}};function PF(){return Vb(Zr(),_t())}function Vb(t,n){return 4&t.type?new OF(n,t,Jd(t,n)):null}let Er=(()=>{class t{}return t.__NG_ELEMENT_ID__=RF,t})();function RF(){return OE(Zr(),_t())}const NF=Er,kE=class extends NF{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pt(this._hostTNode,this._hostLView);if(Ne(n)){const e=lt(n,this._hostLView),i=Je(n);return new Nr(e[1].data[i+8],e)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=AE(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const d=n.createEmbeddedView(e||{},s);return this.insert(d,r),d}createComponent(n,e,i,r,s){const d=n&&!function np(t){return"function"==typeof t}(n);let m;if(d)m=e;else{const R=e||{};m=R.index,i=R.injector,r=R.projectableNodes,s=R.environmentInjector||R.ngModuleRef}const b=d?n:new gr(Gi(n)),S=i||this.parentInjector;if(!s&&null==b.ngModule){const G=(d?S:this.parentInjector).get(Wu,null);G&&(s=G)}const I=b.create(S,r,void 0,s);return this.insert(I.hostView,m),I}insert(n,e){const i=n._lView,r=i[1];if(function Jm(t){return mo(t[3])}(i)){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const R=i[3],G=new kE(R,R[6],R[3]);G.detach(G.indexOf(n))}}const s=this._adjustIndex(e),d=this._lContainer;!function Vf(t,n,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=n),i<s-10?(n[4]=e[r],Q0(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const d=n[17];null!==d&&e!==d&&function pg(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(d,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=64}(r,i,d,s);const m=Wf(s,d),b=i[11],S=mg(b,d[7]);return null!==S&&function DC(t,n,e,i,r,s){i[0]=r,i[6]=n,hp(t,i,e,1,r,s)}(r,d[6],b,i,S,m),n.attachToViewContainerRef(),Q0(jx(d),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=AE(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=nu(this._lContainer,e);i&&(ip(jx(this._lContainer),e),lp(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=nu(this._lContainer,e);return i&&null!=ip(jx(this._lContainer),e)?new Yn(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function AE(t){return t[8]}function jx(t){return t[8]||(t[8]=[])}function OE(t,n){let e;const i=n[t.index];if(mo(i))e=i;else{let r;if(8&t.type)r=wr(i);else{const s=n[11];r=s.createComment("");const d=so(t,n);Gd(s,mg(s,d),r,function Lr(t,n){return t.nextSibling(n)}(s,d),!1)}n[t.index]=e=Be(i,n,r,t),ht(n,e)}return new kE(e,t,n)}class $x{constructor(n){this.queryList=n,this.matches=null}clone(){return new $x(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gx{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const d=e.getByIndex(s);r.push(this.queries[d.indexInDeclarationView].clone())}return new Gx(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==FE(n,e).matches&&this.queries[e].setDirty()}}class PE{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class Wx{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Wx(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class qx{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new qx(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,e,zF(e,s)),this.matchTNodeWithReadOption(n,e,Is(e,n,s,!1,!1))}else i===nr?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Is(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Yt||r===Er||r===nr&&4&e.type)this.addMatch(e.index,-2);else{const s=Is(e,n,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function zF(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function VF(t,n,e,i){return-1===e?function BF(t,n){return 11&t.type?Jd(t,n):4&t.type?Vb(t,n):null}(n,t):-2===e?function HF(t,n,e){return e===Yt?Jd(n,t):e===nr?Vb(n,t):e===Er?OE(n,t):void 0}(t,n,i):Vi(t,t[1],e,n)}function RE(t,n,e,i){const r=n[19].queries[i];if(null===r.matches){const s=t.data,d=e.matches,m=[];for(let b=0;b<d.length;b+=2){const S=d[b];m.push(S<0?null:VF(n,s[S],d[b+1],e.metadata.read))}r.matches=m}return r.matches}function Zx(t,n,e,i){const r=t.queries.getByIndex(e),s=r.matches;if(null!==s){const d=RE(t,n,r,e);for(let m=0;m<s.length;m+=2){const b=s[m];if(b>0)i.push(d[m/2]);else{const S=s[m+1],I=n[-b];for(let R=10;R<I.length;R++){const G=I[R];G[17]===G[3]&&Zx(G[1],G,S,i)}if(null!==I[9]){const R=I[9];for(let G=0;G<R.length;G++){const X=R[G];Zx(X[1],X,S,i)}}}}}return i}function St(t){const n=_t(),e=Mi(),i=Pu();Ru(i+1);const r=FE(e,i);if(t.dirty&&function yf(t){return 4==(4&t[2])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Zx(e,n,i,[]):RE(e,n,r,i);t.reset(s,Zv),t.notifyOnChanges()}return!0}return!1}function An(t,n,e){const i=Mi();i.firstCreatePass&&(LE(i,new PE(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),NE(i,_t(),n)}function _i(t,n,e,i){const r=Mi();if(r.firstCreatePass){const s=Zr();LE(r,new PE(n,e,i),s.index),function jF(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}NE(r,_t(),e)}function Tt(){return function UF(t,n){return t[19].queries[n].queryList}(_t(),Pu())}function NE(t,n,e){const i=new E_(4==(4&e));kb(t,n,i,i.destroy),null===n[19]&&(n[19]=new Gx),n[19].queries.push(new $x(i))}function LE(t,n,e){null===t.queries&&(t.queries=new Wx),t.queries.track(new qx(n,e))}function FE(t,n){return t.queries.getByIndex(n)}function Sr(t,n){return Vb(t,n)}function Ub(...t){}const jb=new At("Application Initializer");let $b=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Ub,this.reject=Ub,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(v_(s))e.push(s);else if(Ex(s)){const d=new Promise((m,b)=>{s.subscribe({complete:m,error:b})});e.push(d)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ee(jb,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k_=new At("AppId",{providedIn:"root",factory:function n4(){return`${Jx()}${Jx()}${Jx()}`}});function Jx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const i4=new At("Platform Initializer"),uh=new At("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),r4=new At("appBootstrapListener"),eS=new At("AnimationModuleType");let c6=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const nd=new At("LocaleId",{providedIn:"root",factory:()=>er(nd,Nn.Optional|Nn.SkipSelf)||function u6(){return typeof $localize<"u"&&$localize.locale||Kg}()});class h6{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let tS=(()=>{class t{compileModuleSync(e){return new Bx(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ga(cs(e).declarations).reduce((d,m)=>{const b=Gi(m);return b&&d.push(new gr(b)),d},[]);return new h6(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m6=(()=>Promise.resolve(0))();function nS(t){typeof Zone>"u"?m6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function g6(){let t=hr.requestAnimationFrame,n=hr.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function v6(t){const n=()=>{!function y6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rS(t),t.isCheckStableRunning=!0,iS(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rS(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,d,m)=>{try{return a4(t),e.invokeTask(r,s,d,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),l4(t)}},onInvoke:(e,i,r,s,d,m,b)=>{try{return a4(t),e.invoke(r,s,d,m,b)}finally{t.shouldCoalesceRunChangeDetection&&n(),l4(t)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,rS(t),iS(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hn.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(Hn.isInAngularZone())throw new ct(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const s=this._inner,d=s.scheduleEventTask("NgZoneEvent: "+r,n,_6,Ub,Ub);try{return s.runTask(d,e,i)}finally{s.cancelTask(d)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const _6={};function iS(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rS(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function a4(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l4(t){t._nesting--,iS(t)}class b6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}const c4=new At(""),Gb=new At("");let aS,oS=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aS||(function w6(t){aS=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hn.assertNotInAngularZone(),nS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nS(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ee(Hn),Ee(sS),Ee(Gb))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),sS=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return aS?.findTestabilityInTree(this,e,i)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Fp=null;const u4=new At("AllowMultipleToken"),lS=new At("PlatformDestroyListeners");class d4{constructor(n,e){this.name=n,this.token=e}}function p4(t,n,e=[]){const i=`Platform: ${n}`,r=new At(i);return(s=[])=>{let d=cS();if(!d||d.injector.get(u4,!1)){const m=[...e,...s,{provide:r,useValue:!0}];t?t(m):function S6(t){if(Fp&&!Fp.get(u4,!1))throw new ct(400,!1);Fp=t;const n=t.get(m4);(function h4(t){const n=t.get(i4,null);n&&n.forEach(e=>e())})(t)}(function f4(t=[],n){return Fo.create({name:n,providers:[{provide:B1,useValue:"platform"},{provide:lS,useValue:new Set([()=>Fp=null])},...t]})}(m,i))}return function M6(t){const n=cS();if(!n)throw new ct(401,!1);return n}()}}function cS(){return Fp?.get(m4)??null}let m4=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function _4(t,n){let e;return e="noop"===t?new b6:("zone.js"===t?void 0:t)||new Hn(n),e}(i?.ngZone,function g4(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Hn,useValue:r}];return r.run(()=>{const d=Fo.create({providers:s,parent:this.injector,name:e.moduleType.name}),m=e.create(d),b=m.injector.get(gp,null);if(!b)throw new ct(402,!1);return r.runOutsideAngular(()=>{const S=r.onError.subscribe({next:I=>{b.handleError(I)}});m.onDestroy(()=>{Wb(this._modules,m),S.unsubscribe()})}),function y4(t,n,e){try{const i=e();return v_(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(b,r,()=>{const S=m.injector.get($b);return S.runInitializers(),S.donePromise.then(()=>(function j3(t){Io(t,"Expected localeId to be defined"),"string"==typeof t&&(U3=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(nd,Kg)||Kg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(e,i=[]){const r=v4({},i);return function C6(t,n,e){const i=new Bx(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Jg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ct(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(lS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ee(Fo))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function v4(t,n){return Array.isArray(n)?n.reduce(v4,t):{...t,...n}}let Jg=(()=>{class t{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new zn(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),d=new zn(m=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Hn.assertNotInAngularZone(),nS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Hn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=ro(s,d.pipe(Ri()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof na;if(!this._injector.get($b).done)throw!r&&function sl(t){const n=Gi(t)||Ao(t)||fo(t);return null!==n&&n.standalone}(e),new ct(405,false);let d;d=r?e:this._injector.get(yl).resolveComponentFactory(e),this.componentTypes.push(d.componentType);const m=function x6(t){return t.isBoundToModule}(d)?void 0:this._injector.get(fm),S=d.create(Fo.NULL,[],i||d.selector,m),I=S.location.nativeElement,R=S.injector.get(c4,null);return R?.registerApplication(I),S.onDestroy(()=>{this.detachView(S.hostView),Wb(this.components,S),R?.unregisterApplication(I)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Wb(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(r4,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Wb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ct(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(Ee(Hn),Ee(Wu),Ee(gp))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Wb(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let w4=!0,mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=I6,t})();function I6(t){return function k6(t,n,e){if(Ad(t)&&!e){const i=ao(t.index,n);return new Yn(i,i)}return 47&t.type?new Yn(n[16],n):null}(Zr(),_t(),16==(16&t))}class M4{constructor(){}supports(n){return Rp(n)}create(n){return new L6(n)}}const N6=(t,n)=>n;class L6{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||N6}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const d=!i||e&&e.currentIndex<E4(i,r,s)?e:i,m=E4(d,r,s),b=d.currentIndex;if(d===i)r--,i=i._nextRemoved;else if(e=e._next,null==d.previousIndex)r++;else{s||(s=[]);const S=m-r,I=b-r;if(S!=I){for(let G=0;G<S;G++){const X=G<s.length?s[G]:s[G]=0,ie=X+G;I<=ie&&ie<S&&(s[G]=X+1)}s[d.previousIndex]=I-S}}m!==b&&n(d,m,b)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Rp(n))throw new ct(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,d,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],d=this._trackByFn(m,s),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,s,d,m)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,d,m),i=!0),e=e._next}else r=0,function y_(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Xu()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,m=>{d=this._trackByFn(r,m),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,m,d,r)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,d,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,r)):n=this._addAfter(new F6(e,i),s,r),n}_verifyReinsertion(n,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new D4),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D4),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class F6{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z6{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class D4{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new z6,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E4(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class I4{constructor(){}supports(n){return n instanceof Map||Za(n)}create(){return new B6}}class B6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Za(n)))throw new ct(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const s=r._prev,d=r._next;return s&&(s._next=d),d&&(d._prev=s),r._next=null,r._prev=null,r}const i=new V6(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class V6{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function k4(){return new Ta([new M4])}let Ta=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||k4()),deps:[[t,new rp,new rc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ct(901,!1)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:k4}),t})();function A4(){return new A_([new I4])}let A_=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||A4()),deps:[[t,new rp,new rc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ct(901,!1)}}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:A4}),t})();const j6=p4(null,"core",[]);let $6=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Ee(Jg))},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();function hh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Kb=null;function id(){return Kb}const Ui=new At("DocumentToken");let fS=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:function(){return function Z6(){return Ee(O4)}()},providedIn:"platform"}),t})();const K6=new At("Location Initialized");let O4=(()=>{class t extends fS{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return id().getBaseHref(this._doc)}onPopState(e){const i=id().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=id().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){P4()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){P4()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:function(){return function Y6(){return new O4(Ee(Ui))}()},providedIn:"platform"}),t})();function P4(){return!!window.history.pushState}function mS(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function R4(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ph(t){return t&&"?"!==t[0]?"?"+t:t}let _m=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:function(){return er(L4)},providedIn:"root"}),t})();const N4=new At("appBaseHref");let L4=(()=>{class t extends _m{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??er(Ui).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return mS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ph(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const d=this.prepareExternalUrl(r+ph(s));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,s){const d=this.prepareExternalUrl(r+ph(s));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(fS),Ee(N4,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X6=(()=>{class t extends _m{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=mS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let d=this.prepareExternalUrl(r+ph(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,s){let d=this.prepareExternalUrl(r+ph(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(fS),Ee(N4,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),e0=(()=>{class t{constructor(e){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=R4(F4(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ph(i))}normalize(e){return t.stripTrailingSlash(function J6(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,F4(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ph(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ph(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=ph,t.joinWithSlash=mS,t.stripTrailingSlash=R4,t.\u0275fac=function(e){return new(e||t)(Ee(_m))},t.\u0275prov=Qe({token:t,factory:function(){return function Q6(){return new e0(Ee(_m))}()},providedIn:"root"}),t})();function F4(t){return t.replace(/\/index.html$/,"")}function Z4(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}let xo=(()=>{class t{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Rp(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${mt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(U(Ta),U(A_),U(Yt),U(cr))},t.\u0275dir=qe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class L8{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class t{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new L8(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===s?void 0:s);else if(null!==s){const m=i.get(s);i.move(m,d),X4(m,r)}});for(let r=0,s=i.length;r<s;r++){const m=i.get(r).context;m.index=r,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{X4(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(U(Er),U(nr),U(Ta))},t.\u0275dir=qe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function X4(t,n){t.context.$implicit=n.item}let Dn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new z8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Q4("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Q4("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(U(Er),U(nr))},t.\u0275dir=qe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class z8{constructor(){this.$implicit=null,this.ngIf=null}}function Q4(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(n)}'.`)}class TS{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let t0=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),o2=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new TS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(U(Er),U(nr),U(t0,9))},t.\u0275dir=qe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),MS=(()=>{class t{constructor(e,i,r){r._addDefault(new TS(e,i))}}return t.\u0275fac=function(e){return new(e||t)(U(Er),U(nr),U(t0,9))},t.\u0275dir=qe({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),Ma=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),d=-1===r.indexOf("-")?void 0:Js.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,d):this._renderer.removeStyle(this._ngEl.nativeElement,r,d)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(A_),U(cr))},t.\u0275dir=qe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),So=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,s,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(U(Er))},t.\u0275dir=qe({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[pi]}),t})();function _u(t,n){return new ct(2100,!1)}class V8{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class H8{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const U8=new H8,j8=new V8;let s2=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(v_(e))return U8;if(QD(e))return j8;throw _u()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(U(mi,16))},t.\u0275pipe=po({name:"async",type:t,pure:!1,standalone:!0}),t})();const G8=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ym=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw _u();return e.replace(G8,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=po({name:"titlecase",type:t,pure:!0,standalone:!0}),t})(),eI=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw _u();return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=po({name:"uppercase",type:t,pure:!0,standalone:!0}),t})(),Ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();const nI="browser";function zp(t){return t===nI}let sz=(()=>{class t{}return t.\u0275prov=Qe({token:t,providedIn:"root",factory:()=>new az(Ee(Ui),window)}),t})();class az{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function lz(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const d=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=iI(this.window.history)||iI(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function iI(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class rI{}class AS extends class Mz extends class q6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function W6(t){Kb||(Kb=t)}(new AS)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Dz(){return F_=F_||document.querySelector("base"),F_?F_.getAttribute("href"):null}();return null==e?null:function Ez(t){l2=l2||document.createElement("a"),l2.setAttribute("href",t);const n=l2.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){F_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Z4(document.cookie,n)}}let l2,F_=null;const lI=new At("TRANSITION_ID"),kz=[{provide:jb,useFactory:function Iz(t,n,e){return()=>{e.get($b).donePromise.then(()=>{const i=id(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[lI,Ui,Fo],multi:!0}];let Oz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const c2=new At("EventManagerPlugins");let u2=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const d=r[s];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Ee(c2),Ee(Hn))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class cI{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=id().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let uI=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),z_=(()=>{class t extends uI{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const d=this._doc.createElement("style");d.textContent=s,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(dI),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(dI))}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function dI(t){id().remove(t)}const OS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PS=/%COMP%/g;function d2(t,n,e){for(let i=0;i<n.length;i++){let r=n[i];Array.isArray(r)?d2(t,r,e):(r=r.replace(PS,t),e.push(r))}return e}function fI(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let h2=(()=>{class t{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new RS(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Ts.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zz(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Ts.ShadowDom:return new Bz(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=d2(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Ee(u2),Ee(z_),Ee(k_))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class RS{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(OS[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(gI(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(gI(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const s=OS[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=OS[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Js.DashCase|Js.Important)?n.style.setProperty(e,i,r&Js.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Js.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,fI(i)):this.eventManager.addEventListener(n,e,fI(i))}}function gI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class zz extends RS{constructor(n,e,i,r){super(n),this.component=i;const s=d2(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Nz(t){return"_ngcontent-%COMP%".replace(PS,t)}(r+"-"+i.id),this.hostAttr=function Lz(t){return"_nghost-%COMP%".replace(PS,t)}(r+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bz extends RS{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=d2(r.id,r.styles,[]);for(let d=0;d<s.length;d++){const m=document.createElement("style");m.textContent=s[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Vz=(()=>{class t extends cI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const _I=["alt","control","meta","shift"],Hz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jz=(()=>{class t extends cI{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const s=t.parseEventName(i),d=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>id().onAndCancel(e,s.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let d="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),d="code."),_I.forEach(S=>{const I=i.indexOf(S);I>-1&&(i.splice(I,1),d+=S+".")}),d+=s,0!=i.length||0===s.length)return null;const b={};return b.domEventName=r,b.fullKey=d,b}static matchEventFullKeyCode(e,i){let r=Hz[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_I.forEach(d=>{d!==r&&(0,Uz[d])(e)&&(s+=d+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const qz=p4(j6,"browser",[{provide:uh,useValue:nI},{provide:i4,useValue:function $z(){AS.makeCurrent()},multi:!0},{provide:Ui,useFactory:function Wz(){return function FC(t){pp=t}(document),document},deps:[]}]),bI=new At(""),wI=[{provide:Gb,useClass:class Az{addToWindow(n){hr.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},hr.getAllAngularTestabilities=()=>n.getAllTestabilities(),hr.getAllAngularRootElements=()=>n.getAllRootElements(),hr.frameworkStabilizers||(hr.frameworkStabilizers=[]),hr.frameworkStabilizers.push(i=>{const r=hr.getAllAngularTestabilities();let s=r.length,d=!1;const m=function(b){d=d||b,s--,0==s&&i(d)};r.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?id().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:c4,useClass:oS,deps:[Hn,sS,Gb]},{provide:oS,useClass:oS,deps:[Hn,sS,Gb]}],CI=[{provide:B1,useValue:"root"},{provide:gp,useFactory:function Gz(){return new gp},deps:[]},{provide:c2,useClass:Vz,multi:!0,deps:[Ui,Hn,uh]},{provide:c2,useClass:jz,multi:!0,deps:[Ui]},{provide:h2,useClass:h2,deps:[u2,z_,k_]},{provide:eh,useExisting:h2},{provide:uI,useExisting:z_},{provide:z_,useClass:z_,deps:[Ui]},{provide:u2,useClass:u2,deps:[c2,Hn]},{provide:rI,useClass:Oz,deps:[]},[]];let xI=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:k_,useValue:e.appId},{provide:lI,useExisting:k_},kz]}}}return t.\u0275fac=function(e){return new(e||t)(Ee(bI,12))},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[...CI,...wI],imports:[Ki,$6]}),t})(),SI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:function(e){let i=null;return i=e?new e:function Kz(){return new SI(Ee(Ui))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;let Vp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:function(e){let i=null;return i=e?new(e||t):Ee(DI),i},providedIn:"root"}),t})(),DI=(()=>{class t extends Vp{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Cr.NONE:return i;case Cr.HTML:return ac(i,"HTML")?ps(i):Lv(this._doc,String(i)).toString();case Cr.STYLE:return ac(i,"Style")?ps(i):i;case Cr.SCRIPT:if(ac(i,"Script"))return ps(i);throw new Error("unsafe value used in a script context");case Cr.URL:return ac(i,"URL")?ps(i):Jf(String(i));case Cr.RESOURCE_URL:if(ac(i,"ResourceURL"))return ps(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Yf(t){return new zC(t)}(e)}bypassSecurityTrustStyle(e){return function Xf(t){return new BC(t)}(e)}bypassSecurityTrustScript(e){return function Mv(t){return new VC(t)}(e)}bypassSecurityTrustUrl(e){return function Qf(t){return new O1(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Dv(t){return new _g(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:function(e){let i=null;return i=e?new e:function n7(t){return new DI(t.get(Ui))}(Ee(Fo)),i},providedIn:"root"}),t})();function Pn(...t){return Fi(t,qn(t))}class Ni extends Ct{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const B_=Rn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:i7}=Array,{getPrototypeOf:r7,prototype:o7,keys:s7}=Object;function EI(t){if(1===t.length){const n=t[0];if(i7(n))return{args:n,keys:null};if(function a7(t){return t&&"object"==typeof t&&r7(t)===o7}(n)){const e=s7(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:l7}=Array;function FS(t){return Kt(n=>function c7(t,n){return l7(n)?t(...n):t(n)}(t,n))}function II(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function vm(...t){const n=qn(t),e=Tn(t),{args:i,keys:r}=EI(t);if(0===i.length)return Fi([],n);const s=new zn(function u7(t,n,e=ss){return i=>{kI(n,()=>{const{length:r}=t,s=new Array(r);let d=r,m=r;for(let b=0;b<r;b++)kI(n,()=>{const S=Fi(t[b],n);let I=!1;S.subscribe(Oi(i,R=>{s[b]=R,I||(I=!0,m--),m||i.next(e(s.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,n,r?d=>II(r,d):ss));return e?s.pipe(FS(e)):s}function kI(t,n,e){t?ke(e,t,n):n()}function p2(...t){return function d7(){return rt(1)}()(Fi(t,qn(t)))}function AI(t){return new zn(n=>{Rr(t()).subscribe(n)})}function V_(t,n){const e=kt(t)?t:()=>t,i=r=>r.error(e());return new zn(n?r=>n.schedule(i,0,r):i)}function H_(){return Ai((t,n)=>{let e=null;t._refCount++;const i=Oi(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class f2 extends zn{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,as(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new He;const e=this.getSubject();n.add(this.source.subscribe(Oi(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=He.EMPTY)}return n}refCount(){return H_()(this)}}function Pr(t,n){return Ai((e,i)=>{let r=null,s=0,d=!1;const m=()=>d&&!r&&i.complete();e.subscribe(Oi(i,b=>{r?.unsubscribe();let S=0;const I=s++;Rr(t(b,I)).subscribe(r=Oi(i,R=>i.next(n?n(b,R,I,S++):R),()=>{r=null,m()}))},()=>{d=!0,m()}))})}function Da(t){return t<=0?()=>vt:Ai((n,e)=>{let i=0;n.subscribe(Oi(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function vc(...t){const n=qn(t);return Ai((e,i)=>{(n?p2(t,e,n):p2(t,e)).subscribe(i)})}function Cn(t,n){return Ai((e,i)=>{let r=0;e.subscribe(Oi(i,s=>t.call(n,s,r++)&&i.next(s)))})}function m2(t){return Ai((n,e)=>{let i=!1;n.subscribe(Oi(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function OI(t=h7){return Ai((n,e)=>{let i=!1;n.subscribe(Oi(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function h7(){return new B_}function Hp(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Cn((r,s)=>t(r,s,i)):ss,Da(1),e?m2(n):OI(()=>new B_))}function Up(t,n){return kt(n)?Ae(t,n,1):Ae(t,1)}function ts(t,n,e){const i=kt(t)||n||e?{next:t,error:n,complete:e}:t;return i?Ai((r,s)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let m=!0;r.subscribe(Oi(s,b=>{var S;null===(S=i.next)||void 0===S||S.call(i,b),s.next(b)},()=>{var b;m=!1,null===(b=i.complete)||void 0===b||b.call(i),s.complete()},b=>{var S;m=!1,null===(S=i.error)||void 0===S||S.call(i,b),s.error(b)},()=>{var b,S;m&&(null===(b=i.unsubscribe)||void 0===b||b.call(i)),null===(S=i.finalize)||void 0===S||S.call(i)}))}):ss}function jp(t){return Ai((n,e)=>{let s,i=null,r=!1;i=n.subscribe(Oi(e,void 0,void 0,d=>{s=Rr(t(d,jp(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function p7(t,n,e,i,r){return(s,d)=>{let m=e,b=n,S=0;s.subscribe(Oi(d,I=>{const R=S++;b=m?t(b,I,R):(m=!0,I),i&&d.next(b)},r&&(()=>{m&&d.next(b),d.complete()})))}}function PI(t,n){return Ai(p7(t,n,arguments.length>=2,!0))}function zS(t){return t<=0?()=>vt:Ai((n,e)=>{let i=[];n.subscribe(Oi(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function RI(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Cn((r,s)=>t(r,s,i)):ss,zS(1),e?m2(n):OI(()=>new B_))}function BS(t,n=!1){return Ai((e,i)=>{let r=0;e.subscribe(Oi(i,s=>{const d=t(s,r++);(d||n)&&i.next(s),!d&&i.complete()}))})}function NI(t){return Kt(()=>t)}function bm(t){return Ai((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const ki="primary",U_=Symbol("RouteTitle");class f7{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function n0(t){return new f7(t)}function m7(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const d=i[s],m=t[s];if(d.startsWith(":"))r[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function rd(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!LI(t[r],n[r]))return!1;return!0}function LI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,s)=>i[s]===r)}return t===n}function FI(t){return Array.prototype.concat.apply([],t)}function zI(t){return t.length>0?t[t.length-1]:null}function Os(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function $p(t){return Ex(t)?t:v_(t)?Fi(Promise.resolve(t)):Pn(t)}const y7={exact:function HI(t,n,e){if(!Cm(t.segments,n.segments)||!g2(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!HI(t.children[i],n.children[i],e))return!1;return!0},subset:UI},BI={exact:function v7(t,n){return rd(t,n)},subset:function b7(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>LI(t[e],n[e]))},ignored:()=>!0};function VI(t,n,e){return y7[e.paths](t.root,n.root,e.matrixParams)&&BI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function UI(t,n,e){return jI(t,n,n.segments,e)}function jI(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Cm(r,e)||n.hasChildren()||!g2(r,e,i))}if(t.segments.length===e.length){if(!Cm(t.segments,e)||!g2(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!UI(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Cm(t.segments,r)&&g2(t.segments,r,i)&&t.children[ki])&&jI(t.children[ki],n,s,i)}}function g2(t,n,e){return n.every((i,r)=>BI[e](t[r].parameters,i.parameters))}class wm{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=n0(this.queryParams)),this._queryParamMap}toString(){return x7.serialize(this)}}class Li{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Os(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _2(this)}}class j_{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=n0(this.parameters)),this._parameterMap}toString(){return qI(this)}}function Cm(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let $I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:function(){return new HS},providedIn:"root"}),t})();class HS{parse(n){const e=new O7(n);return new wm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${$_(n.root,!0)}`,i=function M7(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${y2(e)}=${y2(r)}`).join("&"):`${y2(e)}=${y2(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function S7(t){return encodeURI(t)}(n.fragment)}`:""}`}}const x7=new HS;function _2(t){return t.segments.map(n=>qI(n)).join("/")}function $_(t,n){if(!t.hasChildren())return _2(t);if(n){const e=t.children[ki]?$_(t.children[ki],!1):"",i=[];return Os(t.children,(r,s)=>{s!==ki&&i.push(`${s}:${$_(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function C7(t,n){let e=[];return Os(t.children,(i,r)=>{r===ki&&(e=e.concat(n(i,r)))}),Os(t.children,(i,r)=>{r!==ki&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===ki?[$_(t.children[ki],!1)]:[`${r}:${$_(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ki]?`${_2(t)}/${e[0]}`:`${_2(t)}/(${e.join("//")})`}}function GI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y2(t){return GI(t).replace(/%3B/gi,";")}function US(t){return GI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function v2(t){return decodeURIComponent(t)}function WI(t){return v2(t.replace(/\+/g,"%20"))}function qI(t){return`${US(t.path)}${function T7(t){return Object.keys(t).map(n=>`;${US(n)}=${US(t[n])}`).join("")}(t.parameters)}`}const D7=/^[^\/()?;=#]+/;function b2(t){const n=t.match(D7);return n?n[0]:""}const E7=/^[^=?&#]+/,k7=/^[^&#]+/;class O7{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Li([],{}):new Li([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ki]=new Li(n,e)),i}parseSegment(){const n=b2(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ct(4009,!1);return this.capture(n),new j_(v2(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=b2(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=b2(this.remaining);r&&(i=r,this.capture(i))}n[v2(e)]=v2(i)}parseQueryParam(n){const e=function I7(t){const n=t.match(E7);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function A7(t){const n=t.match(k7);return n?n[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=WI(e),s=WI(i);if(n.hasOwnProperty(r)){let d=n[r];Array.isArray(d)||(d=[d],n[r]=d),d.push(s)}else n[r]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=b2(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ct(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ki);const d=this.parseChildren();e[s]=1===Object.keys(d).length?d[ki]:new Li([],d),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ct(4011,!1)}}function jS(t){return t.segments.length>0?new Li([],{[ki]:t}):t}function w2(t){const n={};for(const i of Object.keys(t.children)){const s=w2(t.children[i]);(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function P7(t){if(1===t.numberOfChildren&&t.children[ki]){const n=t.children[ki];return new Li(t.segments.concat(n.segments),n.children)}return t}(new Li(t.segments,n))}function xm(t){return t instanceof wm}function L7(t,n,e,i,r){if(0===e.length)return r0(n.root,n.root,n.root,i,r);const s=function YI(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new KI(!0,0,t);let n=0,e=!1;const i=t.reduce((r,s,d)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Os(s.outlets,(b,S)=>{m[S]="string"==typeof b?b.split("/"):b}),[...r,{outlets:m}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===d?(s.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?n++:""!=m&&r.push(m))}),r):[...r,s]},[]);return new KI(e,n,i)}(e);return s.toRoot()?r0(n.root,n.root,new Li([],{}),i,r):function d(b){const S=function z7(t,n,e,i){if(t.isAbsolute)return new o0(n.root,!0,0);if(-1===i)return new o0(e,e===n.root,0);return function XI(t,n,e){let i=t,r=n,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ct(4005,!1);r=i.segments.length}return new o0(i,!1,r-s)}(e,i+(G_(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,t.snapshot?._urlSegment,b),I=S.processChildren?q_(S.segmentGroup,S.index,s.commands):GS(S.segmentGroup,S.index,s.commands);return r0(n.root,S.segmentGroup,I,i,r)}(t.snapshot?._lastPathIndex)}function G_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function W_(t){return"object"==typeof t&&null!=t&&t.outlets}function r0(t,n,e,i,r){let d,s={};i&&Os(i,(b,S)=>{s[S]=Array.isArray(b)?b.map(I=>`${I}`):`${b}`}),d=t===n?e:ZI(t,n,e);const m=jS(w2(d));return new wm(m,s,r)}function ZI(t,n,e){const i={};return Os(t.children,(r,s)=>{i[s]=r===n?e:ZI(r,n,e)}),new Li(t.segments,i)}class KI{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&G_(i[0]))throw new ct(4003,!1);const r=i.find(W_);if(r&&r!==zI(i))throw new ct(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class o0{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function GS(t,n,e){if(t||(t=new Li([],{})),0===t.segments.length&&t.hasChildren())return q_(t,n,e);const i=function V7(t,n,e){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return s;const d=t.segments[r],m=e[i];if(W_(m))break;const b=`${m}`,S=i<e.length-1?e[i+1]:null;if(r>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!JI(b,S,d))return s;i+=2}else{if(!JI(b,{},d))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Li(t.segments.slice(0,i.pathIndex),{});return s.children[ki]=new Li(t.segments.slice(i.pathIndex),t.children),q_(s,0,r)}return i.match&&0===r.length?new Li(t.segments,{}):i.match&&!t.hasChildren()?WS(t,n,e):i.match?q_(t,0,r):WS(t,n,e)}function q_(t,n,e){if(0===e.length)return new Li(t.segments,{});{const i=function B7(t){return W_(t[0])?t[0].outlets:{[ki]:t}}(e),r={};return Os(i,(s,d)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[d]=GS(t.children[d],n,s))}),Os(t.children,(s,d)=>{void 0===i[d]&&(r[d]=s)}),new Li(t.segments,r)}}function WS(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const s=e[r];if(W_(s)){const b=H7(s.outlets);return new Li(i,b)}if(0===r&&G_(e[0])){i.push(new j_(t.segments[n].path,QI(e[0]))),r++;continue}const d=W_(s)?s.outlets[ki]:`${s}`,m=r<e.length-1?e[r+1]:null;d&&m&&G_(m)?(i.push(new j_(d,QI(m))),r+=2):(i.push(new j_(d,{})),r++)}return new Li(i,{})}function H7(t){const n={};return Os(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=WS(new Li([],{}),0,e))}),n}function QI(t){const n={};return Os(t,(e,i)=>n[i]=`${e}`),n}function JI(t,n,e){return t==e.path&&rd(n,e.parameters)}class mh{constructor(n,e){this.id=n,this.url=e}}class qS extends mh{constructor(n,e,i="imperative",r=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gh extends mh{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class C2 extends mh{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ek extends mh{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U7 extends mh{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j7 extends mh{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $7 extends mh{constructor(n,e,i,r,s){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G7 extends mh{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W7 extends mh{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q7{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z7{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K7{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y7{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X7{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q7{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tk{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nk{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=ZS(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=ZS(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=KS(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return KS(n,this._root).map(e=>e.value)}}function ZS(t,n){if(t===n.value)return n;for(const e of n.children){const i=ZS(t,e);if(i)return i}return null}function KS(t,n){if(t===n.value)return[n];for(const e of n.children){const i=KS(t,e);if(i.length)return i.unshift(n),i}return[]}class _h{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function s0(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class ik extends nk{constructor(n,e){super(n),this.snapshot=e,YS(this,n)}toString(){return this.snapshot.toString()}}function rk(t,n){const e=function eB(t,n){const d=new x2([],{},{},"",{},ki,n,null,t.root,-1,{});return new sk("",new _h(d,[]))}(t,n),i=new Ni([new j_("",{})]),r=new Ni({}),s=new Ni({}),d=new Ni({}),m=new Ni(""),b=new Cl(i,r,d,m,s,ki,n,e.root);return b.snapshot=e.root,new ik(new _h(b,[]),e)}class Cl{constructor(n,e,i,r,s,d,m,b){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=d,this.component=m,this.title=this.data?.pipe(Kt(S=>S[U_]))??Pn(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Kt(n=>n0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Kt(n=>n0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ok(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function tB(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class x2{constructor(n,e,i,r,s,d,m,b,S,I,R,G){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=d,this.component=m,this.title=this.data?.[U_],this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=I,this._correctedLastPathIndex=G??I,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=n0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=n0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sk extends nk{constructor(n,e){super(e),this.url=n,YS(this,e)}toString(){return ak(this._root)}}function YS(t,n){n.value._routerState=t,n.children.forEach(e=>YS(t,e))}function ak(t){const n=t.children.length>0?` { ${t.children.map(ak).join(", ")} } `:"";return`${t.value}${n}`}function XS(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,rd(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),rd(n.params,e.params)||t.params.next(e.params),function g7(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!rd(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),rd(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function QS(t,n){const e=rd(t.params,n.params)&&function w7(t,n){return Cm(t,n)&&t.every((e,i)=>rd(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||QS(t.parent,n.parent))}function Z_(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function iB(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Z_(t,i,r);return Z_(t,i)})}(t,n,e);return new _h(i,r)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const d=s.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(m=>Z_(t,m)),d}}const i=function rB(t){return new Cl(new Ni(t.url),new Ni(t.params),new Ni(t.queryParams),new Ni(t.fragment),new Ni(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(s=>Z_(t,s));return new _h(i,r)}}const JS="ngNavigationCancelingError";function lk(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=xm(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=ck(!1,0,n);return r.url=e,r.navigationBehaviorOptions=i,r}function ck(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[JS]=!0,i.cancellationCode=n,e&&(i.url=e),i}function uk(t){return dk(t)&&xm(t.url)}function dk(t){return t&&t[JS]}class oB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new K_,this.attachRef=null}}let K_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new oB,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S2=!1;let eT=(()=>{class t{constructor(e,i,r,s,d){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.name=r||ki,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ct(4012,S2);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ct(4012,S2);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ct(4012,S2);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ct(4013,S2);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,b=new sB(e,m,r.injector);if(i&&function aB(t){return!!t.resolveComponentFactory}(i)){const S=i.resolveComponentFactory(d);this.activated=r.createComponent(S,r.length,b)}else this.activated=r.createComponent(d,{index:r.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(U(K_),U(Er),function Kr(t){return function Ei(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Ue(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===n)return e[r+1];r+=2}}}return null}(Zr(),t)}("name"),U(mi),U(Wu))},t.\u0275dir=qe({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class sB{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Cl?this.route:n===K_?this.childContexts:this.parent.get(n,e)}}let tT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["ng-component"]],standalone:!0,features:[gE],decls:1,vars:0,template:function(e,i){1&e&&at(0,"router-outlet")},dependencies:[eT],encapsulation:2}),t})();function hk(t,n){return t.providers&&!t._injector&&(t._injector=zb(t.providers,n,`Route: ${t.path}`)),t._injector??n}function iT(t){const n=t.children&&t.children.map(iT),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ki&&(e.component=tT),e}function bc(t){return t.outlet||ki}function pk(t,n){const e=t.filter(i=>bc(i)===n);return e.push(...t.filter(i=>bc(i)!==n)),e}function Y_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hB{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),XS(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=s0(e);n.children.forEach(s=>{const d=s.value.outlet;this.deactivateRoutes(s,r[d],i),delete r[d]}),Os(r,(s,d)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(r===s)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(n,e,d.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=s0(n);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],r);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=s0(n);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=s0(e);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Q7(s.value.snapshot))}),n.children.length&&this.forwardEvent(new Y7(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(XS(r),r===s)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,d.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),XS(m.route.value),this.activateChildRoutes(n,null,d.children)}else{const m=Y_(r.snapshot),b=m?.get(yl)??null;d.attachRef=null,d.route=r,d.resolver=b,d.injector=m,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(n,null,d.children)}}else this.activateChildRoutes(n,null,i)}}class fk{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class T2{constructor(n,e){this.component=n,this.route=e}}function pB(t,n,e){const i=t._root;return X_(i,n?n._root:null,e,[i.value])}function a0(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function xd(t){return null!==js(t)}(t)?n.get(t):t:i}function X_(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=s0(n);return t.children.forEach(d=>{(function mB(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,d=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(d&&s.routeConfig===d.routeConfig){const b=function gB(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Cm(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Cm(t.url,n.url)||!rd(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QS(t,n)||!rd(t.queryParams,n.queryParams);default:return!QS(t,n)}}(d,s,s.routeConfig.runGuardsAndResolvers);b?r.canActivateChecks.push(new fk(i)):(s.data=d.data,s._resolvedData=d._resolvedData),X_(t,n,s.component?m?m.children:null:e,i,r),b&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new T2(m.outlet.component,d))}else d&&Q_(n,m,r),r.canActivateChecks.push(new fk(i)),X_(t,null,s.component?m?m.children:null:e,i,r)})(d,s[d.value.outlet],e,i.concat([d.value]),r),delete s[d.value.outlet]}),Os(s,(d,m)=>Q_(d,e.getContext(m),r)),r}function Q_(t,n,e){const i=s0(t),r=t.value;Os(i,(s,d)=>{Q_(s,r.component?n?n.children.getContext(d):null:n,e)}),e.canDeactivateChecks.push(new T2(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function J_(t){return"function"==typeof t}function rT(t){return t instanceof B_||"EmptyError"===t?.name}const M2=Symbol("INITIAL_VALUE");function l0(){return Pr(t=>vm(t.map(n=>n.pipe(Da(1),vc(M2)))).pipe(Kt(n=>{for(const e of n)if(!0!==e){if(e===M2)return M2;if(!1===e||e instanceof wm)return e}return!0}),Cn(n=>n!==M2),Da(1)))}function mk(t){return function Ol(...t){return Pl(t)}(ts(n=>{if(xm(n))throw lk(0,n)}),Kt(n=>!0===n))}const oT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gk(t,n,e,i,r){const s=sT(t,n,e);return s.matched?function PB(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?Pn(r.map(d=>{const m=a0(d,t);return $p(function CB(t){return t&&J_(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(l0(),mk()):Pn(!0)}(i=hk(n,i),n,e).pipe(Kt(d=>!0===d?s:{...oT})):Pn(s)}function sT(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...oT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||m7)(e,t,n);if(!r)return{...oT};const s={};Os(r.posParams,(m,b)=>{s[b]=m.path});const d=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function D2(t,n,e,i,r="corrected"){if(e.length>0&&function LB(t,n,e){return e.some(i=>E2(t,n,i)&&bc(i)!==ki)}(t,e,i)){const d=new Li(n,function NB(t,n,e,i){const r={};r[ki]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&bc(s)!==ki){const d=new Li([],{});d._sourceSegment=t,d._segmentIndexShift=n.length,r[bc(s)]=d}return r}(t,n,i,new Li(e,t.children)));return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function FB(t,n,e){return e.some(i=>E2(t,n,i))}(t,e,i)){const d=new Li(t.segments,function RB(t,n,e,i,r,s){const d={};for(const m of i)if(E2(t,e,m)&&!r[bc(m)]){const b=new Li([],{});b._sourceSegment=t,b._segmentIndexShift="legacy"===s?t.segments.length:n.length,d[bc(m)]=b}return{...r,...d}}(t,n,e,i,t.children,r));return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:e}}const s=new Li(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function E2(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function _k(t,n,e,i){return!!(bc(t)===i||i!==ki&&E2(n,e,t))&&("**"===t.path||sT(n,t,e).matched)}function yk(t,n,e){return 0===n.length&&!t.children[e]}const I2=!1;class k2{constructor(n){this.segmentGroup=n||null}}class vk{constructor(n){this.urlTree=n}}function ey(t){return V_(new k2(t))}function bk(t){return V_(new vk(t))}class HB{constructor(n,e,i,r,s){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const n=D2(this.urlTree.root,[],[],this.config).segmentGroup,e=new Li(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,ki).pipe(Kt(s=>this.createUrlTree(w2(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jp(s=>{if(s instanceof vk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof k2?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,ki).pipe(Kt(r=>this.createUrlTree(w2(r),n.queryParams,n.fragment))).pipe(jp(r=>{throw r instanceof k2?this.noMatchError(r):r}))}noMatchError(n){return new ct(4002,I2)}createUrlTree(n,e,i){const r=jS(n);return new wm(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(Kt(s=>new Li([],s))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Fi(r).pipe(Up(s=>{const d=i.children[s],m=pk(e,s);return this.expandSegmentGroup(n,m,d,s).pipe(Kt(b=>({segment:b,outlet:s})))}),PI((s,d)=>(s[d.outlet]=d.segment,s),{}),RI())}expandSegment(n,e,i,r,s,d){return Fi(i).pipe(Up(m=>this.expandSegmentAgainstRoute(n,e,i,m,r,s,d).pipe(jp(S=>{if(S instanceof k2)return Pn(null);throw S}))),Hp(m=>!!m),jp((m,b)=>{if(rT(m))return yk(e,r,s)?Pn(new Li([],{})):ey(e);throw m}))}expandSegmentAgainstRoute(n,e,i,r,s,d,m){return _k(r,e,s,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,s,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,d):ey(e):ey(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?bk(s):this.lineralizeSegments(i,s).pipe(Ae(d=>{const m=new Li(d,{});return this.expandSegment(n,m,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,d){const{matched:m,consumedSegments:b,remainingSegments:S,positionalParamSegments:I}=sT(e,r,s);if(!m)return ey(e);const R=this.applyRedirectCommands(b,r.redirectTo,I);return r.redirectTo.startsWith("/")?bk(R):this.lineralizeSegments(r,R).pipe(Ae(G=>this.expandSegment(n,e,i,G.concat(S),d,!1)))}matchSegmentAgainstRoute(n,e,i,r,s){return"**"===i.path?(n=hk(i,n),i.loadChildren?(i._loadedRoutes?Pn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe(Kt(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new Li(r,{})))):Pn(new Li(r,{}))):gk(e,i,r,n).pipe(Pr(({matched:d,consumedSegments:m,remainingSegments:b})=>d?this.getChildConfig(n=i._injector??n,i,r).pipe(Ae(I=>{const R=I.injector??n,G=I.routes,{segmentGroup:X,slicedSegments:ie}=D2(e,m,b,G),ve=new Li(X.segments,X.children);if(0===ie.length&&ve.hasChildren())return this.expandChildren(R,G,ve).pipe(Kt(Ye=>new Li(m,Ye)));if(0===G.length&&0===ie.length)return Pn(new Li(m,{}));const Me=bc(i)===s;return this.expandSegment(R,ve,G,ie,Me?ki:s,!0).pipe(Kt(dt=>new Li(m.concat(dt.segments),dt.children)))})):ey(e)))}getChildConfig(n,e,i){return e.children?Pn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Pn({routes:e._loadedRoutes,injector:e._loadedInjector}):function OB(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?Pn(!0):Pn(r.map(d=>{const m=a0(d,t);return $p(function yB(t){return t&&J_(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(l0(),mk())}(n,e,i).pipe(Ae(r=>r?this.configLoader.loadChildren(n,e).pipe(ts(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function BB(t){return V_(ck(I2,3))}())):Pn({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Pn(i);if(r.numberOfChildren>1||!r.children[ki])return V_(new ct(4e3,I2));r=r.children[ki]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,r){const s=this.createSegmentGroup(n,e.root,i,r);return new wm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Os(n,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const m=r.substring(1);i[s]=e[m]}else i[s]=r}),i}createSegmentGroup(n,e,i,r){const s=this.createSegments(n,e.segments,i,r);let d={};return Os(e.children,(m,b)=>{d[b]=this.createSegmentGroup(n,m,i,r)}),new Li(s,d)}createSegments(n,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new ct(4001,I2);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}class jB{}class WB{constructor(n,e,i,r,s,d,m,b){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=b}recognize(){const n=D2(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ki).pipe(Kt(e=>{if(null===e)return null;const i=new x2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ki,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _h(i,e),s=new sk(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const e=n.value,i=ok(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r)}processChildren(n,e,i){return Fi(Object.keys(i.children)).pipe(Up(r=>{const s=i.children[r],d=pk(e,r);return this.processSegmentGroup(n,d,s,r)}),PI((r,s)=>r&&s?(r.push(...s),r):null),BS(r=>null!==r),m2(null),RI(),Kt(r=>{if(null===r)return null;const s=wk(r);return function qB(t){t.sort((n,e)=>n.value.outlet===ki?-1:e.value.outlet===ki?1:n.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(n,e,i,r,s){return Fi(e).pipe(Up(d=>this.processSegmentAgainstRoute(d._injector??n,d,i,r,s)),Hp(d=>!!d),jp(d=>{if(rT(d))return yk(i,r,s)?Pn([]):Pn(null);throw d}))}processSegmentAgainstRoute(n,e,i,r,s){if(e.redirectTo||!_k(e,i,r,s))return Pn(null);let d;if("**"===e.path){const m=r.length>0?zI(r).parameters:{},b=xk(i)+r.length;d=Pn({snapshot:new x2(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tk(e),bc(e),e.component??e._loadedComponent??null,e,Ck(i),b,Mk(e),b),consumedSegments:[],remainingSegments:[]})}else d=gk(i,e,r,n).pipe(Kt(({matched:m,consumedSegments:b,remainingSegments:S,parameters:I})=>{if(!m)return null;const R=xk(i)+b.length;return{snapshot:new x2(b,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tk(e),bc(e),e.component??e._loadedComponent??null,e,Ck(i),R,Mk(e),R),consumedSegments:b,remainingSegments:S}}));return d.pipe(Pr(m=>{if(null===m)return Pn(null);const{snapshot:b,consumedSegments:S,remainingSegments:I}=m;n=e._injector??n;const R=e._loadedInjector??n,G=function ZB(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:X,slicedSegments:ie}=D2(i,S,I,G.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution);if(0===ie.length&&X.hasChildren())return this.processChildren(R,G,X).pipe(Kt(Me=>null===Me?null:[new _h(b,Me)]));if(0===G.length&&0===ie.length)return Pn([new _h(b,[])]);const ve=bc(e)===s;return this.processSegment(R,G,X,ie,ve?ki:s).pipe(Kt(Me=>null===Me?null:[new _h(b,Me)]))}))}}function KB(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function wk(t){const n=[],e=new Set;for(const i of t){if(!KB(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=wk(i.children);n.push(new _h(i.value,r))}return n.filter(i=>!e.has(i))}function Ck(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function xk(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function Tk(t){return t.data||{}}function Mk(t){return t.resolve||{}}function Dk(t){return"string"==typeof t.title||null===t.title}function aT(t){return Pr(n=>{const e=t(n);return e?Fi(e).pipe(Kt(()=>n)):Pn(n)})}let Ek=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ki);return i}getResolvedTitleForRoute(e){return e.data[U_]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:function(){return er(Ik)},providedIn:"root"}),t})(),Ik=(()=>{class t extends Ek{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(Ee(SI))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class iV{}class oV extends class rV{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const O2=new At("",{providedIn:"root",factory:()=>({})}),lT=new At("ROUTES");let cT=(()=>{class t{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Pn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=$p(e.loadComponent()).pipe(ts(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),bm(()=>{this.componentLoaders.delete(e)})),r=new f2(i,()=>new Ct).pipe(H_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Kt(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,S,I=!1;Array.isArray(m)?S=m:(b=m.create(e).injector,S=FI(b.get(lT,[],Nn.Self|Nn.Optional)));return{routes:S.map(iT),injector:b}}),bm(()=>{this.childrenLoaders.delete(i)})),d=new f2(s,()=>new Ct).pipe(H_());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return $p(e()).pipe(Ae(i=>i instanceof fE||Array.isArray(i)?Pn(i):Fi(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)(Ee(Fo),Ee(tS))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class aV{}class lV{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function cV(t){throw t}function uV(t,n,e){return n.parse("/")}const dV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ak(){const t=er($I),n=er(K_),e=er(e0),i=er(Fo),r=er(tS),s=er(lT,{optional:!0})??[],d=er(O2,{optional:!0})??{},m=er(Ik),b=er(Ek,{optional:!0}),S=er(aV,{optional:!0}),I=er(iV,{optional:!0}),R=new vr(null,t,n,e,i,r,FI(s));return S&&(R.urlHandlingStrategy=S),I&&(R.routeReuseStrategy=I),R.titleStrategy=b??m,function pV(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(d,R),R}let vr=(()=>{class t{constructor(e,i,r,s,d,m,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ct,this.errorHandler=cV,this.malformedUriErrorHandler=uV,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Pn(void 0),this.urlHandlingStrategy=new lV,this.routeReuseStrategy=new oV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(cT),this.configLoader.onLoadEndListener=G=>this.triggerEvent(new Z7(G)),this.configLoader.onLoadStartListener=G=>this.triggerEvent(new q7(G)),this.ngModule=d.get(fm),this.console=d.get(c6);const R=d.get(Hn);this.isNgZoneEnabled=R instanceof Hn&&Hn.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function _7(){return new wm(new Li([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rk(this.currentUrlTree,this.rootComponentType),this.transitions=new Ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Cn(r=>0!==r.id),Kt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Pr(r=>{let s=!1,d=!1;return Pn(r).pipe(ts(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(m=>{const b=this.browserUrlTree.toString(),S=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ok(m.source)&&(this.browserUrlTree=m.extractedUrl),Pn(m).pipe(Pr(R=>{const G=this.transitions.getValue();return i.next(new qS(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),G!==this.transitions.getValue()?vt:Promise.resolve(R)}),function UB(t,n,e,i){return Pr(r=>function VB(t,n,e,i,r){return new HB(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(Kt(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ts(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},r.urlAfterRedirects=R.urlAfterRedirects}),function XB(t,n,e,i,r,s){return Ae(d=>function GB(t,n,e,i,r,s,d="emptyOnly",m="legacy"){return new WB(t,n,e,i,r,d,m,s).recognize().pipe(Pr(b=>null===b?function $B(t){return new zn(n=>n.error(t))}(new jB):Pn(b)))}(t,n,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,s).pipe(Kt(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ts(R=>{if(r.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(X,R)}this.browserUrlTree=R.urlAfterRedirects}const G=new U7(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(G)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:X,source:ie,restoredState:ve,extras:Me}=m,Ke=new qS(G,this.serializeUrl(X),ie,ve);i.next(Ke);const dt=rk(X,this.rootComponentType).snapshot;return Pn(r={...m,targetSnapshot:dt,urlAfterRedirects:X,extras:{...Me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),vt}),ts(m=>{const b=new j7(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Kt(m=>r={...m,guards:pB(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function SB(t,n){return Ae(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:d}}=e;return 0===d.length&&0===s.length?Pn({...e,guardsResult:!0}):function TB(t,n,e,i){return Fi(t).pipe(Ae(r=>function AB(t,n,e,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Pn(s.map(m=>{const b=Y_(n)??r,S=a0(m,b);return $p(function wB(t){return t&&J_(t.canDeactivate)}(S)?S.canDeactivate(t,n,e,i):b.runInContext(()=>S(t,n,e,i))).pipe(Hp())})).pipe(l0()):Pn(!0)}(r.component,r.route,e,n,i)),Hp(r=>!0!==r,!0))}(d,i,r,t).pipe(Ae(m=>m&&function _B(t){return"boolean"==typeof t}(m)?function MB(t,n,e,i){return Fi(n).pipe(Up(r=>p2(function EB(t,n){return null!==t&&n&&n(new K7(t)),Pn(!0)}(r.route.parent,i),function DB(t,n){return null!==t&&n&&n(new X7(t)),Pn(!0)}(r.route,i),function kB(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(d=>function fB(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(d)).filter(d=>null!==d).map(d=>AI(()=>Pn(d.guards.map(b=>{const S=Y_(d.node)??e,I=a0(b,S);return $p(function bB(t){return t&&J_(t.canActivateChild)}(I)?I.canActivateChild(i,t):S.runInContext(()=>I(i,t))).pipe(Hp())})).pipe(l0())));return Pn(s).pipe(l0())}(t,r.path,e),function IB(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Pn(!0);const r=i.map(s=>AI(()=>{const d=Y_(n)??e,m=a0(s,d);return $p(function vB(t){return t&&J_(t.canActivate)}(m)?m.canActivate(n,t):d.runInContext(()=>m(n,t))).pipe(Hp())}));return Pn(r).pipe(l0())}(t,r.route,e))),Hp(r=>!0!==r,!0))}(i,s,t,n):Pn(m)),Kt(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),ts(m=>{if(r.guardsResult=m.guardsResult,xm(m.guardsResult))throw lk(0,m.guardsResult);const b=new $7(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Cn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),aT(m=>{if(m.guards.canActivateChecks.length)return Pn(m).pipe(ts(b=>{const S=new G7(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),Pr(b=>{let S=!1;return Pn(b).pipe(function QB(t,n){return Ae(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Pn(e);let s=0;return Fi(r).pipe(Up(d=>function JB(t,n,e,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!Dk(r)&&(s[U_]=r.title),function eV(t,n,e,i){const r=function tV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return Pn({});const s={};return Fi(r).pipe(Ae(d=>function nV(t,n,e,i){const r=Y_(n)??i,s=a0(t,r);return $p(s.resolve?s.resolve(n,e):r.runInContext(()=>s(n,e)))}(t[d],n,e,i).pipe(Hp(),ts(m=>{s[d]=m}))),zS(1),NI(s),jp(d=>rT(d)?vt:V_(d)))}(s,t,n,i).pipe(Kt(d=>(t._resolvedData=d,t.data=ok(t,e).resolve,r&&Dk(r)&&(t.data[U_]=r.title),null)))}(d.route,i,t,n)),ts(()=>s++),zS(1),Ae(d=>s===r.length?Pn(e):vt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ts({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),ts(b=>{const S=new W7(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),aT(m=>{const b=S=>{const I=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(S.routeConfig).pipe(ts(R=>{S.component=R}),Kt(()=>{})));for(const R of S.children)I.push(...b(R));return I};return vm(b(m.targetSnapshot.root)).pipe(m2(),Da(1))}),aT(()=>this.afterPreactivation()),Kt(m=>{const b=function nB(t,n,e){const i=Z_(t,n._root,e?e._root:void 0);return new ik(i,n)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return r={...m,targetRouterState:b}}),ts(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,n,e)=>Kt(i=>(new hB(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),ts({next(){s=!0},complete(){s=!0}}),bm(()=>{s||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),jp(m=>{if(d=!0,dk(m)){uk(m)||(this.navigated=!0,this.restoreHistory(r,!0));const b=new C2(r.id,this.serializeUrl(r.extractedUrl),m.message,m.cancellationCode);if(i.next(b),uk(m)){const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ok(r.source)};this.scheduleNavigation(S,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const b=new ek(r.id,this.serializeUrl(r.extractedUrl),m,r.targetSnapshot??void 0);i.next(b);try{r.resolve(this.errorHandler(m))}catch(S){r.reject(S)}}return vt}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const m={...s};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(r.state=m)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(iT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:d,queryParamsHandling:m,preserveFragment:b}=i,S=r||this.routerState.root,I=b?this.currentUrlTree.fragment:d;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...s};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=s||null}return null!==R&&(R=this.removeEmptyProps(R)),L7(S,this.currentUrlTree,e,R,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=xm(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function fV(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new ct(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...dV}:!1===i?{...hV}:i,xm(e))return VI(this.currentUrlTree,e,r);const s=this.parseUrl(e);return VI(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,d){if(this.disposed)return Promise.resolve(!1);let m,b,S;d?(m=d.resolve,b=d.reject,S=d.promise):S=new Promise((G,X)=>{m=G,b=X});const I=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),R=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:I,targetPageId:R,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:m,reject:b,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(G=>Promise.reject(G))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new C2(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){Ng()},t.\u0275prov=Qe({token:t,factory:function(){return Ak()},providedIn:"root"}),t})();function Ok(t){return"imperative"!==t}let ty=(()=>{class t{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ct,this.subscription=e.events.subscribe(s=>{s instanceof gh&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=hh(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=hh(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=hh(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,d){return!!(0!==e||i||r||s||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(U(vr),U(Cl),U(_m))},t.\u0275dir=qe({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&De("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&dn("target",i.target)("href",i.href,ru)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[pi]}),t})();class Pk{}let _V=(()=>{class t{constructor(e,i,r,s,d){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Cn(e=>e instanceof gh),Up(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=zb(s.providers,e,`Route: ${s.path}`));const d=s._injector??e,m=s._loadedInjector??d;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(d,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(m,s.children??s._loadedRoutes))}return Fi(r).pipe(rt())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Pn(null);const s=r.pipe(Ae(d=>null===d?Pn(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));return i.loadComponent&&!i._loadedComponent?Fi([s,this.loader.loadComponent(i)]).pipe(rt()):s})}}return t.\u0275fac=function(e){return new(e||t)(Ee(vr),Ee(tS),Ee(Wu),Ee(Pk),Ee(cT))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dT=new At("");let Rk=(()=>{class t{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof tk&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new tk(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Ng()},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function c0(t,n){return{\u0275kind:t,\u0275providers:n}}function hT(t){return[{provide:lT,multi:!0,useValue:t}]}function Lk(){const t=er(Fo);return n=>{const e=t.get(Jg);if(n!==e.components[0])return;const i=t.get(vr),r=t.get(Fk);1===t.get(pT)&&i.initialNavigation(),t.get(zk,null,Nn.Optional)?.setUpPreloading(),t.get(dT,null,Nn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Fk=new At("",{factory:()=>new Ct}),pT=new At("",{providedIn:"root",factory:()=>1});const zk=new At("");function wV(t){return c0(0,[{provide:zk,useExisting:_V},{provide:Pk,useExisting:t}])}const Bk=new At("ROUTER_FORROOT_GUARD"),CV=[e0,{provide:$I,useClass:HS},{provide:vr,useFactory:Ak},K_,{provide:Cl,useFactory:function Nk(t){return t.routerState.root},deps:[vr]},cT];function xV(){return new d4("Router",vr)}let Gp=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[CV,[],hT(e),{provide:Bk,useFactory:DV,deps:[[vr,new rc,new rp]]},{provide:O2,useValue:i||{}},i?.useHash?{provide:_m,useClass:X6}:{provide:_m,useClass:L4},{provide:dT,useFactory:()=>{const t=er(vr),n=er(sz),e=er(O2);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Rk(t,n,e)}},i?.preloadingStrategy?wV(i.preloadingStrategy).\u0275providers:[],{provide:d4,multi:!0,useFactory:xV},i?.initialNavigation?EV(i):[],[{provide:Vk,useFactory:Lk},{provide:r4,multi:!0,useExisting:Vk}]]}}static forChild(e){return{ngModule:t,providers:[hT(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Ee(Bk,8))},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[tT]}),t})();function DV(t){return"guarded"}function EV(t){return["disabled"===t.initialNavigation?c0(3,[{provide:jb,multi:!0,useFactory:()=>{const n=er(vr);return()=>{n.setUpLocationChangeListener()}}},{provide:pT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?c0(2,[{provide:pT,useValue:0},{provide:jb,multi:!0,deps:[Fo],useFactory:n=>{const e=n.get(K6,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const d=n.get(vr),m=n.get(Fk);(function r(s){n.get(vr).events.pipe(Cn(m=>m instanceof gh||m instanceof C2||m instanceof ek),Kt(m=>m instanceof gh||m instanceof C2&&(0===m.code||1===m.code)&&null),Cn(m=>null!==m),Da(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),d.afterPreactivation=()=>(s(!0),i||m.closed?Pn(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const Vk=new At(""),fT={now:()=>(fT.delegate||Date).now(),delegate:void 0};class xl extends Ct{constructor(n=1/0,e=1/0,i=fT){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:d}=this;e||(i.push(n),!r&&i.push(s.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let d=0;d<s.length&&!n.closed;d+=i?1:2)n.next(s[d]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const d=e.now();let m=0;for(let b=1;b<i.length&&i[b]<=d;b+=2)m=b;m&&i.splice(0,m+1)}}}const kV=["addListener","removeListener"],AV=["addEventListener","removeEventListener"],OV=["on","off"];function eo(t,n,e,i){if(kt(e)&&(i=e,e=void 0),i)return eo(t,n,e).pipe(FS(i));const[r,s]=function NV(t){return kt(t.addEventListener)&&kt(t.removeEventListener)}(t)?AV.map(d=>m=>t[d](n,m,e)):function PV(t){return kt(t.addListener)&&kt(t.removeListener)}(t)?kV.map(Hk(t,n)):function RV(t){return kt(t.on)&&kt(t.off)}(t)?OV.map(Hk(t,n)):[];if(!r&&Fl(t))return Ae(d=>eo(d,n,e))(Rr(t));if(!r)throw new TypeError("Invalid event target");return new zn(d=>{const m=(...b)=>d.next(1<b.length?b:b[0]);return r(m),()=>s(m)})}function Hk(t,n){return e=>i=>t[e](n,i)}class LV extends He{constructor(n,e){super()}schedule(n,e=0){return this}}const L2={setInterval(t,n,...e){const{delegate:i}=L2;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=L2;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class mT extends LV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return L2.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&L2.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,f(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}class ny{constructor(n,e=ny.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}ny.now=fT.now;class gT extends ny{constructor(n,e=ny.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const iy=new gT(mT),FV=iy;function u0(t=0,n,e=FV){let i=-1;return null!=n&&(cn(n)?e=n:i=n),new zn(r=>{let s=function zV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const ry={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ry;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(s=>{e=void 0,t(s)});return new He(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=ry;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=ry;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class VV extends gT{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class BV extends mT{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=ry.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(ry.cancelAnimationFrame(e),n._scheduled=void 0)}});function $k(){return Ai((t,n)=>{let e,i=!1;t.subscribe(Oi(n,r=>{const s=e;e=r,i&&n.next([s,r]),i=!0}))})}function F2(t,n=ss){return t=t??HV,Ai((e,i)=>{let r,s=!0;e.subscribe(Oi(i,d=>{const m=n(d);(s||!t(r,m))&&(s=!1,r=m,i.next(d))}))})}function HV(t,n){return t===n}function Dt(t){return Ai((n,e)=>{Rr(t).subscribe(Oi(e,()=>e.complete(),zr)),!e.closed&&n.subscribe(e)})}function Gk(t,n){return n?e=>p2(n.pipe(Da(1),function UV(){return Ai((t,n)=>{t.subscribe(Oi(n,zr))})}()),e.pipe(Gk(t))):Ae((e,i)=>t(e,i).pipe(Da(1),NI(e)))}function yT(t,n=iy){const e=u0(t,n);return Gk(()=>e)}function vT(t){let e,n=1/0;return null!=t&&("object"==typeof t?({count:n=1/0,delay:e}=t):n=t),n<=0?()=>vt:Ai((i,r)=>{let d,s=0;const m=()=>{if(d?.unsubscribe(),d=null,null!=e){const S="number"==typeof e?u0(e):Rr(e(s)),I=Oi(r,()=>{I.unsubscribe(),b()});S.subscribe(I)}else b()},b=()=>{let S=!1;d=i.subscribe(Oi(r,void 0,()=>{++s<n?d?m():S=!0:r.complete()})),S&&m()};b()})}function oy(t,n=iy){return Ai((e,i)=>{let r=null,s=null,d=null;const m=()=>{if(r){r.unsubscribe(),r=null;const S=s;s=null,i.next(S)}};function b(){const S=d+t,I=n.now();if(I<S)return r=this.schedule(void 0,S-I),void i.add(r);m()}e.subscribe(Oi(i,S=>{s=S,d=n.now(),r||(r=n.schedule(b,t),i.add(r))},()=>{m(),i.complete()},void 0,()=>{s=r=null}))})}const $V={connector:()=>new Ct};function Wk(t,n=$V){const{connector:e}=n;return Ai((i,r)=>{const s=e();Rr(t(function jV(t){return new zn(n=>t.subscribe(n))}(s))).subscribe(r),r.add(i.subscribe(s))})}function qk(t){return t?n=>Wk(t)(n):n=>function GV(t,n){const e=kt(t)?t:()=>t;return kt(n)?Wk(n,{connector:e}):i=>new f2(i,e)}(new Ct)(n)}let Kk=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(U(cr),U(Yt))},t.\u0275dir=qe({type:t}),t})(),Sm=(()=>{class t extends Kk{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275dir=qe({type:t,features:[wt]}),t})();const to=new At("NgValueAccessor"),ZV={provide:to,useExisting:Bn(()=>Wp),multi:!0},YV=new At("CompositionEventMode");let Wp=(()=>{class t extends Kk{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KV(){const t=id()?id().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(U(cr),U(Yt),U(YV,8))},t.\u0275dir=qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&De("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qt([ZV]),wt]}),t})();function qp(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function Xk(t){return null!=t&&"number"==typeof t.length}const sa=new At("NgValidators"),Zp=new At("NgAsyncValidators"),QV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class co{static min(n){return function Qk(t){return n=>{if(qp(n.value)||qp(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function Jk(t){return n=>{if(qp(n.value)||qp(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return eA(n)}static requiredTrue(n){return function tA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function nA(t){return qp(t.value)||QV.test(t.value)?null:{email:!0}}(n)}static minLength(n){return iA(n)}static maxLength(n){return function rA(t){return n=>Xk(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function oA(t){if(!t)return z2;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(qp(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return dA(n)}static composeAsync(n){return hA(n)}}function eA(t){return qp(t.value)?{required:!0}:null}function iA(t){return n=>qp(n.value)||!Xk(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function z2(t){return null}function sA(t){return null!=t}function aA(t){return v_(t)?Fi(t):t}function lA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function cA(t,n){return n.map(e=>e(t))}function uA(t){return t.map(n=>function JV(t){return!t.validate}(n)?n:e=>n.validate(e))}function dA(t){if(!t)return null;const n=t.filter(sA);return 0==n.length?null:function(e){return lA(cA(e,n))}}function bT(t){return null!=t?dA(uA(t)):null}function hA(t){if(!t)return null;const n=t.filter(sA);return 0==n.length?null:function(e){return function Uk(...t){const n=Tn(t),{args:e,keys:i}=EI(t),r=new zn(s=>{const{length:d}=e;if(!d)return void s.complete();const m=new Array(d);let b=d,S=d;for(let I=0;I<d;I++){let R=!1;Rr(e[I]).subscribe(Oi(s,G=>{R||(R=!0,S--),m[I]=G},()=>b--,void 0,()=>{(!b||!R)&&(S||s.next(i?II(i,m):m),s.complete())}))}});return n?r.pipe(FS(n)):r}(cA(e,n).map(aA)).pipe(Kt(lA))}}function wT(t){return null!=t?hA(uA(t)):null}function pA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function fA(t){return t._rawValidators}function mA(t){return t._rawAsyncValidators}function CT(t){return t?Array.isArray(t)?t:[t]:[]}function B2(t,n){return Array.isArray(t)?t.includes(n):t===n}function gA(t,n){const e=CT(n);return CT(t).forEach(r=>{B2(e,r)||e.push(r)}),e}function _A(t,n){return CT(n).filter(e=>!B2(t,e))}class yA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=bT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=wT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ea extends yA{get formDirective(){return null}get path(){return null}}class Kp extends yA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yu=(()=>{class t extends vA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(U(Kp,2))},t.\u0275dir=qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wt]}),t})(),V2=(()=>{class t extends vA{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(U(Ea,10))},t.\u0275dir=qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[wt]}),t})();const sy="VALID",U2="INVALID",d0="PENDING",ay="DISABLED";function MT(t){return(j2(t)?t.validators:t)||null}function wA(t){return Array.isArray(t)?bT(t):t||null}function DT(t,n){return(j2(n)?n.asyncValidators:t)||null}function CA(t){return Array.isArray(t)?wT(t):t||null}function j2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function xA(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new ct(1e3,"");if(!i[e])throw new ct(1001,"")}function SA(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new ct(1002,"")})}class $2{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=wA(this._rawValidators),this._composedAsyncValidatorFn=CA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===sy}get invalid(){return this.status===U2}get pending(){return this.status==d0}get disabled(){return this.status===ay}get enabled(){return this.status!==ay}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=wA(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=CA(n)}addValidators(n){this.setValidators(gA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(gA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(_A(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(_A(n,this._rawAsyncValidators))}hasValidator(n){return B2(this._rawValidators,n)}hasAsyncValidator(n){return B2(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=d0,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ay,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=sy,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sy||this.status===d0)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ay:sy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=d0,this._hasOwnPendingAsyncValidator=!0;const e=aA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?ay:this.errors?U2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(d0)?d0:this._anyControlsHaveStatus(U2)?U2:sy}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){j2(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class ly extends $2{constructor(n,e,i){super(MT(e),DT(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){SA(this,0,n),Object.keys(n).forEach(i=>{xA(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class TA extends ly{}function cy(t,n){ET(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&n.valueAccessor.setDisabledState?.(!0),function a9(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&MA(t,n)})}(t,n),function c9(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function l9(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&MA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function s9(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function W2(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Z2(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function q2(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function ET(t,n){const e=fA(t);null!==n.validator?t.setValidators(pA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=mA(t);null!==n.asyncValidator?t.setAsyncValidators(pA(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();q2(n._rawValidators,r),q2(n._rawAsyncValidators,r)}function Z2(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=fA(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(d=>d!==n.validator);s.length!==r.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const r=mA(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(d=>d!==n.asyncValidator);s.length!==r.length&&(e=!0,t.setAsyncValidators(s))}}}const i=()=>{};return q2(n._rawValidators,i),q2(n._rawAsyncValidators,i),e}function MA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IT(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function kT(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===Wp?e=s:function h9(t){return Object.getPrototypeOf(t.constructor)===Sm}(s)?i=s:r=s}),r||i||e||null}function kA(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function AA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const dy=class extends $2{constructor(n=null,e,i){super(MT(e),DT(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j2(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=AA(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){kA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){kA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){AA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},_9={provide:Kp,useExisting:Bn(()=>od)},RA=(()=>Promise.resolve())();let od=(()=>{class t extends Kp{constructor(e,i,r,s,d){super(),this._changeDetectorRef=d,this.control=new dy,this._registered=!1,this.update=new Xe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kT(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),IT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){RA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&hh(i);RA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function G2(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(U(Ea,9),U(sa,10),U(Zp,10),U(to,10),U(mi,8))},t.\u0275dir=qe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qt([_9]),wt,pi]}),t})(),K2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),LA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();const OT=new At("NgModelWithFormControlWarning"),C9={provide:Kp,useExisting:Bn(()=>hy)};let hy=(()=>{class t extends Kp{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new Xe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=kT(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&W2(i,this,!1),cy(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}IT(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&W2(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(U(sa,10),U(Zp,10),U(to,10),U(OT,8))},t.\u0275dir=qe({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[qt([C9]),wt,pi]}),t})();const x9={provide:Ea,useExisting:Bn(()=>h0)};let h0=(()=>{class t extends Ea{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Z2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return cy(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){W2(e.control||null,e,!1),function p9(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function IA(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(W2(i||null,e),(t=>t instanceof dy)(r)&&(cy(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function DA(t,n){ET(t,n)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function u9(t,n){return Z2(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ET(this.form,this),this._oldForm&&Z2(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(U(sa,10),U(Zp,10))},t.\u0275dir=qe({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&De("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qt([x9]),wt,pi]}),t})();let Tm=(()=>{class t{constructor(){this._validator=z2}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):z2,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qe({type:t,features:[pi]}),t})();const N9={provide:sa,useExisting:Bn(()=>Y2),multi:!0};let Y2=(()=>{class t extends Tm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=hh,this.createValidator=e=>eA}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275dir=qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&dn("required",i._enabled?"":null)},inputs:{required:"required"},features:[qt([N9]),wt]}),t})();const z9={provide:sa,useExisting:Bn(()=>FT),multi:!0};let FT=(()=>{class t extends Tm{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function jA(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>iA(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275dir=qe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&dn("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[qt([z9]),wt]}),t})(),XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[LA]}),t})(),p0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[XA]}),t})(),zT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:OT,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[XA]}),t})();class QA extends $2{constructor(n,e,i){super(MT(e),DT(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){SA(this,0,n),n.forEach((i,r)=>{xA(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function JA(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let VT,BT=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return JA(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new ly(r,s)}record(e,i=null){const r=this._reduceControls(e);return new TA(r,i)}control(e,i,r){let s={};return this.useNonNullable?(JA(i)?s=i:(s.validators=i,s.asyncValidators=r),new dy(e,{...s,nonNullable:!0})):new dy(e,i,r)}array(e,i,r){const s=e.map(d=>this._createControl(d));return new QA(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof dy||e instanceof $2?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:zT}),t})();try{VT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{VT=!1}let py,Mm,HT,vu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?zp(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!VT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Ee(uh))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tO(t){return function H9(){if(null==py&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>py=!0}))}finally{py=py||!1}return py}()?t:!!t.capture}function U9(){if(null==Mm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mm=!1,Mm;if("scrollBehavior"in document.documentElement.style)Mm=!0;else{const t=Element.prototype.scrollTo;Mm=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Mm}function Dm(t){return t.composedPath?t.composedPath()[0]:t.target}function nO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function rO(t){return Array.isArray(t)?t:[t]}function Ho(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Q2(t){return t instanceof Yt?t.nativeElement:t}class aO{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ct,this._typeaheadSubscription=He.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ct,this.change=new Ct,n instanceof E_&&n.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ts(e=>this._pressedLetters.push(e)),oy(n),Cn(()=>this._pressedLetters.length>0),Kt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,d=i[s];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||function aH(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof E_?this._items.toArray():this._items}}class hH extends aO{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class pH extends aO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let lO=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function mH(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function fH(t){try{return t.frameElement}catch{return null}}(function xH(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===uO(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=uO(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function wH(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function CH(t){return!function _H(t){return function vH(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function gH(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function yH(t){return function bH(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||cO(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(Ee(vu))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cO(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function uO(t){if(!cO(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class dO{constructor(n,e,i,r,s=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Da(1)).subscribe(n)}}let SH=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new dO(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(Ee(lO),Ee(Hn),Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const DH=new At("cdk-input-modality-detector-options"),EH={ignoreKeys:[18,17,224,91,16]},m0=tO({passive:!0,capture:!0});let IH=(()=>{class t{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ni(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(m=>m===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dm(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function TH(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(d)?"keyboard":"mouse"),this._mostRecentTarget=Dm(d))},this._onTouchstart=d=>{!function MH(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(d)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dm(d)):this._modality.next("keyboard")},this._options={...EH,...s},this.modalityDetected=this._modality.pipe(function lH(t){return Cn((n,e)=>t<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(F2()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,m0),r.addEventListener("mousedown",this._onMousedown,m0),r.addEventListener("touchstart",this._onTouchstart,m0)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,m0),document.removeEventListener("mousedown",this._onMousedown,m0),document.removeEventListener("touchstart",this._onTouchstart,m0))}}return t.\u0275fac=function(e){return new(e||t)(Ee(vu),Ee(Hn),Ee(Ui),Ee(DH,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const AH=new At("cdk-focus-monitor-default-options"),J2=tO({passive:!0,capture:!0});let pO=(()=>{class t{constructor(e,i,r,s,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct,this._rootNodeFocusAndBlurListener=m=>{for(let S=Dm(m);S;S=S.parentElement)"focus"===m.type?this._onFocus(m,S):this._onBlur(m,S)},this._document=s,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Q2(e);if(!this._platform.isBrowser||1!==r.nodeType)return Pn(null);const s=function $9(t){if(function j9(){if(null==HT){const t=typeof document<"u"?document.head:null;HT=!(!t||!t.createShadowRoot&&!t.attachShadow)}return HT}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const m={checkChildren:i,subject:new Ct,rootNode:s};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Q2(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Q2(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,b])=>this._originChanged(m,i,b)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Dm(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,J2),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,J2)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,J2),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,J2),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let d=0;d<s.length;d++)if(s[d].contains(i))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Ee(Hn),Ee(vu),Ee(IH),Ee(Ui,8),Ee(AH,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jT{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class fO extends jT{constructor(n,e,i,r){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class $T extends jT{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class OH extends jT{constructor(n){super(),this.element=n instanceof Yt?n.nativeElement:n}}class mO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof fO?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof $T?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof OH?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class PH extends mO{constructor(n,e,i,r,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const m=d.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=s}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Fo.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let WT,RH=(()=>{class t extends $T{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(U(nr),U(Er))},t.\u0275dir=qe({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[wt]}),t})(),NH=(()=>{class t extends mO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Xe,this.attachDomPortal=s=>{const d=s.element,m=this._document.createComment("dom-portal");s.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=s,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(U(yl),U(Er),U(Ui))},t.\u0275dir=qe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[wt]}),t})(),GT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})(),FH=1;const ew={};function gO(t){return t in ew&&(delete ew[t],!0)}const zH={setImmediate(t){const n=FH++;return ew[n]=!0,WT||(WT=Promise.resolve()),WT.then(()=>gO(n)&&t()),n},clearImmediate(t){gO(t)}},{setImmediate:BH,clearImmediate:VH}=zH,tw={setImmediate(...t){const{delegate:n}=tw;return(n?.setImmediate||BH)(...t)},clearImmediate(t){const{delegate:n}=tw;return(n?.clearImmediate||VH)(t)},delegate:void 0};new class UH extends gT{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class HH extends mT{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=tw.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(tw.clearImmediate(e),n._scheduled=void 0)}});function _O(t,n=iy){return function $H(t){return Ai((n,e)=>{let i=!1,r=null,s=null,d=!1;const m=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const S=r;r=null,e.next(S)}d&&e.complete()},b=()=>{s=null,d&&e.complete()};n.subscribe(Oi(e,S=>{i=!0,r=S,s||Rr(t(S)).subscribe(s=Oi(e,m,b))},()=>{d=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>u0(t,n))}const GH=new At("cdk-dir-doc",{providedIn:"root",factory:function WH(){return er(Ui)}}),qH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qT=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new Xe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function ZH(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?qH.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ee(GH,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})(),nw=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ct,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zn(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(_O(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Pn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Cn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Q2(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>eo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Hn),Ee(vu),Ee(Ui,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iw=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new Ct,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(_O(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Ee(vu),Ee(Hn),Ee(Ui,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})(),vO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[ZT,yO,ZT,yO]}),t})();const bO=U9();class wO{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Ho(-this._previousScrollPosition.left),n.style.top=Ho(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,s=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),bO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bO&&(i.scrollBehavior=s,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class XH{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CO{enable(){}disable(){}attach(){}}function KT(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function xO(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class QH{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KT(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YT=(()=>{class t{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new CO,this.close=d=>new XH(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new wO(this._viewportRuler,this._document),this.reposition=d=>new QH(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=s}}return t.\u0275fac=function(e){return new(e||t)(Ee(nw),Ee(iw),Ee(Hn),Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class JH{constructor(n){if(this.scrollStrategy=new CO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class eU{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let SO=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tU=(()=>{class t extends SO{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let d=s.length-1;d>-1;d--)if(s[d]._keydownEvents.observers.length>0){const m=s[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui),Ee(Hn,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nU=(()=>{class t extends SO{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Dm(s)},this._clickListener=s=>{const d=Dm(s),m="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let S=b.length-1;S>-1;S--){const I=b[S];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(m))break;const R=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(s)):R.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui),Ee(vu),Ee(Hn,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rw=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||nO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),nO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui),Ee(vu))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class iU{constructor(n,e,i,r,s,d,m,b,S,I=!1){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=d,this._document=m,this._location=b,this._outsideClickDispatcher=S,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Ct,this._attachments=new Ct,this._detachments=new Ct,this._locationChanges=He.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new Ct,this._outsidePointerEvents=new Ct,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Da(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Ho(this._config.width),n.height=Ho(this._config.height),n.minWidth=Ho(this._config.minWidth),n.minHeight=Ho(this._config.minHeight),n.maxWidth=Ho(this._config.maxWidth),n.maxHeight=Ho(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){const r=rO(e||[]).filter(s=>!!s);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Dt(ro(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const TO="cdk-overlay-connected-position-bounding-box",rU=/([A-Za-z%]+)$/;class MO{constructor(n,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct,this._resizeSubscription=He.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(TO),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let d;for(let m of this._preferredPositions){let b=this._getOriginPoint(n,r,m),S=this._getOverlayPoint(b,e,m),I=this._getOverlayFit(S,e,i,m);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,b);this._canFitWithFlexibleDimensions(I,S,i)?s.push({position:m,origin:b,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(b,m)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:S,originPoint:b,position:m,overlayRect:e})}if(s.length){let m=null,b=-1;for(const S of s){const I=S.boundingBoxRect.width*S.boundingBoxRect.height*(S.position.weight||1);I>b&&(b=I,m=S)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Em(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r,s;if("center"==i.originX)r=n.left+n.width/2;else{const d=this._isRtl()?n.right:n.left,m=this._isRtl()?n.left:n.right;r="start"==i.originX?d:m}return e.left<0&&(r-=e.left),s="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(n,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+r,y:n.y+s}}_getOverlayFit(n,e,i,r){const s=EO(e);let{x:d,y:m}=n,b=this._getOffset(r,"x"),S=this._getOffset(r,"y");b&&(d+=b),S&&(m+=S);let G=0-m,X=m+s.height-i.height,ie=this._subtractOverflows(s.width,0-d,d+s.width-i.width),ve=this._subtractOverflows(s.height,G,X),Me=ie*ve;return{visibleArea:Me,isCompletelyWithinViewport:s.width*s.height===Me,fitsInViewportVertically:ve===s.height,fitsInViewportHorizontally:ie==s.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,d=DO(this._overlayRef.getConfig().minHeight),m=DO(this._overlayRef.getConfig().minWidth),S=n.fitsInViewportHorizontally||null!=m&&m<=s;return(n.fitsInViewportVertically||null!=d&&d<=r)&&S}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=EO(e),s=this._viewportRect,d=Math.max(n.x+r.width-s.width,0),m=Math.max(n.y+r.height-s.height,0),b=Math.max(s.top-i.top-n.y,0),S=Math.max(s.left-i.left-n.x,0);let I=0,R=0;return I=r.width<=s.width?S||-d:n.x<this._viewportMargin?s.left-i.left-n.x:0,R=r.height<=s.height?b||-m:n.y<this._viewportMargin?s.top-i.top-n.y:0,this._previousPushAmount={x:I,y:R},{x:n.x+I,y:n.y+R}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new eU(n,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,r=this._isRtl();let s,d,m,I,R,G;if("top"===e.overlayY)d=n.y,s=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-n.y+2*this._viewportMargin,s=i.height-m+this._viewportMargin;else{const X=Math.min(i.bottom-n.y+i.top,n.y),ie=this._lastBoundingBoxSize.height;s=2*X,d=n.y-X,s>ie&&!this._isInitialRender&&!this._growAfterOpen&&(d=n.y-ie/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)G=i.width-n.x+this._viewportMargin,I=n.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)R=n.x,I=i.right-n.x;else{const X=Math.min(i.right-n.x+i.left,n.x),ie=this._lastBoundingBoxSize.width;I=2*X,R=n.x-X,I>ie&&!this._isInitialRender&&!this._growAfterOpen&&(R=n.x-ie/2)}return{top:d,left:R,bottom:m,right:G,width:I,height:s}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Ho(i.height),r.top=Ho(i.top),r.bottom=Ho(i.bottom),r.width=Ho(i.width),r.left=Ho(i.left),r.right=Ho(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ho(s)),d&&(r.maxWidth=Ho(d))}this._lastBoundingBoxSize=i,Em(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Em(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Em(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Em(i,this._getExactOverlayY(e,n,I)),Em(i,this._getExactOverlayX(e,n,I))}else i.position="static";let m="",b=this._getOffset(e,"x"),S=this._getOffset(e,"y");b&&(m+=`translateX(${b}px) `),S&&(m+=`translateY(${S}px)`),i.transform=m.trim(),d.maxHeight&&(r?i.maxHeight=Ho(d.maxHeight):s&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Ho(d.maxWidth):s&&(i.maxWidth="")),Em(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ho(s.y),r}_getExactOverlayX(n,e,i){let d,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),d=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ho(s.x),r}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xO(n,i),isOriginOutsideView:KT(n,i),isOverlayClipped:xO(e,i),isOverlayOutsideView:KT(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?n.offsetX??this._offsetX:n.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&rO(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Yt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function Em(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function DO(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(rU);return e&&"px"!==e?null:parseFloat(n)}return t||null}function EO(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const IO="cdk-global-overlay-wrapper";class kO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(IO),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:d,maxHeight:m}=i,b=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),S=!("100%"!==s&&"100vh"!==s||m&&"100%"!==m&&"100vh"!==m),I=this._xPosition,R=this._xOffset,G="rtl"===this._overlayRef.getConfig().direction;let X="",ie="",ve="";b?ve="flex-start":"center"===I?(ve="center",G?ie=R:X=R):G?"left"===I||"end"===I?(ve="flex-end",X=R):("right"===I||"start"===I)&&(ve="flex-start",ie=R):"left"===I||"start"===I?(ve="flex-start",X=R):("right"===I||"end"===I)&&(ve="flex-end",ie=R),n.position=this._cssPosition,n.marginLeft=b?"0":X,n.marginTop=S?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=b?"0":ie,e.justifyContent=ve,e.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(IO),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let AO=(()=>{class t{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new kO}flexibleConnectedTo(e){return new MO(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Ee(iw),Ee(Ui),Ee(vu),Ee(rw))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oU=0,XT=(()=>{class t{constructor(e,i,r,s,d,m,b,S,I,R,G,X){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=d,this._injector=m,this._ngZone=b,this._document=S,this._directionality=I,this._location=R,this._outsideClickDispatcher=G,this._animationsModuleType=X}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),d=new JH(e);return d.direction=d.direction||this._directionality.value,new iU(s,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+oU++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Jg)),new PH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Ee(YT),Ee(rw),Ee(yl),Ee(AO),Ee(tU),Ee(Fo),Ee(Hn),Ee(Ui),Ee(qT),Ee(e0),Ee(nU),Ee(eS,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const lU={provide:new At("cdk-connected-overlay-scroll-strategy"),deps:[XT],useFactory:function aU(t){return()=>t.scrollStrategies.reposition()}};let OO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[XT,lU],imports:[ZT,GT,vO,vO]}),t})();class PO{}const yh="*";function Yp(t,n){return{type:7,name:t,definitions:n,options:{}}}function Ps(t,n=null){return{type:4,styles:n,timings:t}}function RO(t,n=null){return{type:2,steps:t,options:n}}function To(t){return{type:6,styles:t,offset:null}}function Im(t,n,e){return{type:0,name:t,styles:n,options:e}}function Rs(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function NO(t,n=null){return{type:8,animation:t,options:n}}function LO(t,n=null){return{type:10,animation:t,options:n}}function FO(t){Promise.resolve().then(t)}class my{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class zO{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const s=this.players.length;0==s?FO(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==s&&this._onFinish()}),d.onDestroy(()=>{++i==s&&this._onDestroy()}),d.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const ns=["*"],DU=[[["nb-card-header"]],[["nb-card-body"]],"*",[["nb-card-footer"]]],EU=["nb-card-header","nb-card-body","*","nb-card-footer"],OU=["nbButton",""],nj=["layoutTopDynamicArea"],ij=["scrollableContainer"],rj=["layoutContainer"],oj=[[["nb-layout-header",3,"subheader",""]],[["nb-sidebar"]],[["nb-layout-header","subheader",""]],[["nb-layout-column"]],[["nb-layout-footer"]]],sj=["nb-layout-header:not([subheader])","nb-sidebar","nb-layout-header[subheader]","nb-layout-column","nb-layout-footer"],aj=["nbMenuItem",""];function lj(t,n){1&t&&at(0,"nb-icon",7),2&t&&P("config",z(2).menuItem.icon)}function cj(t,n){if(1&t&&(W(0,"span"),K(1,lj,1,1,"nb-icon",6),Pe(2),q()),2&t){const e=z();V(1),P("ngIf",e.menuItem.icon),V(1),ei(" ",e.menuItem.title,"\n")}}function uj(t,n){1&t&&at(0,"nb-icon",7),2&t&&P("config",z(2).menuItem.icon)}function dj(t,n){1&t&&Rt(0,11),2&t&&(z(2),P("ngTemplateOutlet",En(7)))}function hj(t,n){if(1&t){const e=bt();W(0,"a",8),De("mouseenter",function(){ye(e);const r=z();return me(r.onHoverItem(r.menuItem))})("click",function(){ye(e);const r=z();return me(r.onItemClick(r.menuItem))}),K(1,uj,1,1,"nb-icon",6),W(2,"span",9),Pe(3),q(),K(4,dj,1,1,"ng-container",10),q()}if(2&t){const e=z();Gt("active",e.menuItem.selected),P("routerLink",e.menuItem.link)("queryParams",e.menuItem.queryParams)("fragment",e.menuItem.fragment)("queryParamsHandling",e.menuItem.queryParamsHandling)("preserveFragment",e.menuItem.preserveFragment)("skipLocationChange",e.menuItem.skipLocationChange),dn("target",e.menuItem.target)("title",e.menuItem.title)("role",e.menuItem.ariaRole),V(1),P("ngIf",e.menuItem.icon),V(2),Sn(e.menuItem.title),V(1),P("ngIf",e.badge)}}function pj(t,n){1&t&&at(0,"nb-icon",7),2&t&&P("config",z(2).menuItem.icon)}function fj(t,n){1&t&&Rt(0,11),2&t&&(z(2),P("ngTemplateOutlet",En(7)))}function mj(t,n){if(1&t){const e=bt();W(0,"a",12),De("mouseenter",function(){ye(e);const r=z();return me(r.onHoverItem(r.menuItem))})("click",function(){ye(e);const r=z();return me(r.onSelectItem(r.menuItem))}),K(1,pj,1,1,"nb-icon",6),W(2,"span",9),Pe(3),q(),K(4,fj,1,1,"ng-container",10),q()}if(2&t){const e=z();Gt("active",e.menuItem.selected),dn("href",e.menuItem.url,ru)("target",e.menuItem.target)("title",e.menuItem.title)("role",e.menuItem.ariaRole),V(1),P("ngIf",e.menuItem.icon),V(2),Sn(e.menuItem.title),V(1),P("ngIf",e.badge)}}function gj(t,n){1&t&&at(0,"nb-icon",7),2&t&&P("config",z(2).menuItem.icon)}function _j(t,n){1&t&&Rt(0,11),2&t&&(z(2),P("ngTemplateOutlet",En(7)))}function yj(t,n){if(1&t){const e=bt();W(0,"a",12),De("mouseenter",function(){ye(e);const r=z();return me(r.onHoverItem(r.menuItem))})("click",function(r){ye(e);const s=z();return r.preventDefault(),me(s.onItemClick(s.menuItem))}),K(1,gj,1,1,"nb-icon",6),W(2,"span",9),Pe(3),q(),K(4,_j,1,1,"ng-container",10),q()}if(2&t){const e=z();Gt("active",e.menuItem.selected),dn("target",e.menuItem.target)("title",e.menuItem.title)("role",e.menuItem.ariaRole),V(1),P("ngIf",e.menuItem.icon),V(2),Sn(e.menuItem.title),V(1),P("ngIf",e.badge)}}function vj(t,n){1&t&&at(0,"nb-icon",7),2&t&&P("config",z(2).menuItem.icon)}function bj(t,n){1&t&&Rt(0,11),2&t&&(z(2),P("ngTemplateOutlet",En(7)))}function wj(t,n){if(1&t){const e=bt();W(0,"a",13),De("click",function(r){ye(e);const s=z();return r.preventDefault(),me(s.onToggleSubMenu(s.menuItem))})("mouseenter",function(){ye(e);const r=z();return me(r.onHoverItem(r.menuItem))}),K(1,vj,1,1,"nb-icon",6),W(2,"span",9),Pe(3),q(),K(4,bj,1,1,"ng-container",10),at(5,"nb-icon",14),q()}if(2&t){const e=z();let i;Gt("active",e.menuItem.selected),dn("target",e.menuItem.target)("title",e.menuItem.title)("aria-expanded",null!==(i=e.menuItem.expanded)&&void 0!==i&&i)("role",e.menuItem.ariaRole),V(1),P("ngIf",e.menuItem.icon),V(2),Sn(e.menuItem.title),V(1),P("ngIf",e.badge),V(1),P("icon",e.getExpandStateIcon())}}function Cj(t,n){if(1&t){const e=bt();W(0,"li",18),De("hoverItem",function(r){return ye(e),me(z(3).onHoverItem(r))})("toggleSubMenu",function(r){return ye(e),me(z(3).onToggleSubMenu(r))})("selectItem",function(r){return ye(e),me(z(3).onSelectItem(r))})("itemClick",function(r){return ye(e),me(z(3).onItemClick(r))}),q()}if(2&t){const e=z().$implicit;Gt("menu-group",e.group),P("menuItem",e)("badge",e.badge)}}function xj(t,n){if(1&t&&(sn(0),K(1,Cj,1,4,"li",17),an()),2&t){const e=n.$implicit;V(1),P("ngIf",!e.hidden)}}function Sj(t,n){if(1&t&&(W(0,"ul",15),K(1,xj,2,1,"ng-container",16),q()),2&t){const e=z();Gt("collapsed",!(e.menuItem.children&&e.menuItem.expanded))("expanded",e.menuItem.expanded),P("@toggle",e.toggleState),V(1),P("ngForOf",e.menuItem.children)}}function Tj(t,n){if(1&t&&at(0,"nb-badge",19),2&t){const e=z();P("text",e.badge.text)("dotMode",e.badge.dotMode)("status",e.badge.status)}}function Mj(t,n){if(1&t){const e=bt();W(0,"li",3),De("hoverItem",function(r){return ye(e),me(z(2).onHoverItem(r))})("toggleSubMenu",function(r){return ye(e),me(z(2).onToggleSubMenu(r))})("selectItem",function(r){return ye(e),me(z(2).onSelectItem(r))})("itemClick",function(r){return ye(e),me(z(2).onItemClick(r))}),q()}if(2&t){const e=z().$implicit;Gt("menu-group",e.group),P("menuItem",e)("badge",e.badge)}}function Dj(t,n){if(1&t&&(sn(0),K(1,Mj,1,4,"li",2),an()),2&t){const e=n.$implicit;V(1),P("ngIf",!e.hidden)}}const Rj=[[["nb-sidebar-header"]],"*",[["nb-sidebar-footer"]]],Nj=["nb-sidebar-header","*","nb-sidebar-footer"];function Gj(t,n){if(1&t&&at(0,"nb-badge",8),2&t){const e=z(2);P("text",e.badgeText)("status",e.badgeStatus)("position",e.badgePosition)}}function Wj(t,n){if(1&t&&(W(0,"div",6),K(1,Gj,1,3,"nb-badge",7),q()),2&t){const e=z();Qr("background-image",e.imageBackgroundStyle),V(1),P("ngIf",e.badgeText)}}function qj(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(2);V(1),ei(" ",e.getInitials()," ")}}function Zj(t,n){if(1&t&&at(0,"nb-badge",8),2&t){const e=z(2);P("text",e.badgeText)("status",e.badgeStatus)("position",e.badgePosition)}}function Kj(t,n){if(1&t&&(W(0,"div",9),K(1,qj,2,1,"ng-container",10),K(2,Zj,1,3,"nb-badge",7),q()),2&t){const e=z();Qr("background-color",e.color),V(1),P("ngIf",e.showInitials),V(1),P("ngIf",e.badgeText)}}function Yj(t,n){if(1&t&&(W(0,"div",11),Pe(1),q()),2&t){const e=z();V(1),Sn(e.name)}}function Xj(t,n){if(1&t&&(W(0,"div",12),Pe(1),q()),2&t){const e=z();V(1),Sn(e.title)}}function a$(t,n){1&t&&at(0,"nb-icon",6)}function l$(t,n){1&t&&at(0,"nb-icon",7)}function H$(t,n){if(1&t&&(W(0,"span",2),Pe(1),q()),2&t){const e=z();V(1),Sn(e.message)}}const K$=[[["nb-accordion-item"]]],Y$=["nb-accordion-item"],X$=[[["nb-accordion-item-header"]],[["nb-accordion-item-body"]]],Q$=["nb-accordion-item-header","nb-accordion-item-body"],J$=function(t){return{value:t}};function eG(t,n){1&t&&at(0,"nb-icon",1),2&t&&P("@expansionIndicator",z().state)}const tG=[[["nb-accordion-item-title"]],[["nb-accordion-item-description"]],"*"],nG=["nb-accordion-item-title","nb-accordion-item-description","*"];function iG(t,n){}function rG(t,n){if(1&t&&(W(0,"div",4),at(1,"nb-icon",5),q()),2&t){const e=z();V(1),P("config",e.icon)}}function oG(t,n){if(1&t&&at(0,"nb-toast",1),2&t){const e=n.$implicit;P("@fadeIn",z().fadeIn)("toast",e)}}function sG(t,n){if(1&t&&at(0,"nb-checkbox",1),2&t){const e=z();P("checked",e.selected)("disabled",e.disabled)}}const YO=["selectButton"];function aG(t,n){1&t&&(sn(0),ln(1),an())}function lG(t,n){1&t&&Pe(0),2&t&&Sn(z(2).selectionView)}function cG(t,n){if(1&t&&(sn(0),K(1,aG,2,0,"ng-container",3),K(2,lG,1,1,"ng-template",null,7,Sr),an()),2&t){const e=En(3),i=z();V(1),P("ngIf",i.customLabel)("ngIfElse",e)}}function uG(t,n){1&t&&Pe(0),2&t&&Sn(z().placeholder)}function dG(t,n){if(1&t&&(W(0,"nb-option-list",8),ln(1,1),q()),2&t){const e=z();Qr("width",e.optionsWidth,"px"),P("size",e.size)("position",e.overlayPosition)("ngClass",e.optionsListClass)}}const XO=[[["nb-select-label"]],[["nb-option"],["nb-option-group"]]],QO=["nb-select-label","nb-option, nb-option-group"];function fG(t,n){1&t&&(W(0,"div",2),wl(1,"async"),ln(2,1),q()),2&t&&P("ngClass",fu(1,1,z().prefixClasses$))}function mG(t,n){1&t&&(W(0,"div",2),wl(1,"async"),ln(2,2),q()),2&t&&P("ngClass",fu(1,1,z().suffixClasses$))}const gG=["*",[["","nbPrefix",""]],[["","nbSuffix",""]]],_G=["*","[nbPrefix]","[nbSuffix]"],kG=["input"],AG=[[["nb-radio"]]],OG=["nb-radio"],JO=new At("Nebular Theme Options"),eP=new At("Nebular Media Breakpoints"),tP=new At("Nebular Built-in JS Themes"),nP=new At("Nebular JS Themes"),Sy=new At("Window"),Ns=new At("Document"),jG=[{name:"xs",width:0},{name:"is",width:400},{name:"sm",width:576},{name:"md",width:768},{name:"lg",width:992},{name:"xl",width:1200},{name:"xxl",width:1400},{name:"xxxl",width:1600}];let iP=(()=>{class t{constructor(e){this.breakpoints=e,this.breakpointsMap=this.breakpoints.reduce((i,r)=>(i[r.name]=r.width,i),{})}getByWidth(e){const i={name:"unknown",width:e},r=this.getBreakpoints();return r.find((s,d)=>{const m=r[d+1];return e>=s.width&&(!m||e<m.width)})||i}getByName(e){return this.getBreakpoints().find(s=>e===s.name)||{name:"unknown",width:NaN}}getBreakpoints(){return this.breakpoints}getBreakpointsMap(){return this.breakpointsMap}}return t.\u0275fac=function(e){return new(e||t)(Ee(eP))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const ZG=[{name:"default",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#ffffff",bg2:"#f7f9fc",bg3:"#edf1f7",bg4:"#e4e9f2",border:"#ffffff",border2:"#f7f9fc",border3:"#edf1f7",border4:"#e4e9f2",border5:"#c5cee0",fg:"#8f9bb3",fgHeading:"#1a2138",fgText:"#1a2138",fgHighlight:"#3366ff",layoutBg:"#f7f9fc",separator:"#edf1f7",primary:"#3366ff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"cosmic",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#323259",bg2:"#252547",bg3:"#1b1b38",bg4:"#13132b",border:"#323259",border2:"#252547",border3:"#1b1b38",border4:"#13132b",border5:"#13132b",fg:"#b4b4db",fgHeading:"#ffffff",fgText:"#ffffff",fgHighlight:"#a16eff",layoutBg:"#151a30",separator:"#151a30",primary:"#a16eff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#b18aff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"corporate",base:"default",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#ffffff",bg2:"#f7f9fc",bg3:"#edf1f7",bg4:"#e4e9f2",border:"#ffffff",border2:"#f7f9fc",border3:"#edf1f7",border4:"#e4e9f2",border5:"#c5cee0",fg:"#8f9bb3",fgHeading:"#1a2138",fgText:"#1a2138",fgHighlight:"#73a1ff",layoutBg:"#f7f9fc",separator:"#edf1f7",primary:"#73a1ff",success:"#5dcfe3",info:"#ba7fec",warning:"#ffa36b",danger:"#ff6b83",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"dark",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#222b45",bg2:"#1a2138",bg3:"#151a30",bg4:"#101426",border:"#222b45",border2:"#1a2138",border3:"#151a30",border4:"#101426",border5:"#101426",fg:"#8f9bb3",fgHeading:"#ffffff",fgText:"#ffffff",fgHighlight:"#3366ff",layoutBg:"#1b1b38",separator:"#1b1b38",primary:"#3366ff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}}];let rP=(()=>{class t{constructor(e,i=[]){this.themes={},this.combineByNames(i,e).forEach(s=>{this.register(s,s.name,s.base)})}register(e,i,r){const s=this.has(r)?this.get(r):{};this.themes[i]=this.mergeDeep({},s,e)}has(e){return!!this.themes[e]}get(e){if(!this.themes[e])throw Error(`NbThemeConfig: no theme '${e}' found registered.`);return JSON.parse(JSON.stringify(this.themes[e]))}combineByNames(e,i){if(e){const r=[];return e.forEach(s=>{const d=i.find(b=>b.name===s.name)||{},m=this.mergeDeep({},d,s);r.push(m)}),i.forEach(s=>{r.find(d=>d.name===s.name)||r.push(s)}),r}return i}isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}mergeDeep(e,...i){if(!i.length)return e;const r=i.shift();if(this.isObject(e)&&this.isObject(r))for(const s in r)this.isObject(r[s])?(e[s]||Object.assign(e,{[s]:{}}),this.mergeDeep(e[s],r[s])):Object.assign(e,{[s]:r[s]});return this.mergeDeep(e,...i)}}return t.\u0275fac=function(e){return new(e||t)(Ee(tP),Ee(nP))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),hw=(()=>{class t{constructor(e,i,r){this.options=e,this.breakpointService=i,this.jsThemesRegistry=r,this.themeChanges$=new xl(1),this.appendLayoutClass$=new Ct,this.removeLayoutClass$=new Ct,this.changeWindowWidth$=new xl(2),e&&e.name&&this.changeTheme(e.name)}changeTheme(e){this.themeChanges$.next({name:e,previous:this.currentTheme}),this.currentTheme=e}changeWindowWidth(e){this.changeWindowWidth$.next(e)}getJsTheme(){return this.onThemeChange().pipe(Kt(e=>this.jsThemesRegistry.get(e.name)))}onMediaQueryChange(){return this.changeWindowWidth$.pipe(vc(void 0),$k(),Kt(([e,i])=>[this.breakpointService.getByWidth(e),this.breakpointService.getByWidth(i)]),Cn(([e,i])=>e.name!==i.name),F2(null,e=>e[0].name+e[1].name),Ri())}onThemeChange(){return this.themeChanges$.pipe(Ri())}appendLayoutClass(e){this.appendLayoutClass$.next(e)}onAppendLayoutClass(){return this.appendLayoutClass$.pipe(Ri())}removeLayoutClass(e){this.removeLayoutClass$.next(e)}onRemoveLayoutClass(){return this.removeLayoutClass$.pipe(Ri())}}return t.\u0275fac=function(e){return new(e||t)(Ee(JO),Ee(iP),Ee(rP))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),oP=(()=>{class t{constructor(e){this.document=e,this.loaders=[],this.selector="nb-global-spinner"}registerLoader(e){this.loaders.push(e)}clear(){this.loaders=[]}load(){this.showSpinner(),this.executeAll()}executeAll(e=(i=>{})){Promise.all(this.loaders).then(i=>{this.hideSpinner(),e.call(null,i)}).catch(i=>{console.error(i)})}showSpinner(){const e=this.getSpinnerElement();e&&(e.style.display="block")}hideSpinner(){const e=this.getSpinnerElement();e&&(e.style.display="none")}getSpinnerElement(){return this.document.getElementById(this.selector)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();var Sl=(()=>{return(t=Sl||(Sl={})).LTR="ltr",t.RTL="rtl",Sl;var t})();const sP=new At("Layout direction");let bu=(()=>{class t{constructor(e=Sl.LTR){this.direction=e,this.$directionChange=new xl(1),this.setDirection(e)}isLtr(){return this.direction===Sl.LTR}isRtl(){return this.direction===Sl.RTL}getDirection(){return this.direction}setDirection(e){this.direction=e,this.$directionChange.next(e)}onDirectionChange(){return this.$directionChange.pipe(Ri())}}return t.\u0275fac=function(e){return new(e||t)(Ee(sP,8))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Om=(()=>{class t{constructor(){this.scrollPositionReq$=new Ct,this.manualScroll$=new Ct,this.scroll$=new Ct,this.scrollable$=new Ct}getPosition(){return new zn(e=>{const i=new Ct;return i.subscribe(e),this.scrollPositionReq$.next({listener:i}),()=>i.complete()})}scrollTo(e=null,i=null){this.manualScroll$.next({x:e,y:i})}onScroll(){return this.scroll$.pipe(Ri())}onManualScroll(){return this.manualScroll$.pipe(Ri())}onGetPosition(){return this.scrollPositionReq$}onScrollableChange(){return this.scrollable$.pipe(Ri())}fireScrollChange(e){this.scroll$.next(e)}scrollable(e){this.scrollable$.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),pw=(()=>{class t{constructor(){this.contentDimensionsReq$=new Ct}getDimensions(){return new zn(e=>{const i=new Ct;return i.subscribe(e),this.contentDimensionsReq$.next({listener:i}),()=>i.complete()})}onGetDimensions(){return this.contentDimensionsReq$}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Qa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,p0,Gp]}),t})();class KG extends dO{constructor(n,e,i,r,s){super(n,e,i,r,s),this.element=n,this.checker=e,this.ngZone=i,this.document=r,this.savePreviouslyFocusedElement()}restoreFocus(){this.previouslyFocusedElement.focus(),this.destroy()}blurPreviouslyFocusedElement(){this.previouslyFocusedElement.blur()}savePreviouslyFocusedElement(){this.previouslyFocusedElement=this.document.activeElement}}let aP=(()=>{class t extends SH{constructor(e,i,r){super(e,i,r),this.checker=e,this.ngZone=i,this.document=r}create(e,i){return new KG(e,this.checker,this.ngZone,this.document,i)}}return t.\u0275fac=function(e){return new(e||t)(Ee(lO),Ee(Hn),Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class YG extends pH{}class sM{create(n){return new YG(n)}}class XG extends hH{}class aM{create(n){return new XG(n)}}let fw=(()=>{class t extends pO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),QG=(()=>{class t{static forRoot(){return{ngModule:t,providers:[aP,sM,aM,{provide:fw,useClass:pO}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})(),C0=(()=>{class t extends RH{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275dir=qe({type:t,selectors:[["","nbPortal",""]],features:[wt]}),t})(),lP=(()=>{class t extends NH{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275dir=qe({type:t,selectors:[["","nbPortalOutlet",""]],features:[wt]}),t})();class x0 extends fO{}let cP=(()=>{class t extends XT{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),uP=(()=>{class t extends AO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class JG extends $T{constructor(n,e,i){super(n,e,i)}}let dP=(()=>{class t extends rw{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class eW extends MO{}class hP extends class LH{constructor(n,e){this._parentInjector=n,this._customTokens=e}get(n,e){const i=this._customTokens.get(n);return typeof i<"u"?i:this._parentInjector.get(n,e)}}{}const tW=[OO,GT];let lM=(()=>{class t{static forRoot(){return{ngModule:t,providers:[cP,uP]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[tW,OO,GT]}),t})();var Ir=(()=>{return(t=Ir||(Ir={})).TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end",Ir;var t})(),Gr=(()=>{return(t=Gr||(Gr={})).TOP_RIGHT="top-right",t.TOP_LEFT="top-left",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",Gr;var t})();let cM=(()=>{class t{constructor(e){this.layoutDirection=e}toLogicalPosition(e){return Object.values(Ir).includes(e)?e:this.layoutDirection.isLtr()?this.toLogicalPositionWhenLtr(e):this.toLogicalPositionWhenRtl(e)}toPhysicalPosition(e){return Object.values(Gr).includes(e)?e:this.layoutDirection.isLtr()?this.toPhysicalPositionWhenLtr(e):this.toPhysicalPositionWhenRtl(e)}isTopPosition(e){const i=this.toLogicalPosition(e);return i===Ir.TOP_END||i===Ir.TOP_START}isRightPosition(e){const i=this.toPhysicalPosition(e);return i===Gr.TOP_RIGHT||i===Gr.BOTTOM_RIGHT}toLogicalPositionWhenLtr(e){switch(e){case Gr.TOP_RIGHT:return Ir.TOP_END;case Gr.TOP_LEFT:return Ir.TOP_START;case Gr.BOTTOM_RIGHT:return Ir.BOTTOM_END;case Gr.BOTTOM_LEFT:return Ir.BOTTOM_START}}toLogicalPositionWhenRtl(e){switch(e){case Gr.TOP_RIGHT:return Ir.TOP_START;case Gr.TOP_LEFT:return Ir.TOP_END;case Gr.BOTTOM_RIGHT:return Ir.BOTTOM_START;case Gr.BOTTOM_LEFT:return Ir.BOTTOM_END}}toPhysicalPositionWhenLtr(e){switch(e){case Ir.TOP_START:return Gr.TOP_LEFT;case Ir.TOP_END:return Gr.TOP_RIGHT;case Ir.BOTTOM_START:return Gr.BOTTOM_LEFT;case Ir.BOTTOM_END:return Gr.BOTTOM_RIGHT}}toPhysicalPositionWhenRtl(e){switch(e){case Ir.TOP_START:return Gr.TOP_RIGHT;case Ir.TOP_END:return Gr.TOP_LEFT;case Ir.BOTTOM_START:return Gr.BOTTOM_RIGHT;case Ir.BOTTOM_END:return Gr.BOTTOM_LEFT}}}return t.\u0275fac=function(e){return new(e||t)(Ee(bu))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),My=(()=>{class t extends vu{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:function(n){return vu.\u0275fac(n)},providedIn:"root"}),t})(),S0=(()=>{class t extends iw{constructor(e,i,r,s,d){super(e,i,d),this.ruler=r,this.scroll=s}getViewportSize(){let e;return this.ruler.getDimensions().pipe(Kt(i=>({width:i.clientWidth,height:i.clientHeight}))).subscribe(i=>e=i),e}getViewportScrollPosition(){let e;return this.scroll.getPosition().pipe(Kt(i=>({top:i.y,left:i.x}))).subscribe(i=>e=i),e}}return t.\u0275fac=function(e){return new(e||t)(Ee(My),Ee(Hn),Ee(pw),Ee(Om),Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Dy=(()=>{class t extends dP{setContainer(e){this.container=e}clearContainer(){this.container=null,this._containerElement=null}_createContainer(){this.checkContainer();const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this.container.appendChild(e),this._containerElement=e}checkContainer(){this.container||function nW(){throw new Error("[NbOverlayContainerAdapter]: Layout not found.\n  When using Nebular '<nb-layout>' is required and should wrap other nebular components.")}()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_n(t)))(i||t)}}(),t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();var wc=(()=>{return(t=wc||(wc={})).NOOP="noop",t.CLOCKWISE="clockwise",t.COUNTERCLOCKWISE="counterclockwise",t.VERTICAL="vertical",t.HORIZONTAL="horizontal",wc;var t})(),hn=(()=>{return(t=hn||(hn={})).TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.START="start",t.END="end",t.TOP_END="top-end",t.TOP_START="top-start",t.BOTTOM_END="bottom-end",t.BOTTOM_START="bottom-start",t.END_TOP="end-top",t.END_BOTTOM="end-bottom",t.START_TOP="start-top",t.START_BOTTOM="start-bottom",hn;var t})();const pP={[hn.RIGHT]:t=>({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:t}),[hn.BOTTOM]:t=>({originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:t}),[hn.LEFT]:t=>({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-t}),[hn.TOP]:t=>({originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-t}),[hn.START](t){return this[hn.LEFT](t)},[hn.END](t){return this[hn.RIGHT](t)},[hn.END_TOP]:t=>({originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:t}),[hn.END_BOTTOM]:t=>({originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:t}),[hn.BOTTOM_START]:t=>({originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:t}),[hn.BOTTOM_END]:t=>({originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:t}),[hn.START_TOP]:t=>({originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom",offsetX:-t}),[hn.START_BOTTOM]:t=>({originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:-t}),[hn.TOP_START]:t=>({originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-t}),[hn.TOP_END]:t=>({originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-t})},iW={...pP,[hn.RIGHT]:t=>({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:t}),[hn.LEFT]:t=>({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:-t}),[hn.START](t){return this[hn.RIGHT](t)},[hn.END](t){return this[hn.LEFT](t)}},rW=[hn.TOP,hn.TOP_END,hn.TOP_START,hn.START,hn.START_TOP,hn.START_BOTTOM,hn.BOTTOM,hn.BOTTOM_START,hn.BOTTOM_END,hn.END,hn.END_BOTTOM,hn.END_TOP],oW=[hn.TOP,hn.TOP_START,hn.TOP_END,hn.END,hn.END_TOP,hn.END_BOTTOM,hn.BOTTOM,hn.BOTTOM_END,hn.BOTTOM_START,hn.START,hn.START_BOTTOM,hn.START_TOP],sW=[hn.BOTTOM,hn.TOP],aW=[hn.START,hn.END];class cW extends eW{constructor(){super(...arguments),this._offset=15,this.positionChange=this.positionChanges.pipe(Kt(n=>n.connectionPair),Kt(n=>this.appliedPositions.find(({connectedPosition:e})=>function lW(t,n){return t.originX===n.originX&&t.originY===n.originY&&t.overlayX===n.overlayX&&t.overlayY===n.overlayY}(e,n)).key))}attach(n){this.applyPositions(),super.attach(n)}direction(n){return this._direction=n,this}apply(){this.applyPositions(),super.apply()}position(n){return this._position=n,this}adjustment(n){return this._adjustment=n,this}offset(n){return this._offset=n,this}applyPositions(){const n=this.createPositions();this.persistChosenPositions(n),this.withPositions(this.appliedPositions.map(({connectedPosition:e})=>e))}createPositions(){switch(this._adjustment){case wc.NOOP:return[this._position];case wc.CLOCKWISE:return this.reorderPreferredPositions(oW);case wc.COUNTERCLOCKWISE:return this.reorderPreferredPositions(rW);case wc.HORIZONTAL:return this.reorderPreferredPositions(aW);case wc.VERTICAL:return this.reorderPreferredPositions(sW)}}mapToLogicalPosition(n){return n===hn.LEFT?this._direction===Sl.LTR?hn.START:hn.END:n===hn.RIGHT?this._direction===Sl.LTR?hn.END:hn.START:n}persistChosenPositions(n){const e=this._direction===Sl.RTL?iW:pP;this.appliedPositions=n.map(i=>({key:i,connectedPosition:e[i](this._offset)}))}reorderPreferredPositions(n){const e=this.mapToLogicalPosition(this._position),i=n.indexOf(e),r=n.slice(i),s=n.slice(0,i);return r.concat(s)}}class uW extends kO{position(n){switch(n){case Ir.TOP_START:return this.top().left();case Ir.TOP_END:return this.top().right();case Ir.BOTTOM_START:return this.bottom().left();case Ir.BOTTOM_END:return this.bottom().right()}}}let T0=(()=>{class t{constructor(e,i,r,s,d){this.document=e,this.viewportRuler=i,this.platform=r,this.positionBuilder=s,this.overlayContainer=d}global(){return new uW}connectedTo(e){return new cW(e,this.viewportRuler,this.document,this.platform,this.overlayContainer).withFlexibleDimensions(!1).withPush(!1)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ns),Ee(S0),Ee(My),Ee(uP),Ee(Dy))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();let M0=(()=>{class t{constructor(e,i){this.overlay=e,this.layoutDirection=i}get scrollStrategies(){return this.overlay.scrollStrategies}create(e){const i=this.overlay.create(e);return this.layoutDirection.onDirectionChange().subscribe(r=>i.setDirection(r)),i}}return t.\u0275fac=function(e){return new(e||t)(Ee(cP),Ee(bu))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),fP=(()=>{class t extends nw{constructor(e,i,r,s){super(e,i,s),this.scrollService=r}scrolled(e){return ro(super.scrolled(e),this.scrollService.onScroll())}}return t.\u0275fac=function(e){return new(e||t)(Ee(Hn),Ee(My),Ee(Om),Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),mP=(()=>{class t extends wO{constructor(e,i,r){super(i,e),this.scrollService=r}enable(){super.enable(),this.scrollService.scrollable(!1)}disable(){super.disable(),this.scrollService.scrollable(!0)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ns),Ee(S0),Ee(Om))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),gP=(()=>{class t extends YT{constructor(e,i,r,s,d){super(i,r,s,d),this.scrollService=e,this.scrollDispatcher=i,this.viewportRuler=r,this.ngZone=s,this.document=d,this.block=()=>new mP(this.document,this.viewportRuler,this.scrollService)}}return t.\u0275fac=function(e){return new(e||t)(Ee(Om),Ee(nw),Ee(S0),Ee(Hn),Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),_P=(()=>{class t{static forRoot(){return{ngModule:t,providers:[S0,Dy,mP,fP,gP,{provide:rw,useExisting:Dy},{provide:dP,useExisting:Dy},{provide:nw,useExisting:fP},{provide:YT,useExisting:gP}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();var Cc=(()=>{return(t=Cc||(Cc={})).NOOP="noop",t.CLICK="click",t.HOVER="hover",t.HINT="hint",t.FOCUS="focus",Cc;var t})();class Ey{constructor(n,e,i){this.document=n,this.host=e,this.container=i,this.destroyed$=new Ct}destroy(){this.destroyed$.next()}isNotOnHostOrContainer(n){return!this.isOnHost(n)&&!this.isOnContainer(n)}isOnHostOrContainer(n){return this.isOnHost(n)||this.isOnContainer(n)}isOnHost(n){return this.host.contains(n)}isOnContainer(n){return this.container()&&this.container().location.nativeElement.contains(n)}}class dW extends Ey{constructor(){super(...arguments),this.click$=eo(this.document,"click").pipe(Kt(n=>[!this.container()&&this.isOnHost(n.target),n]),Ri(),Dt(this.destroyed$)),this.show$=this.click$.pipe(Cn(([n])=>n),Kt(([,n])=>n),Dt(this.destroyed$)),this.hide$=this.click$.pipe(Cn(([n,e])=>!n&&!this.isOnContainer(e.target)),Kt(([,n])=>n),Dt(this.destroyed$))}}class hW extends Ey{constructor(){super(...arguments),this.show$=eo(this.host,"mouseenter").pipe(Cn(()=>!this.container()),yT(100),Dt(eo(this.host,"mouseleave")),vT(),Dt(this.destroyed$)),this.hide$=eo(this.host,"mouseleave").pipe(Pr(()=>eo(this.document,"mousemove").pipe(oy(100),BS(()=>!!this.container()),Cn(n=>this.isNotOnHostOrContainer(n.target)))),Dt(this.destroyed$))}}class pW extends Ey{constructor(){super(...arguments),this.show$=eo(this.host,"mouseenter").pipe(yT(100),Dt(eo(this.host,"mouseleave")),vT(),Dt(this.destroyed$)),this.hide$=eo(this.host,"mouseleave").pipe(Dt(this.destroyed$))}}class fW extends Ey{constructor(){super(...arguments),this.focusOut$=eo(this.host,"focusout").pipe(Pr(()=>eo(this.document,"focusin").pipe(BS(()=>!!this.container()),Cn(n=>this.isNotOnHostOrContainer(n.target)))),Dt(this.destroyed$)),this.clickIn$=eo(this.host,"click").pipe(Cn(()=>!this.container()),Dt(this.destroyed$)),this.clickOut$=eo(this.document,"click").pipe(Cn(()=>!!this.container()),Cn(n=>!!this.isNotOnHostOrContainer(n.target)&&this.isNotOnHostOrContainer(this.document.activeElement)),Dt(this.destroyed$)),this.tabKeyPress$=eo(this.document,"keydown").pipe(Cn(n=>9===n.keyCode),Cn(()=>!!this.container()),Dt(this.destroyed$)),this.show$=ro(eo(this.host,"focusin"),this.clickIn$).pipe(Cn(()=>!this.container()),oy(100),Dt(eo(this.host,"focusout")),vT(),Dt(this.destroyed$)),this.hide$=ro(this.focusOut$,this.tabKeyPress$,this.clickOut$).pipe(Dt(this.destroyed$))}}class mW extends Ey{constructor(){super(...arguments),this.show$=vt,this.hide$=vt}}let mw=(()=>{class t{constructor(e){this._document=e}trigger(e){return this._trigger=e,this}host(e){return this._host=e,this}container(e){return this._container=e,this}build(){switch(this._trigger){case Cc.CLICK:return new dW(this._document,this._host,this._container);case Cc.HINT:return new pW(this._document,this._host,this._container);case Cc.HOVER:return new hW(this._document,this._host,this._container);case Cc.FOCUS:return new fW(this._document,this._host,this._container);case Cc.NOOP:return new mW(this._document,this._host,this._container);default:throw new Error("Trigger have to be provided")}}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),gw=(()=>{class t{static forRoot(){return{ngModule:t,providers:[T0,mw,M0,cM,...lM.forRoot().providers,..._P.forRoot().providers,...QG.forRoot().providers]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[lM,Qa,lM,_P]}),t})(),Ja=(()=>{class t{constructor(){this.coreStatuses=["basic","primary","info","warning","danger","control"]}isCoreStatus(e){return this.coreStatuses.includes(e)}isCustomStatus(e){return!!this.isValidStatusString(e)&&!this.isCoreStatus(e)}getStatusClass(e){if(this.isValidStatusString(e))return`status-${e}`}isValidStatusString(e){return"string"==typeof e&&e.length>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function gW(t){if(zp(t))return window}let yP=(()=>{class t{static forRoot(e={name:"default"},i,r,s){return{ngModule:t,providers:[{provide:JO,useValue:e||{}},{provide:tP,useValue:ZG},{provide:nP,useValue:i||[]},{provide:eP,useValue:r||jG},{provide:Ns,useExisting:Ui},{provide:Sy,useFactory:gW,deps:[uh]},rP,hw,iP,oP,{provide:sP,useValue:s||Sl.LTR},bu,Om,pw,...gw.forRoot().providers,Ja]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();var ad=(()=>{return(t=ad||(ad={})).SVG="svg",t.FONT="font",ad;var t})();class vP{constructor(n,e,i={}){this.name=n,this.content=e,this.params=i}getClasses(n){const e=[];return this.params.packClass&&e.push(this.params.packClass),e.push(this.params.iconClassPrefix?`${this.params.iconClassPrefix}-${this.name}`:this.name),e}getContent(n){return this.content}}class hM{constructor(n,e,i={}){this.name=n,this.content=e,this.params=i}getClasses(n){const e=[];return this.params.packClass&&e.push(this.params.packClass),e}getContent(n){return this.content}}function bP(t){throw Error(`Icon Pack '${t}' is not registered`)}function wP(t,n,e){throw Error(`Pack '${t}' is not an '${e}' Pack and its type is '${n}'`)}let pM=(()=>{class t{constructor(){this.packs=new Map}registerSvgPack(e,i,r={}){this.packs.set(e,{name:e,icons:new Map(Object.entries(i)),params:r,type:ad.SVG})}registerFontPack(e,i={}){this.packs.set(e,{name:e,params:i,icons:new Map,type:ad.FONT})}getPack(e){return this.packs.get(e)}setDefaultPack(e){this.packs.has(e)||bP(e),this.defaultPack=this.packs.get(e)}getSvgIcon(e,i){const r=i?this.getPackOrThrow(i):this.getDefaultPackOrThrow();r.type!==ad.SVG&&wP(r.name,r.type,"SVG");const s=this.getIconFromPack(e,r);return s?{name:e,pack:r.name,type:ad.SVG,icon:this.createSvgIcon(e,s,r.params)}:null}getFontIcon(e,i){const r=i?this.getPackOrThrow(i):this.getDefaultPackOrThrow();r.type!==ad.FONT&&wP(r.name,r.type,"Font");const s=this.getIconFromPack(e,r)??"";return{name:e,pack:r.name,type:ad.FONT,icon:this.createFontIcon(e,r.params.ligature?e:s,r.params)}}getIcon(e,i){return(i?this.getPackOrThrow(i):this.getDefaultPackOrThrow()).type===ad.SVG?this.getSvgIcon(e,i):this.getFontIcon(e,i)}createSvgIcon(e,i,r){return i instanceof hM?i:new hM(e,i,r)}createFontIcon(e,i,r){return i instanceof vP?i:new vP(e,i,r)}getPackOrThrow(e){const i=this.packs.get(e);return i||bP(e),i}getDefaultPackOrThrow(){return this.defaultPack||function _W(){throw Error("Default pack is not registered.")}(),this.defaultPack}getIconFromPack(e,i){return i.icons.has(e)?i.icons.get(e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mr=(()=>{class t{constructor(e,i,r,s,d){this.sanitizer=e,this.iconLibrary=i,this.el=r,this.renderer=s,this.statusService=d,this.prevClasses=[],this.html=""}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}get config(){return this._config}set config(e){!e||(this._config=e,"string"==typeof e?this.icon=e:(this.icon=e.icon,this.pack=e.pack,this.status=e.status,this.options=e.options))}ngOnInit(){this.iconDef=this.renderIcon(this.icon,this.pack,this.options)}ngOnChanges(){this.iconLibrary.getIcon(this.icon,this.pack)?this.renderIcon(this.icon,this.pack,this.options):this.clearIcon()}renderIcon(e,i,r){const s=this.iconLibrary.getIcon(e,i);if(!s)return;const d=s.icon.getContent(r);return d&&(this.html=this.sanitizer.bypassSecurityTrustHtml(d)),this.assignClasses(s.icon.getClasses(r)),s}clearIcon(){this.html="",this.assignClasses([])}assignClasses(e){this.prevClasses.forEach(i=>{this.renderer.removeClass(this.el.nativeElement,i)}),e.forEach(i=>{this.renderer.addClass(this.el.nativeElement,i)}),this.prevClasses=e}}return t.\u0275fac=function(e){return new(e||t)(U(Vp),U(pM),U(Yt),U(cr),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-icon"]],hostVars:17,hostBindings:function(e,i){2&e&&(Pb("innerHtml",i.html,nm),Si(i.additionalClasses),Gt("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control))},inputs:{icon:"icon",pack:"pack",options:"options",status:"status",config:"config"},features:[pi],decls:0,vars:0,template:function(e,i){},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}),t})(),_s=(()=>{class t{constructor(e){this.iconsLibrary=e,this.essentialsPackName="nebular-essentials",!this.iconsLibrary.getPack(this.essentialsPackName)&&this.iconsLibrary.registerSvgPack(this.essentialsPackName,{"chevron-down-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g></svg>',"chevron-up-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g></svg>',"chevron-left-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g></svg>',"chevron-right-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g></svg>',"checkmark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g></svg>',"paper-plane-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g></svg>',"file-text-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g></svg>',"alert-triangle-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g></svg>',"question-mark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g></svg>',"email-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g></svg>',"flash-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g></svg>',"search-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g></svg>',"close-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',"collapse-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g></svg>',"expand-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g></svg>',"minus-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g></svg>',"minus-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 2" width="100%" height="100%"><defs><rect id="nb-mbo" y="3" width="8" height="2" rx="1"/></defs><use xlink:href="#nb-mbo" transform="translate(0 -3)" fill-rule="evenodd"/></svg>',"checkmark-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 7" width="100%" height="100%"><defs><path id="nb-cbo" d="M6.039 1.43a1.11 1.11 0 0 1 1.517-.228c.483.342.588.998.234 1.466L4.431 7.1a1 1 0 0 1-1.492.115L.317 4.677a1.023 1.023 0 0 1 .002-1.483 1.113 1.113 0 0 1 1.535.002l1.641 1.59L6.04 1.428z"/></defs><use xlink:href="#nb-cbo" transform="translate(0 -1)" fill-rule="evenodd"/></svg>',"arrow-back":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g></svg>'})}}return t.\u0275fac=function(e){return new(e||t)(Ee(pM))},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})(),ys=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-card-header"]],ngContentSelectors:ns,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})(),vs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-card-body"]],ngContentSelectors:ns,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})(),bs=(()=>{class t{constructor(e){this.statusService=e,this._size="",this.status="",this.accent=""}get size(){return this._size}set size(e){this._size=e}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get hasAccent(){return this.accent}get primaryAccent(){return"primary"===this.accent}get infoAccent(){return"info"===this.accent}get successAccent(){return"success"===this.accent}get warningAccent(){return"warning"===this.accent}get dangerAccent(){return"danger"===this.accent}get basicAccent(){return"basic"===this.accent}get controlAccent(){return"control"===this.accent}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return t.\u0275fac=function(e){return new(e||t)(U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-card"]],hostVars:42,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)("accent",i.hasAccent)("accent-primary",i.primaryAccent)("accent-info",i.infoAccent)("accent-success",i.successAccent)("accent-warning",i.warningAccent)("accent-danger",i.dangerAccent)("accent-basic",i.basicAccent)("accent-control",i.controlAccent))},inputs:{size:"size",status:"status",accent:"accent"},ngContentSelectors:EU,decls:4,vars:0,template:function(e,i){1&e&&(si(DU),ln(0),ln(1,1),ln(2,2),ln(3,3))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),t})(),vh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,_s]}),t})();function nn(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||""===t:!!t}let xP=(()=>{class t{constructor(e,i,r,s,d){this.renderer=e,this.hostElement=i,this.cd=r,this.zone=s,this.statusService=d,this.size="medium",this.status="basic",this.shape="rectangle",this.appearance="filled",this._fullWidth=!1,this._disabled=!1,this.iconLeft=!1,this.iconRight=!1}get filled(){return"filled"===this.appearance}set filled(e){nn(e)&&(this.appearance="filled")}get outline(){return"outline"===this.appearance}set outline(e){nn(e)&&(this.appearance="outline")}get ghost(){return"ghost"===this.appearance}set ghost(e){nn(e)&&(this.appearance="ghost")}get fullWidth(){return this._fullWidth}set fullWidth(e){this._fullWidth=nn(e)}get disabled(){return this._disabled}set disabled(e){this.disabled!==nn(e)&&(this._disabled=!this.disabled,this.renderer.setProperty(this.hostElement.nativeElement,"disabled",this.disabled))}get tabbable(){return this.disabled?"-1":null==this.tabIndex?"0":this.tabIndex.toString()}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get rectangle(){return"rectangle"===this.shape}get round(){return"round"===this.shape}get semiRound(){return"semi-round"===this.shape}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngAfterContentChecked(){const i=this.nodes[this.nodes.length-1];this.iconLeft=this.isIconExist(this.nodes[0]),this.iconRight=this.isIconExist(i)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.hostElement.nativeElement,"nb-transition")}))}updateProperties(e){let i=!1;for(const r in e)e.hasOwnProperty(r)&&this[r]!==e[r]&&(this[r]=e[r],i=!0);i&&this.cd.markForCheck()}get iconElement(){return this.hostElement.nativeElement.querySelector("nb-icon")}get nodes(){return this.cd.rootNodes.filter(e=>e.nodeType!==Node.COMMENT_NODE)}isIconExist(e){return this.icons.some(i=>i.nativeElement===e)}}return t.\u0275fac=function(e){return new(e||t)(U(cr),U(Yt),U(mi),U(Hn),U(Ja))},t.\u0275dir=qe({type:t,contentQueries:function(e,i,r){if(1&e&&_i(r,Mr,4,Yt),2&e){let s;St(s=Tt())&&(i.icons=s)}},hostVars:34,hostBindings:function(e,i){2&e&&(dn("aria-disabled",i.disabled)("tabindex",i.tabbable),Si(i.additionalClasses),Gt("appearance-filled",i.filled)("appearance-outline",i.outline)("appearance-ghost",i.ghost)("full-width",i.fullWidth)("btn-disabled",i.disabled)("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("shape-rectangle",i.rectangle)("shape-round",i.round)("shape-semi-round",i.semiRound)("icon-start",i.iconLeft)("icon-end",i.iconRight))},inputs:{size:"size",status:"status",shape:"shape",appearance:"appearance",filled:"filled",outline:"outline",ghost:"ghost",fullWidth:"fullWidth",disabled:"disabled",tabIndex:"tabIndex"}}),t})(),Ml=(()=>{class t extends xP{constructor(e,i,r,s,d){super(e,i,r,s,d),this.renderer=e,this.hostElement=i,this.cd=r,this.zone=s,this.statusService=d}get hero(){return"hero"===this.appearance}set hero(e){nn(e)&&(this.appearance="hero")}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}onClick(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(U(cr),U(Yt),U(mi),U(Hn),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["button","nbButton",""],["a","nbButton",""],["input","type","button","nbButton",""],["input","type","submit","nbButton",""]],hostVars:16,hostBindings:function(e,i){1&e&&De("click",function(s){return i.onClick(s)}),2&e&&Gt("appearance-hero",i.hero)("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)},inputs:{hero:"hero"},features:[qt([{provide:xP,useExisting:t}]),wt],attrs:OU,ngContentSelectors:ns,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2,changeDetection:0}),t})(),Iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa]}),t})();function yw(t){return t.match(/.*?(?=[?;#]|$)/)[0]}function AP(t){const n=t.match(/#(.+)/);return n?n[1]:""}new At("NB_TIME_PICKER_CONFIG"),new At("Datepicker Adapter"),new At("Date service options");let OP=(()=>{class t{constructor(e){this.router=e}shouldRestore(){return this.router.events.pipe(vc(null),Cn(e=>null===e||e instanceof gh),$k(),Kt(([e,i])=>this.pageChanged(e,i)),Cn(e=>!!e))}pageChanged(e,i){return!e||yw(e.url)!==yw(i.url)}}return t.\u0275fac=function(e){return new(e||t)(Ee(vr))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),_M=(()=>{class t{constructor(e,i,r,s,d,m,b,S,I,R,G,X){this.themeService=e,this.spinnerService=i,this.elementRef=r,this.renderer=s,this.window=d,this.document=m,this.platformId=b,this.layoutDirectionService=S,this.scrollService=I,this.rulerService=R,this.scrollTop=G,this.overlayContainer=X,this.scrollBlockClass="nb-global-scrollblock",this.isScrollBlocked=!1,this.centerValue=!1,this.restoreScrollTopValue=!0,this.windowModeValue=!1,this.withScrollValue=!1,this.withSubheader=!1,this.afterViewInit$=new Ni(null),this.destroy$=new Ct,this.registerAsOverlayContainer(),this.themeService.onThemeChange().pipe(Dt(this.destroy$)).subscribe(ie=>{const ve=this.document.getElementsByTagName("body")[0];ie.previous&&this.renderer.removeClass(ve,`nb-theme-${ie.previous}`),this.renderer.addClass(ve,`nb-theme-${ie.name}`)}),this.themeService.onAppendLayoutClass().pipe(Dt(this.destroy$)).subscribe(ie=>{this.renderer.addClass(this.elementRef.nativeElement,ie)}),this.themeService.onRemoveLayoutClass().pipe(Dt(this.destroy$)).subscribe(ie=>{this.renderer.removeClass(this.elementRef.nativeElement,ie)}),this.spinnerService.registerLoader(new Promise(ie=>{this.afterViewInit$.pipe(Dt(this.destroy$)).subscribe(ve=>ie())})),this.spinnerService.load(),this.rulerService.onGetDimensions().pipe(Dt(this.destroy$)).subscribe(({listener:ie})=>{ie.next(this.getDimensions()),ie.complete()}),this.scrollService.onGetPosition().pipe(Dt(this.destroy$)).subscribe(({listener:ie})=>{ie.next(this.getScrollPosition()),ie.complete()}),this.scrollTop.shouldRestore().pipe(Cn(()=>this.restoreScrollTopValue),Dt(this.destroy$)).subscribe(()=>{this.scroll(0,0)}),this.scrollService.onScrollableChange().pipe(Cn(()=>this.withScrollValue),Dt(this.destroy$)).subscribe(ie=>{ie?this.enableScroll():this.blockScroll()}),zp(this.platformId)&&this.themeService.changeWindowWidth(this.window.innerWidth)}set center(e){this.centerValue=nn(e)}set windowMode(e){this.windowModeValue=nn(e),this.withScroll=this.windowModeValue}set withScroll(e){this.withScrollValue=nn(e);const i=this.document.getElementsByTagName("body")[0];this.renderer.setStyle(i,"overflow",this.withScrollValue?"hidden":"initial")}set restoreScrollTop(e){this.restoreScrollTopValue=nn(e)}ngAfterViewInit(){this.layoutDirectionService.onDirectionChange().pipe(Dt(this.destroy$)).subscribe(e=>this.document.dir=e),this.scrollService.onManualScroll().pipe(Dt(this.destroy$)).subscribe(({x:e,y:i})=>this.scroll(e,i)),this.afterViewInit$.next(!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.unregisterAsOverlayContainer()}onScroll(e){this.scrollService.fireScrollChange(e)}onResize(e){this.themeService.changeWindowWidth(e.target.innerWidth)}getDimensions(){let e,i,r,s=0;if(this.withScrollValue){const d=this.scrollableContainerRef.nativeElement;e=d.clientWidth,i=d.clientHeight,r=d.scrollWidth,s=d.scrollHeight}else{const{documentElement:d,body:m}=this.document;e=d.clientWidth||m.clientWidth,i=d.clientHeight||m.clientHeight,r=d.scrollWidth||m.scrollWidth,s=d.scrollHeight||m.scrollHeight}return{clientWidth:e,clientHeight:i,scrollWidth:r,scrollHeight:s}}getScrollPosition(){if(!zp(this.platformId))return{x:0,y:0};if(this.withScrollValue){const s=this.scrollableContainerRef.nativeElement;return{x:s.scrollLeft,y:s.scrollTop}}const e=this.document.documentElement.getBoundingClientRect();return{x:-e.left||this.document.body.scrollLeft||this.window.scrollX||this.document.documentElement.scrollLeft||0,y:-e.top||this.document.body.scrollTop||this.window.scrollY||this.document.documentElement.scrollTop||0}}registerAsOverlayContainer(){this.overlayContainer.setContainer&&this.overlayContainer.setContainer(this.elementRef.nativeElement)}unregisterAsOverlayContainer(){this.overlayContainer.clearContainer&&this.overlayContainer.clearContainer()}scroll(e=null,i=null){const{x:r,y:s}=this.getScrollPosition();if(e=e??r,i=i??s,zp(this.platformId))if(this.withScrollValue){const d=this.scrollableContainerRef.nativeElement;d.scrollTo?d.scrollTo(e,i):(d.scrollLeft=e,d.scrollTop=i)}else this.window.scrollTo(e,i)}blockScroll(){if(this.isScrollBlocked)return;this.isScrollBlocked=!0,this.renderer.addClass(this.document.documentElement,this.scrollBlockClass);const e=this.scrollableContainerRef.nativeElement,i=this.layoutContainerRef.nativeElement,r=i.clientWidth;this.scrollableContainerOverflowOldValue=e.style.overflow,e.style.overflow="hidden";const d=i.clientWidth-r;!d||(this.layoutPaddingOldValue={left:i.style.paddingLeft,right:i.style.paddingRight},this.layoutDirectionService.isLtr()?i.style.paddingRight=`${d}px`:i.style.paddingLeft=`${d}px`)}enableScroll(){if(this.isScrollBlocked&&(this.isScrollBlocked=!1,this.renderer.removeClass(this.document.documentElement,this.scrollBlockClass),this.scrollableContainerRef.nativeElement.style.overflow=this.scrollableContainerOverflowOldValue,this.layoutPaddingOldValue)){const e=this.layoutContainerRef.nativeElement;e.style.paddingLeft=this.layoutPaddingOldValue.left,e.style.paddingRight=this.layoutPaddingOldValue.right,this.layoutPaddingOldValue=null}}}return t.\u0275fac=function(e){return new(e||t)(U(hw),U(oP),U(Yt),U(cr),U(Sy),U(Ns),U(uh),U(bu),U(Om),U(pw),U(OP),U(Dy))},t.\u0275cmp=it({type:t,selectors:[["nb-layout"]],viewQuery:function(e,i){if(1&e&&(An(nj,5,Er),An(ij,7,Yt),An(rj,5,Yt)),2&e){let r;St(r=Tt())&&(i.veryTopRef=r.first),St(r=Tt())&&(i.scrollableContainerRef=r.first),St(r=Tt())&&(i.layoutContainerRef=r.first)}},hostVars:6,hostBindings:function(e,i){1&e&&De("scroll",function(s){return i.onScroll(s)},0,Eg)("resize",function(s){return i.onResize(s)},!1,Eg),2&e&&Gt("window-mode",i.windowModeValue)("with-scroll",i.withScrollValue)("with-subheader",i.withSubheader)},inputs:{center:"center",windowMode:"windowMode",withScroll:"withScroll",restoreScrollTop:"restoreScrollTop"},ngContentSelectors:sj,decls:12,vars:2,consts:[[1,"scrollable-container",3,"scroll"],["scrollableContainer",""],[1,"layout"],["layoutContainer",""],[1,"layout-container"],[1,"content"],[1,"columns"]],template:function(e,i){1&e&&(si(oj),W(0,"div",0,1),De("scroll",function(s){return i.onScroll(s)}),W(2,"div",2,3),ln(4),W(5,"div",4),ln(6,1),W(7,"div",5),ln(8,2),W(9,"div",6),ln(10,3),q(),ln(11,4),q()()()()),2&e&&(V(7),Gt("center",i.centerValue))},styles:["[_nghost-%COMP%]{-webkit-font-smoothing:antialiased}[dir=ltr]   [_nghost-%COMP%]{text-align:left}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]     nb-layout-header{display:block}[_nghost-%COMP%]     nb-layout-header nav{align-items:center;justify-content:flex-start;display:flex}[_nghost-%COMP%]     nb-layout-header.fixed{position:fixed;top:0;left:0;right:0;z-index:1040}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:row}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.left{order:0}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.left{order:2}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.right{order:2}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.right{order:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.end{order:2}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar .fixed{position:fixed;width:100%;overflow-y:auto;height:100%}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:column;min-width:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content.center[_ngcontent-%COMP%]{max-width:100%;position:relative;margin-left:auto;margin-right:auto}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:row;width:100%}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column{order:1;flex:1 0;min-width:0}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.left{order:0}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.left{order:2}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.start{order:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     nb-layout-footer{display:block;margin-top:auto}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     nb-layout-footer nav{justify-content:center;display:flex}"]}),t})(),PP=(()=>{class t{set left(e){this.leftValue=nn(e),this.startValue=!1}set start(e){this.startValue=nn(e),this.leftValue=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-layout-column"]],hostVars:4,hostBindings:function(e,i){2&e&&Gt("left",i.leftValue)("start",i.startValue)},inputs:{left:"left",start:"start"},ngContentSelectors:ns,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})(),RP=(()=>{class t{constructor(e){this.layout=e}set fixed(e){this.fixedValue=nn(e)}set subheader(e){this.subheaderValue=nn(e),this.fixedValue=!1,this.layout.withSubheader=this.subheaderValue}}return t.\u0275fac=function(e){return new(e||t)(U(_M))},t.\u0275cmp=it({type:t,selectors:[["nb-layout-header"]],hostVars:4,hostBindings:function(e,i){2&e&&Gt("fixed",i.fixedValue)("subheader",i.subheaderValue)},inputs:{fixed:"fixed",subheader:"subheader"},ngContentSelectors:ns,decls:2,vars:2,template:function(e,i){1&e&&(si(),W(0,"nav"),ln(1),q()),2&e&&Gt("fixed",i.fixedValue)},encapsulation:2}),t})(),LP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[OP],imports:[Qa]}),t})();const FP=new Ct,zP=new xl(1),BP=new xl(1),VP=new xl(1),HP=new xl(1),UP=new xl(1),jP=new xl(1),$P=new xl(1);class yM{constructor(){this.pathMatch="full"}static getParents(n){const e=[];let i=n.parent;for(;i;)e.unshift(i),i=i.parent;return e}static isParent(n,e){return!!e.parent&&(e.parent===n||this.isParent(n,e.parent))}}let vM=(()=>{class t{addItems(e,i){zP.next({tag:i,items:e})}collapseAll(e){$P.next({tag:e})}navigateHome(e){BP.next({tag:e})}getSelectedItem(e){const i=new Ni(null);return VP.next({tag:e,listener:i}),i.asObservable()}onItemClick(){return FP.pipe(Ri())}onItemSelect(){return HP.pipe(Ri())}onItemHover(){return UP.pipe(Ri())}onSubmenuToggle(){return jP.pipe(Ri())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),GP=(()=>{class t{constructor(e){this.location=e}prepareItems(e){const i=new yM;e.forEach(r=>{this.applyDefaults(r,i),this.setParent(r)})}selectFromUrl(e,i,r=!1){const s=this.findItemByUrl(e);s&&this.selectItem(s,e,r,i)}selectItem(e,i,r=!1,s){const d=this.resetSelection(i),m=r?this.collapseItems(i):[];for(const b of yM.getParents(e)){b.selected=!0,d.includes(b)||this.itemSelect(b,s);const S=!b.expanded;b.expanded=!0;const I=m.indexOf(b);-1===I&&S?this.submenuToggle(b,s):m.splice(I,1)}e.selected=!0,d.includes(e)||this.itemSelect(e,s);for(const b of m)this.submenuToggle(b,s)}collapseAll(e,i,r){const s=this.collapseItems(e,r);for(const d of s)this.submenuToggle(d,i)}onAddItem(){return zP.pipe(Ri())}onNavigateHome(){return BP.pipe(Ri())}onCollapseAll(){return $P.pipe(Ri())}onGetSelectedItem(){return VP.pipe(Ri())}itemHover(e,i){UP.next({tag:i,item:e})}submenuToggle(e,i){jP.next({tag:i,item:e})}itemSelect(e,i){HP.next({tag:i,item:e})}itemClick(e,i){FP.next({tag:i,item:e})}resetSelection(e){const i=[];for(const r of e)r.selected&&i.push(r),r.selected=!1,r.children&&i.push(...this.resetSelection(r.children));return i}collapseItems(e,i){const r=[];for(const s of e)i&&(s===i||yM.isParent(s,i))||(s.expanded&&r.push(s),s.expanded=!1,s.children&&r.push(...this.collapseItems(s.children)));return r}applyDefaults(e,i){const r={...e};Object.assign(e,i,r),e.children&&e.children.forEach(s=>{this.applyDefaults(s,i)})}setParent(e){e.children&&e.children.forEach(i=>{i.parent=e,this.setParent(i)})}findItemByUrl(e){let i;return e.some(r=>(r.children&&(i=this.findItemByUrl(r.children)),!i&&this.isSelectedInUrl(r)&&(i=r),i)),i}isSelectedInUrl(e){const i="full"===e.pathMatch,r=e.link,s=i?function LW(t,n){return n===yw(t)}(this.location.path(),r):function FW(t,n){const e=yw(t);return e.startsWith(n)&&-1!==e.slice(n.length).charAt(0).search(/\/|^$/)}(this.location.path(),r);return s&&null!=e.fragment?i?function zW(t,n){return AP(t)===n}(this.location.path(!0),e.fragment):function BW(t,n){return AP(t).includes(n)}(this.location.path(!0),e.fragment):s}}return t.\u0275fac=function(e){return new(e||t)(Ee(e0))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),vw=(()=>{class t{constructor(e){this.statusService=e,this.text="",this._defaultPosition="top right",this._position=this._defaultPosition,this.status="basic"}get position(){return this._position}set position(e){this._position=e||this._defaultPosition}get dotMode(){return this._dotMode}set dotMode(e){this._dotMode=nn(e)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}get primary(){return"primary"===this.status}get success(){return"success"===this.status}get info(){return"info"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get top(){return this.position.includes("top")}get right(){return this.position.includes("right")}get bottom(){return this.position.includes("bottom")}get left(){return this.position.includes("left")}get start(){return this.position.includes("start")}get end(){return this.position.includes("end")}get center(){return this.position.includes("center")}}return t.\u0275fac=function(e){return new(e||t)(U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-badge"]],hostVars:32,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("dot-mode",i.dotMode)("status-primary",i.primary)("status-success",i.success)("status-info",i.info)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)("position-top",i.top)("position-right",i.right)("position-bottom",i.bottom)("position-left",i.left)("position-start",i.start)("position-end",i.end)("position-center",i.center))},inputs:{text:"text",position:"position",dotMode:"dotMode",status:"status"},decls:1,vars:1,template:function(e,i){1&e&&Pe(0),2&e&&Sn(i.dotMode?"":i.text)},styles:["[_nghost-%COMP%]{position:absolute;text-align:center;white-space:nowrap;vertical-align:baseline}.position-top[_nghost-%COMP%]{top:0}.position-right[_nghost-%COMP%]{right:0}.position-bottom[_nghost-%COMP%]{bottom:0}.position-left[_nghost-%COMP%]{left:0}.position-center[_nghost-%COMP%]{top:50%;transform:translateY(-50%)}[dir=ltr]   .position-start[_nghost-%COMP%]{left:0}[dir=rtl]   .position-start[_nghost-%COMP%]{right:0}[dir=ltr]   .position-end[_nghost-%COMP%]{right:0}[dir=rtl]   .position-end[_nghost-%COMP%]{left:0}"]}),t})();var wu=(()=>{return(t=wu||(wu={})).Expanded="expanded",t.Collapsed="collapsed",wu;var t})();let WP=(()=>{class t{constructor(e,i){this.menuService=e,this.directionService=i,this.menuItem=null,this.hoverItem=new Xe,this.toggleSubMenu=new Xe,this.selectItem=new Xe,this.itemClick=new Xe,this.destroy$=new Ct}ngDoCheck(){this.toggleState=this.menuItem.expanded?wu.Expanded:wu.Collapsed}ngAfterViewInit(){this.menuService.onSubmenuToggle().pipe(Cn(({item:e})=>e===this.menuItem),Kt(({item:e})=>e.expanded),Dt(this.destroy$)).subscribe(e=>this.toggleState=e?wu.Expanded:wu.Collapsed)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onToggleSubMenu(e){this.toggleSubMenu.emit(e)}onHoverItem(e){this.hoverItem.emit(e)}onSelectItem(e){this.selectItem.emit(e)}onItemClick(e){this.itemClick.emit(e)}getExpandStateIcon(){return this.menuItem.expanded?"chevron-down-outline":this.directionService.isLtr()?"chevron-left-outline":"chevron-right-outline"}}return t.\u0275fac=function(e){return new(e||t)(U(vM),U(bu))},t.\u0275cmp=it({type:t,selectors:[["","nbMenuItem",""]],inputs:{menuItem:"menuItem",badge:"badge"},outputs:{hoverItem:"hoverItem",toggleSubMenu:"toggleSubMenu",selectItem:"selectItem",itemClick:"itemClick"},attrs:aj,decls:8,vars:6,consts:[[4,"ngIf"],[3,"routerLink","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","active","mouseenter","click",4,"ngIf"],[3,"active","mouseenter","click",4,"ngIf"],["href","#",3,"active","click","mouseenter",4,"ngIf"],["class","menu-items",3,"collapsed","expanded",4,"ngIf"],["badgeTemplate",""],["class","menu-icon",3,"config",4,"ngIf"],[1,"menu-icon",3,"config"],[3,"routerLink","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","mouseenter","click"],[1,"menu-title"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"mouseenter","click"],["href","#",3,"click","mouseenter"],["pack","nebular-essentials",1,"expand-state",3,"icon"],[1,"menu-items"],[4,"ngFor","ngForOf"],["nbMenuItem","","class","menu-item",3,"menuItem","badge","menu-group","hoverItem","toggleSubMenu","selectItem","itemClick",4,"ngIf"],["nbMenuItem","",1,"menu-item",3,"menuItem","badge","hoverItem","toggleSubMenu","selectItem","itemClick"],[3,"text","dotMode","status"]],template:function(e,i){1&e&&(K(0,cj,3,2,"span",0),K(1,hj,5,14,"a",1),K(2,mj,5,9,"a",2),K(3,yj,5,8,"a",2),K(4,wj,6,10,"a",3),K(5,Sj,2,6,"ul",4),K(6,Tj,1,3,"ng-template",null,5,Sr)),2&e&&(P("ngIf",i.menuItem.group),V(1),P("ngIf",i.menuItem.link&&!i.menuItem.url&&!i.menuItem.children&&!i.menuItem.group),V(1),P("ngIf",i.menuItem.url&&!i.menuItem.children&&!i.menuItem.link&&!i.menuItem.group),V(1),P("ngIf",!(i.menuItem.children||i.menuItem.link||i.menuItem.url||i.menuItem.group)),V(1),P("ngIf",i.menuItem.children),V(1),P("ngIf",i.menuItem.children))},dependencies:[$r,Dn,So,ty,Mr,vw,t],encapsulation:2,data:{animation:[Yp("toggle",[Im(wu.Collapsed,To({height:"0",margin:"0"})),Im(wu.Expanded,To({height:"*"})),Rs(`${wu.Collapsed} <=> ${wu.Expanded}`,Ps(300))])]}}),t})(),qP=(()=>{class t{constructor(e,i,r,s){this.window=e,this.platformId=i,this.menuInternalService=r,this.router=s,this._autoCollapse=!1,this.destroy$=new Ct}get autoCollapse(){return this._autoCollapse}set autoCollapse(e){this._autoCollapse=nn(e)}ngOnInit(){this.menuInternalService.prepareItems(this.items),this.menuInternalService.onAddItem().pipe(Cn(e=>this.compareTag(e.tag)),Dt(this.destroy$)).subscribe(e=>this.onAddItem(e)),this.menuInternalService.onNavigateHome().pipe(Cn(e=>this.compareTag(e.tag)),Dt(this.destroy$)).subscribe(()=>this.navigateHome()),this.menuInternalService.onGetSelectedItem().pipe(Cn(e=>this.compareTag(e.tag)),Dt(this.destroy$)).subscribe(e=>{e.listener.next({tag:this.tag,item:this.getSelectedItem(this.items)})}),this.menuInternalService.onCollapseAll().pipe(Cn(e=>this.compareTag(e.tag)),Dt(this.destroy$)).subscribe(()=>this.collapseAll()),this.router.events.pipe(Cn(e=>e instanceof gh),Dt(this.destroy$)).subscribe(()=>{this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse)})}ngAfterViewInit(){setTimeout(()=>this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse))}onAddItem(e){this.items.push(...e.items),this.menuInternalService.prepareItems(this.items),this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse)}onHoverItem(e){this.menuInternalService.itemHover(e,this.tag)}onToggleSubMenu(e){this.autoCollapse&&this.menuInternalService.collapseAll(this.items,this.tag,e),e.expanded=!e.expanded,this.menuInternalService.submenuToggle(e,this.tag)}onSelectItem(e){this.menuInternalService.selectItem(e,this.items,this.autoCollapse,this.tag)}onItemClick(e){this.menuInternalService.itemClick(e,this.tag)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateHome(){const e=this.getHomeItem(this.items);e&&(e.link&&this.router.navigate([e.link],{queryParams:e.queryParams,queryParamsHandling:e.queryParamsHandling,fragment:e.fragment,preserveFragment:e.preserveFragment}),e.url&&zp(this.platformId)&&(this.window.location.href=e.url))}collapseAll(){this.menuInternalService.collapseAll(this.items,this.tag)}getHomeItem(e){for(const i of e){if(i.home)return i;const r=i.children&&this.getHomeItem(i.children);if(r)return r}}compareTag(e){return!e||e===this.tag}getSelectedItem(e){let i=null;return e.forEach(r=>{r.selected&&(i=r),r.selected&&r.children&&r.children.length>0&&(i=this.getSelectedItem(r.children))}),i}}return t.\u0275fac=function(e){return new(e||t)(U(Sy),U(uh),U(GP),U(vr))},t.\u0275cmp=it({type:t,selectors:[["nb-menu"]],inputs:{tag:"tag",items:"items",autoCollapse:"autoCollapse"},decls:2,vars:1,consts:[[1,"menu-items"],[4,"ngFor","ngForOf"],["nbMenuItem","","class","menu-item",3,"menuItem","badge","menu-group","hoverItem","toggleSubMenu","selectItem","itemClick",4,"ngIf"],["nbMenuItem","",1,"menu-item",3,"menuItem","badge","hoverItem","toggleSubMenu","selectItem","itemClick"]],template:function(e,i){1&e&&(W(0,"ul",0),K(1,Dj,2,1,"ng-container",1),q()),2&e&&(V(1),P("ngForOf",i.items))},dependencies:[$r,Dn,WP],styles:["[_nghost-%COMP%]    {display:block}[_nghost-%COMP%]     .menu-items, [_nghost-%COMP%]     .menu-item>.menu-items{list-style-type:none;overflow:hidden}[_nghost-%COMP%]     .menu-item a{display:flex;text-decoration:none;align-items:center}[_nghost-%COMP%]     .menu-item a .menu-title{flex:1 0 auto;pointer-events:none}[dir=rtl]   [_nghost-%COMP%]     .menu-item a .menu-title{text-align:right}[_nghost-%COMP%]     .menu-item nb-badge{position:static}[_nghost-%COMP%]     .menu-group span{display:flex}"]}),t})(),bM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();const jW=[vM,GP];let $W=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...jW]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,_s,bM]}),t})();const ZP=new Ct,KP=new Ct;let bw=(()=>{class t{constructor(){this.toggle$=new Ct,this.expand$=new Ct,this.collapse$=new Ct,this.compact$=new Ct}onToggle(){return this.toggle$.pipe(Ri())}onExpand(){return this.expand$.pipe(Ri())}onCollapse(){return this.collapse$.pipe(Ri())}onCompact(){return this.compact$.pipe(Ri())}toggle(e=!1,i){this.toggle$.next({compact:e,tag:i})}expand(e){this.expand$.next({tag:e})}collapse(e){this.collapse$.next({tag:e})}compact(e){this.compact$.next({tag:e})}getSidebarState(e){const i=new xl(1);return ZP.next({observer:i,tag:e}),i.pipe(qk(),H_())}getSidebarResponsiveState(e){const i=new xl;return KP.next({observer:i,tag:e}),i.pipe(qk(),H_())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),YP=(()=>{class t{constructor(e,i,r,s){this.sidebarService=e,this.themeService=i,this.element=r,this.cd=s,this.responsiveValueChange$=new Ct,this.responsiveState="pc",this.destroy$=new Ct,this.containerFixedValue=!0,this.fixedValue=!1,this.rightValue=!1,this.leftValue=!0,this.startValue=!1,this.endValue=!1,this._state="expanded",this._responsive=!1,this.compactedBreakpoints=["xs","is","sm","md","lg"],this.collapsedBreakpoints=["xs","is"],this.stateChange=new Xe,this.responsiveStateChange=new Xe}get expanded(){return"expanded"===this.state}get collapsed(){return"collapsed"===this.state}get compacted(){return"compacted"===this.state}set right(e){this.rightValue=nn(e),this.leftValue=!this.rightValue,this.startValue=!1,this.endValue=!1}set left(e){this.leftValue=nn(e),this.rightValue=!this.leftValue,this.startValue=!1,this.endValue=!1}set start(e){this.startValue=nn(e),this.endValue=!this.startValue,this.leftValue=!1,this.rightValue=!1}set end(e){this.endValue=nn(e),this.startValue=!this.endValue,this.leftValue=!1,this.rightValue=!1}set fixed(e){this.fixedValue=nn(e)}set containerFixed(e){this.containerFixedValue=nn(e)}get state(){return this._state}set state(e){this._state=e}get responsive(){return this._responsive}set responsive(e){this.responsive!==nn(e)&&(this._responsive=!this.responsive,this.responsiveValueChange$.next(this.responsive))}ngOnInit(){this.sidebarService.onToggle().pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(({compact:e})=>this.toggle(e)),this.sidebarService.onExpand().pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(()=>this.expand()),this.sidebarService.onCollapse().pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(()=>this.collapse()),this.sidebarService.onCompact().pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(()=>this.compact()),ZP.pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(({observer:e})=>e.next(this.state)),KP.pipe(Cn(({tag:e})=>!this.tag||this.tag===e),Dt(this.destroy$)).subscribe(({observer:e})=>e.next(this.responsiveState)),this.responsiveValueChange$.pipe(Cn(e=>!e),Dt(this.destroy$)).subscribe(()=>this.expand()),this.subscribeToMediaQueryChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onClick(e){const i=this.element.nativeElement.querySelector("nb-menu");if(i&&i.contains(e.target)){const r=this.getMenuLink(e.target);r&&r.nextElementSibling&&r.nextElementSibling.classList.contains("menu-items")&&this.sidebarService.expand(this.tag)}}collapse(){this.updateState("collapsed")}expand(){this.updateState("expanded")}compact(){this.updateState("compacted")}toggle(e=!1){this.responsive&&"mobile"===this.responsiveState&&(e=!1),this.updateState("compacted"===this.state||"collapsed"===this.state?"expanded":e?"compacted":"collapsed")}subscribeToMediaQueryChange(){vm([this.responsiveValueChange$.pipe(vc(this.responsive)),this.themeService.onMediaQueryChange()]).pipe(Cn(([e])=>e),Kt(([,e])=>e),Dt(this.destroy$)).subscribe(([e,i])=>{const r=this.collapsedBreakpoints.includes(i.name),s=this.compactedBreakpoints.includes(i.name);let d;s&&(this.fixed=this.containerFixedValue,this.compact(),d="tablet"),r&&(this.fixed=!0,this.collapse(),d="mobile"),!r&&!s&&(!e.width||e.width<i.width)&&(this.expand(),this.fixed=!1,d="pc"),d&&d!==this.responsiveState&&(this.responsiveState=d,this.responsiveStateChange.emit(this.responsiveState),this.cd.markForCheck())})}getMenuLink(e){if(e&&"nb-menu"!==e.tagName.toLowerCase())return"a"===e.tagName.toLowerCase()?e:this.getMenuLink(e.parentElement)}updateState(e){this.state!==e&&(this.state=e,this.stateChange.emit(this.state),this.cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(U(bw),U(hw),U(Yt),U(mi))},t.\u0275cmp=it({type:t,selectors:[["nb-sidebar"]],hostVars:16,hostBindings:function(e,i){2&e&&Gt("fixed",i.fixedValue)("right",i.rightValue)("left",i.leftValue)("start",i.startValue)("end",i.endValue)("expanded",i.expanded)("collapsed",i.collapsed)("compacted",i.compacted)},inputs:{right:"right",left:"left",start:"start",end:"end",fixed:"fixed",containerFixed:"containerFixed",state:"state",responsive:"responsive",tag:"tag",compactedBreakpoints:"compactedBreakpoints",collapsedBreakpoints:"collapsedBreakpoints"},outputs:{stateChange:"stateChange",responsiveStateChange:"responsiveStateChange"},ngContentSelectors:Nj,decls:5,vars:2,consts:[[1,"main-container"],[1,"scrollable",3,"click"]],template:function(e,i){1&e&&(si(Rj),W(0,"div",0),ln(1),W(2,"div",1),De("click",function(s){return i.onClick(s)}),ln(3,1),q(),ln(4,2),q()),2&e&&Gt("main-container-fixed",i.containerFixedValue)},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden;z-index:auto;order:0}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{transform:translateZ(0);display:flex;flex-direction:column}[_nghost-%COMP%]   .main-container-fixed[_ngcontent-%COMP%]{position:fixed}.right[_nghost-%COMP%]{margin-right:0;margin-left:auto}[dir=ltr]   .right[_nghost-%COMP%]{order:4}[dir=rtl]   .right[_nghost-%COMP%]{order:0}.end[_nghost-%COMP%]{order:4}[dir=ltr]   .end[_nghost-%COMP%]{margin-right:0;margin-left:auto}[dir=rtl]   .end[_nghost-%COMP%]{margin-left:0;margin-right:auto}.fixed[_nghost-%COMP%]{position:fixed;height:100%;z-index:999;top:0;bottom:0;left:0}.fixed.right[_nghost-%COMP%]{right:0}[dir=ltr]   .fixed.start[_nghost-%COMP%]{left:0}[dir=rtl]   .fixed.start[_nghost-%COMP%]{right:0}[dir=ltr]   .fixed.end[_nghost-%COMP%]{right:0}[dir=rtl]   .fixed.end[_nghost-%COMP%]{left:0}[_nghost-%COMP%]     nb-sidebar-footer{margin-top:auto;display:block}[_nghost-%COMP%]     nb-sidebar-header{display:block}"],changeDetection:0}),t})();const qW=[bw];let wM=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...qW]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa]}),t})(),e5=(()=>{class t{constructor(e){this.domSanitizer=e,this.name="Anonymous",this.size="medium",this.shape="round",this._showName=!0,this._showTitle=!0,this._showInitials=!0,this.badgeStatus="basic"}set picture(e){this.imageBackgroundStyle=e?this.domSanitizer.bypassSecurityTrustStyle(`url(${e})`):null}get showName(){return this._showName}set showName(e){this._showName=nn(e)}get showTitle(){return this._showTitle}set showTitle(e){this._showTitle=nn(e)}get showInitials(){return this._showInitials}set showInitials(e){this._showInitials=nn(e)}get onlyPicture(){return!this.showName&&!this.showTitle}set onlyPicture(e){this.showName=this.showTitle=!nn(e)}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get rectangle(){return"rectangle"===this.shape}get semiRound(){return"semi-round"===this.shape}get round(){return"round"===this.shape}getInitials(){return this.name?this.name.split(" ").map(i=>i.charAt(0)).splice(0,2).join("").toUpperCase():""}}return t.\u0275fac=function(e){return new(e||t)(U(Vp))},t.\u0275cmp=it({type:t,selectors:[["nb-user"]],hostVars:16,hostBindings:function(e,i){2&e&&Gt("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("shape-rectangle",i.rectangle)("shape-semi-round",i.semiRound)("shape-round",i.round)},inputs:{name:"name",title:"title",picture:"picture",color:"color",size:"size",shape:"shape",showName:"showName",showTitle:"showTitle",showInitials:"showInitials",onlyPicture:"onlyPicture",badgeText:"badgeText",badgeStatus:"badgeStatus",badgePosition:"badgePosition"},decls:6,vars:4,consts:[[1,"user-container"],["class","user-picture image",3,"background-image",4,"ngIf"],["class","user-picture initials",3,"background-color",4,"ngIf"],[1,"info-container"],["class","user-name",4,"ngIf"],["class","user-title",4,"ngIf"],[1,"user-picture","image"],[3,"text","status","position",4,"ngIf"],[3,"text","status","position"],[1,"user-picture","initials"],[4,"ngIf"],[1,"user-name"],[1,"user-title"]],template:function(e,i){1&e&&(W(0,"div",0),K(1,Wj,2,3,"div",1),K(2,Kj,3,4,"div",2),W(3,"div",3),K(4,Yj,2,1,"div",4),K(5,Xj,2,1,"div",5),q()()),2&e&&(V(1),P("ngIf",i.imageBackgroundStyle),V(1),P("ngIf",!i.imageBackgroundStyle),V(2),P("ngIf",i.showName&&i.name),V(1),P("ngIf",i.showTitle&&i.title))},dependencies:[Dn,vw],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .user-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}[_nghost-%COMP%]   .user-picture[_ngcontent-%COMP%]{position:relative;flex-shrink:0}[_nghost-%COMP%]   .user-picture.image[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]   .user-picture.initials[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[dir=rtl]   [_nghost-%COMP%]   .user-name[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .user-title[_ngcontent-%COMP%]{text-align:right}[dir=ltr]   [_nghost-%COMP%]   .info-container[_ngcontent-%COMP%]{margin-left:.5rem}[dir=rtl]   [_nghost-%COMP%]   .info-container[_ngcontent-%COMP%]{margin-right:.5rem}"]}),t})(),t5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,bM]}),t})(),n5=(()=>{class t{constructor(e,i,r,s,d){this.changeDetector=e,this.renderer=i,this.hostElement=r,this.zone=s,this.statusService=d,this.onChange=()=>{},this.onTouched=()=>{},this._checked=!1,this._disabled=!1,this.status="basic",this._indeterminate=!1,this.checkedChange=new Xe}get checked(){return this._checked}set checked(e){this._checked=nn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=nn(e)}get indeterminate(){return this._indeterminate}set indeterminate(e){this._indeterminate=nn(e)}get primary(){return"primary"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get info(){return"info"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.hostElement.nativeElement,"nb-transition")}))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this._checked=e,this.changeDetector.markForCheck()}setDisabledState(e){this.disabled=nn(e),this.changeDetector.markForCheck()}setTouched(){this.onTouched()}updateValueAndIndeterminate(e){const i=e.target;this.checked=i.checked,this.checkedChange.emit(this.checked),this.onChange(this.checked),this.indeterminate=i.indeterminate}}return t.\u0275fac=function(e){return new(e||t)(U(mi),U(cr),U(Yt),U(Hn),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-checkbox"]],hostVars:16,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("status-primary",i.primary)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-info",i.info)("status-basic",i.basic)("status-control",i.control))},inputs:{checked:"checked",disabled:"disabled",status:"status",indeterminate:"indeterminate"},outputs:{checkedChange:"checkedChange"},features:[qt([{provide:to,useExisting:Bn(()=>t),multi:!0}])],ngContentSelectors:ns,decls:7,vars:9,consts:[[1,"label"],["type","checkbox",1,"native-input","visually-hidden",3,"disabled","checked","indeterminate","change","blur","click"],[1,"custom-checkbox"],["icon","minus-bold-outline","pack","nebular-essentials","class","custom-checkbox-icon",4,"ngIf"],["icon","checkmark-bold-outline","pack","nebular-essentials","class","custom-checkbox-icon",4,"ngIf"],[1,"text"],["icon","minus-bold-outline","pack","nebular-essentials",1,"custom-checkbox-icon"],["icon","checkmark-bold-outline","pack","nebular-essentials",1,"custom-checkbox-icon"]],template:function(e,i){1&e&&(si(),W(0,"label",0)(1,"input",1),De("change",function(s){return i.updateValueAndIndeterminate(s)})("blur",function(){return i.setTouched()})("click",function(s){return s.stopPropagation()}),q(),W(2,"span",2),K(3,a$,1,0,"nb-icon",3),K(4,l$,1,0,"nb-icon",4),q(),W(5,"span",5),ln(6),q()()),2&e&&(V(1),P("disabled",i.disabled)("checked",i.checked)("indeterminate",i.indeterminate),V(1),Gt("indeterminate",i.indeterminate)("checked",i.checked),V(1),P("ngIf",i.indeterminate),V(1),P("ngIf",i.checked&&!i.indeterminate))},dependencies:[Dn,Mr],styles:["[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;margin:0;min-height:inherit}[_nghost-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]{flex-shrink:0}.nb-transition[_nghost-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]{transition-duration:.15s;transition-property:background-color,border,box-shadow;transition-timing-function:ease-in}.nb-transition[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{transition-duration:.15s;transition-property:color;transition-timing-function:ease-in}"],changeDetection:0}),t})(),r5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,_s]}),t})(),ww=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),ky=(()=>{class t{constructor(){this.supportsPrefix=!0,this.supportsSuffix=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Pm=(()=>{class t{constructor(e,i,r,s,d){this.elementRef=e,this.focusMonitor=i,this.renderer=r,this.zone=s,this.statusService=d,this.destroy$=new Ct,this.fieldSize="medium",this.status="basic",this.shape="rectangle",this._fullWidth=!1,this.status$=new Ni(this.status),this.size$=new Ni(this.fieldSize),this.focused$=new Ni(!1),this.disabled$=new Ni(!1),this.fullWidth$=new Ni(this.fullWidth)}get fullWidth(){return this._fullWidth}set fullWidth(e){this._fullWidth=nn(e)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngDoCheck(){const e=this.elementRef.nativeElement.disabled;e!==this.disabled$.value&&this.disabled$.next(e)}ngOnChanges({status:e,fieldSize:i,fullWidth:r}){e&&this.status$.next(this.status),i&&this.size$.next(this.fieldSize),r&&this.fullWidth$.next(this.fullWidth)}ngOnInit(){this.focusMonitor.monitor(this.elementRef).pipe(Kt(e=>!!e),bm(()=>this.focusMonitor.stopMonitoring(this.elementRef)),Dt(this.destroy$)).subscribe(this.focused$)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"nb-transition")}))}ngOnDestroy(){this.destroy$.next()}get tiny(){return"tiny"===this.fieldSize}get small(){return"small"===this.fieldSize}get medium(){return"medium"===this.fieldSize}get large(){return"large"===this.fieldSize}get giant(){return"giant"===this.fieldSize}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get rectangle(){return"rectangle"===this.shape}get semiRound(){return"semi-round"===this.shape}get round(){return"round"===this.shape}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(fw),U(cr),U(Hn),U(Ja))},t.\u0275dir=qe({type:t,selectors:[["input","nbInput",""],["textarea","nbInput",""]],hostVars:34,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("input-full-width",i.fullWidth)("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)("shape-rectangle",i.rectangle)("shape-semi-round",i.semiRound)("shape-round",i.round))},inputs:{fieldSize:"fieldSize",status:"status",shape:"shape",fullWidth:"fullWidth"},features:[qt([{provide:ww,useExisting:t}]),pi]}),t})();class SM{}let xw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa]}),t})(),eq=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:SM,useValue:e||{}}]}}static forChild(e){return{ngModule:t,providers:[{provide:SM,useValue:e||{}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,_s,xw,Iy]}),t})(),tq=(()=>{class t{constructor(e){this.statusService=e,this.message="Loading...",this.size="medium",this.status="basic"}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return t.\u0275fac=function(e){return new(e||t)(U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-spinner"]],hostVars:26,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control))},inputs:{message:"message",size:"size",status:"status"},decls:2,vars:1,consts:[[1,"spin-circle"],["class","message",4,"ngIf"],[1,"message"]],template:function(e,i){1&e&&(at(0,"span",0),K(1,H$,2,1,"span",1)),2&e&&(V(1),P("ngIf",i.message))},dependencies:[Dn],styles:["[_nghost-%COMP%]{opacity:1;position:absolute;border-radius:inherit;inset:0;overflow:hidden;z-index:9999;display:flex;justify-content:center;align-items:center;visibility:visible}[_nghost-%COMP%]   .spin-circle[_ngcontent-%COMP%]{animation:spin .8s infinite linear;border-radius:50%;border-style:solid;border-width:.125em;width:1em;height:1em}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:.5rem}"]}),t})(),ld=(()=>{class t{constructor(e,i,r,s){this.directiveView=e,this.componentFactoryResolver=i,this.renderer=r,this.directiveElement=s,this.shouldShow=!1,this.spinnerStatus="basic",this.spinnerSize="medium",this.isSpinnerExist=!1}set nbSpinner(e){this.componentFactory?e?this.show():this.hide():this.shouldShow=e}ngOnInit(){this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(tq),this.shouldShow&&this.show()}hide(){this.isSpinnerExist&&(this.directiveView.remove(),this.isSpinnerExist=!1)}show(){this.isSpinnerExist||(this.spinner=this.directiveView.createComponent(this.componentFactory),this.setInstanceInputs(this.spinner.instance),this.spinner.changeDetectorRef.detectChanges(),this.renderer.appendChild(this.directiveElement.nativeElement,this.spinner.location.nativeElement),this.isSpinnerExist=!0)}setInstanceInputs(e){e.message=this.spinnerMessage,typeof this.spinnerStatus<"u"&&(e.status=this.spinnerStatus),typeof this.spinnerSize<"u"&&(e.size=this.spinnerSize)}}return t.\u0275fac=function(e){return new(e||t)(U(Er),U(yl),U(cr),U(Yt))},t.\u0275dir=qe({type:t,selectors:[["","nbSpinner",""]],hostVars:2,hostBindings:function(e,i){2&e&&Gt("nb-spinner-container",i.isSpinnerExist)},inputs:{spinnerMessage:["nbSpinnerMessage","spinnerMessage"],spinnerStatus:["nbSpinnerStatus","spinnerStatus"],spinnerSize:["nbSpinnerSize","spinnerSize"],nbSpinner:"nbSpinner"}}),t})(),Ay=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa]}),t})();new At("Nebular Stepper Component");let Oy=(()=>{class t{constructor(){this.openCloseItems=new Ct,this.multiValue=!1}get multi(){return this.multiValue}set multi(e){this.multiValue=nn(e)}openAll(){this.multi&&this.openCloseItems.next(!1)}closeAll(){this.openCloseItems.next(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-accordion"]],inputs:{multi:"multi"},ngContentSelectors:Y$,decls:1,vars:0,template:function(e,i){1&e&&(si(K$),ln(0))},encapsulation:2,changeDetection:0}),t})(),D0=(()=>{class t{constructor(e,i){this.accordion=e,this.cd=i,this.collapsedChange=new Xe,this.accordionItemInvalidate=new Ct,this.collapsedValue=!0,this.disabledValue=!1,this.destroy$=new Ct}get collapsed(){return this.collapsedValue}set collapsed(e){this.collapsedValue=nn(e),this.collapsedChange.emit(this.collapsedValue),this.invalidate()}get expanded(){return!this.collapsed}set expanded(e){this.collapsedValue=!nn(e)}get disabled(){return this.disabledValue}set disabled(e){this.disabledValue=nn(e),this.invalidate()}toggle(){if(!this.disabled){const e=!this.collapsed;this.accordion.multi||this.accordion.openCloseItems.next(!0),this.collapsed=e}}open(){!this.disabled&&(this.collapsed=!1)}close(){!this.disabled&&(this.collapsed=!0)}ngOnInit(){this.accordion.openCloseItems.pipe(Dt(this.destroy$)).subscribe(e=>{!this.disabled&&(this.collapsed=e)})}ngOnChanges(e){this.accordionItemInvalidate.next(!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.accordionItemInvalidate.complete()}invalidate(){this.accordionItemInvalidate.next(!0),this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(U(Oy,1),U(mi))},t.\u0275cmp=it({type:t,selectors:[["nb-accordion-item"]],hostVars:6,hostBindings:function(e,i){2&e&&Gt("collapsed",i.collapsed)("expanded",i.expanded)("disabled",i.disabled)},inputs:{collapsed:"collapsed",expanded:"expanded",disabled:"disabled"},outputs:{collapsedChange:"collapsedChange"},features:[pi],ngContentSelectors:Q$,decls:2,vars:0,template:function(e,i){1&e&&(si(X$),ln(0),ln(1,1))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),t})();const nq=Yp("accordionItemBody",[Im("collapsed",To({overflow:"hidden",visibility:"hidden",height:0})),Im("expanded",To({overflow:"hidden",visibility:"visible"})),Rs("collapsed => expanded",Ps("100ms ease-in")),Rs("expanded => collapsed",Ps("100ms ease-out"))]);let Sw=(()=>{class t{constructor(e,i){this.accordionItem=e,this.cd=i,this.destroy$=new Ct}get state(){return this.accordionItem.collapsed?"collapsed":"expanded"}ngOnInit(){this.accordionItem.accordionItemInvalidate.pipe(Dt(this.destroy$)).subscribe(()=>this.cd.markForCheck())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(U(D0,1),U(mi))},t.\u0275cmp=it({type:t,selectors:[["nb-accordion-item-body"]],ngContentSelectors:ns,decls:3,vars:3,consts:[[1,"item-body"]],template:function(e,i){1&e&&(si(),W(0,"div")(1,"div",0),ln(2),q()()),2&e&&P("@accordionItemBody",tn(1,J$,i.state))},encapsulation:2,data:{animation:[nq]},changeDetection:0}),t})(),Tw=(()=>{class t{constructor(e,i){this.accordionItem=e,this.cd=i,this.destroy$=new Ct}get isCollapsed(){return this.accordionItem.collapsed}get expanded(){return!this.accordionItem.collapsed}get tabbable(){return this.accordionItem.disabled?"-1":"0"}get disabled(){return this.accordionItem.disabled}toggle(){this.accordionItem.toggle()}get state(){return this.isCollapsed?"collapsed":"expanded"}ngOnInit(){this.accordionItem.accordionItemInvalidate.pipe(Dt(this.destroy$)).subscribe(()=>this.cd.markForCheck())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(U(D0,1),U(mi))},t.\u0275cmp=it({type:t,selectors:[["nb-accordion-item-header"]],hostVars:7,hostBindings:function(e,i){1&e&&De("click",function(){return i.toggle()})("keydown.space",function(){return i.toggle()})("keydown.enter",function(){return i.toggle()}),2&e&&(dn("aria-expanded",i.expanded)("tabindex",i.tabbable)("aria-disabled",i.disabled),Gt("accordion-item-header-collapsed",i.isCollapsed)("accordion-item-header-expanded",i.expanded))},ngContentSelectors:nG,decls:4,vars:1,consts:[["icon","chevron-down-outline","pack","nebular-essentials","class","expansion-indicator",4,"ngIf"],["icon","chevron-down-outline","pack","nebular-essentials",1,"expansion-indicator"]],template:function(e,i){1&e&&(si(tG),ln(0),ln(1,1),ln(2,2),K(3,eG,1,1,"nb-icon",0)),2&e&&(V(3),P("ngIf",!i.disabled))},dependencies:[Dn,Mr],styles:["[_nghost-%COMP%]{display:flex;align-items:center;cursor:pointer}[_nghost-%COMP%]:focus{outline:0}"],data:{animation:[Yp("expansionIndicator",[Im("expanded",To({transform:"rotate(180deg)"})),Rs("collapsed => expanded",Ps("100ms ease-in")),Rs("expanded => collapsed",Ps("100ms ease-out"))])]},changeDetection:0}),t})(),TM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,_s]}),t})();new At("NB_BUTTON_GROUP");let rq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();new At("NB_SORT_HEADER_COLUMN_DEF");const DM=new At("Default dialog options");class EM{constructor(n){this.hasBackdrop=!0,this.backdropClass="overlay-backdrop",this.dialogClass="",this.closeOnBackdropClick=!0,this.closeOnEsc=!0,this.hasScroll=!1,this.autoFocus=!0,Object.assign(this,n)}}class P5{constructor(n){this.overlayRef=n,this.onClose$=new Ct,this.onClose=this.onClose$.asObservable(),this.onBackdropClick=this.overlayRef.backdropClick()}close(n){this.overlayRef.detach(),this.overlayRef.dispose(),this.onClose$.next(n),this.onClose$.complete()}}let vq=(()=>{class t{constructor(e,i,r){this.config=e,this.elementRef=i,this.focusTrapFactory=r}ngOnInit(){this.config.autoFocus&&(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElement())}ngOnDestroy(){this.config.autoFocus&&this.focusTrap&&this.focusTrap.restoreFocus()}attachComponentPortal(e){return this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.attachTemplatePortal(e)}}return t.\u0275fac=function(e){return new(e||t)(U(EM),U(Yt),U(aP))},t.\u0275cmp=it({type:t,selectors:[["nb-dialog-container"]],viewQuery:function(e,i){if(1&e&&An(lP,7),2&e){let r;St(r=Tt())&&(i.portalOutlet=r.first)}},decls:1,vars:0,consts:[["nbPortalOutlet",""]],template:function(e,i){1&e&&K(0,iG,0,0,"ng-template",0)},dependencies:[lP],encapsulation:2}),t})(),E0=(()=>{class t{constructor(e,i,r,s,d,m){this.document=e,this.globalConfig=i,this.positionBuilder=r,this.overlay=s,this.injector=d,this.cfr=m}open(e,i={}){const r=new EM({...this.globalConfig,...i}),s=this.createOverlay(r),d=new P5(s),m=this.createContainer(r,s);return this.createContent(r,e,m,d),this.registerCloseListeners(r,s,d),d}createOverlay(e){const i=this.createPositionStrategy(),r=this.createScrollStrategy(e.hasScroll);return this.overlay.create({positionStrategy:i,scrollStrategy:r,hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.dialogClass})}createPositionStrategy(){return this.positionBuilder.global().centerVertically().centerHorizontally()}createScrollStrategy(e){return e?this.overlay.scrollStrategies.noop():this.overlay.scrollStrategies.block()}createContainer(e,i){const r=new hP(this.createInjector(e),new WeakMap([[EM,e]])),s=new x0(vq,null,r,this.cfr);return i.attach(s).instance}createContent(e,i,r,s){if(i instanceof nr){const d=this.createTemplatePortal(e,i,s);r.attachTemplatePortal(d)}else{const d=this.createComponentPortal(e,i,s);s.componentRef=r.attachComponentPortal(d),e.context&&Object.assign(s.componentRef.instance,{...e.context})}}createTemplatePortal(e,i,r){return new JG(i,null,{$implicit:e.context,dialogRef:r})}createComponentPortal(e,i,r){const s=this.createInjector(e),d=new hP(s,new WeakMap([[P5,r]]));return new x0(i,e.viewContainerRef,d)}createInjector(e){return e.viewContainerRef&&e.viewContainerRef.injector||this.injector}registerCloseListeners(e,i,r){e.closeOnBackdropClick&&i.backdropClick().subscribe(()=>r.close()),e.closeOnEsc&&eo(this.document,"keyup").pipe(Cn(s=>27===s.keyCode),Dt(r.onClose)).subscribe(()=>r.close())}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ns),Ee(DM),Ee(T0),Ee(M0),Ee(Fo),Ee(yl))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Mw=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[E0,{provide:DM,useValue:e}]}}static forChild(e={}){return{ngModule:t,providers:[E0,{provide:DM,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,gw]}),t})(),R5=(()=>{class t{constructor(e,i,r){this.renderer=e,this.elementRef=i,this.statusService=r,this.destroy=new Xe,this.toastClick=new Xe}get success(){return"success"===this.toast.config.status}get info(){return"info"===this.toast.config.status}get warning(){return"warning"===this.toast.config.status}get primary(){return"primary"===this.toast.config.status}get danger(){return"danger"===this.toast.config.status}get basic(){return"basic"===this.toast.config.status}get control(){return"control"===this.toast.config.status}get destroyByClick(){return this.toast.config.destroyByClick}get hasIcon(){const{icon:e}=this.toast.config;return"string"==typeof e||!(!e||!e.icon)}get customIcon(){return!!this.icon}get icon(){return this.toast.config.icon}get additionalClasses(){return this.statusService.isCustomStatus(this.toast.config.status)?[this.statusService.getStatusClass(this.toast.config.status)]:[]}onClick(){this.toastClick.emit()}ngOnInit(){this.toast.config.toastClass&&this.renderer.addClass(this.elementRef.nativeElement,this.toast.config.toastClass)}ngOnDestroy(){this.destroy.emit()}}return t.\u0275fac=function(e){return new(e||t)(U(cr),U(Yt),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-toast"]],hostVars:22,hostBindings:function(e,i){1&e&&De("click",function(){return i.onClick()}),2&e&&(Si(i.additionalClasses),Gt("status-success",i.success)("status-info",i.info)("status-warning",i.warning)("status-primary",i.primary)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)("destroy-by-click",i.destroyByClick)("has-icon",i.hasIcon)("custom-icon",i.customIcon))},inputs:{toast:"toast"},outputs:{destroy:"destroy",toastClick:"toastClick"},decls:6,vars:3,consts:[["class","icon-container",4,"ngIf"],[1,"content-container"],[1,"title","subtitle"],[1,"message"],[1,"icon-container"],[3,"config"]],template:function(e,i){1&e&&(K(0,rG,2,1,"div",0),W(1,"div",1)(2,"span",2),Pe(3),q(),W(4,"div",3),Pe(5),q()()),2&e&&(P("ngIf",i.hasIcon&&i.icon),V(3),Sn(i.toast.title),V(2),Sn(i.toast.message))},dependencies:[Dn,Mr],styles:["[_nghost-%COMP%]{display:flex;align-items:center;width:25rem;margin:.5rem}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:.25rem}.default[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.has-icon)   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.destroy-by-click[_nghost-%COMP%]{cursor:pointer}[_nghost-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}"]}),t})();const N5=To({transform:"translateX({{ direction }}110%)",height:0,marginLeft:"0",marginRight:"0",marginTop:"0",marginBottom:"0"}),L5={params:{direction:""}};let bq=(()=>{class t{constructor(e,i){this.layoutDirection=e,this.positionHelper=i,this.destroy$=new Ct,this.content=[]}ngOnInit(){this.layoutDirection.onDirectionChange().pipe(Dt(this.destroy$)).subscribe(()=>this.onDirectionChange())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onDirectionChange(){const e=this.positionHelper.isRightPosition(this.position)?"":"-";this.fadeIn={value:"",params:{direction:e}}}}return t.\u0275fac=function(e){return new(e||t)(U(bu),U(cM))},t.\u0275cmp=it({type:t,selectors:[["nb-toastr-container"]],viewQuery:function(e,i){if(1&e&&An(R5,5),2&e){let r;St(r=Tt())&&(i.toasts=r)}},inputs:{content:"content",context:"context",position:"position"},decls:1,vars:1,consts:[[3,"toast",4,"ngFor","ngForOf"],[3,"toast"]],template:function(e,i){1&e&&K(0,oG,1,2,"nb-toast",0),2&e&&P("ngForOf",i.content)},dependencies:[$r,R5],encapsulation:2,data:{animation:[Yp("fadeIn",[Rs(":enter",[N5,Ps(100)],L5),Rs(":leave",[Ps(100,N5)],L5)])]}}),t})();const F5=new At("Default toastr options");class wq{constructor(n){this.position=Ir.TOP_END,this.status="basic",this.duration=3e3,this.destroyByClick=!0,this.preventDuplicates=!1,this.duplicatesBehaviour="previous",this.limit=null,this.toastClass="",this.hasIcon=!0,this.icon="email",this.icons={danger:"flash-outline",success:"checkmark-outline",info:"question-mark-outline",warning:"alert-triangle-outline",primary:"email-outline",control:"email-outline",basic:"email-outline"},this.patchIcon(n),Object.assign(this,n)}patchIcon(n){"icon"in n||(n.icon={icon:this.icons[n.status]||this.icons.basic,pack:"nebular-essentials"})}}class Cq{constructor(n,e){this.toastContainer=n,this.toast=e}close(){this.toastContainer.destroy(this.toast)}onClose(){return this.toastInstance.destroy.asObservable()}onClick(){return this.toastInstance.toastClick.asObservable()}}class xq{constructor(n,e,i){this.position=n,this.containerRef=e,this.positionHelper=i,this.toasts=[],this.toastDuplicateCompareFunc=(r,s)=>r.message===s.message&&r.title===s.title&&r.config.status===s.config.status}get nativeElement(){return this.containerRef.location.nativeElement}attach(n){if(n.config.preventDuplicates&&this.isDuplicate(n))return;this.removeToastIfLimitReached(n);const e=this.attachToast(n);n.config.destroyByClick&&this.subscribeOnClick(e,n),n.config.duration&&this.setDestroyTimeout(n),this.prevToast=n;const i=new Cq(this,n);return i.toastInstance=e,i}destroy(n){this.prevToast===n&&(this.prevToast=null),this.toasts=this.toasts.filter(e=>e!==n),this.updateContainer()}isDuplicate(n){return"previous"===n.config.duplicatesBehaviour?this.isDuplicatePrevious(n):this.isDuplicateAmongAll(n)}isDuplicatePrevious(n){return this.prevToast&&this.toastDuplicateCompareFunc(this.prevToast,n)}isDuplicateAmongAll(n){return this.toasts.some(e=>this.toastDuplicateCompareFunc(e,n))}removeToastIfLimitReached(n){!n.config.limit||this.toasts.length<n.config.limit||(this.positionHelper.isTopPosition(n.config.position)?this.toasts.pop():this.toasts.shift())}attachToast(n){return this.positionHelper.isTopPosition(n.config.position)?this.attachToTop(n):this.attachToBottom(n)}attachToTop(n){return this.toasts.unshift(n),this.updateContainer(),this.containerRef.instance.toasts.first}attachToBottom(n){return this.toasts.push(n),this.updateContainer(),this.containerRef.instance.toasts.last}setDestroyTimeout(n){setTimeout(()=>this.destroy(n),n.config.duration)}subscribeOnClick(n,e){n.toastClick.pipe(Cn(()=>e.config.destroyByClick),Dt(n.destroy)).subscribe(()=>this.destroy(e))}updateContainer(){!function uM(t,n){return Object.assign(t.instance,n),t.changeDetectorRef.detectChanges(),t}(this.containerRef,{content:this.toasts,position:this.position})}}let z5=(()=>{class t{constructor(e,i,r,s,d){this.overlay=e,this.positionBuilder=i,this.positionHelper=r,this.cfr=s,this.document=d,this.overlays=new Map}get(e){const i=this.positionHelper.toLogicalPosition(e),r=this.overlays.get(i);return(!r||!this.existsInDom(r.toastrContainer))&&(r&&r.overlayRef.dispose(),this.instantiateContainer(i)),this.overlays.get(i).toastrContainer}instantiateContainer(e){const i=this.createContainer(e);this.overlays.set(e,i)}createContainer(e){const i=this.positionBuilder.global().position(e),r=this.overlay.create({positionStrategy:i});this.addClassToOverlayHost(r);const s=r.attach(new x0(bq,null,null,this.cfr));return{overlayRef:r,toastrContainer:new xq(e,s,this.positionHelper)}}addClassToOverlayHost(e){e.hostElement.classList.add("toastr-overlay-container")}existsInDom(e){return this.document.body.contains(e.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)(Ee(M0),Ee(T0),Ee(cM),Ee(yl),Ee(Ns))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),IM=(()=>{class t{constructor(e,i){this.globalConfig=e,this.containerRegistry=i}show(e,i,r){const s=new wq({...this.globalConfig,...r});return this.containerRegistry.get(s.position).attach({message:e,title:i,config:s})}success(e,i,r){return this.show(e,i,{...r,status:"success"})}info(e,i,r){return this.show(e,i,{...r,status:"info"})}warning(e,i,r){return this.show(e,i,{...r,status:"warning"})}primary(e,i,r){return this.show(e,i,{...r,status:"primary"})}danger(e,i,r){return this.show(e,i,{...r,status:"danger"})}default(e,i,r){return this.show(e,i,{...r,status:"basic"})}control(e,i,r){return this.default(e,i,{...r,status:"control"})}}return t.\u0275fac=function(e){return new(e||t)(Ee(F5),Ee(z5))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),B5=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[IM,z5,{provide:F5,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,gw,_s]}),t})();const kM=new At("NB_SELECT_INJECTION_TOKEN");let Sq=0,I0=(()=>{class t{constructor(e,i,r,s,d){this.elementRef=i,this.cd=r,this.zone=s,this.renderer=d,this.disabledByGroup=!1,this._disabled=!1,this.selectionChange=new Xe,this.click$=new Ct,this.selected=!1,this.alive=!0,this.id="nb-option-"+Sq++,this._active=!1,this.parent=e}get disabled(){return this._disabled||this.disabledByGroup}set disabled(e){this._disabled=nn(e)}get click(){return this.click$.asObservable()}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"nb-transition")}))}get withCheckbox(){return this.multiple&&null!=this.value}get content(){return this.elementRef.nativeElement.textContent}get hidden(){return this.elementRef.nativeElement.hidden}get multiple(){return!!this.parent&&this.parent.multiple}get selectedClass(){return this.selected}get disabledAttribute(){return this.disabled?"":null}get tabindex(){return"-1"}get activeClass(){return this._active}onClick(e){this.click$.next(this),e.preventDefault()}select(){this.setSelection(!0)}deselect(){this.setSelection(!1)}setDisabledByGroupState(e){this.disabledByGroup!==e&&this.alive&&(this.disabledByGroup=e,this.cd.markForCheck())}setSelection(e){this.alive&&this.selected!==e&&(this.selected=e,this.selectionChange.emit(this),this.cd.markForCheck())}focus(){this.elementRef.nativeElement.focus()}getLabel(){return this.content}setActiveStyles(){this._active=!0,this.cd.markForCheck()}setInactiveStyles(){this._active=!1,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(U(kM,8),U(Yt),U(mi),U(Hn),U(cr))},t.\u0275cmp=it({type:t,selectors:[["nb-option"]],hostVars:9,hostBindings:function(e,i){1&e&&De("click",function(s){return i.onClick(s)})("keydown.space",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onClick(s)}),2&e&&(Pb("tabIndex",i.tabindex),dn("id",i.id)("disabled",i.disabledAttribute),Gt("multiple",i.multiple)("selected",i.selectedClass)("active",i.activeClass))},inputs:{value:"value",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},ngContentSelectors:ns,decls:2,vars:1,consts:[["aria-hidden","true",3,"checked","disabled",4,"ngIf"],["aria-hidden","true",3,"checked","disabled"]],template:function(e,i){1&e&&(si(),K(0,sG,1,2,"nb-checkbox",0),ln(1)),2&e&&P("ngIf",i.withCheckbox)},dependencies:[Dn,n5],styles:["[_nghost-%COMP%]{display:flex}[hidden][_nghost-%COMP%]{display:none}[_nghost-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{display:flex;pointer-events:none}[dir=ltr]   [_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   [_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   nb-checkbox[_ngcontent-%COMP%]     .label{padding:0}[disabled][_nghost-%COMP%]{pointer-events:none}.nb-transition[_nghost-%COMP%]{transition-duration:.15s;transition-property:background-color,color;transition-timing-function:ease-in}"],changeDetection:0}),t})(),Dw=(()=>{class t{constructor(){this.size="medium"}get positionTop(){return this.position===hn.TOP}get positionBottom(){return this.position===hn.BOTTOM}get sizeTiny(){return"tiny"===this.size}get sizeSmall(){return"small"===this.size}get sizeMedium(){return"medium"===this.size}get sizeLarge(){return"large"===this.size}get sizeGiant(){return"giant"===this.size}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-option-list"]],hostVars:14,hostBindings:function(e,i){2&e&&Gt("position-top",i.positionTop)("position-bottom",i.positionBottom)("size-tiny",i.sizeTiny)("size-small",i.sizeSmall)("size-medium",i.sizeMedium)("size-large",i.sizeLarge)("size-giant",i.sizeGiant)},inputs:{size:"size",position:"position"},ngContentSelectors:ns,decls:2,vars:0,consts:[[1,"option-list"]],template:function(e,i){1&e&&(si(),W(0,"ul",0),ln(1),q())},encapsulation:2,changeDetection:0}),t})(),AM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["nb-select-label"]],ngContentSelectors:ns,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})();function V5(){const t=new ky;return t.supportsSuffix=!1,t}let H5=(()=>{class t{constructor(e,i,r,s,d,m,b,S,I,R,G){this.document=e,this.overlay=i,this.hostRef=r,this.positionBuilder=s,this.triggerStrategyBuilder=d,this.cd=m,this.focusKeyManagerFactoryService=b,this.focusMonitor=S,this.renderer=I,this.zone=R,this.statusService=G,this.size="medium",this.status="basic",this.shape="rectangle",this.appearance="outline",this._fullWidth=!1,this.placeholder="",this._compareWith=(X,ie)=>X===ie,this._multiple=!1,this.optionsOverlayOffset=8,this.scrollStrategy="block",this.selectedChange=new Xe,this.selectionModel=[],this.overlayPosition="",this.alive=!0,this.destroy$=new Ct,this.onChange=()=>{},this.onTouched=()=>{},this.status$=new Ni(this.status),this.size$=new Ni(this.size),this.focused$=new Ni(!1),this.disabled$=new Ni(this.disabled),this.fullWidth$=new Ni(this.fullWidth)}get optionsWidth(){return this._optionsWidth??this.hostWidth}set optionsWidth(e){this._optionsWidth=e}get outline(){return"outline"===this.appearance}set outline(e){nn(e)&&(this.appearance="outline")}get filled(){return"filled"===this.appearance}set filled(e){nn(e)&&(this.appearance="filled")}get hero(){return"hero"===this.appearance}set hero(e){nn(e)&&(this.appearance="hero")}get disabled(){return!!this._disabled}set disabled(e){this._disabled=nn(e)}get fullWidth(){return this._fullWidth}set fullWidth(e){this._fullWidth=nn(e)}get compareWith(){return this._compareWith}set compareWith(e){"function"==typeof e&&(this._compareWith=e,this.selectionModel.length&&this.canSelectValue()&&this.setSelection(this.selected))}set selected(e){this.writeValue(e)}get selected(){return this.multiple?this.selectionModel.map(e=>e.value):this.selectionModel[0].value}get multiple(){return this._multiple}set multiple(e){this._multiple=nn(e)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}get isOpen(){return this.ref&&this.ref.hasAttached()}get isHidden(){return!this.isOpen}get hostWidth(){return this.button.nativeElement.getBoundingClientRect().width}get selectButtonClasses(){const e=[];return this.selectionModel.length||e.push("placeholder"),!this.selectionModel.length&&!this.placeholder&&e.push("empty"),this.isOpen&&e.push(this.overlayPosition),e}get selectionView(){return this.selectionModel.length>1?this.selectionModel.map(e=>e.content).join(", "):this.selectionModel[0].content}ngOnChanges({disabled:e,status:i,size:r,fullWidth:s}){e&&this.disabled$.next(e.currentValue),i&&this.status$.next(i.currentValue),r&&this.size$.next(r.currentValue),s&&this.fullWidth$.next(this.fullWidth)}ngAfterContentInit(){this.options.changes.pipe(vc(this.options),Cn(()=>null!=this.queue&&this.canSelectValue()),Pr(e=>Fi(Promise.resolve(e))),Dt(this.destroy$)).subscribe(()=>this.writeValue(this.queue))}ngAfterViewInit(){this.triggerStrategy=this.createTriggerStrategy(),this.subscribeOnButtonFocus(),this.subscribeOnTriggers(),this.subscribeOnOptionClick(),this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.hostRef.nativeElement,"nb-transition")}))}ngOnDestroy(){this.alive=!1,this.destroy$.next(),this.destroy$.complete(),this.ref&&this.ref.dispose(),this.triggerStrategy&&this.triggerStrategy.destroy()}show(){this.shouldShow()&&(this.attachToOverlay(),this.positionStrategy.positionChange.pipe(Da(1),Dt(this.destroy$)).subscribe(()=>{this.setActiveOption()}),this.cd.markForCheck())}hide(){this.isOpen&&(this.ref.detach(),this.cd.markForCheck())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}writeValue(e){!this.alive||(this.canSelectValue()?(this.setSelection(e),this.selectionModel.length&&(this.queue=null)):this.queue=e)}handleOptionClick(e){this.queue=null,null==e.value?this.reset():this.selectOption(e),this.cd.markForCheck()}reset(){this.selectionModel.forEach(e=>e.deselect()),this.selectionModel=[],this.hide(),this.button.nativeElement.focus(),this.emitSelected(this.multiple?[]:null)}selectOption(e){this.multiple?this.handleMultipleSelect(e):this.handleSingleSelect(e)}handleSingleSelect(e){const i=this.selectionModel.pop();i&&!this._compareWith(i.value,e.value)&&i.deselect(),this.selectionModel=[e],e.select(),this.hide(),this.button.nativeElement.focus(),this.emitSelected(e.value)}handleMultipleSelect(e){e.selected?(this.selectionModel=this.selectionModel.filter(i=>!this._compareWith(i.value,e.value)),e.deselect()):(this.selectionModel.push(e),e.select()),this.emitSelected(this.selectionModel.map(i=>i.value))}attachToOverlay(){this.ref||(this.createOverlay(),this.subscribeOnPositionChange(),this.createKeyManager(),this.subscribeOnOverlayKeys()),this.ref.attach(this.portal)}setActiveOption(){this.selectionModel.length?this.keyManager.setActiveItem(this.selectionModel[0]):this.keyManager.setFirstItemActive()}createOverlay(){const e=this.createScrollStrategy();this.positionStrategy=this.createPositionStrategy(),this.ref=this.overlay.create({positionStrategy:this.positionStrategy,scrollStrategy:e,panelClass:this.optionsPanelClass})}createKeyManager(){this.keyManager=this.focusKeyManagerFactoryService.create(this.options).withTypeAhead(200)}createPositionStrategy(){return this.positionBuilder.connectedTo(this.button).position(hn.BOTTOM).offset(this.optionsOverlayOffset).adjustment(wc.VERTICAL)}createScrollStrategy(){return this.overlay.scrollStrategies[this.scrollStrategy]()}createTriggerStrategy(){return this.triggerStrategyBuilder.trigger(Cc.CLICK).host(this.hostRef.nativeElement).container(()=>this.getContainer()).build()}subscribeOnTriggers(){this.triggerStrategy.show$.subscribe(()=>this.show()),this.triggerStrategy.hide$.pipe(Cn(()=>this.isOpen)).subscribe(e=>{this.hide(),this.isClickedWithinComponent(e)||this.onTouched()})}subscribeOnPositionChange(){this.positionStrategy.positionChange.pipe(Dt(this.destroy$)).subscribe(e=>{this.overlayPosition=e,this.cd.detectChanges()})}subscribeOnOptionClick(){this.options.changes.pipe(vc(this.options),Pr(e=>ro(...e.map(i=>i.click))),Dt(this.destroy$)).subscribe(e=>this.handleOptionClick(e))}subscribeOnOverlayKeys(){this.ref.keydownEvents().pipe(Cn(()=>this.isOpen),Dt(this.destroy$)).subscribe(e=>{27===e.keyCode?(this.button.nativeElement.focus(),this.hide()):this.keyManager.onKeydown(e)}),this.keyManager.tabOut.pipe(Dt(this.destroy$)).subscribe(()=>{this.hide(),this.onTouched()})}subscribeOnButtonFocus(){this.focusMonitor.monitor(this.button).pipe(Kt(e=>!!e),bm(()=>this.focusMonitor.stopMonitoring(this.button)),Dt(this.destroy$)).subscribe(this.focused$)}getContainer(){return this.ref&&this.ref.hasAttached()&&{location:{nativeElement:this.ref.overlayElement}}}emitSelected(e){this.onChange(e),this.selectedChange.emit(e)}setSelection(e){const i=null==e;let r=e;this.multiple&&(r=e??[]);const s=Array.isArray(r);if(this.multiple&&!s&&!i)throw new Error("Can't assign single value if select is marked as multiple");if(!this.multiple&&s)throw new Error("Can't assign array if select is not marked as multiple");const d=this.selectionModel;this.selectionModel=[],this.multiple?r.forEach(m=>this.selectValue(m)):this.selectValue(r),d.filter(m=>!this.selectionModel.includes(m)).forEach(m=>m.deselect()),this.cd.markForCheck()}selectValue(e){if(null==e)return;const i=this.options.find(r=>this._compareWith(r.value,e));i&&(i.select(),this.selectionModel.push(i))}shouldShow(){return this.isHidden&&this.options?.length>0}trySetTouched(){this.isHidden&&this.onTouched()}isClickedWithinComponent(e){return this.hostRef.nativeElement===e.target||this.hostRef.nativeElement.contains(e.target)}canSelectValue(){return!(!this.options||!this.options.length)}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get rectangle(){return"rectangle"===this.shape}get round(){return"round"===this.shape}get semiRound(){return"semi-round"===this.shape}}return t.\u0275fac=function(e){return new(e||t)(U(Ns),U(M0),U(Yt),U(T0),U(mw),U(mi),U(sM),U(fw),U(cr),U(Hn),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-select"]],contentQueries:function(e,i,r){if(1&e&&(_i(r,AM,5),_i(r,I0,5)),2&e){let s;St(s=Tt())&&(i.customLabel=s.first),St(s=Tt())&&(i.options=s)}},viewQuery:function(e,i){if(1&e&&(An(C0,5),An(YO,5,Yt)),2&e){let r;St(r=Tt())&&(i.portal=r.first),St(r=Tt())&&(i.button=r.first)}},hostVars:42,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("appearance-outline",i.outline)("appearance-filled",i.filled)("appearance-hero",i.hero)("full-width",i.fullWidth)("open",i.isOpen)("size-tiny",i.tiny)("size-small",i.small)("size-medium",i.medium)("size-large",i.large)("size-giant",i.giant)("status-primary",i.primary)("status-info",i.info)("status-success",i.success)("status-warning",i.warning)("status-danger",i.danger)("status-basic",i.basic)("status-control",i.control)("shape-rectangle",i.rectangle)("shape-round",i.round)("shape-semi-round",i.semiRound))},inputs:{size:"size",status:"status",shape:"shape",appearance:"appearance",optionsListClass:"optionsListClass",optionsPanelClass:"optionsPanelClass",optionsWidth:"optionsWidth",outline:"outline",filled:"filled",hero:"hero",disabled:"disabled",fullWidth:"fullWidth",placeholder:"placeholder",compareWith:"compareWith",selected:"selected",multiple:"multiple",optionsOverlayOffset:"optionsOverlayOffset",scrollStrategy:"scrollStrategy"},outputs:{selectedChange:"selectedChange"},features:[qt([{provide:to,useExisting:Bn(()=>t),multi:!0},{provide:kM,useExisting:t},{provide:ww,useExisting:t},{provide:ky,useFactory:V5}]),pi],ngContentSelectors:QO,decls:8,vars:4,consts:[["type","button",1,"select-button",3,"disabled","ngClass","blur","keydown.arrowDown","keydown.arrowUp"],["selectButton",""],[3,"click"],[4,"ngIf","ngIfElse"],["placeholderTemplate",""],["icon","chevron-down-outline","pack","nebular-essentials","aria-hidden","true",3,"click"],[3,"size","position","width","ngClass",4,"nbPortal"],["defaultSelectionTemplate",""],[3,"size","position","ngClass"]],template:function(e,i){if(1&e&&(si(XO),W(0,"button",0,1),De("blur",function(){return i.trySetTouched()})("keydown.arrowDown",function(){return i.show()})("keydown.arrowUp",function(){return i.show()}),W(2,"span",2),De("click",function(s){return i.disabled&&s.stopPropagation()}),K(3,cG,4,2,"ng-container",3),K(4,uG,1,1,"ng-template",null,4,Sr),q(),W(6,"nb-icon",5),De("click",function(s){return i.disabled&&s.stopPropagation()}),q()(),K(7,dG,2,5,"nb-option-list",6)),2&e){const r=En(5);P("disabled",i.disabled)("ngClass",i.selectButtonClasses),V(3),P("ngIf",i.selectionModel.length)("ngIfElse",r)}},dependencies:[xo,Dn,C0,Mr,Dw],styles:["[_nghost-%COMP%]{display:inline-block;max-width:100%}[dir=ltr]   [_nghost-%COMP%]   .select-button[_ngcontent-%COMP%]{text-align:left}[dir=ltr]   [_nghost-%COMP%]   .select-button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{right:.2em}[dir=rtl]   [_nghost-%COMP%]   .select-button[_ngcontent-%COMP%]{text-align:right}[dir=rtl]   [_nghost-%COMP%]   .select-button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{left:.2em}.full-width[_nghost-%COMP%]{width:100%}.nb-transition[_nghost-%COMP%]   .select-button[_ngcontent-%COMP%]{transition-duration:.15s;transition-property:background-color,border-color,border-radius,box-shadow,color;transition-timing-function:ease-in}.select-button[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;text-overflow:ellipsis;text-transform:none;white-space:nowrap}nb-icon[_ngcontent-%COMP%]{font-size:1.5em;position:absolute;top:50%;transform:translateY(-50%);transition-duration:.15s;transition-property:transform;transition-timing-function:ease-in}[dir=ltr][_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{right:.5rem}[dir=rtl][_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{left:.5rem}.open[_nghost-%COMP%]   nb-icon[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}"],changeDetection:0}),t})(),U5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,r5]}),t})(),Tq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Qa,gw,Iy,xw,vh,_s,U5,U5]}),t})(),j5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qe({type:t,selectors:[["","nbPrefix",""]]}),t})(),k0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qe({type:t,selectors:[["","nbSuffix",""]]}),t})(),Ry=(()=>{class t{constructor(e,i,r,s){this.cd=e,this.zone=i,this.elementRef=r,this.renderer=s,this.destroy$=new Ct,this.formControlState$=new xl(1),this.prefixClasses$=this.formControlState$.pipe(Kt(d=>this.getAddonClasses("prefix",d))),this.suffixClasses$=this.formControlState$.pipe(Kt(d=>this.getAddonClasses("suffix",d)))}ngAfterContentChecked(){this.formControl||function Mq(){throw new Error("NbFormFieldComponent must contain [nbInput]")}()}ngAfterContentInit(){this.subscribeToFormControlStateChange(),this.subscribeToAddonChange()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"nb-transition")}))}ngOnDestroy(){this.destroy$.next()}shouldShowPrefix(){return this.getFormControlConfig().supportsPrefix&&!!this.prefix.length}shouldShowSuffix(){return this.getFormControlConfig().supportsSuffix&&!!this.suffix.length}subscribeToFormControlStateChange(){const{disabled$:e,focused$:i,size$:r,status$:s,fullWidth$:d}=this.formControl;vm([e,i,r,s,d]).pipe(Kt(([m,b,S,I,R])=>({disabled:m,focused:b,size:S,status:I,fullWidth:R})),F2((m,b)=>this.isStatesEqual(m,b)),ts(({size:m,fullWidth:b})=>{const S=[`nb-form-field-size-${m}`];b||S.push("nb-form-field-limited-width"),this.formFieldClasses=S.join(" ")}),Dt(this.destroy$)).subscribe(this.formControlState$)}subscribeToAddonChange(){ro(this.prefix.changes,this.suffix.changes).pipe(Dt(this.destroy$)).subscribe(()=>this.cd.markForCheck())}getAddonClasses(e,i){const r=["nb-form-field-addon",`nb-form-field-${e}-${i.size}`];return r.push(i.disabled?"nb-form-field-addon-disabled":i.focused?`nb-form-field-addon-${i.status}-highlight`:`nb-form-field-addon-${i.status}`),r}getFormControlConfig(){return this.formControlConfig||new ky}isStatesEqual(e,i){return e.status===i.status&&e.disabled===i.disabled&&e.focused===i.focused&&e.fullWidth===i.fullWidth&&e.size===i.size}}return t.\u0275fac=function(e){return new(e||t)(U(mi),U(Hn),U(Yt),U(cr))},t.\u0275cmp=it({type:t,selectors:[["nb-form-field"]],contentQueries:function(e,i,r){if(1&e&&(_i(r,ww,5),_i(r,ky,5),_i(r,j5,5),_i(r,k0,5)),2&e){let s;St(s=Tt())&&(i.formControl=s.first),St(s=Tt())&&(i.formControlConfig=s.first),St(s=Tt())&&(i.prefix=s),St(s=Tt())&&(i.suffix=s)}},hostVars:2,hostBindings:function(e,i){2&e&&Si(i.formFieldClasses)},ngContentSelectors:_G,decls:4,vars:6,consts:[[3,"ngClass",4,"ngIf"],[1,"nb-form-control-container"],[3,"ngClass"]],template:function(e,i){1&e&&(si(gG),K(0,fG,3,3,"div",0),W(1,"div",1),ln(2),q(),K(3,mG,3,3,"div",0)),2&e&&(P("ngIf",i.shouldShowPrefix()),V(1),Gt("nb-form-field-control-with-prefix",i.shouldShowPrefix())("nb-form-field-control-with-suffix",i.shouldShowSuffix()),V(2),P("ngIf",i.shouldShowSuffix()))},dependencies:[xo,Dn,s2],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[hidden][_nghost-%COMP%]{display:none}.nb-form-control-container[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),t})(),Eq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();new At("Nebular Window Content"),new At("Nebular Window Config"),new At("Nebular Window Context");let $5=(()=>{class t{constructor(e,i,r){this.cd=e,this.renderer=i,this.statusService=r,this._checked=!1,this._disabled=!1,this.status="basic",this.valueChange=new Xe,this.blur=new Xe}get name(){return this._name}set name(e){this._name!==e&&(this._name=e)}get checked(){return this._checked}set checked(e){const i=nn(e);this._checked!==i&&(this._checked=i)}get value(){return this._value}set value(e){this._value!==e&&(this._value=e)}get disabled(){return this._disabled}set disabled(e){const i=nn(e);this._disabled!==i&&(this._disabled=i)}get isPrimary(){return"primary"===this.status}get isSuccess(){return"success"===this.status}get isWarning(){return"warning"===this.status}get isDanger(){return"danger"===this.status}get isInfo(){return"info"===this.status}get isBasic(){return"basic"===this.status}get isControl(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}onChange(e){e.stopPropagation(),this.checked=!0,this.valueChange.emit(this.value)}onClick(e){e.stopPropagation()}_markForCheck(){this.cd.markForCheck()}_setName(e){this.name=e,this.input&&this.renderer.setProperty(this.input.nativeElement,"name",e)}}return t.\u0275fac=function(e){return new(e||t)(U(mi),U(cr),U(Ja))},t.\u0275cmp=it({type:t,selectors:[["nb-radio"]],viewQuery:function(e,i){if(1&e&&An(kG,5,Yt),2&e){let r;St(r=Tt())&&(i.input=r.first)}},hostVars:16,hostBindings:function(e,i){2&e&&(Si(i.additionalClasses),Gt("status-primary",i.isPrimary)("status-success",i.isSuccess)("status-warning",i.isWarning)("status-danger",i.isDanger)("status-info",i.isInfo)("status-basic",i.isBasic)("status-control",i.isControl))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled",status:"status"},outputs:{valueChange:"valueChange",blur:"blur"},ngContentSelectors:ns,decls:7,vars:4,consts:[["type","radio",1,"native-input","visually-hidden",3,"name","value","checked","disabled","change","click"],["input",""],[1,"outer-circle"],[1,"inner-circle"],[1,"text"]],template:function(e,i){1&e&&(si(),W(0,"label")(1,"input",0,1),De("change",function(s){return i.onChange(s)})("click",function(s){return i.onClick(s)}),q(),at(3,"span",2)(4,"span",3),W(5,"span",4),ln(6),q()()),2&e&&(V(1),P("name",i.name)("value",i.value)("checked",i.checked)("disabled",i.disabled))},styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;margin:0;min-height:inherit;padding:.375rem 0;align-items:center}[dir=ltr]   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{padding-right:1.5rem}[dir=rtl]   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{padding-left:1.5rem}[_nghost-%COMP%]   .outer-circle[_ngcontent-%COMP%], [_nghost-%COMP%]   .inner-circle[_ngcontent-%COMP%]{border-radius:50%;position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr]   [_nghost-%COMP%]   .outer-circle[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .inner-circle[_ngcontent-%COMP%]{left:0}[dir=rtl]   [_nghost-%COMP%]   .outer-circle[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .inner-circle[_ngcontent-%COMP%]{right:0}[_nghost-%COMP%]   .inner-circle[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.6)}[dir=ltr]   [_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:.5rem}[dir=rtl]   [_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding-right:.5rem}"],changeDetection:0}),t})(),Pq=(()=>{class t{constructor(e,i,r){this.hostElement=e,this.platformId=i,this.document=r,this.destroy$=new Ct,this.onChange=s=>{},this.onTouched=()=>{},this._status="basic",this.valueChange=new Xe}get value(){return this._value}set value(e){this._value=e,this.updateValues()}get name(){return this._name}set name(e){this._name=e,this.updateNames()}get disabled(){return this._disabled}set disabled(e){this._disabled=nn(e),this.updateDisabled()}get status(){return this._status}set status(e){this._status!==e&&(this._status=e,this.updateStatus())}ngAfterContentInit(){this.updateNames(),this.radios.changes.pipe(vc(this.radios),Pr(e=>Fi(Promise.resolve(e))),Dt(this.destroy$)).subscribe(()=>this.updateAndSubscribeToRadios())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this.value=e}setDisabledState(e){this.disabled=e}updateAndSubscribeToRadios(){this.updateValueFromCheckedOption(),this.updateNames(),this.updateValues(),this.updateDisabled(),this.updateStatus(),this.subscribeOnRadiosValueChange(),this.subscribeOnRadiosBlur()}updateNames(){this.radios&&this.radios.forEach(e=>e._setName(this.name))}updateValues(){this.updateAndMarkForCheckRadios(e=>e.checked=e.value===this.value)}updateDisabled(){typeof this.disabled<"u"&&this.updateAndMarkForCheckRadios(e=>e.disabled=this.disabled)}subscribeOnRadiosValueChange(){!this.radios||!this.radios.length||ro(...this.radios.map(e=>e.valueChange)).pipe(Dt(ro(this.radios.changes,this.destroy$))).subscribe(e=>{this.writeValue(e),this.propagateValue(e)})}propagateValue(e){this.valueChange.emit(e),this.onChange(e)}subscribeOnRadiosBlur(){const e=!this.radios||!this.radios.length;if(!zp(this.platformId)||e)return;const i=this.hostElement.nativeElement;eo(i,"focusin").pipe(Cn(r=>i.contains(r.target)),Pr(()=>ro(eo(this.document,"focusin"),eo(this.document,"click"))),Cn(r=>!i.contains(r.target)),Dt(ro(this.radios.changes,this.destroy$))).subscribe(()=>this.onTouched())}updateStatus(){this.updateAndMarkForCheckRadios(e=>e.status=this.status)}updateAndMarkForCheckRadios(e){this.radios&&this.radios.forEach(i=>{e(i),i._markForCheck()})}updateValueFromCheckedOption(){const e=this.radios.find(r=>r.checked);e&&null==this.value&&e.value!==this.value&&(this.value=e.value)}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(uh),U(Ns))},t.\u0275cmp=it({type:t,selectors:[["nb-radio-group"]],contentQueries:function(e,i,r){if(1&e&&_i(r,$5,5),2&e){let s;St(s=Tt())&&(i.radios=s)}},inputs:{value:"value",name:"name",disabled:"disabled",status:"status"},outputs:{valueChange:"valueChange"},features:[qt([{provide:to,useExisting:Bn(()=>t),multi:!0}])],ngContentSelectors:OG,decls:1,vars:0,template:function(e,i){1&e&&(si(AG),ln(0))},encapsulation:2,changeDetection:0}),t})(),Rq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})();function X5(t,n,e,i,r,s,d){try{var m=t[s](d),b=m.value}catch(S){return void e(S)}m.done?n(b):Promise.resolve(b).then(i,r)}function dr(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var s=t.apply(n,e);function d(b){X5(s,i,r,d,m,"next",b)}function m(b){X5(s,i,r,d,m,"throw",b)}d(void 0)})}}new At("NB_TREE_GRID");var Ly=wi(898);function Sc(t,n){const e="object"==typeof n;return new Promise((i,r)=>{const s=new Cs({next:d=>{i(d),s.unsubscribe()},error:r,complete:()=>{e?i(n.defaultValue):r(new B_)}});t.subscribe(s)})}const Ls_mapbox_accessToken="pk.eyJ1Ijoic2l5YW5hLWF0YW5hc292YS1kZXYiLCJhIjoiY2xkMDk0cjhzMDBmZzNwcDlmaWkxN2gzbSJ9.wBLviMWYxvlDaEhvxd48tg",Ls_apiURL="https://77.71.12.146:3000";class Q5{}class RM{}class bh{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(d):this.headers.set(s,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof bh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new bh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=n.value;if(s){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===s.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class iZ{encodeKey(n){return J5(n)}encodeValue(n){return J5(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const oZ=/%(\d[a-f0-9])/gi,sZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function J5(t){return encodeURIComponent(t).replace(oZ,(n,e)=>sZ[e]??n)}function Aw(t){return`${t}`}class Jp{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new iZ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rZ(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[d,m]=-1==s?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],b=e.get(d)||[];b.push(m),e.set(d,b)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],r=Array.isArray(i)?i.map(Aw):[Aw(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Jp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Aw(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(Aw(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class aZ{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function eR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tR(t){return typeof Blob<"u"&&t instanceof Blob}function nR(t){return typeof FormData<"u"&&t instanceof FormData}class Fy{constructor(n,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function lZ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bh),this.context||(this.context=new aZ),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new Jp,this.urlWithParams=e}serializeBody(){return null===this.body?null:eR(this.body)||tR(this.body)||nR(this.body)||function cZ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nR(this.body)?null:tR(this.body)?this.body.type||null:eR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,d=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let b=n.headers||this.headers,S=n.params||this.params;const I=n.context??this.context;return void 0!==n.setHeaders&&(b=Object.keys(n.setHeaders).reduce((R,G)=>R.set(G,n.setHeaders[G]),b)),n.setParams&&(S=Object.keys(n.setParams).reduce((R,G)=>R.set(G,n.setParams[G]),S)),new Fy(e,i,s,{params:S,headers:b,context:I,reportProgress:m,responseType:r,withCredentials:d})}}var jo=(()=>((jo=jo||{})[jo.Sent=0]="Sent",jo[jo.UploadProgress=1]="UploadProgress",jo[jo.ResponseHeader=2]="ResponseHeader",jo[jo.DownloadProgress=3]="DownloadProgress",jo[jo.Response=4]="Response",jo[jo.User=5]="User",jo))();class NM{constructor(n,e=200,i="OK"){this.headers=n.headers||new bh,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class LM extends NM{constructor(n={}){super(n),this.type=jo.ResponseHeader}clone(n={}){return new LM({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ow extends NM{constructor(n={}){super(n),this.type=jo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Ow({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class iR extends NM{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function FM(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ef=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Fy)s=e;else{let b,S;b=r.headers instanceof bh?r.headers:new bh(r.headers),r.params&&(S=r.params instanceof Jp?r.params:new Jp({fromObject:r.params})),s=new Fy(e,i,void 0!==r.body?r.body:null,{headers:b,context:r.context,params:S,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Pn(s).pipe(Up(b=>this.handler.handle(b)));if(e instanceof Fy||"events"===r.observe)return d;const m=d.pipe(Cn(b=>b instanceof Ow));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe(Kt(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe(Kt(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe(Kt(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return m.pipe(Kt(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,FM(r,i))}post(e,i,r={}){return this.request("POST",e,FM(r,i))}put(e,i,r={}){return this.request("PUT",e,FM(r,i))}}return t.\u0275fac=function(e){return new(e||t)(Ee(Q5))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class rR{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const zM=new At("HTTP_INTERCEPTORS");let uZ=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const dZ=/^\)\]\}',?\n/;let oR=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zn(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((X,ie)=>r.setRequestHeader(X,ie.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const X=e.detectContentTypeHeader();null!==X&&r.setRequestHeader("Content-Type",X)}if(e.responseType){const X=e.responseType.toLowerCase();r.responseType="json"!==X?X:"text"}const s=e.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const X=r.statusText||"OK",ie=new bh(r.getAllResponseHeaders()),ve=function hZ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new LM({headers:ie,status:r.status,statusText:X,url:ve}),d},b=()=>{let{headers:X,status:ie,statusText:ve,url:Me}=m(),Ke=null;204!==ie&&(Ke=typeof r.response>"u"?r.responseText:r.response),0===ie&&(ie=Ke?200:0);let dt=ie>=200&&ie<300;if("json"===e.responseType&&"string"==typeof Ke){const Ye=Ke;Ke=Ke.replace(dZ,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(It){Ke=Ye,dt&&(dt=!1,Ke={error:It,text:Ke})}}dt?(i.next(new Ow({body:Ke,headers:X,status:ie,statusText:ve,url:Me||void 0})),i.complete()):i.error(new iR({error:Ke,headers:X,status:ie,statusText:ve,url:Me||void 0}))},S=X=>{const{url:ie}=m(),ve=new iR({error:X,status:r.status||0,statusText:r.statusText||"Unknown Error",url:ie||void 0});i.error(ve)};let I=!1;const R=X=>{I||(i.next(m()),I=!0);let ie={type:jo.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),"text"===e.responseType&&!!r.responseText&&(ie.partialText=r.responseText),i.next(ie)},G=X=>{let ie={type:jo.UploadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),i.next(ie)};return r.addEventListener("load",b),r.addEventListener("error",S),r.addEventListener("timeout",S),r.addEventListener("abort",S),e.reportProgress&&(r.addEventListener("progress",R),null!==s&&r.upload&&r.upload.addEventListener("progress",G)),r.send(s),i.next({type:jo.Sent}),()=>{r.removeEventListener("error",S),r.removeEventListener("abort",S),r.removeEventListener("load",b),r.removeEventListener("timeout",S),e.reportProgress&&(r.removeEventListener("progress",R),null!==s&&r.upload&&r.upload.removeEventListener("progress",G)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Ee(rI))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();const BM=new At("XSRF_COOKIE_NAME"),VM=new At("XSRF_HEADER_NAME");class sR{}let pZ=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Z4(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui),Ee(uh),Ee(BM))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),HM=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(sR),Ee(VM))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),fZ=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(zM,[]);this.chain=i.reduceRight((r,s)=>new rR(r,s),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(RM),Ee(Fo))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),mZ=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:HM,useClass:uZ}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:BM,useValue:e.cookieName}:[],e.headerName?{provide:VM,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[HM,{provide:zM,useExisting:HM,multi:!0},{provide:sR,useClass:pZ},{provide:BM,useValue:"XSRF-TOKEN"},{provide:VM,useValue:"X-XSRF-TOKEN"}]}),t})(),aR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[ef,{provide:Q5,useClass:fZ},oR,{provide:RM,useExisting:oR}],imports:[mZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})(),Pw=(()=>{class t{constructor(e){this.http=e}getAllDeliveries(){return Sc(this.http.get(`${Ls_apiURL}/deliveries/`))}getDelivery(e){return Sc(this.http.get(`${Ls_apiURL}/deliveries/${e}`))}}return t.\u0275fac=function(e){return new(e||t)(Ee(ef))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gZ(t,n){if(1&t){const e=bt();W(0,"nb-accordion-item-body",13),De("click",function(){const s=ye(e).$implicit;return me(z(2).onPkgClicked(s))}),Pe(1),q()}if(2&t){const e=n.$implicit;V(1),ei(" ",e," ")}}const _Z=function(t){return{"height.%":t}};function yZ(t,n){if(1&t){const e=bt();W(0,"div",1)(1,"div",2)(2,"h5"),Pe(3," Delivery "),W(4,"nb-icon",3),De("click",function(){return ye(e),me(z().onDeliveryClick())}),q()(),W(5,"p"),Pe(6),q(),W(7,"p"),Pe(8),wl(9,"uppercase"),wl(10,"uppercase"),q()(),W(11,"div",4)(12,"h5"),Pe(13," Truck "),W(14,"nb-icon",3),De("click",function(){ye(e);const r=z();return me(r.onTruckClick(r.delivery.truck))}),q()(),W(15,"p"),Pe(16),q(),W(17,"div",5),at(18,"nb-icon",6),W(19,"div",7),at(20,"div",8),W(21,"p",9),Pe(22),q(),W(23,"p",10),Pe(24),q()()()(),W(25,"div",11)(26,"nb-accordion")(27,"nb-accordion-item")(28,"nb-accordion-item-header"),Pe(29),q(),K(30,gZ,2,1,"nb-accordion-item-body",12),q()()()()}if(2&t){const e=z();V(6),ei("#",e.delivery._id,""),V(2),Lp(" ",fu(9,11,e.delivery.originOffice.name.slice(0,3))," \u2192 ",fu(10,13,e.delivery.destinationOffice.name.slice(0,3))," "),V(8),ei("REG \u2116 ",e.delivery.truck.registrationNumber,""),V(4),P("ngStyle",tn(15,_Z,e.delivery.truck.health)),V(2),Lp("",e.delivery.packages.length,"/","small"===e.delivery.truck.size?20:"medium"===e.delivery.truck.size?50:100,""),V(2),ei("",e.delivery.truck.health,"%"),V(5),Lp("",e.delivery.packages.length," Package",1!==e.delivery.packages.length?"s":"",""),V(1),P("ngForOf",e.delivery.packages)}}let vZ=(()=>{class t{constructor(e,i){this.deliveriesService=e,this.router=i,this.deliveryId=""}ngOnInit(){}ngOnChanges(e){var i=this;return dr(function*(){i.deliveryId&&(i.delivery=yield i.deliveriesService.getDelivery(i.deliveryId),console.log(i.delivery))})()}onDeliveryClick(){this.router.navigate(["deliveries",this.deliveryId])}onTruckClick(e){this.router.navigate(["trucks",e._id])}onPkgClicked(e){this.router.navigate(["packages",e])}}return t.\u0275fac=function(e){return new(e||t)(U(Pw),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-delivery-preview"]],inputs:{deliveryId:"deliveryId"},features:[pi],decls:1,vars:1,consts:[["class","delivery-preview",4,"ngIf"],[1,"delivery-preview"],[1,"delivery-info"],["icon","link-2-outline",1,"text-link",3,"click"],[1,"truck-info"],[1,"truck-icon-container"],["icon","car-outline",1,"truck-icon","truck-icon-stroke"],[1,"truck-icon-outer-fill"],[1,"truck-icon-inner-fill",3,"ngStyle"],[1,"truck-icon-fullnes"],[1,"truck-icon-perc"],[1,"packages-info"],["class","text-link",3,"click",4,"ngFor","ngForOf"],[1,"text-link",3,"click"]],template:function(e,i){1&e&&K(0,yZ,31,17,"div",0),2&e&&P("ngIf",i.delivery)},dependencies:[$r,Dn,Ma,Mr,Oy,D0,Tw,Sw,eI],styles:[".delivery-info[_ngcontent-%COMP%], .truck-info[_ngcontent-%COMP%]{text-align:center}.packages-info[_ngcontent-%COMP%]{margin-top:2rem}h5[_ngcontent-%COMP%]{margin-bottom:0}.truck-icon-container[_ngcontent-%COMP%]{position:relative}.truck-icon-container[_ngcontent-%COMP%]   .truck-icon[_ngcontent-%COMP%]{font-size:200px;stroke:#222b45}.truck-icon-container[_ngcontent-%COMP%]   .truck-icon-outer-fill[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;width:33%;height:46%;top:50%;left:50%;transform:translate(-71%,-68%)}.truck-icon-container[_ngcontent-%COMP%]   .truck-icon-outer-fill[_ngcontent-%COMP%]   .truck-icon-inner-fill[_ngcontent-%COMP%]{position:absolute;bottom:0;background-color:green;width:100%;height:50%}.truck-icon-container[_ngcontent-%COMP%]   .truck-icon-outer-fill[_ngcontent-%COMP%]   .truck-icon-perc[_ngcontent-%COMP%], .truck-icon-container[_ngcontent-%COMP%]   .truck-icon-outer-fill[_ngcontent-%COMP%]   .truck-icon-fullnes[_ngcontent-%COMP%]{z-index:1;font-size:20px;font-weight:600;margin:2px}"]}),t})();var Rw=(()=>{return(t=Rw||(Rw={})).S="small",t.M="medium",t.L="large",Rw;var t})(),Lm=(()=>{return(t=Lm||(Lm={})).RECEIVED="received",t.DISPATCHED="dispatched",t.DELIVERED="delivered",Lm;var t})();let zy=(()=>{class t{constructor(e){this.http=e}getAllOffices(){return Sc(this.http.get(`${Ls_apiURL}/offices/`))}getOffice(e){return this.http.get(`${Ls_apiURL}/offices/${e}`).subscribe(i=>{}),Sc(this.http.get(`${Ls_apiURL}/offices/${e}`))}}return t.\u0275fac=function(e){return new(e||t)(Ee(ef))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),UM=(()=>{class t{constructor(e){this.http=e}getAllClients(){return Sc(this.http.get(`${Ls_apiURL}/clients/`))}getClient(e){return Sc(this.http.get(`${Ls_apiURL}/clients/${e}`))}}return t.\u0275fac=function(e){return new(e||t)(Ee(ef))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bZ(t,n){if(1&t&&(W(0,"nb-option",13),Pe(1),q()),2&t){const e=n.$implicit;P("value",e),V(1),Sn(e)}}function wZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Size is required"),q())}function CZ(t,n){if(1&t&&(W(0,"nb-option",13),Pe(1),q()),2&t){const e=n.$implicit;P("value",e._id),V(1),Sn(e.name)}}function xZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Office is required"),q())}function SZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Origin office shoud be different from destination office"),q())}function TZ(t,n){if(1&t&&(W(0,"div")(1,"label",15),Pe(2,"From Office:"),q(),W(3,"nb-select",16),K(4,CZ,2,2,"nb-option",6),q(),K(5,xZ,2,0,"p",7),K(6,SZ,2,0,"p",7),q()),2&t){const e=z();V(3),P("status",e.originOffice.touched&&e.originOffice.invalid?"danger":"basic")("formControl",e.originOffice),V(1),P("ngForOf",e.offices),V(1),P("ngIf",e.originOffice.touched&&e.originOffice.hasError("required")),V(1),P("ngIf",e.originOffice.dirty&&e.originOffice.hasError("valueDiffer"))}}function MZ(t,n){if(1&t&&(W(0,"nb-option",13),Pe(1),q()),2&t){const e=n.$implicit;P("value",e._id),V(1),Sn(e.name)}}function DZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Office is required"),q())}function EZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Destination office shoud be different from origin office"),q())}function IZ(t,n){if(1&t&&(W(0,"div")(1,"label",17),Pe(2,"To Office:"),q(),W(3,"nb-select",18),K(4,MZ,2,2,"nb-option",6),q(),K(5,DZ,2,0,"p",7),K(6,EZ,2,0,"p",7),q()),2&t){const e=z();V(3),P("status",e.destinationOffice.touched&&e.destinationOffice.invalid?"danger":"basic")("formControl",e.destinationOffice),V(1),P("ngForOf",e.offices),V(1),P("ngIf",e.destinationOffice.touched&&e.destinationOffice.hasError("required")),V(1),P("ngIf",e.destinationOffice.dirty&&e.destinationOffice.hasError("valueDiffer"))}}function kZ(t,n){if(1&t&&(W(0,"nb-option",13),Pe(1),q()),2&t){const e=n.$implicit;P("value",e._id),V(1),Sn(e.name)}}function AZ(t,n){1&t&&(W(0,"p",14),Pe(1,"Recipient is required"),q())}function OZ(t,n){if(1&t&&(W(0,"div")(1,"label",19),Pe(2,"Recipient:"),q(),W(3,"nb-select",20),K(4,kZ,2,2,"nb-option",6),q(),K(5,AZ,2,0,"p",7),q()),2&t){const e=z();V(3),P("status",e.recipient.touched&&e.recipient.invalid?"danger":"basic")("formControl",e.recipient),V(1),P("ngForOf",e.clients),V(1),P("ngIf",e.recipient.touched&&e.recipient.hasError("required"))}}let PZ=(()=>{class t{constructor(e,i,r,s,d,m){this.officesService=e,this.fb=i,this.packagesService=r,this.clientsService=s,this.toastrService=d,this.router=m,this.sizes=Object.values(Rw),this.offices=[],this.clients=[],this.createPkgForm=i.group({size:["",co.required],description:[""],isFragile:[!1],originOffice:["",co.required],destinationOffice:["",co.required],recipient:["",co.required]},{validator:[RZ("originOffice","destinationOffice")]}),this.size=this.createPkgForm.controls.size,this.originOffice=this.createPkgForm.controls.originOffice,this.destinationOffice=this.createPkgForm.controls.destinationOffice,this.description=this.createPkgForm.controls.description,this.isFragile=this.createPkgForm.controls.isFragile,this.recipient=this.createPkgForm.controls.recipient}ngOnInit(){var e=this;return dr(function*(){e.offices=yield e.officesService.getAllOffices(),e.clients=yield e.clientsService.getAllClients()})()}get isFormValid(){return this.createPkgForm.valid}onSubmit(e){var i=this;return dr(function*(){const r=yield i.packagesService.createPackage(e);i.packagesService.closeCreatePackageModal(),i.toastrService.success(`From office ${r.originOffice.name} to office ${r.destinationOffice.name}`,"Package created!",{position:Gr.TOP_RIGHT,duration:1e4,icon:"cube-outline"}).onClick().subscribe(()=>{i.router.navigate(["packages",r._id])})})()}}return t.\u0275fac=function(e){return new(e||t)(U(zy),U(BT),U(A0),U(UM),U(IM),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-create-package"]],decls:23,vars:11,consts:[["accent","info",1,"popup","create-package-popup"],[1,"popup--header","create-package-popup--header"],[1,"popup--body","create-package-popup--body"],[1,"form",3,"formGroup","ngSubmit"],["for","size"],["id","size","placeholder","size",1,"form-input",3,"status","formControl"],[3,"value",4,"ngFor","ngForOf"],["class","caption status-danger error-message",4,"ngIf"],["for","description"],["nbInput","","id","description","placeholder","description","status","basic",1,"form-input",3,"formControl"],[4,"ngIf"],[3,"formControl"],["nbButton","","type","submit","status","info",3,"disabled"],[3,"value"],[1,"caption","status-danger","error-message"],["for","originOffice"],["id","originOffice","placeholder","from office",1,"form-input",3,"status","formControl"],["for","destinationOffice"],["id","destinationOffice","placeholder","to office",1,"form-input",3,"status","formControl"],["for","recipient"],["id","recipient","placeholder","recipient",1,"form-input",3,"status","formControl"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header",1),Pe(2,"Create Package"),q(),W(3,"nb-card-body",2)(4,"form",3),De("ngSubmit",function(){return i.onSubmit(i.createPkgForm.value)}),W(5,"div")(6,"label",4),Pe(7,"Size:"),q(),W(8,"nb-select",5),K(9,bZ,2,2,"nb-option",6),q(),K(10,wZ,2,0,"p",7),q(),W(11,"div")(12,"label",8),Pe(13,"Description:"),q(),at(14,"textarea",9),q(),K(15,TZ,7,5,"div",10),K(16,IZ,7,5,"div",10),K(17,OZ,6,4,"div",10),W(18,"div")(19,"nb-checkbox",11),Pe(20,"Fragile"),q()(),W(21,"button",12),Pe(22,"Create Package"),q()()()()),2&e&&(V(4),P("formGroup",i.createPkgForm),V(4),P("status",i.size.touched&&i.size.invalid?"danger":"basic")("formControl",i.size),V(1),P("ngForOf",i.sizes),V(1),P("ngIf",i.size.touched&&i.size.invalid),V(4),P("formControl",i.description),V(1),P("ngIf",i.offices.length>0),V(1),P("ngIf",i.offices.length>0),V(1),P("ngIf",i.clients.length>0),V(2),P("formControl",i.isFragile),V(2),P("disabled",i.createPkgForm.invalid))},dependencies:[$r,Dn,K2,Wp,yu,V2,hy,h0,bs,vs,ys,Ml,Pm,H5,I0,n5]}),t})();function RZ(t,n){return e=>{const i=e.get(t),r=e.get(n),s=i.value,m=i.errors||{},b=r.errors||{};return s===r.value&&""!==s?(m.valueDiffer=!0,b.valueDiffer=!0):(delete m.valueDiffer,delete b.valueDiffer),0!==Object.keys(m).length?i.setErrors(m):i.setErrors(null),0!==Object.keys(b).length?r.setErrors(b):r.setErrors(null),null}}let A0=(()=>{class t{constructor(e,i){this.http=e,this.dialogService=i,this.allPackages=[]}getAllPackages(e=!1){var i=this;return dr(function*(){return i.allPackages=yield Sc(i.http.get(`${Ls_apiURL}/packages/`)),i.allPackages})()}getSinglePackage(e){return Sc(this.http.get(`${Ls_apiURL}/packages/${e}`))}getPackagesInOffice(e){return Sc(this.http.get(`${Ls_apiURL}/packages/in-office/${e}`))}openCreatePackageModal(){this.createPackageModal=this.dialogService.open(PZ)}closeCreatePackageModal(){this.createPackageModal?.close()}createPackage(e){return Sc(this.http.post(`${Ls_apiURL}/packages/`,e))}}return t.\u0275fac=function(e){return new(e||t)(Ee(ef),Ee(E0))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class zt{static equals(n,e,i){return i?this.resolveFieldData(n,i)===this.resolveFieldData(e,i):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&"object"==typeof n&&"object"==typeof e){var s,d,m,i=Array.isArray(n),r=Array.isArray(e);if(i&&r){if((d=n.length)!=e.length)return!1;for(s=d;0!=s--;)if(!this.equalsByValue(n[s],e[s]))return!1;return!0}if(i!=r)return!1;var b=n instanceof Date,S=e instanceof Date;if(b!=S)return!1;if(b&&S)return n.getTime()==e.getTime();var I=n instanceof RegExp,R=e instanceof RegExp;if(I!=R)return!1;if(I&&R)return n.toString()==e.toString();var G=Object.keys(n);if((d=G.length)!==Object.keys(e).length)return!1;for(s=d;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,G[s]))return!1;for(s=d;0!=s--;)if(!this.equalsByValue(n[m=G[s]],e[m]))return!1;return!0}return n!=n&&e!=e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(-1==e.indexOf("."))return n[e];{let i=e.split("."),r=n;for(let s=0,d=i.length;s<d;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,i){n&&e!==i&&(i>=n.length&&(i%=n.length,e%=n.length),n.splice(i,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,i,r){if(i.length>0){let s=!1;for(let d=0;d<i.length;d++)if(this.findIndexInList(i[d],r)>e){i.splice(d,0,n),s=!0;break}s||i.push(n)}else i.push(n)}static findIndexInList(n,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==n){i=r;break}return i}static contains(n,e){if(null!=n&&e&&e.length)for(let i of e)if(this.equals(n,i))return!0;return!1}static removeAccents(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}static isEmpty(n){return null==n||""===n||Array.isArray(n)&&0===n.length||!(n instanceof Date)&&"object"==typeof n&&0===Object.keys(n).length}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,e,i,r=1){let s=-1;const d=this.isEmpty(n),m=this.isEmpty(e);return s=d&&m?0:d?r:m?-r:"string"==typeof n&&"string"==typeof e?n.localeCompare(e,i,{numeric:!0}):n<e?-1:n>e?1:0,s}static sort(n,e,i=1,r,s=1){return(1===s?i:s)*zt.compare(n,e,r,i)}static merge(n,e){return null!=n&&"object"!=typeof n||null!=e&&"object"!=typeof e?null!=n&&"string"!=typeof n||null!=e&&"string"!=typeof e?e||n:[n||"",e||""].join(" "):{...n||{},...e||{}}}}var lR=0;function jM(){return"pr_id_"+ ++lR}var Dl=function NZ(){let t=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,d,m)=>{d&&(d.style.zIndex=String(((s,d)=>{let m=t.length>0?t[t.length-1]:{key:s,value:d},b=m.value+(m.key===s?0:d)+1;return t.push({key:s,value:b}),b})(s,m)))},clear:s=>{s&&((s=>{t=t.filter(d=>d.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}();const cR=["*"];let Mo=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),By=(()=>{class t{}return t.AND="and",t.OR="or",t})(),Nw=(()=>{class t{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=zt.removeAccents(i.toString()).toLocaleLowerCase(r);return zt.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=zt.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==zt.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=zt.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===zt.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=zt.removeAccents(i.toString()).toLocaleLowerCase(r),d=zt.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==d.indexOf(s,d.length-s.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():zt.removeAccents(e.toString()).toLocaleLowerCase(r)==zt.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():zt.removeAccents(e.toString()).toLocaleLowerCase(r)==zt.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(zt.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,s,d){let m=[];if(e)for(let b of e)for(let S of i){let I=zt.resolveFieldData(b,S);if(this.filters[s](I,r,d)){m.push(b);break}}return m}register(e,i){this.filters[e]=i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vy=(()=>{class t{constructor(){this.clickSource=new Ct,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fm=(()=>{class t{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[Mo.STARTS_WITH,Mo.CONTAINS,Mo.NOT_CONTAINS,Mo.ENDS_WITH,Mo.EQUALS,Mo.NOT_EQUALS],numeric:[Mo.EQUALS,Mo.NOT_EQUALS,Mo.LESS_THAN,Mo.LESS_THAN_OR_EQUAL_TO,Mo.GREATER_THAN,Mo.GREATER_THAN_OR_EQUAL_TO],date:[Mo.DATE_IS,Mo.DATE_IS_NOT,Mo.DATE_BEFORE,Mo.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Ct,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),LZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["p-header"]],ngContentSelectors:cR,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})(),FZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["p-footer"]],ngContentSelectors:cR,decls:1,vars:0,template:function(e,i){1&e&&(si(),ln(0))},encapsulation:2}),t})(),El=(()=>{class t{constructor(e){this.template=e}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(U(nr))},t.\u0275dir=qe({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Cu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})(),Do=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.FIRST_DAY_OF_WEEK="firstDayOfWeek",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t})(),Le=(()=>{class t{static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var d=0;d<r.length;d++){if(r[d]==e)return s;r[d].attributes&&r[d].attributes[i]&&1==r[d].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth||(e.style.minWidth=t.getOuterWidth(i)+"px")),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=ve=>{if(ve)return"relative"===getComputedStyle(ve).getPropertyValue("position")?ve:r(ve.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),d=i.offsetHeight,m=i.getBoundingClientRect(),b=this.getWindowScrollTop(),S=this.getWindowScrollLeft(),I=this.getViewport(),G=r(e)?.getBoundingClientRect()||{top:-1*b,left:-1*S};let X,ie;m.top+d+s.height>I.height?(X=m.top-G.top-s.height,e.style.transformOrigin="bottom",m.top+X<0&&(X=-1*m.top)):(X=d+m.top-G.top,e.style.transformOrigin="top"),ie=s.width>I.width?-1*(m.left-G.left):m.left-G.left+s.width>I.width?-1*(m.left-G.left+s.width-I.width):m.left-G.left,e.style.top=X+"px",e.style.left=ie+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,d=r.width,m=i.offsetHeight,b=i.offsetWidth,S=i.getBoundingClientRect(),I=this.getWindowScrollTop(),R=this.getWindowScrollLeft(),G=this.getViewport();let X,ie;S.top+m+s>G.height?(X=S.top+I-s,e.style.transformOrigin="bottom",X<0&&(X=I)):(X=m+S.top+I,e.style.transformOrigin="top"),ie=S.left+d>G.width?Math.max(0,S.left+R+b-d):S.left+R,e.style.top=X+"px",e.style.left=ie+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,d=m=>{let b=window.getComputedStyle(m,null);return s.test(b.getPropertyValue("overflow"))||s.test(b.getPropertyValue("overflowX"))||s.test(b.getPropertyValue("overflowY"))};for(let m of r){let b=1===m.nodeType&&m.dataset.scrollselectors;if(b){let S=b.split(",");for(let I of S){let R=this.findSingle(m,I);R&&d(R)&&i.push(R)}}9!==m.nodeType&&d(m)&&i.push(m)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,d=getComputedStyle(e).getPropertyValue("paddingTop"),m=d?parseFloat(d):0,b=e.getBoundingClientRect(),I=i.getBoundingClientRect().top+document.body.scrollTop-(b.top+document.body.scrollTop)-s-m,R=e.scrollTop,G=e.clientHeight,X=this.getOuterHeight(i);I<0?e.scrollTop=R+I:I+X>G&&(e.scrollTop=R+I-G+X)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,d=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(e,i){var r=1,m=50/i;let b=setInterval(()=>{(r-=m)<=0&&(r=0,clearInterval(b)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e){let i=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let s of i)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const d=(m=e)&&m.constructor&&m.call&&m.apply?e():e;return d&&9===d.nodeType||this.isExist(d)?d:null}var m}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class Lw{constructor(n,e=(()=>{})){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=Le.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let O0=(()=>{class t{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(Le.removeClass(i,"p-ink-active"),!Le.getHeight(i)&&!Le.getWidth(i)){let m=Math.max(Le.getOuterWidth(this.el.nativeElement),Le.getOuterHeight(this.el.nativeElement));i.style.height=m+"px",i.style.width=m+"px"}let r=Le.getOffset(this.el.nativeElement),s=e.pageX-r.left+document.body.scrollTop-Le.getWidth(i)/2,d=e.pageY-r.top+document.body.scrollLeft-Le.getHeight(i)/2;i.style.top=d+"px",i.style.left=s+"px",Le.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let m=this.getInk();m&&Le.removeClass(m,"p-ink-active")},401)}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Le.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Le.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Le.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(Hn),U(Fm,8))},t.\u0275dir=qe({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t})(),P0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})(),$M=(()=>{class t{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Le.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&zt.isEmpty(this.el.nativeElement.textContent)&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createLabel(){if(this.label){let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Le.addClass(e,i);let r=this.getIconClass();r&&Le.addMultipleClasses(e,r),this.el.nativeElement.insertBefore(e,this.el.nativeElement.firstChild)}}updateLabel(){let e=Le.findSingle(this.el.nativeElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.el.nativeElement.removeChild(e)}updateIcon(){let e=Le.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():e&&this.el.nativeElement.removeChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(U(Yt))},t.\u0275dir=qe({type:t,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),Fw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,P0]}),t})();const BZ=["container"],VZ=["inputfield"],HZ=["contentWrapper"];function UZ(t,n){if(1&t){const e=bt();W(0,"i",8),De("click",function(){return ye(e),me(z(2).clear())}),q()}}function jZ(t,n){if(1&t){const e=bt();W(0,"button",9),De("click",function(r){ye(e),z();const s=En(1);return me(z().onButtonClick(r,s))}),q()}if(2&t){const e=z(2);P("icon",e.icon)("disabled",e.disabled),dn("aria-label",e.iconAriaLabel)}}function $Z(t,n){if(1&t){const e=bt();W(0,"input",4,5),De("focus",function(r){return ye(e),me(z().onInputFocus(r))})("keydown",function(r){return ye(e),me(z().onInputKeydown(r))})("click",function(){return ye(e),me(z().onInputClick())})("blur",function(r){return ye(e),me(z().onInputBlur(r))})("input",function(r){return ye(e),me(z().onUserInput(r))}),q(),K(2,UZ,1,0,"i",6),K(3,jZ,1,3,"button",7)}if(2&t){const e=z();Si(e.inputStyleClass),P("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),dn("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),V(2),P("ngIf",e.showClear&&!e.disabled&&null!=e.value),V(1),P("ngIf",e.showIcon)}}function GZ(t,n){1&t&&Rt(0)}function WZ(t,n){if(1&t){const e=bt();W(0,"button",30),De("keydown",function(r){return ye(e),me(z(4).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(4).onPrevButtonClick(r))}),at(1,"span",31),q()}}function qZ(t,n){if(1&t){const e=bt();W(0,"button",32),De("click",function(r){return ye(e),me(z(4).switchToMonthView(r))})("keydown",function(r){return ye(e),me(z(4).onContainerButtonKeydown(r))}),Pe(1),q()}if(2&t){const e=z().$implicit,i=z(3);P("disabled",i.switchViewButtonDisabled()),V(1),ei(" ",i.getMonthName(e.month)," ")}}function ZZ(t,n){if(1&t){const e=bt();W(0,"button",33),De("click",function(r){return ye(e),me(z(4).switchToYearView(r))})("keydown",function(r){return ye(e),me(z(4).onContainerButtonKeydown(r))}),Pe(1),q()}if(2&t){const e=z().$implicit,i=z(3);P("disabled",i.switchViewButtonDisabled()),V(1),ei(" ",i.getYear(e)," ")}}function KZ(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(5);V(1),Lp("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function YZ(t,n){1&t&&Rt(0)}const uR=function(t){return{$implicit:t}};function XZ(t,n){if(1&t&&(W(0,"span",34),K(1,KZ,2,2,"ng-container",13),K(2,YZ,1,0,"ng-container",35),q()),2&t){const e=z(4);V(1),P("ngIf",!e.decadeTemplate),V(1),P("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",tn(3,uR,e.yearPickerValues))}}function QZ(t,n){if(1&t&&(W(0,"th",41)(1,"span"),Pe(2),q()()),2&t){const e=z(5);V(2),Sn(e.getTranslation("weekHeader"))}}function JZ(t,n){if(1&t&&(W(0,"th",42)(1,"span"),Pe(2),q()()),2&t){const e=n.$implicit;V(2),Sn(e)}}function eK(t,n){if(1&t&&(W(0,"td",45)(1,"span",46),Pe(2),q()()),2&t){const e=z().index,i=z(2).$implicit;V(2),ei(" ",i.weekNumbers[e]," ")}}function tK(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(2).$implicit;V(1),Sn(e.day)}}function nK(t,n){1&t&&Rt(0)}const dR=function(t,n){return{"p-highlight":t,"p-disabled":n}};function iK(t,n){if(1&t){const e=bt();sn(0),W(1,"span",48),De("click",function(r){ye(e);const s=z().$implicit;return me(z(6).onDateSelect(r,s))})("keydown",function(r){ye(e);const s=z().$implicit,d=z(3).index;return me(z(3).onDateCellKeydown(r,s,d))}),K(2,tK,2,1,"ng-container",13),K(3,nK,1,0,"ng-container",35),q(),an()}if(2&t){const e=z().$implicit,i=z(6);V(1),P("ngClass",tr(4,dR,i.isSelected(e),!e.selectable)),V(1),P("ngIf",!i.dateTemplate),V(1),P("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",tn(7,uR,e))}}const rK=function(t,n){return{"p-datepicker-other-month":t,"p-datepicker-today":n}};function oK(t,n){if(1&t&&(W(0,"td",47),K(1,iK,4,9,"ng-container",13),q()),2&t){const e=n.$implicit,i=z(6);P("ngClass",tr(2,rK,e.otherMonth,e.today)),V(1),P("ngIf",!e.otherMonth||i.showOtherMonths)}}function sK(t,n){if(1&t&&(W(0,"tr"),K(1,eK,3,1,"td",43),K(2,oK,2,5,"td",44),q()),2&t){const e=n.$implicit,i=z(5);V(1),P("ngIf",i.showWeek),V(1),P("ngForOf",e)}}function aK(t,n){if(1&t&&(W(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),K(4,QZ,3,1,"th",38),K(5,JZ,3,1,"th",39),q()(),W(6,"tbody"),K(7,sK,3,2,"tr",40),q()()()),2&t){const e=z().$implicit,i=z(3);V(4),P("ngIf",i.showWeek),V(1),P("ngForOf",i.weekDays),V(2),P("ngForOf",e.dates)}}function lK(t,n){if(1&t){const e=bt();W(0,"div",20)(1,"div",21),K(2,WZ,2,0,"button",22),W(3,"div",23),K(4,qZ,2,2,"button",24),K(5,ZZ,2,2,"button",25),K(6,XZ,3,5,"span",26),q(),W(7,"button",27),De("keydown",function(r){return ye(e),me(z(3).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(3).onNextButtonClick(r))}),at(8,"span",28),q()(),K(9,aK,8,3,"div",29),q()}if(2&t){const e=n.index,i=z(3);V(2),P("ngIf",0===e),V(2),P("ngIf","date"===i.currentView),V(1),P("ngIf","year"!==i.currentView),V(1),P("ngIf","year"===i.currentView),V(1),Qr("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),V(2),P("ngIf","date"===i.currentView)}}function cK(t,n){if(1&t){const e=bt();W(0,"span",51),De("click",function(r){const d=ye(e).index;return me(z(4).onMonthSelect(r,d))})("keydown",function(r){const d=ye(e).index;return me(z(4).onMonthCellKeydown(r,d))}),Pe(1),q()}if(2&t){const e=n.$implicit,i=n.index,r=z(4);P("ngClass",tr(2,dR,r.isMonthSelected(i),r.isMonthDisabled(i))),V(1),ei(" ",e," ")}}function uK(t,n){if(1&t&&(W(0,"div",49),K(1,cK,2,5,"span",50),q()),2&t){const e=z(3);V(1),P("ngForOf",e.monthPickerValues())}}const dK=function(t){return{"p-highlight":t}};function hK(t,n){if(1&t){const e=bt();W(0,"span",54),De("click",function(r){const d=ye(e).$implicit;return me(z(4).onYearSelect(r,d))})("keydown",function(r){const d=ye(e).$implicit;return me(z(4).onYearCellKeydown(r,d))}),Pe(1),q()}if(2&t){const e=n.$implicit,i=z(4);P("ngClass",tn(2,dK,i.isYearSelected(e))),V(1),ei(" ",e," ")}}function pK(t,n){if(1&t&&(W(0,"div",52),K(1,hK,2,4,"span",53),q()),2&t){const e=z(3);V(1),P("ngForOf",e.yearPickerValues())}}function fK(t,n){if(1&t&&(sn(0),W(1,"div",16),K(2,lK,10,7,"div",17),q(),K(3,uK,2,1,"div",18),K(4,pK,2,1,"div",19),an()),2&t){const e=z(2);V(2),P("ngForOf",e.months),V(1),P("ngIf","month"===e.currentView),V(1),P("ngIf","year"===e.currentView)}}function mK(t,n){1&t&&(sn(0),Pe(1,"0"),an())}function gK(t,n){1&t&&(sn(0),Pe(1,"0"),an())}function _K(t,n){if(1&t&&(W(0,"div",60)(1,"span"),Pe(2),q()()),2&t){const e=z(3);V(2),Sn(e.timeSeparator)}}function yK(t,n){1&t&&(sn(0),Pe(1,"0"),an())}function vK(t,n){if(1&t){const e=bt();W(0,"div",65)(1,"button",57),De("keydown",function(r){return ye(e),me(z(3).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(3).incrementSecond(r))})("keydown.space",function(r){return ye(e),me(z(3).incrementSecond(r))})("mousedown",function(r){return ye(e),me(z(3).onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(3).onTimePickerElementMouseLeave())}),at(2,"span",58),q(),W(3,"span"),K(4,yK,2,0,"ng-container",13),Pe(5),q(),W(6,"button",57),De("keydown",function(r){return ye(e),me(z(3).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(3).decrementSecond(r))})("keydown.space",function(r){return ye(e),me(z(3).decrementSecond(r))})("mousedown",function(r){return ye(e),me(z(3).onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(3).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(3).onTimePickerElementMouseLeave())}),at(7,"span",59),q()()}if(2&t){const e=z(3);V(4),P("ngIf",e.currentSecond<10),V(1),Sn(e.currentSecond)}}function bK(t,n){if(1&t){const e=bt();W(0,"div",66)(1,"button",67),De("keydown",function(r){return ye(e),me(z(3).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(3).toggleAMPM(r))})("keydown.enter",function(r){return ye(e),me(z(3).toggleAMPM(r))}),at(2,"span",58),q(),W(3,"span"),Pe(4),q(),W(5,"button",67),De("keydown",function(r){return ye(e),me(z(3).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(3).toggleAMPM(r))})("keydown.enter",function(r){return ye(e),me(z(3).toggleAMPM(r))}),at(6,"span",59),q()()}if(2&t){const e=z(3);V(4),Sn(e.pm?"PM":"AM")}}function wK(t,n){if(1&t){const e=bt();W(0,"div",55)(1,"div",56)(2,"button",57),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(2).incrementHour(r))})("keydown.space",function(r){return ye(e),me(z(2).incrementHour(r))})("mousedown",function(r){return ye(e),me(z(2).onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(2).onTimePickerElementMouseLeave())}),at(3,"span",58),q(),W(4,"span"),K(5,mK,2,0,"ng-container",13),Pe(6),q(),W(7,"button",57),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(2).decrementHour(r))})("keydown.space",function(r){return ye(e),me(z(2).decrementHour(r))})("mousedown",function(r){return ye(e),me(z(2).onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(2).onTimePickerElementMouseLeave())}),at(8,"span",59),q()(),W(9,"div",60)(10,"span"),Pe(11),q()(),W(12,"div",61)(13,"button",57),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(2).incrementMinute(r))})("keydown.space",function(r){return ye(e),me(z(2).incrementMinute(r))})("mousedown",function(r){return ye(e),me(z(2).onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(2).onTimePickerElementMouseLeave())}),at(14,"span",58),q(),W(15,"span"),K(16,gK,2,0,"ng-container",13),Pe(17),q(),W(18,"button",57),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("keydown.enter",function(r){return ye(e),me(z(2).decrementMinute(r))})("keydown.space",function(r){return ye(e),me(z(2).decrementMinute(r))})("mousedown",function(r){return ye(e),me(z(2).onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.enter",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("keyup.space",function(r){return ye(e),me(z(2).onTimePickerElementMouseUp(r))})("mouseleave",function(){return ye(e),me(z(2).onTimePickerElementMouseLeave())}),at(19,"span",59),q()(),K(20,_K,3,1,"div",62),K(21,vK,8,2,"div",63),K(22,bK,7,1,"div",64),q()}if(2&t){const e=z(2);V(5),P("ngIf",e.currentHour<10),V(1),Sn(e.currentHour),V(5),Sn(e.timeSeparator),V(5),P("ngIf",e.currentMinute<10),V(1),Sn(e.currentMinute),V(3),P("ngIf",e.showSeconds),V(1),P("ngIf",e.showSeconds),V(1),P("ngIf","12"==e.hourFormat)}}const hR=function(t){return[t]};function CK(t,n){if(1&t){const e=bt();W(0,"div",68)(1,"button",69),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(2).onTodayButtonClick(r))}),q(),W(2,"button",69),De("keydown",function(r){return ye(e),me(z(2).onContainerButtonKeydown(r))})("click",function(r){return ye(e),me(z(2).onClearButtonClick(r))}),q()()}if(2&t){const e=z(2);V(1),P("label",e.getTranslation("today"))("ngClass",tn(4,hR,e.todayButtonStyleClass)),V(1),P("label",e.getTranslation("clear"))("ngClass",tn(6,hR,e.clearButtonStyleClass))}}function xK(t,n){1&t&&Rt(0)}const SK=function(t,n,e,i,r,s){return{"p-datepicker p-component":!0,"p-datepicker-inline":t,"p-disabled":n,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}},pR=function(t,n){return{showTransitionParams:t,hideTransitionParams:n}},TK=function(t){return{value:"visibleTouchUI",params:t}},MK=function(t){return{value:"visible",params:t}};function DK(t,n){if(1&t){const e=bt();W(0,"div",10,11),De("@overlayAnimation.start",function(r){return ye(e),me(z().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return ye(e),me(z().onOverlayAnimationDone(r))})("click",function(r){return ye(e),me(z().onOverlayClick(r))}),ln(2),K(3,GZ,1,0,"ng-container",12),K(4,fK,5,3,"ng-container",13),K(5,wK,23,8,"div",14),K(6,CK,3,8,"div",15),ln(7,1),K(8,xK,1,0,"ng-container",12),q()}if(2&t){const e=z();Si(e.panelStyleClass),P("ngStyle",e.panelStyle)("ngClass",Yg(11,SK,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?tn(21,TK,tr(18,pR,e.showTransitionOptions,e.hideTransitionOptions)):tn(26,MK,tr(23,pR,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),V(3),P("ngTemplateOutlet",e.headerTemplate),V(1),P("ngIf",!e.timeOnly),V(1),P("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),V(1),P("ngIf",e.showButtonBar),V(2),P("ngTemplateOutlet",e.footerTemplate)}}const EK=[[["p-header"]],[["p-footer"]]],IK=function(t,n,e,i){return{"p-calendar":!0,"p-calendar-w-btn":t,"p-calendar-timeonly":n,"p-calendar-disabled":e,"p-focus":i}},kK=["p-header","p-footer"],AK={provide:to,useExisting:Bn(()=>GM),multi:!0};let GM=(()=>{class t{constructor(e,i,r,s,d,m){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.config=d,this.overlayService=m,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new Xe,this.onBlur=new Xe,this.onClose=new Xe,this.onSelect=new Xe,this.onClear=new Xe,this.onInput=new Xe,this.onTodayClick=new Xe,this.onClearClick=new Xe,this.onMonthChange=new Xe,this.onYearChange=new Xe,this.onClickOutside=new Xe,this.onShow=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(b,S){return"12"==this.hourFormat?12===b?S?12:0:S?b+12:b:b}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=jM();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=Le.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(Do.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=e+r,d=i;s>11&&(s=s%11-1,d=i+1),this.months.push(this.createMonth(s,d))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],s=this.getFirstDayOfMonthIndex(e,i),d=this.getDaysCountInMonth(e,i),m=this.getDaysCountInPrevMonth(e,i),b=1,S=new Date,I=[],R=Math.ceil((d+s)/7);for(let G=0;G<R;G++){let X=[];if(0==G){for(let ve=m-s+1;ve<=m;ve++){let Me=this.getPreviousMonthAndYear(e,i);X.push({day:ve,month:Me.month,year:Me.year,otherMonth:!0,today:this.isToday(S,ve,Me.month,Me.year),selectable:this.isSelectable(ve,Me.month,Me.year,!0)})}let ie=7-X.length;for(let ve=0;ve<ie;ve++)X.push({day:b,month:e,year:i,today:this.isToday(S,b,e,i),selectable:this.isSelectable(b,e,i,!1)}),b++}else for(let ie=0;ie<7;ie++){if(b>d){let ve=this.getNextMonthAndYear(e,i);X.push({day:b-d,month:ve.month,year:ve.year,otherMonth:!0,today:this.isToday(S,b-d,ve.month,ve.year),selectable:this.isSelectable(b-d,ve.month,ve.year,!0)})}else X.push({day:b,month:e,year:i,today:this.isToday(S,b,e,i),selectable:this.isSelectable(b,e,i,!1)});b++}this.showWeek&&I.push(this.getWeekNumber(new Date(X[0].year,X[0].month,X[0].day))),r.push(X)}return{month:e,year:i,dates:r,weekNumbers:I}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,s;return 0===e?(r=11,s=i-1):(r=e-1,s=i),{month:r,year:s}}getNextMonthAndYear(e,i){let r,s;return 11===e?(r=0,s=i+1):(r=e+1,s=i),{month:r,year:s}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){const[i,r]=this.isRangeSelection()?this.value:[this.value,this.value],s=new Date(this.currentYear,e,1);return s>=i&&s<=(r??i)}return!1}isMonthDisabled(e){return!this.isSelectable(1,e,this.currentYear,!1)}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let d=new Date(r.year,r.month,r.day);return e.getTime()<=d.getTime()&&i.getTime()>=d.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,s){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===s}isSelectable(e,i,r,s){let d=!0,m=!0,b=!0,S=!0;return!(s&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(d=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(m=!1),this.disabledDates&&(b=!this.isDateDisabled(e,i,r)),this.disabledDays&&(S=!this.isDayDisabled(e,i,r)),d&&m&&b&&S)}isDateDisabled(e,i,r){if(this.disabledDates)for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let d=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(d)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(Le.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const s=e.currentTarget,d=s.parentElement;switch(e.which){case 40:{s.tabIndex="-1";let m=Le.index(d),b=d.parentElement.nextElementSibling;b?Le.hasClass(b.children[m].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(b.children[m].children[0].tabIndex="0",b.children[m].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{s.tabIndex="-1";let m=Le.index(d),b=d.parentElement.previousElementSibling;if(b){let S=b.children[m].children[0];Le.hasClass(S,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(S.tabIndex="0",S.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{s.tabIndex="-1";let m=d.previousElementSibling;if(m){let b=m.children[0];Le.hasClass(b,"p-disabled")||Le.hasClass(b.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(b.tabIndex="0",b.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{s.tabIndex="-1";let m=d.nextElementSibling;if(m){let b=m.children[0];Le.hasClass(b,"p-disabled")?this.navigateToMonth(!1,r):(b.tabIndex="0",b.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,d=Le.index(r);let m=s[40===e.which?d+3:d-3];m&&(m.tabIndex="0",m.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let m=r.previousElementSibling;m?(m.tabIndex="0",m.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let m=r.nextElementSibling;m?(m.tabIndex="0",m.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,d=Le.index(r);let m=s[40===e.which?d+2:d-2];m&&(m.tabIndex="0",m.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let m=r.previousElementSibling;m?(m.tabIndex="0",m.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let m=r.nextElementSibling;m?(m.tabIndex="0",m.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let s=Le.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),d=s[s.length-1];d.tabIndex="0",d.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let s=Le.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=Le.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=Le.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const e=this.contentViewChild?.nativeElement;let i;if("month"===this.currentView){let r=Le.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),s=Le.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(d=>d.tabIndex=-1),i=s||r[0],0===r.length&&Le.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(m=>m.tabIndex=-1)}else if("year"===this.currentView){let r=Le.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),s=Le.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(d=>d.tabIndex=-1),i=s||r[0],0===r.length&&Le.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(m=>m.tabIndex=-1)}else if(i=Le.findSingle(e,"span.p-highlight"),!i){let r=Le.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");i=r||Le.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}i&&(i.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{i.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=Le.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,s){let d=this.value;const m=this.convertTo24Hour(e,s);this.isRangeSelection()&&(d=this.value[1]||this.value[0]),this.isMultipleSelection()&&(d=this.value[this.value.length-1]);const b=d?d.toDateString():null;return!(this.minDate&&b&&this.minDate.toDateString()===b&&(this.minDate.getHours()>m||this.minDate.getHours()===m&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&b&&this.maxDate.toDateString()===b&&(this.maxDate.getHours()<m||this.maxDate.getHours()===m&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,s=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,s)&&(this.currentHour=r,this.pm=s),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,s){let d=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,s),this.cd.markForCheck()},d),r){case 0:1===s?this.incrementHour(e):this.decrementHour(e);break;case 1:1===s?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===s?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch{this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const s=this.getDateFormat();if(this.showTime){let d="12"==this.hourFormat?r.pop():null,m=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,m,d)}else i=this.parseDate(e,s)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)}isValidDate(e){return e instanceof Date&&zt.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Dl.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Dl.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Dl.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Le.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Le.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",Le.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):Le.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),Le.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),Le.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Le.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(Le.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||Le.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Do.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const s=I=>{const R=r+1<i.length&&i.charAt(r+1)===I;return R&&r++,R},d=(I,R,G)=>{let X=""+R;if(s(I))for(;X.length<G;)X="0"+X;return X},m=(I,R,G,X)=>s(I)?X[R]:G[R];let b="",S=!1;if(e)for(r=0;r<i.length;r++)if(S)"'"!==i.charAt(r)||s("'")?b+=i.charAt(r):S=!1;else switch(i.charAt(r)){case"d":b+=d("d",e.getDate(),2);break;case"D":b+=m("D",e.getDay(),this.getTranslation(Do.DAY_NAMES_SHORT),this.getTranslation(Do.DAY_NAMES));break;case"o":b+=d("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":b+=d("m",e.getMonth()+1,2);break;case"M":b+=m("M",e.getMonth(),this.getTranslation(Do.MONTH_NAMES_SHORT),this.getTranslation(Do.MONTH_NAMES));break;case"y":b+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":b+=e.getTime();break;case"!":b+=1e4*e.getTime()+this.ticksTo1970;break;case"'":s("'")?b+="'":S=!0;break;default:b+=i.charAt(r)}return b}formatTime(e){if(!e)return"";let i="",r=e.getHours(),s=e.getMinutes(),d=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=d<10?"0"+d:d),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let s=parseInt(i[0]),d=parseInt(i[1]),m=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(d)||s>23||d>59||"12"==this.hourFormat&&s>12||this.showSeconds&&(isNaN(m)||m>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==s&&this.pm?s+=12:!this.pm&&12===s&&(s-=12)),{hour:s,minute:d,second:m}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,s,d,ie,m=0,b="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),S=-1,I=-1,R=-1,G=-1,X=!1,ve=Ye=>{let It=r+1<i.length&&i.charAt(r+1)===Ye;return It&&r++,It},Me=Ye=>{let It=ve(Ye),Ln="@"===Ye?14:"!"===Ye?20:"y"===Ye&&It?4:"o"===Ye?3:2,br=new RegExp("^\\d{"+("y"===Ye?Ln:1)+","+Ln+"}"),no=e.substring(m).match(br);if(!no)throw"Missing number at position "+m;return m+=no[0].length,parseInt(no[0],10)},Ke=(Ye,It,Ln)=>{let ri=-1,br=ve(Ye)?Ln:It,no=[];for(let Fr=0;Fr<br.length;Fr++)no.push([Fr,br[Fr]]);no.sort((Fr,is)=>-(Fr[1].length-is[1].length));for(let Fr=0;Fr<no.length;Fr++){let is=no[Fr][1];if(e.substr(m,is.length).toLowerCase()===is.toLowerCase()){ri=no[Fr][0],m+=is.length;break}}if(-1!==ri)return ri+1;throw"Unknown name at position "+m},dt=()=>{if(e.charAt(m)!==i.charAt(r))throw"Unexpected literal at position "+m;m++};for("month"===this.view&&(R=1),r=0;r<i.length;r++)if(X)"'"!==i.charAt(r)||ve("'")?dt():X=!1;else switch(i.charAt(r)){case"d":R=Me("d");break;case"D":Ke("D",this.getTranslation(Do.DAY_NAMES_SHORT),this.getTranslation(Do.DAY_NAMES));break;case"o":G=Me("o");break;case"m":I=Me("m");break;case"M":I=Ke("M",this.getTranslation(Do.MONTH_NAMES_SHORT),this.getTranslation(Do.MONTH_NAMES));break;case"y":S=Me("y");break;case"@":ie=new Date(Me("@")),S=ie.getFullYear(),I=ie.getMonth()+1,R=ie.getDate();break;case"!":ie=new Date((Me("!")-this.ticksTo1970)/1e4),S=ie.getFullYear(),I=ie.getMonth()+1,R=ie.getDate();break;case"'":ve("'")?dt():X=!0;break;default:dt()}if(m<e.length&&(d=e.substr(m),!/^\s+/.test(d)))throw"Extra/unparsed characters found in date: "+d;if(-1===S?S=(new Date).getFullYear():S<100&&(S+=(new Date).getFullYear()-(new Date).getFullYear()%100+(S<=b?0:-100)),G>-1)for(I=1,R=G;s=this.getDaysCountInMonth(S,I-1),!(R<=s);)I++,R-=s;if("year"===this.view&&(I=-1===I?1:I,R=-1===R?1:R),ie=this.daylightSavingAdjust(new Date(S,I-1,R)),ie.getFullYear()!==S||ie.getMonth()+1!==I||ie.getDate()!==R)throw"Invalid date";return ie}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:d}=i[r],m=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${d}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let b=d;b<this.numberOfMonths;b++)m+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${b+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${s}) {\n                            ${m}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Lw(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return Le.hasClass(e.target,"p-datepicker-prev")||Le.hasClass(e.target,"p-datepicker-prev-icon")||Le.hasClass(e.target,"p-datepicker-next")||Le.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Le.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Dl.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(cr),U(mi),U(Hn),U(Fm),U(Vy))},t.\u0275cmp=it({type:t,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(BZ,5),An(VZ,5),An(HZ,5)),2&e){let r;St(r=Tt())&&(i.containerViewChild=r.first),St(r=Tt())&&(i.inputfieldViewChild=r.first),St(r=Tt())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&Gt("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[qt([AK])],ngContentSelectors:kK,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(si(EK),W(0,"span",0,1),K(2,$Z,4,17,"ng-template",2),K(3,DK,9,28,"div",3),q()),2&e&&(Si(i.styleClass),P("ngClass",mm(6,IK,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),V(2),P("ngIf",!i.inline),V(1),P("ngIf",i.inline||i.overlayVisible))},dependencies:[xo,$r,Dn,So,Ma,$M,O0],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Yp("overlayAnimation",[Im("visibleTouchUI",To({transform:"translate(-50%,-50%)",opacity:1})),Rs("void => visible",[To({opacity:0,transform:"scaleY(0.8)"}),Ps("{{showTransitionParams}}",To({opacity:1,transform:"*"}))]),Rs("visible => void",[Ps("{{hideTransitionParams}}",To({opacity:0}))]),Rs("void => visibleTouchUI",[To({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Ps("{{showTransitionParams}}")]),Rs("visibleTouchUI => void",[Ps("{{hideTransitionParams}}",To({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),t})(),fR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,Fw,Cu,P0,Fw,Cu]}),t})(),OK=(()=>{class t{constructor(e){this.host=e,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const e=Le.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return t.\u0275fac=function(e){return new(e||t)(U(Yt))},t.\u0275dir=qe({type:t,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),t})(),PK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();const RK=["overlay"],NK=["content"];function LK(t,n){1&t&&Rt(0)}const FK=function(t,n,e){return{showTransitionParams:t,hideTransitionParams:n,transform:e}},zK=function(t){return{value:"visible",params:t}},BK=function(t){return{mode:t}},VK=function(t){return{$implicit:t}};function HK(t,n){if(1&t){const e=bt();W(0,"div",1,3),De("click",function(r){return ye(e),me(z(2).onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){return ye(e),me(z(2).onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){return ye(e),me(z(2).onOverlayContentAnimationDone(r))}),ln(2),K(3,LK,1,0,"ng-container",4),q()}if(2&t){const e=z(2);Si(e.contentStyleClass),P("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",tn(11,zK,td(7,FK,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),V(3),P("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",tn(15,VK,tn(13,BK,e.overlayMode)))}}const UK=function(t,n,e,i,r,s,d,m,b,S,I,R,G,X){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":t,"p-overlay-center":n,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":d,"p-overlay-bottom-end":m,"p-overlay-left":b,"p-overlay-left-start":S,"p-overlay-left-end":I,"p-overlay-right":R,"p-overlay-right-start":G,"p-overlay-right-end":X}};function jK(t,n){if(1&t){const e=bt();W(0,"div",1,2),De("click",function(r){return ye(e),me(z().onOverlayClick(r))}),K(2,HK,4,17,"div",0),q()}if(2&t){const e=z();Si(e.styleClass),P("ngStyle",e.style)("ngClass",SE(5,UK,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),V(2),P("ngIf",e.visible)}}const $K=["*"],GK={provide:to,useExisting:Bn(()=>WM),multi:!0},WK=NO([To({transform:"{{transform}}",opacity:0}),Ps("{{showTransitionParams}}")]),qK=NO([Ps("{{hideTransitionParams}}",To({transform:"{{transform}}",opacity:0}))]);let WM=(()=>{class t{constructor(e,i,r,s,d,m){this.document=e,this.el=i,this.renderer=r,this.config=s,this.overlayService=d,this.cd=m,this.visibleChange=new Xe,this.onBeforeShow=new Xe,this.onShow=new Xe,this.onBeforeHide=new Xe,this.onHide=new Xe,this.onAnimationStart=new Xe,this.onAnimationDone=new Xe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return zt.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return zt.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return zt.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return zt.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return Le.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Le.focus(this.targetEl),this.modal&&Le.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Le.focus(this.targetEl),this.modal&&Le.removeClass(this.document?.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&Le.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Dl.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Le.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Le.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),Le.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Dl.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&this.config?.overlayOptions[e]&&this.config?.overlayOptions[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Lw(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Le.isTouchDevice()}):!Le.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Le.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Dl.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return t.\u0275fac=function(e){return new(e||t)(U(Ui),U(Yt),U(cr),U(Fm),U(Vy),U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-overlay"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(RK,5),An(NK,5)),2&e){let r;St(r=Tt())&&(i.overlayViewChild=r.first),St(r=Tt())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[qt([GK])],ngContentSelectors:$K,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(si(),K(0,jK,3,20,"div",0)),2&e&&P("ngIf",i.modalVisible)},dependencies:[xo,Dn,So,Ma],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[Yp("overlayContentAnimation",[Rs(":enter",[LO(WK)]),Rs(":leave",[LO(qK)])])]},changeDetection:0}),t})(),zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,Cu,Cu]}),t})();const ZK=["element"],KK=["content"];function YK(t,n){1&t&&Rt(0)}const qM=function(t,n){return{$implicit:t,options:n}};function XK(t,n){if(1&t&&(sn(0),K(1,YK,1,0,"ng-container",7),an()),2&t){const e=z(2);V(1),P("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",tr(2,qM,e.loadedItems,e.getContentOptions()))}}function QK(t,n){1&t&&Rt(0)}function JK(t,n){if(1&t&&(sn(0),K(1,QK,1,0,"ng-container",7),an()),2&t){const e=n.$implicit,i=n.index,r=z(3);V(1),P("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tr(2,qM,e,r.getOptions(i)))}}const eY=function(t){return{"p-scroller-loading":t}};function tY(t,n){if(1&t&&(W(0,"div",8,9),K(2,JK,2,5,"ng-container",10),q()),2&t){const e=z(2);P("ngClass",tn(4,eY,e.d_loading))("ngStyle",e.contentStyle),V(2),P("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function nY(t,n){1&t&&at(0,"div",11),2&t&&P("ngStyle",z(2).spacerStyle)}function iY(t,n){1&t&&Rt(0)}const rY=function(t){return{numCols:t}},mR=function(t){return{options:t}};function oY(t,n){if(1&t&&(sn(0),K(1,iY,1,0,"ng-container",7),an()),2&t){const e=n.index,i=z(4);V(1),P("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",tn(4,mR,i.getLoaderOptions(e,i.both&&tn(2,rY,i._numItemsInViewport.cols))))}}function sY(t,n){if(1&t&&(sn(0),K(1,oY,2,6,"ng-container",14),an()),2&t){const e=z(3);V(1),P("ngForOf",e.loaderArr)}}function aY(t,n){1&t&&Rt(0)}const lY=function(){return{styleClass:"p-scroller-loading-icon"}};function cY(t,n){if(1&t&&(sn(0),K(1,aY,1,0,"ng-container",7),an()),2&t){const e=z(4);V(1),P("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",tn(3,mR,ed(2,lY)))}}function uY(t,n){1&t&&at(0,"i",16)}function dY(t,n){if(1&t&&(K(0,cY,2,5,"ng-container",0),K(1,uY,1,0,"ng-template",null,15,Sr)),2&t){const e=En(2);P("ngIf",z(3).loaderIconTemplate)("ngIfElse",e)}}const hY=function(t){return{"p-component-overlay":t}};function pY(t,n){if(1&t&&(W(0,"div",12),K(1,sY,2,1,"ng-container",0),K(2,dY,3,2,"ng-template",null,13,Sr),q()),2&t){const e=En(3),i=z(2);P("ngClass",tn(3,hY,!i.loaderTemplate)),V(1),P("ngIf",i.loaderTemplate)("ngIfElse",e)}}const fY=function(t,n,e){return{"p-scroller":!0,"p-scroller-inline":t,"p-both-scroll":n,"p-horizontal-scroll":e}};function mY(t,n){if(1&t){const e=bt();sn(0),W(1,"div",2,3),De("scroll",function(r){return ye(e),me(z().onContainerScroll(r))}),K(3,XK,2,5,"ng-container",0),K(4,tY,3,6,"ng-template",null,4,Sr),K(6,nY,1,1,"div",5),K(7,pY,4,5,"div",6),q(),an()}if(2&t){const e=En(5),i=z();V(1),Si(i._styleClass),P("ngStyle",i._style)("ngClass",td(10,fY,i.inline,i.both,i.horizontal)),dn("id",i._id)("tabindex",i.tabindex),V(2),P("ngIf",i.contentTemplate)("ngIfElse",e),V(3),P("ngIf",i._showSpacer),V(1),P("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function gY(t,n){1&t&&Rt(0)}const _Y=function(t,n){return{rows:t,columns:n}};function yY(t,n){if(1&t&&(sn(0),K(1,gY,1,0,"ng-container",7),an()),2&t){const e=z(2);V(1),P("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",tr(5,qM,e.items,tr(2,_Y,e._items,e.loadedColumns)))}}function vY(t,n){if(1&t&&(ln(0),K(1,yY,2,8,"ng-container",17)),2&t){const e=z();V(1),P("ngIf",e.contentTemplate)}}const bY=["*"];let ZM=(()=>{class t{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new Xe,this.onScroll=new Xe,this.onScrollIndexChange=new Xe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:s}=e.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:s}=e.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(e.options){const{previousValue:r,currentValue:s}=e.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Le.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Le.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=Le.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Le.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),s=this.getContentPosition(),d=(S=0,I)=>S<=I?0:S,m=(S,I,R)=>S*I+R,b=(S=0,I=0)=>this.scrollTo({left:S,top:I,behavior:i});this.both?(this.first={rows:d(e[0],r[0]),cols:d(e[1],r[1])},b(m(this.first.cols,this._itemSize[1],s.left),m(this.first.rows,this._itemSize[0],s.top))):(this.first=d(e,r),this.horizontal?b(m(this.first,this._itemSize,s.left),0):b(0,m(this.first,this._itemSize,s.top)))}scrollInView(e,i,r="auto"){if(i){const{first:s,viewport:d}=this.getRenderedRange(),m=(I=0,R=0)=>this.scrollTo({left:I,top:R,behavior:r}),S="to-end"===i;if("to-start"===i){if(this.both)d.first.rows-s.rows>e[0]?m(d.first.cols*this._itemSize[1],(d.first.rows-1)*this._itemSize[0]):d.first.cols-s.cols>e[1]&&m((d.first.cols-1)*this._itemSize[1],d.first.rows*this._itemSize[0]);else if(d.first-s>e){const I=(d.first-1)*this._itemSize;this.horizontal?m(I,0):m(0,I)}}else if(S)if(this.both)d.last.rows-s.rows<=e[0]+1?m(d.first.cols*this._itemSize[1],(d.first.rows+1)*this._itemSize[0]):d.last.cols-s.cols<=e[1]+1&&m((d.first.cols+1)*this._itemSize[1],d.first.rows*this._itemSize[0]);else if(d.last-s<=e+1){const I=(d.first+1)*this._itemSize;this.horizontal?m(I,0):m(0,I)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(s,d)=>Math.floor(s/(d||s));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:s,scrollLeft:d}=this.elementViewChild.nativeElement;this.both?(i={rows:e(s,this._itemSize[0]),cols:e(d,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?d:s,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,s=(S,I)=>Math.ceil(S/(I||S)),d=S=>Math.ceil(S/2),m=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:m,numToleratedItems:this.d_numToleratedItems||(this.both?[d(m.rows),d(m.cols)]:d(m))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(m,b,S,I=!1)=>this.getLast(m+b+(m<S?2:3)*S,I),s=this.first,d=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=d,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:e,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(e<this.defaultWidth?e:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),s=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),d=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:s,bottom:d,x:i+r,y:s+d}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,s=(d,m)=>this.elementViewChild.nativeElement.style[d]=m;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,s,d,m=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(s||[]).length*d+m+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(d,m)=>d*m,s=(d=0,m=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${d}px, ${m}px, 0)`};if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const d=r(i,this._itemSize);this.horizontal?s(d,0):s(0,d)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),s=(Me,Ke)=>Me?Me>Ke?Me-Ke:Me:0,d=(Me,Ke)=>Math.floor(Me/(Ke||Me)),m=(Me,Ke,dt,Ye,It,Ln)=>Me<=It?It:Ln?dt-Ye-It:Ke+It-1,b=(Me,Ke,dt,Ye,It,Ln,ri)=>Me<=Ln?0:Math.max(0,ri?Me<Ke?dt:Me-Ln:Me>Ke?dt:Me-2*Ln),S=(Me,Ke,dt,Ye,It,Ln=!1)=>{let ri=Ke+Ye+2*It;return Me>=It&&(ri+=It+1),this.getLast(ri,Ln)},I=s(i.scrollTop,r.top),R=s(i.scrollLeft,r.left);let G=this.both?{rows:0,cols:0}:0,X=this.last,ie=!1,ve=this.lastScrollPos;if(this.both){const Me=this.lastScrollPos.top<=I,Ke=this.lastScrollPos.left<=R;if(!this._appendOnly||this._appendOnly&&(Me||Ke)){const dt={rows:d(I,this._itemSize[0]),cols:d(R,this._itemSize[1])},Ye={rows:m(dt.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Me),cols:m(dt.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Ke)};G={rows:b(dt.rows,Ye.rows,this.first.rows,0,0,this.d_numToleratedItems[0],Me),cols:b(dt.cols,Ye.cols,this.first.cols,0,0,this.d_numToleratedItems[1],Ke)},X={rows:S(dt.rows,G.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:S(dt.cols,G.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},ie=G.rows!==this.first.rows||X.rows!==this.last.rows||G.cols!==this.first.cols||X.cols!==this.last.cols,ve={top:I,left:R}}}else{const Me=this.horizontal?R:I,Ke=this.lastScrollPos<=Me;if(!this._appendOnly||this._appendOnly&&Ke){const dt=d(Me,this._itemSize);G=b(dt,m(dt,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Ke),this.first,0,0,this.d_numToleratedItems,Ke),X=S(dt,G,0,this.numItemsInViewport,this.d_numToleratedItems),ie=G!==this.first||X!==this.last,ve=Me}}return{first:G,last:X,isRangeChanged:ie,scrollPos:ve}}onScrollChange(e){const{first:i,last:r,isRangeChanged:s,scrollPos:d}=this.onScrollPositionChange(e);if(s){const m={first:i,last:r};if(this.setContentPosition(m),this.first=i,this.last=r,this.lastScrollPos=d,this.handleEvents("onScrollIndexChange",m),this._lazy&&this.isPageChanged){const b={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==b.first||this.lazyLoadState.last!==b.last)&&this.handleEvents("onLazyLoad",b),this.lazyLoadState=b}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Le.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[Le.getWidth(this.elementViewChild.nativeElement),Le.getHeight(this.elementViewChild.nativeElement)],[r,s]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical&&s)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return t.\u0275fac=function(e){return new(e||t)(U(mi),U(Hn))},t.\u0275cmp=it({type:t,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(ZK,5),An(KK,5)),2&e){let r;St(r=Tt())&&(i.elementViewChild=r.first),St(r=Tt())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[pi],ngContentSelectors:bY,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(si(),K(0,mY,8,14,"ng-container",0),K(1,vY,2,1,"ng-template",null,1,Sr)),2&e){const r=En(2);P("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[xo,$r,Dn,So,Ma],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),t})(),R0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})(),gR=(()=>{class t{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Le.appendChild(this.container,this.el.nativeElement):Le.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Le.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Dl.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Dl.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Le.getWindowScrollLeft(),top:e.top+Le.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+Le.getOuterWidth(this.el.nativeElement),r=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-Le.getOuterWidth(this.container),r=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,r=e.top-Le.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,r=e.top+Le.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return Le.hasClass(e,"p-inputwrapper")?Le.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=Le.getOuterWidth(this.container),d=Le.getOuterHeight(this.container),m=Le.getViewport();return r+s>m.width||r<0||i<0||i+d>m.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Lw(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Le.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Dl.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(Hn),U(Fm))},t.\u0275dir=qe({type:t,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[pi]}),t})(),_R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();function wY(t,n){if(1&t&&(W(0,"span"),Pe(1),q()),2&t){const e=z();V(1),Sn(e.label||"empty")}}function CY(t,n){1&t&&Rt(0)}const Hy=function(t){return{height:t}},xY=function(t,n){return{"p-dropdown-item":!0,"p-highlight":t,"p-disabled":n}},KM=function(t){return{$implicit:t}},SY=["container"],TY=["filter"],MY=["in"],DY=["editableInput"],EY=["items"],IY=["scroller"],kY=["overlay"];function AY(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(2);V(1),Sn(e.label||"empty")}}function OY(t,n){1&t&&Rt(0)}const PY=function(t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":t}};function RY(t,n){if(1&t&&(W(0,"span",14),K(1,AY,2,1,"ng-container",15),K(2,OY,1,0,"ng-container",16),q()),2&t){const e=z();P("ngClass",tn(9,PY,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),dn("id",e.labelId),V(1),P("ngIf",!e.selectedItemTemplate),V(1),P("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",tn(11,KM,e.selectedOption))}}const NY=function(t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":t}};function LY(t,n){if(1&t&&(W(0,"span",17),Pe(1),q()),2&t){const e=z();P("ngClass",tn(2,NY,null==e.placeholder||0===e.placeholder.length)),V(1),Sn(e.placeholder||"empty")}}function FY(t,n){if(1&t){const e=bt();W(0,"input",18,19),De("input",function(r){return ye(e),me(z().onEditableInputChange(r))})("focus",function(r){return ye(e),me(z().onEditableInputFocus(r))})("blur",function(r){return ye(e),me(z().onInputBlur(r))}),q()}if(2&t){const e=z();P("disabled",e.disabled),dn("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function zY(t,n){if(1&t){const e=bt();W(0,"i",20),De("click",function(r){return ye(e),me(z().clear(r))}),q()}}function BY(t,n){1&t&&Rt(0)}function VY(t,n){1&t&&Rt(0)}const yR=function(t){return{options:t}};function HY(t,n){if(1&t&&(sn(0),K(1,VY,1,0,"ng-container",16),an()),2&t){const e=z(3);V(1),P("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",tn(2,yR,e.filterOptions))}}function UY(t,n){if(1&t){const e=bt();W(0,"div",30)(1,"input",31,32),De("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return ye(e),me(z(3).onKeydown(r,!1))})("input",function(r){return ye(e),me(z(3).onFilterInputChange(r))}),q(),at(3,"span",33),q()}if(2&t){const e=z(3);V(1),P("value",e.filterValue||""),dn("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function jY(t,n){if(1&t&&(W(0,"div",27),De("click",function(i){return i.stopPropagation()}),K(1,HY,2,4,"ng-container",28),K(2,UY,4,4,"ng-template",null,29,Sr),q()),2&t){const e=En(3),i=z(2);V(1),P("ngIf",i.filterTemplate)("ngIfElse",e)}}function $Y(t,n){1&t&&Rt(0)}const vR=function(t,n){return{$implicit:t,options:n}};function GY(t,n){if(1&t&&K(0,$Y,1,0,"ng-container",16),2&t){const e=n.$implicit,i=n.options;z(2),P("ngTemplateOutlet",En(7))("ngTemplateOutletContext",tr(2,vR,e,i))}}function WY(t,n){1&t&&Rt(0)}function qY(t,n){if(1&t&&K(0,WY,1,0,"ng-container",16),2&t){const e=n.options;P("ngTemplateOutlet",z(4).loaderTemplate)("ngTemplateOutletContext",tn(2,yR,e))}}function ZY(t,n){1&t&&(sn(0),K(1,qY,1,4,"ng-template",36),an())}function KY(t,n){if(1&t){const e=bt();W(0,"p-scroller",34,35),De("onLazyLoad",function(r){return ye(e),me(z(2).onLazyLoad.emit(r))}),K(2,GY,1,5,"ng-template",13),K(3,ZY,2,0,"ng-container",15),q()}if(2&t){const e=z(2);gs(tn(8,Hy,e.scrollHeight)),P("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),V(3),P("ngIf",e.loaderTemplate)}}function YY(t,n){1&t&&Rt(0)}const XY=function(){return{}};function QY(t,n){if(1&t&&(sn(0),K(1,YY,1,0,"ng-container",16),an()),2&t){z();const e=En(7),i=z();V(1),P("ngTemplateOutlet",e)("ngTemplateOutletContext",tr(3,vR,i.optionsToDisplay,ed(2,XY)))}}function JY(t,n){if(1&t&&(W(0,"span"),Pe(1),q()),2&t){const e=z().$implicit,i=z(4);V(1),Sn(i.getOptionGroupLabel(e)||"empty")}}function eX(t,n){1&t&&Rt(0)}function tX(t,n){1&t&&Rt(0)}const bR=function(t,n){return{$implicit:t,selectedOption:n}};function nX(t,n){if(1&t&&(W(0,"li",42),K(1,JY,2,1,"span",15),K(2,eX,1,0,"ng-container",16),q(),K(3,tX,1,0,"ng-container",16)),2&t){const e=n.$implicit,i=z(2).options,r=En(5),s=z(2);P("ngStyle",tn(6,Hy,i.itemSize+"px")),V(1),P("ngIf",!s.groupTemplate),V(1),P("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",tn(8,KM,e)),V(1),P("ngTemplateOutlet",r)("ngTemplateOutletContext",tr(10,bR,s.getOptionGroupChildren(e),s.selectedOption))}}function iX(t,n){if(1&t&&(sn(0),K(1,nX,4,13,"ng-template",41),an()),2&t){const e=z().$implicit;V(1),P("ngForOf",e)}}function rX(t,n){1&t&&Rt(0)}function oX(t,n){if(1&t&&(sn(0),K(1,rX,1,0,"ng-container",16),an()),2&t){const e=z().$implicit,i=En(5),r=z(2);V(1),P("ngTemplateOutlet",i)("ngTemplateOutletContext",tr(2,bR,e,r.selectedOption))}}function sX(t,n){if(1&t){const e=bt();W(0,"p-dropdownItem",43),De("onClick",function(r){return ye(e),me(z(4).onItemClick(r))}),q()}if(2&t){const e=n.$implicit,i=z().selectedOption,r=z(3);P("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function aX(t,n){1&t&&K(0,sX,1,5,"ng-template",41),2&t&&P("ngForOf",n.$implicit)}function lX(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(4);V(1),ei(" ",e.emptyFilterMessageLabel," ")}}function cX(t,n){1&t&&Rt(0,null,45)}function uX(t,n){if(1&t&&(W(0,"li",44),K(1,lX,2,1,"ng-container",28),K(2,cX,2,0,"ng-container",22),q()),2&t){const e=z().options,i=z(2);P("ngStyle",tn(4,Hy,e.itemSize+"px")),V(1),P("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),V(1),P("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function dX(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(4);V(1),ei(" ",e.emptyMessageLabel," ")}}function hX(t,n){1&t&&Rt(0,null,46)}function pX(t,n){if(1&t&&(W(0,"li",44),K(1,dX,2,1,"ng-container",28),K(2,hX,2,0,"ng-container",22),q()),2&t){const e=z().options,i=z(2);P("ngStyle",tn(4,Hy,e.itemSize+"px")),V(1),P("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),V(1),P("ngTemplateOutlet",i.emptyTemplate)}}function fX(t,n){if(1&t&&(W(0,"ul",37,38),K(2,iX,2,1,"ng-container",15),K(3,oX,2,5,"ng-container",15),K(4,aX,1,1,"ng-template",null,39,Sr),K(6,uX,3,6,"li",40),K(7,pX,3,6,"li",40),q()),2&t){const e=n.options,i=z(2);gs(e.contentStyle),P("ngClass",e.contentStyleClass),dn("id",i.listId),V(2),P("ngIf",i.group),V(1),P("ngIf",!i.group),V(3),P("ngIf",i.filterValue&&i.isEmpty()),V(1),P("ngIf",!i.filterValue&&i.isEmpty())}}function mX(t,n){1&t&&Rt(0)}function gX(t,n){if(1&t&&(W(0,"div",21),K(1,BY,1,0,"ng-container",22),K(2,jY,4,2,"div",23),W(3,"div",24),K(4,KY,4,10,"p-scroller",25),K(5,QY,2,6,"ng-container",15),K(6,fX,8,8,"ng-template",null,26,Sr),q(),K(8,mX,1,0,"ng-container",22),q()),2&t){const e=z();Si(e.panelStyleClass),P("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),V(1),P("ngTemplateOutlet",e.headerTemplate),V(1),P("ngIf",e.filter),V(1),Qr("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),V(1),P("ngIf",e.virtualScroll),V(1),P("ngIf",!e.virtualScroll),V(3),P("ngTemplateOutlet",e.footerTemplate)}}const _X=function(t,n,e,i){return{"p-dropdown p-component":!0,"p-disabled":t,"p-dropdown-open":n,"p-focus":e,"p-dropdown-clearable":i}},yX={provide:to,useExisting:Bn(()=>YM),multi:!0};let vX=(()=>{class t{constructor(){this.onClick=new Xe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(W(0,"li",0),De("click",function(s){return i.onOptionClick(s)}),K(1,wY,2,1,"span",1),K(2,CY,1,0,"ng-container",2),q()),2&e&&(P("ngStyle",tn(8,Hy,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",tr(10,xY,i.selected,i.disabled)),dn("aria-label",i.label)("aria-selected",i.selected),V(1),P("ngIf",!i.template),V(1),P("ngTemplateOutlet",i.template)("ngTemplateOutletContext",tn(13,KM,i.option)))},dependencies:[xo,Dn,So,Ma,O0],encapsulation:2}),t})(),YM=(()=>{class t{constructor(e,i,r,s,d,m){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=d,this.config=m,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new Xe,this.onFilter=new Xe,this.onFocus=new Xe,this.onBlur=new Xe,this.onClick=new Xe,this.onShow=new Xe,this.onHide=new Xe,this.onClear=new Xe,this.onLazyLoad=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=jM()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&zt.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Do.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Do.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?zt.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?zt.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?zt.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?zt.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?zt.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(Le.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&Le.scrollInView(this.itemsWrapper,Le.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(e){return Le.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=Le.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=Le.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=0;r<e;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findNextEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0;else if(s<0){let d=this.optionsToDisplay[r.groupIndex-1];d&&(this.selectItem(e,this.getOptionGroupChildren(d)[this.getOptionGroupChildren(d).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findPrevEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&17!==e.which&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(s)}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++s)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let s=this.optionsToDisplay[r];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let s=e.groupIndex===r?e.itemIndex+1:0;s<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;s++){let d=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(d).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(d))return d}for(let r=0;r<=e.groupIndex;r++)for(let s=0;s<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);s++){let d=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(d).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(d))return d}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(null==e&&null==this.getOptionValue(i[s])||zt.equals(e,this.getOptionValue(i[s]),this.dataKey)){r=s;break}return r}findOptionGroupIndex(e,i){let r,s;if(i)for(let d=0;d<i.length&&(r=d,s=this.findOptionIndex(e,this.getOptionGroupChildren(i[d])),-1===s);d++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}findOption(e,i,r){if(this.group&&!r){let s;if(i&&i.length)for(let d of i)if(s=this.findOption(e,this.getOptionGroupChildren(d),!0),s)break;return s}{let s=this.findOptionIndex(e,i);return-1!=s?i[s]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push({...r,[this.optionGroupChildren]:s})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Le.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Le.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(cr),U(mi),U(Hn),U(Nw),U(Fm))},t.\u0275cmp=it({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(SY,5),An(TY,5),An(MY,5),An(DY,5),An(EY,5),An(IY,5),An(kY,5)),2&e){let r;St(r=Tt())&&(i.containerViewChild=r.first),St(r=Tt())&&(i.filterViewChild=r.first),St(r=Tt())&&(i.accessibleViewChild=r.first),St(r=Tt())&&(i.editableInputViewChild=r.first),St(r=Tt())&&(i.itemsViewChild=r.first),St(r=Tt())&&(i.scroller=r.first),St(r=Tt())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&Gt("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[qt([yX])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(W(0,"div",0,1),De("click",function(s){return i.onMouseclick(s)}),W(2,"div",2)(3,"input",3,4),De("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onKeydown(s,!0)}),q()(),K(5,RY,3,13,"span",5),K(6,LY,2,4,"span",6),K(7,FY,2,4,"input",7),K(8,zY,1,0,"i",8),W(9,"div",9),at(10,"span",10),q(),W(11,"p-overlay",11,12),De("visibleChange",function(s){return i.overlayVisible=s})("onAnimationStart",function(s){return i.onOverlayAnimationStart(s)})("onHide",function(){return i.hide()}),K(13,gX,9,11,"ng-template",13),q()()),2&e&&(Si(i.styleClass),P("ngClass",mm(27,_X,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),V(3),P("disabled",i.disabled)("autofocus",i.autofocus),dn("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),V(2),P("ngIf",!i.editable&&null!=i.label),V(1),P("ngIf",!i.editable&&null==i.label),V(1),P("ngIf",i.editable),V(1),P("ngIf",i.isVisibleClearIcon),V(1),dn("aria-expanded",i.overlayVisible),V(1),P("ngClass",i.dropdownIcon),V(1),P("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[xo,$r,Dn,So,Ma,WM,El,gR,ZM,OK,vX],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),t})(),XM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,zw,Cu,_R,P0,R0,PK,zw,Cu,R0]}),t})(),wR=(()=>{class t{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(od,8),U(mi))},t.\u0275dir=qe({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&De("input",function(s){return i.onInput(s)}),2&e&&Gt("p-filled",i.filled)}}),t})(),CR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();const bX=["input"];function wX(t,n){if(1&t){const e=bt();W(0,"i",6),De("click",function(){return ye(e),me(z().clear())}),q()}}const xR=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},SR=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function CX(t,n){if(1&t){const e=bt();W(0,"span",7)(1,"button",8),De("mousedown",function(r){return ye(e),me(z().onUpButtonMouseDown(r))})("mouseup",function(){return ye(e),me(z().onUpButtonMouseUp())})("mouseleave",function(){return ye(e),me(z().onUpButtonMouseLeave())})("keydown",function(r){return ye(e),me(z().onUpButtonKeyDown(r))})("keyup",function(){return ye(e),me(z().onUpButtonKeyUp())}),q(),W(2,"button",8),De("mousedown",function(r){return ye(e),me(z().onDownButtonMouseDown(r))})("mouseup",function(){return ye(e),me(z().onDownButtonMouseUp())})("mouseleave",function(){return ye(e),me(z().onDownButtonMouseLeave())})("keydown",function(r){return ye(e),me(z().onDownButtonKeyDown(r))})("keyup",function(){return ye(e),me(z().onDownButtonKeyUp())}),q()()}if(2&t){const e=z();V(1),Si(e.incrementButtonClass),P("ngClass",ed(10,xR))("icon",e.incrementButtonIcon)("disabled",e.disabled),V(1),Si(e.decrementButtonClass),P("ngClass",ed(11,SR))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function xX(t,n){if(1&t){const e=bt();W(0,"button",8),De("mousedown",function(r){return ye(e),me(z().onUpButtonMouseDown(r))})("mouseup",function(){return ye(e),me(z().onUpButtonMouseUp())})("mouseleave",function(){return ye(e),me(z().onUpButtonMouseLeave())})("keydown",function(r){return ye(e),me(z().onUpButtonKeyDown(r))})("keyup",function(){return ye(e),me(z().onUpButtonKeyUp())}),q()}if(2&t){const e=z();Si(e.incrementButtonClass),P("ngClass",ed(5,xR))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function SX(t,n){if(1&t){const e=bt();W(0,"button",8),De("mousedown",function(r){return ye(e),me(z().onDownButtonMouseDown(r))})("mouseup",function(){return ye(e),me(z().onDownButtonMouseUp())})("mouseleave",function(){return ye(e),me(z().onDownButtonMouseLeave())})("keydown",function(r){return ye(e),me(z().onDownButtonKeyDown(r))})("keyup",function(){return ye(e),me(z().onDownButtonKeyUp())}),q()}if(2&t){const e=z();Si(e.decrementButtonClass),P("ngClass",ed(5,SR))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const TX=function(t,n,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":n,"p-inputnumber-buttons-vertical":e}},MX={provide:to,useExisting:Bn(()=>QM),multi:!0};let QM=(()=>{class t{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new Xe,this.onFocus=new Xe,this.onBlur=new Xe,this.onKeyDown=new Xe,this.onClear=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},s),this.spin(e,r)}spin(e,i){let r=this.step*i,s=this.parseValue(this.input.nativeElement.value)||0,d=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(d).length||(this.updateInput(d,null,"spin",null),this.updateModel(e,d),this.handleOnInput(e,s,d))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,s=e.target.value,d=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(s.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(s.charAt(i))||e.preventDefault();break;case 13:d=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(d),this.input.nativeElement.setAttribute("aria-valuenow",d),this.updateModel(e,d);break;case 8:if(e.preventDefault(),i===r){const m=s.charAt(i-1),{decimalCharIndex:b,decimalCharIndexWithoutPrefix:S}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(m)){const I=this.getDecimalLength(s);if(this._group.test(m))this._group.lastIndex=0,d=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(m))this._decimal.lastIndex=0,I?this.input.nativeElement.setSelectionRange(i-1,i-1):d=s.slice(0,i-1)+s.slice(i);else if(b>0&&i>b){const R=this.isDecimalMode()&&(this.minFractionDigits||0)<I?"":"0";d=s.slice(0,i-1)+R+s.slice(i)}else 1===S?(d=s.slice(0,i-1)+"0"+s.slice(i),d=this.parseValue(d)>0?d:""):d=s.slice(0,i-1)+s.slice(i)}this.updateValue(e,d,null,"delete-single")}else d=this.deleteRange(s,i,r),this.updateValue(e,d,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const m=s.charAt(i),{decimalCharIndex:b,decimalCharIndexWithoutPrefix:S}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(m)){const I=this.getDecimalLength(s);if(this._group.test(m))this._group.lastIndex=0,d=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(m))this._decimal.lastIndex=0,I?this.input.nativeElement.setSelectionRange(i+1,i+1):d=s.slice(0,i)+s.slice(i+1);else if(b>0&&i>b){const R=this.isDecimalMode()&&(this.minFractionDigits||0)<I?"":"0";d=s.slice(0,i)+R+s.slice(i+1)}else 1===S?(d=s.slice(0,i)+"0"+s.slice(i+1),d=this.parseValue(d)>0?d:""):d=s.slice(0,i)+s.slice(i+1)}this.updateValue(e,d,null,"delete-back-single")}else d=this.deleteRange(s,i,r),this.updateValue(e,d,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const s=this.isDecimalSign(r),d=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||d||s)&&this.insert(e,r,{isDecimalSign:s,isMinusSign:d})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const s=e.search(this._suffix);this._suffix.lastIndex=0;const d=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:d}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==s)return;let d=this.input.nativeElement.selectionStart,m=this.input.nativeElement.selectionEnd,b=this.input.nativeElement.value.trim();const{decimalCharIndex:S,minusCharIndex:I,suffixCharIndex:R,currencyCharIndex:G}=this.getCharIndexes(b);let X;if(r.isMinusSign)0===d&&(X=b,(-1===I||0!==m)&&(X=this.insertText(b,i,0,m)),this.updateValue(e,X,i,"insert"));else if(r.isDecimalSign)S>0&&d===S?this.updateValue(e,b,i,"insert"):(S>d&&S<m||-1===S&&this.maxFractionDigits)&&(X=this.insertText(b,i,d,m),this.updateValue(e,X,i,"insert"));else{const ie=this.numberFormat.resolvedOptions().maximumFractionDigits,ve=d!==m?"range-insert":"insert";if(S>0&&d>S){if(d+i.length-(S+1)<=ie){const Me=G>=d?G-1:R>=d?R:b.length;X=b.slice(0,d)+i+b.slice(d+i.length,Me)+b.slice(Me),this.updateValue(e,X,i,ve)}}else X=this.insertText(b,i,d,m),this.updateValue(e,X,i,ve)}}insertText(e,i,r,s){if(2===("."===i?i:i.split(".")).length){const m=e.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,m>0?e.slice(0,r)+this.formatValue(i)+e.slice(s):e||this.formatValue(i)}return s-r===e.length?this.formatValue(i):0===r?i+e.slice(s):s===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(s)}deleteRange(e,i,r){let s;return s=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),s}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,s=null,d=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=d;let m=i.charAt(e);if(this.isNumeralChar(m))return e+d;let b=e-1;for(;b>=0;){if(m=i.charAt(b),this.isNumeralChar(m)){s=b+d;break}b--}if(null!==s)this.input.nativeElement.setSelectionRange(s+1,s+1);else{for(b=e;b<r;){if(m=i.charAt(b),this.isNumeralChar(m)){s=b+d;break}b++}null!==s&&this.input.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==Le.getSelection()&&this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,s){let d=this.input.nativeElement.value,m=null;null!=i&&(m=this.parseValue(i),m=m||this.allowEmpty?m:0,this.updateInput(m,r,s,i),this.handleOnInput(e,d,m))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r,formattedValue:i})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,s){i=i||"";let d=this.input.nativeElement.value,m=this.formatValue(e),b=d.length;if(m!==s&&(m=this.concatValues(m,s)),0===b){this.input.nativeElement.value=m,this.input.nativeElement.setSelectionRange(0,0);const I=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(I,I)}else{let S=this.input.nativeElement.selectionStart,I=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<m.length)return;this.input.nativeElement.value=m;let R=m.length;if("range-insert"===r){const G=this.parseValue((d||"").slice(0,S)),ie=(null!==G?G.toString():"").split("").join(`(${this.groupChar})?`),ve=new RegExp(ie,"g");ve.test(m);const Me=i.split("").join(`(${this.groupChar})?`),Ke=new RegExp(Me,"g");Ke.test(m.slice(ve.lastIndex)),I=ve.lastIndex+Ke.lastIndex,this.input.nativeElement.setSelectionRange(I,I)}else if(R===b)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(I+1,I+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(I-1,I-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(I,I);else if("delete-back-single"===r){let G=d.charAt(I-1),X=d.charAt(I),ie=b-R,ve=this._group.test(X);ve&&1===ie?I+=1:!ve&&this.isNumeralChar(G)&&(I+=-1*ie+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(I,I)}else if("-"===d&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const X=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(X,X)}else I+=R-b,this.input.nativeElement.setSelectionRange(I,I)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&An(bX,5),2&e){let r;St(r=Tt())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&Gt("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[qt([MX]),pi],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(W(0,"span",0)(1,"input",1,2),De("input",function(s){return i.onUserInput(s)})("keydown",function(s){return i.onInputKeyDown(s)})("keypress",function(s){return i.onInputKeyPress(s)})("paste",function(s){return i.onPaste(s)})("click",function(){return i.onInputClick()})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),q(),K(3,wX,1,0,"i",3),K(4,CX,3,12,"span",4),K(5,xX,1,6,"button",5),K(6,SX,1,6,"button",5),q()),2&e&&(Si(i.styleClass),P("ngClass",td(28,TX,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),V(1),Si(i.inputStyleClass),P("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),dn("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),V(2),P("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),V(1),P("ngIf",i.showButtons&&"stacked"===i.buttonLayout),V(1),P("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),V(1),P("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[xo,Dn,Ma,wR,$M],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),t})(),JM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,CR,Fw]}),t})();function DX(t,n){1&t&&Rt(0)}const eD=function(t){return{$implicit:t}};function EX(t,n){if(1&t&&(W(0,"div",15),K(1,DX,1,0,"ng-container",16),q()),2&t){const e=z(2);V(1),P("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",tn(2,eD,e.paginatorState))}}function IX(t,n){if(1&t&&(W(0,"span",17),Pe(1),q()),2&t){const e=z(2);V(1),Sn(e.currentPageReport)}}const Bw=function(t){return{"p-disabled":t}};function kX(t,n){if(1&t){const e=bt();W(0,"button",18),De("click",function(r){return ye(e),me(z(2).changePageToFirst(r))}),at(1,"span",19),q()}if(2&t){const e=z(2);P("disabled",e.isFirstPage()||e.empty())("ngClass",tn(2,Bw,e.isFirstPage()||e.empty()))}}const AX=function(t){return{"p-highlight":t}};function OX(t,n){if(1&t){const e=bt();W(0,"button",22),De("click",function(r){const d=ye(e).$implicit;return me(z(3).onPageLinkClick(r,d-1))}),Pe(1),q()}if(2&t){const e=n.$implicit,i=z(3);P("ngClass",tn(2,AX,e-1==i.getPage())),V(1),ei(" ",e," ")}}function PX(t,n){if(1&t&&(W(0,"span",20),K(1,OX,2,4,"button",21),q()),2&t){const e=z(2);V(1),P("ngForOf",e.pageLinks)}}function RX(t,n){1&t&&Pe(0),2&t&&Sn(z(3).currentPageReport)}function NX(t,n){if(1&t){const e=bt();W(0,"p-dropdown",23),De("onChange",function(r){return ye(e),me(z(2).onPageDropdownChange(r))}),K(1,RX,1,1,"ng-template",24),q()}if(2&t){const e=z(2);P("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function LX(t,n){if(1&t){const e=bt();W(0,"button",25),De("click",function(r){return ye(e),me(z(2).changePageToLast(r))}),at(1,"span",26),q()}if(2&t){const e=z(2);P("disabled",e.isLastPage()||e.empty())("ngClass",tn(2,Bw,e.isLastPage()||e.empty()))}}function FX(t,n){if(1&t){const e=bt();W(0,"p-inputNumber",27),De("ngModelChange",function(r){return ye(e),me(z(2).changePage(r-1))}),q()}if(2&t){const e=z(2);P("ngModel",e.currentPage())("disabled",e.empty())}}function zX(t,n){1&t&&Rt(0)}function BX(t,n){if(1&t&&K(0,zX,1,0,"ng-container",16),2&t){const e=n.$implicit;P("ngTemplateOutlet",z(4).dropdownItemTemplate)("ngTemplateOutletContext",tn(2,eD,e))}}function VX(t,n){1&t&&(sn(0),K(1,BX,1,4,"ng-template",30),an())}function HX(t,n){if(1&t){const e=bt();W(0,"p-dropdown",28),De("ngModelChange",function(r){return ye(e),me(z(2).rows=r)})("onChange",function(r){return ye(e),me(z(2).onRppChange(r))}),K(1,VX,2,0,"ng-container",29),q()}if(2&t){const e=z(2);P("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),V(1),P("ngIf",e.dropdownItemTemplate)}}function UX(t,n){1&t&&Rt(0)}function jX(t,n){if(1&t&&(W(0,"div",31),K(1,UX,1,0,"ng-container",16),q()),2&t){const e=z(2);V(1),P("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",tn(2,eD,e.paginatorState))}}function $X(t,n){if(1&t){const e=bt();W(0,"div",1),K(1,EX,2,4,"div",2),K(2,IX,2,1,"span",3),K(3,kX,2,4,"button",4),W(4,"button",5),De("click",function(r){return ye(e),me(z().changePageToPrev(r))}),at(5,"span",6),q(),K(6,PX,2,1,"span",7),K(7,NX,2,5,"p-dropdown",8),W(8,"button",9),De("click",function(r){return ye(e),me(z().changePageToNext(r))}),at(9,"span",10),q(),K(10,LX,2,4,"button",11),K(11,FX,1,2,"p-inputNumber",12),K(12,HX,2,6,"p-dropdown",13),K(13,jX,2,4,"div",14),q()}if(2&t){const e=z();Si(e.styleClass),P("ngStyle",e.style)("ngClass","p-paginator p-component"),V(1),P("ngIf",e.templateLeft),V(1),P("ngIf",e.showCurrentPageReport),V(1),P("ngIf",e.showFirstLastIcon),V(1),P("disabled",e.isFirstPage()||e.empty())("ngClass",tn(17,Bw,e.isFirstPage()||e.empty())),V(2),P("ngIf",e.showPageLinks),V(1),P("ngIf",e.showJumpToPageDropdown),V(1),P("disabled",e.isLastPage()||e.empty())("ngClass",tn(19,Bw,e.isLastPage()||e.empty())),V(2),P("ngIf",e.showFirstLastIcon),V(1),P("ngIf",e.showJumpToPageInput),V(1),P("ngIf",e.rowsPerPageOptions),V(1),P("ngIf",e.templateRight)}}let GX=(()=>{class t{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new Xe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(s-r+1))),[r,s]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let s=e[0];s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return t.\u0275fac=function(e){return new(e||t)(U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[pi],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&K(0,$X,14,21,"div",0),2&e&&P("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[xo,$r,Dn,So,Ma,YM,El,QM,yu,od,O0],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),t})(),WX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,XM,JM,p0,Cu,P0,XM,JM,p0,Cu]}),t})();function qX(t,n){1&t&&at(0,"span",8),2&t&&(Si(z(2).$implicit.icon),P("ngClass","p-button-icon p-button-icon-left"))}function ZX(t,n){if(1&t&&(sn(0),K(1,qX,1,3,"span",6),W(2,"span",7),Pe(3),q(),an()),2&t){const e=z().$implicit,i=z();V(1),P("ngIf",e.icon),V(2),Sn(i.getOptionLabel(e))}}function KX(t,n){1&t&&Rt(0)}const YX=function(t,n){return{$implicit:t,index:n}};function XX(t,n){if(1&t&&K(0,KX,1,0,"ng-container",9),2&t){const e=z(),i=e.$implicit,r=e.index;P("ngTemplateOutlet",z().itemTemplate)("ngTemplateOutletContext",tr(2,YX,i,r))}}const QX=function(t,n,e){return{"p-highlight":t,"p-disabled":n,"p-button-icon-only":e}};function JX(t,n){if(1&t){const e=bt();W(0,"div",2,3),De("click",function(r){const s=ye(e),d=s.$implicit,m=s.index;return me(z().onItemClick(r,d,m))})("keydown.enter",function(r){const s=ye(e),d=s.$implicit,m=s.index;return me(z().onItemClick(r,d,m))})("blur",function(){return ye(e),me(z().onBlur())}),K(2,ZX,4,2,"ng-container",4),K(3,XX,1,5,"ng-template",null,5,Sr),q()}if(2&t){const e=n.$implicit,i=En(4),r=z();Si(e.styleClass),P("ngClass",td(10,QX,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),dn("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),V(2),P("ngIf",!r.itemTemplate)("ngIfElse",i)}}const eQ={provide:to,useExisting:Bn(()=>tQ),multi:!0};let tQ=(()=>{class t{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new Xe,this.onChange=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?zt.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?zt.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?zt.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let s=this.getOptionValue(i);this.value!==s&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!zt.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&this.value instanceof Array)for(let s of this.value)if(zt.equals(s,r,this.dataKey)){i=!0;break}}else i=zt.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return t.\u0275fac=function(e){return new(e||t)(U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&_i(r,nr,5),2&e){let s;St(s=Tt())&&(i.itemTemplate=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[qt([eQ])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(W(0,"div",0),K(1,JX,5,14,"div",1),q()),2&e&&(Si(i.styleClass),P("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),V(1),P("ngForOf",i.options))},dependencies:[xo,$r,Dn,So,Ma,O0],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),t})(),nQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,P0]}),t})();const iQ=function(t,n,e){return{"p-checkbox-label-active":t,"p-disabled":n,"p-checkbox-label-focus":e}};function rQ(t,n){if(1&t){const e=bt();W(0,"label",7),De("click",function(r){ye(e);const s=z(),d=En(3);return me(s.onClick(r,d))}),Pe(1),q()}if(2&t){const e=z();P("ngClass",td(3,iQ,null!=e.value,e.disabled,e.focused)),dn("for",e.inputId),V(1),Sn(e.label)}}const oQ=function(t,n){return{"p-checkbox p-component":!0,"p-checkbox-disabled":t,"p-checkbox-focused":n}},sQ=function(t,n,e){return{"p-highlight":t,"p-disabled":n,"p-focus":e}},aQ={provide:to,useExisting:Bn(()=>TR),multi:!0};let TR=(()=>{class t{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[qt([aQ])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=bt();W(0,"div",0)(1,"div",1)(2,"input",2,3),De("keyup",function(d){return i.onKeyup(d)})("keydown",function(d){return i.onKeydown(d)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),q()(),W(4,"div",4),De("click",function(d){ye(r);const m=En(3);return me(i.onClick(d,m))}),at(5,"span",5),q()(),K(6,rQ,2,7,"label",6)}2&e&&(Si(i.styleClass),P("ngStyle",i.style)("ngClass",tr(14,oQ,i.disabled,i.focused)),V(2),P("name",i.name)("readonly",i.readonly)("disabled",i.disabled),dn("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),V(2),P("ngClass",td(17,sQ,null!=i.value,i.disabled,i.focused)),dn("aria-checked",!0===i.value),V(1),P("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),V(1),P("ngIf",i.label))},dependencies:[xo,Dn,Ma],encapsulation:2,changeDetection:0}),t})(),MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();const lQ=["container"],cQ=["resizeHelper"],uQ=["reorderIndicatorUp"],dQ=["reorderIndicatorDown"],hQ=["wrapper"],pQ=["table"],fQ=["thead"],mQ=["tfoot"],gQ=["scroller"];function _Q(t,n){if(1&t&&(W(0,"div",15),at(1,"i"),q()),2&t){const e=z();V(1),Si("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function yQ(t,n){1&t&&Rt(0)}function vQ(t,n){if(1&t&&(W(0,"div",16),K(1,yQ,1,0,"ng-container",17),q()),2&t){const e=z();V(1),P("ngTemplateOutlet",e.captionTemplate)}}function bQ(t,n){if(1&t){const e=bt();W(0,"p-paginator",18),De("onPageChange",function(r){return ye(e),me(z().onPageChange(r))}),q()}if(2&t){const e=z();P("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function wQ(t,n){1&t&&Rt(0)}const DR=function(t,n){return{$implicit:t,options:n}};function CQ(t,n){if(1&t&&K(0,wQ,1,0,"ng-container",22),2&t){const e=n.$implicit,i=n.options;z(2),P("ngTemplateOutlet",En(10))("ngTemplateOutletContext",tr(2,DR,e,i))}}const xQ=function(t){return{height:t}};function SQ(t,n){if(1&t){const e=bt();W(0,"p-scroller",19,20),De("onLazyLoad",function(r){return ye(e),me(z().onLazyItemLoad(r))}),K(2,CQ,1,5,"ng-template",21),q()}if(2&t){const e=z();gs(tn(15,xQ,"flex"!==e.scrollHeight?e.scrollHeight:void 0)),P("items",e.processedData)("columns",e.columns)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)("autoSize",!0)}}function TQ(t,n){1&t&&Rt(0)}const MQ=function(t){return{columns:t}};function DQ(t,n){if(1&t&&(sn(0),K(1,TQ,1,0,"ng-container",22),an()),2&t){const e=z(),i=En(10);V(1),P("ngTemplateOutlet",i)("ngTemplateOutletContext",tr(4,DR,e.processedData,tn(2,MQ,e.columns)))}}function EQ(t,n){1&t&&Rt(0)}function IQ(t,n){1&t&&Rt(0)}function kQ(t,n){if(1&t&&at(0,"tbody",31),2&t){const e=z().options,i=z();P("value",i.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function AQ(t,n){if(1&t&&at(0,"tbody",32),2&t){const e=z().options;gs("height: calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px);")}}function OQ(t,n){1&t&&Rt(0)}const Uy=function(t){return{$implicit:t}};function PQ(t,n){if(1&t&&(W(0,"tfoot",33,34),K(2,OQ,1,0,"ng-container",22),q()),2&t){const e=z().options,i=z();V(2),P("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",tn(2,Uy,e.columns))}}const RQ=function(t,n,e){return{"p-datatable-table":!0,"p-datatable-scrollable-table":t,"p-datatable-resizable-table":n,"p-datatable-resizable-table-fit":e}};function NQ(t,n){if(1&t&&(W(0,"table",23,24),K(2,EQ,1,0,"ng-container",22),W(3,"thead",25,26),K(5,IQ,1,0,"ng-container",22),q(),K(6,kQ,1,5,"tbody",27),at(7,"tbody",28),K(8,AQ,1,2,"tbody",29),K(9,PQ,3,4,"tfoot",30),q()),2&t){const e=n.options,i=z();gs(i.tableStyle),Si(i.tableStyleClass),P("ngClass",td(20,RQ,i.scrollable,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode)),dn("id",i.id+"-table"),V(2),P("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",tn(24,Uy,e.columns)),V(3),P("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",tn(26,Uy,e.columns)),V(1),P("ngIf",i.frozenValue||i.frozenBodyTemplate),V(1),gs(e.contentStyle),P("ngClass",e.contentStyleClass)("value",i.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",e),V(1),P("ngIf",e.spacerStyle),V(1),P("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function LQ(t,n){if(1&t){const e=bt();W(0,"p-paginator",35),De("onPageChange",function(r){return ye(e),me(z().onPageChange(r))}),q()}if(2&t){const e=z();P("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function FQ(t,n){1&t&&Rt(0)}function zQ(t,n){if(1&t&&(W(0,"div",36),K(1,FQ,1,0,"ng-container",17),q()),2&t){const e=z();V(1),P("ngTemplateOutlet",e.summaryTemplate)}}function BQ(t,n){1&t&&at(0,"div",37,38)}function VQ(t,n){1&t&&at(0,"span",39,40)}function HQ(t,n){1&t&&at(0,"span",41,42)}const UQ=function(t,n,e){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":t,"p-datatable-scrollable":n,"p-datatable-flex-scrollable":e}},jQ=function(t){return{maxHeight:t}},$Q=["pTableBody",""];function GQ(t,n){1&t&&Rt(0)}const tD=function(t,n,e,i,r){return{$implicit:t,rowIndex:n,columns:e,editing:i,frozen:r}};function WQ(t,n){if(1&t&&(sn(0,3),K(1,GQ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",Bb(2,tD,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function qQ(t,n){1&t&&Rt(0)}function ZQ(t,n){if(1&t&&(sn(0),K(1,qQ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",Bb(2,tD,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function KQ(t,n){1&t&&Rt(0)}const YQ=function(t,n,e,i,r,s,d){return{$implicit:t,rowIndex:n,columns:e,editing:i,frozen:r,rowgroup:s,rowspan:d}};function XQ(t,n){if(1&t&&(sn(0),K(1,KQ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",i?s.template:s.dt.loadingBodyTemplate)("ngTemplateOutletContext",function xE(t,n,e,i,r,s,d,m,b,S){const I=Ro()+t,R=_t();let G=Ka(R,I,e,i,r,s);return Np(R,I+4,d,m,b)||G?ms(R,I+7,S?n.call(S,e,i,r,s,d,m,b):n(e,i,r,s,d,m,b)):lh(R,I+7)}(2,YQ,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function QQ(t,n){1&t&&Rt(0)}function JQ(t,n){if(1&t&&(sn(0,3),K(1,QQ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",Bb(2,tD,i,s.getRowIndex(r),s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function eJ(t,n){if(1&t&&(K(0,WQ,2,8,"ng-container",2),K(1,ZQ,2,8,"ng-container",0),K(2,XQ,2,10,"ng-container",0),K(3,JQ,2,8,"ng-container",2)),2&t){const e=n.$implicit,i=n.index,r=z(2);P("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),V(1),P("ngIf","rowspan"!==r.dt.rowGroupMode),V(1),P("ngIf","rowspan"===r.dt.rowGroupMode),V(1),P("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function tJ(t,n){if(1&t&&(sn(0),K(1,eJ,4,4,"ng-template",1),an()),2&t){const e=z();V(1),P("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function nJ(t,n){1&t&&Rt(0)}const Vw=function(t,n,e,i,r,s){return{$implicit:t,rowIndex:n,columns:e,expanded:i,editing:r,frozen:s}};function iJ(t,n){if(1&t&&(sn(0),K(1,nJ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.template)("ngTemplateOutletContext",Yg(2,Vw,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function rJ(t,n){1&t&&Rt(0)}function oJ(t,n){if(1&t&&(sn(0,3),K(1,rJ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",Yg(2,Vw,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function sJ(t,n){1&t&&Rt(0)}function aJ(t,n){1&t&&Rt(0)}function lJ(t,n){if(1&t&&(sn(0,3),K(1,aJ,1,0,"ng-container",4),an()),2&t){const e=z(2),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",Yg(2,Vw,i,s.getRowIndex(r),s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}const ER=function(t,n,e,i){return{$implicit:t,rowIndex:n,columns:e,frozen:i}};function cJ(t,n){if(1&t&&(sn(0),K(1,sJ,1,0,"ng-container",4),K(2,lJ,2,9,"ng-container",2),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",mm(3,ER,i,s.getRowIndex(r),s.columns,s.frozen)),V(1),P("ngIf",s.dt.groupFooterTemplate&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupFooter(s.value,i,s.getRowIndex(r)))}}function uJ(t,n){if(1&t&&(K(0,iJ,2,9,"ng-container",0),K(1,oJ,2,9,"ng-container",2),K(2,cJ,3,8,"ng-container",0)),2&t){const e=n.$implicit,i=n.index,r=z(2);P("ngIf",!r.dt.groupHeaderTemplate),V(1),P("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,r.getRowIndex(i))),V(1),P("ngIf",r.dt.isRowExpanded(e))}}function dJ(t,n){if(1&t&&(sn(0),K(1,uJ,3,3,"ng-template",1),an()),2&t){const e=z();V(1),P("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function hJ(t,n){1&t&&Rt(0)}function pJ(t,n){1&t&&Rt(0)}function fJ(t,n){if(1&t&&(sn(0),K(1,pJ,1,0,"ng-container",4),an()),2&t){const e=z(),i=e.$implicit,r=e.index,s=z(2);V(1),P("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",mm(2,ER,i,s.getRowIndex(r),s.columns,s.frozen))}}function mJ(t,n){if(1&t&&(K(0,hJ,1,0,"ng-container",4),K(1,fJ,2,7,"ng-container",0)),2&t){const e=n.$implicit,i=n.index,r=z(2);P("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Yg(3,Vw,e,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),V(1),P("ngIf",r.dt.isRowExpanded(e))}}function gJ(t,n){if(1&t&&(sn(0),K(1,mJ,2,10,"ng-template",1),an()),2&t){const e=z();V(1),P("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function _J(t,n){1&t&&Rt(0)}const IR=function(t,n){return{$implicit:t,frozen:n}};function yJ(t,n){if(1&t&&(sn(0),K(1,_J,1,0,"ng-container",4),an()),2&t){const e=z();V(1),P("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",tr(2,IR,e.columns,e.frozen))}}function vJ(t,n){1&t&&Rt(0)}function bJ(t,n){if(1&t&&(sn(0),K(1,vJ,1,0,"ng-container",4),an()),2&t){const e=z();V(1),P("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",tr(2,IR,e.columns,e.frozen))}}const xJ=["icon"];function SJ(t,n){if(1&t&&at(0,"p-columnFilterFormElement",5),2&t){const e=z();P("type",e.type)("field",e.field)("filterConstraint",e.dt.filters[e.field])("filterTemplate",e.filterTemplate)("placeholder",e.placeholder)("minFractionDigits",e.minFractionDigits)("maxFractionDigits",e.maxFractionDigits)("prefix",e.prefix)("suffix",e.suffix)("locale",e.locale)("localeMatcher",e.localeMatcher)("currency",e.currency)("currencyDisplay",e.currencyDisplay)("useGrouping",e.useGrouping)("showButtons",e.showButtons)}}const TJ=function(t,n){return{"p-column-filter-menu-button-open":t,"p-column-filter-menu-button-active":n}};function MJ(t,n){if(1&t){const e=bt();W(0,"button",6,7),De("click",function(){return ye(e),me(z().toggleMenu())})("keydown",function(r){return ye(e),me(z().onToggleButtonKeyDown(r))}),at(2,"span",8),q()}if(2&t){const e=z();P("ngClass",tr(2,TJ,e.overlayVisible,e.hasFilter())),dn("aria-expanded",e.overlayVisible)}}const DJ=function(t){return{"p-hidden-space":t}};function EJ(t,n){if(1&t){const e=bt();W(0,"button",9,7),De("click",function(){return ye(e),me(z().clearFilter())}),at(2,"span",10),q()}if(2&t){const e=z();P("ngClass",tn(1,DJ,!e.hasRowFilter()))}}function IJ(t,n){1&t&&Rt(0)}const kJ=function(t){return{"p-highlight":t}};function AJ(t,n){if(1&t){const e=bt();W(0,"li",19),De("click",function(){const s=ye(e).$implicit;return me(z(3).onRowMatchModeChange(s.value))})("keydown",function(r){return ye(e),me(z(3).onRowMatchModeKeyDown(r))})("keydown.enter",function(){const s=ye(e).$implicit;return me(z(3).onRowMatchModeChange(s.value))}),Pe(1),q()}if(2&t){const e=n.$implicit,i=n.index,r=z(3);P("ngClass",tn(3,kJ,r.isRowMatchModeSelected(e.value))),dn("tabindex",0===i?"0":null),V(1),ei(" ",e.label," ")}}function OJ(t,n){if(1&t){const e=bt();W(0,"ul",15),K(1,AJ,2,5,"li",16),at(2,"li",17),W(3,"li",18),De("click",function(){return ye(e),me(z(2).onRowClearItemClick())})("keydown",function(r){return ye(e),me(z(2).onRowMatchModeKeyDown(r))})("keydown.enter",function(){return ye(e),me(z(2).onRowClearItemClick())}),Pe(4),q()()}if(2&t){const e=z(2);V(1),P("ngForOf",e.matchModes),V(3),Sn(e.noFilterLabel)}}function PJ(t,n){if(1&t){const e=bt();W(0,"div",27)(1,"p-dropdown",28),De("ngModelChange",function(r){return ye(e),me(z(3).onOperatorChange(r))}),q()()}if(2&t){const e=z(3);V(1),P("options",e.operatorOptions)("ngModel",e.operator)}}function RJ(t,n){if(1&t){const e=bt();W(0,"p-dropdown",33),De("ngModelChange",function(r){ye(e);const s=z().$implicit;return me(z(3).onMenuMatchModeChange(r,s))}),q()}if(2&t){const e=z().$implicit;P("options",z(3).matchModes)("ngModel",e.matchMode)}}function NJ(t,n){if(1&t){const e=bt();W(0,"button",34),De("click",function(){ye(e);const r=z().$implicit;return me(z(3).removeConstraint(r))}),q()}2&t&&P("label",z(4).removeRuleButtonLabel)}function LJ(t,n){if(1&t&&(W(0,"div",29),K(1,RJ,1,2,"p-dropdown",30),at(2,"p-columnFilterFormElement",31),W(3,"div"),K(4,NJ,1,1,"button",32),q()()),2&t){const e=n.$implicit,i=z(3);V(1),P("ngIf",i.showMatchModes&&i.matchModes),V(1),P("type",i.type)("field",i.field)("filterConstraint",e)("filterTemplate",i.filterTemplate)("placeholder",i.placeholder)("minFractionDigits",i.minFractionDigits)("maxFractionDigits",i.maxFractionDigits)("prefix",i.prefix)("suffix",i.suffix)("locale",i.locale)("localeMatcher",i.localeMatcher)("currency",i.currency)("currencyDisplay",i.currencyDisplay)("useGrouping",i.useGrouping),V(2),P("ngIf",i.showRemoveIcon)}}function FJ(t,n){if(1&t){const e=bt();W(0,"div",35)(1,"button",36),De("click",function(){return ye(e),me(z(3).addConstraint())}),q()()}if(2&t){const e=z(3);V(1),P("label",e.addRuleButtonLabel)}}function zJ(t,n){if(1&t){const e=bt();W(0,"button",37),De("click",function(){return ye(e),me(z(3).clearFilter())}),q()}2&t&&P("label",z(3).clearButtonLabel)}function BJ(t,n){if(1&t){const e=bt();W(0,"button",38),De("click",function(){return ye(e),me(z(3).applyFilter())}),q()}2&t&&P("label",z(3).applyButtonLabel)}function VJ(t,n){if(1&t&&(K(0,PJ,2,2,"div",20),W(1,"div",21),K(2,LJ,5,16,"div",22),q(),K(3,FJ,2,1,"div",23),W(4,"div",24),K(5,zJ,1,1,"button",25),K(6,BJ,1,1,"button",26),q()),2&t){const e=z(2);P("ngIf",e.isShowOperator),V(2),P("ngForOf",e.fieldConstraints),V(1),P("ngIf",e.isShowAddConstraint),V(2),P("ngIf",e.showClearButton),V(1),P("ngIf",e.showApplyButton)}}function HJ(t,n){1&t&&Rt(0)}const UJ=function(t){return{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":t}};function jJ(t,n){if(1&t){const e=bt();W(0,"div",11),De("click",function(){return ye(e),me(z().onContentClick())})("@overlayAnimation.start",function(r){return ye(e),me(z().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return ye(e),me(z().onOverlayAnimationEnd(r))})("keydown.escape",function(){return ye(e),me(z().onEscape())}),K(1,IJ,1,0,"ng-container",12),K(2,OJ,5,2,"ul",13),K(3,VJ,7,5,"ng-template",null,14,Sr),K(5,HJ,1,0,"ng-container",12),q()}if(2&t){const e=En(4),i=z();P("ngClass",tn(8,UJ,"menu"===i.display))("@overlayAnimation","visible"),V(1),P("ngTemplateOutlet",i.headerTemplate)("ngTemplateOutletContext",tn(10,Uy,i.field)),V(1),P("ngIf","row"===i.display)("ngIfElse",e),V(3),P("ngTemplateOutlet",i.footerTemplate)("ngTemplateOutletContext",tn(12,Uy,i.field))}}const $J=function(t,n){return{"p-column-filter-row":t,"p-column-filter-menu":n}};function GJ(t,n){1&t&&Rt(0)}const WJ=function(t,n){return{$implicit:t,filterCallback:n}};function qJ(t,n){if(1&t&&(sn(0),K(1,GJ,1,0,"ng-container",2),an()),2&t){const e=z();V(1),P("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",tr(2,WJ,e.filterConstraint.value,e.filterCallback))}}function ZJ(t,n){if(1&t){const e=bt();W(0,"input",8),De("input",function(r){return ye(e),me(z(2).onModelChange(r.target.value))})("keydown.enter",function(r){return ye(e),me(z(2).onTextInputEnterKeyDown(r))}),q()}if(2&t){const e=z(2);P("value",null==e.filterConstraint?null:e.filterConstraint.value),dn("placeholder",e.placeholder)}}function KJ(t,n){if(1&t){const e=bt();W(0,"p-inputNumber",9),De("ngModelChange",function(r){return ye(e),me(z(2).onModelChange(r))})("onKeyDown",function(r){return ye(e),me(z(2).onNumericInputKeyDown(r))}),q()}if(2&t){const e=z(2);P("ngModel",null==e.filterConstraint?null:e.filterConstraint.value)("showButtons",e.showButtons)("minFractionDigits",e.minFractionDigits)("maxFractionDigits",e.maxFractionDigits)("prefix",e.prefix)("suffix",e.suffix)("placeholder",e.placeholder)("mode",e.currency?"currency":"decimal")("locale",e.locale)("localeMatcher",e.localeMatcher)("currency",e.currency)("currencyDisplay",e.currencyDisplay)("useGrouping",e.useGrouping)}}function YJ(t,n){if(1&t){const e=bt();W(0,"p-triStateCheckbox",10),De("ngModelChange",function(r){return ye(e),me(z(2).onModelChange(r))}),q()}if(2&t){const e=z(2);P("ngModel",null==e.filterConstraint?null:e.filterConstraint.value)}}function XJ(t,n){if(1&t){const e=bt();W(0,"p-calendar",11),De("ngModelChange",function(r){return ye(e),me(z(2).onModelChange(r))}),q()}if(2&t){const e=z(2);P("placeholder",e.placeholder)("ngModel",null==e.filterConstraint?null:e.filterConstraint.value)}}function QJ(t,n){1&t&&(sn(0,3),K(1,ZJ,1,2,"input",4),K(2,KJ,1,13,"p-inputNumber",5),K(3,YJ,1,1,"p-triStateCheckbox",6),K(4,XJ,1,2,"p-calendar",7),an()),2&t&&(P("ngSwitch",z().type),V(1),P("ngSwitchCase","text"),V(1),P("ngSwitchCase","numeric"),V(1),P("ngSwitchCase","boolean"),V(1),P("ngSwitchCase","date"))}let nD=(()=>{class t{constructor(){this.sortSource=new Ct,this.selectionSource=new Ct,this.contextMenuSource=new Ct,this.valueSource=new Ct,this.totalRecordsSource=new Ct,this.columnsSource=new Ct,this.resetSource=new Ct,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),N0=(()=>{class t{constructor(e,i,r,s,d,m){this.el=e,this.zone=i,this.tableService=r,this.cd=s,this.filterService=d,this.overlayService=m,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new Xe,this.selectionChange=new Xe,this.contextMenuSelectionChange=new Xe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(b,S)=>S,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new Xe,this.onRowUnselect=new Xe,this.onPage=new Xe,this.onSort=new Xe,this.onFilter=new Xe,this.onLazyLoad=new Xe,this.onRowExpand=new Xe,this.onRowCollapse=new Xe,this.onContextMenuSelect=new Xe,this.onColResize=new Xe,this.onColReorder=new Xe,this.onRowReorder=new Xe,this.onEditInit=new Xe,this.onEditComplete=new Xe,this.onEditCancel=new Xe,this.onHeaderCheckboxToggle=new Xe,this.sortFunction=new Xe,this.firstChange=new Xe,this.rowsChange=new Xe,this.onStateSave=new Xe,this.onStateRestore=new Xe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=jM()}get responsive(){return this._responsive}set responsive(e){this._responsive=e,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get processedData(){return this.filteredValue||this.value||[]}dataToRender(e){const i=e||this.processedData;if(i&&this.paginator){const r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(zt.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(zt.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?r?s.order=-1*s.order:(this._multiSortMeta=[{field:e.field,order:-1*s.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((s,d)=>{let m=zt.resolveFieldData(s,e),b=zt.resolveFieldData(d,e),S=null;return S=null==m&&null!=b?-1:null!=m&&null==b?1:null==m&&null==b?0:"string"==typeof m&&"string"==typeof b?m.localeCompare(b):m<b?-1:m>b?1:0,i*S}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,s){const d=zt.resolveFieldData(e,r[s].field),m=zt.resolveFieldData(i,r[s].field);return 0===zt.compare(d,m,this.filterLocale)?r.length-1>s?this.multisortField(e,i,r,s+1):0:this.compareValuesOnSort(d,m,r[s].order)}compareValuesOnSort(e,i,r){return zt.sort(e,i,r,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=s&&"BUTTON"!=s&&"A"!=s&&!Le.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let d=e.rowData,m=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)Le.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=m,this.selectRange(e.originalEvent,m);else{let b=this.isSelected(d);if(!b&&!this.isRowSelectable(d,m))return;let S=!this.rowTouched&&this.metaKeySelection,I=this.dataKey?String(zt.resolveFieldData(d,this.dataKey)):null;if(this.anchorRowIndex=m,this.rangeRowIndex=m,S){let R=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(b&&R){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let G=this.findIndexInSelection(d);this._selection=this.selection.filter((X,ie)=>ie!=G),this.selectionChange.emit(this.selection),I&&delete this.selectionKeys[I]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:d,type:"row"})}else this.isSingleSelectionMode()?(this._selection=d,this.selectionChange.emit(d),I&&(this.selectionKeys={},this.selectionKeys[I]=1)):this.isMultipleSelectionMode()&&(R?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,d],this.selectionChange.emit(this.selection),I&&(this.selectionKeys[I]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:d,type:"row",index:m})}else if("single"===this.selectionMode)b?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:d,type:"row",index:m})):(this._selection=d,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:d,type:"row",index:m}),I&&(this.selectionKeys={},this.selectionKeys[I]=1));else if("multiple"===this.selectionMode)if(b){let R=this.findIndexInSelection(d);this._selection=this.selection.filter((G,X)=>X!=R),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:d,type:"row",index:m}),I&&delete this.selectionKeys[I]}else this._selection=this.selection?[...this.selection,d]:[d],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:d,type:"row",index:m}),I&&(this.selectionKeys[I]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),d=this.dataKey?String(zt.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),d&&(this.selectionKeys={},this.selectionKeys[d]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),d&&(this.selectionKeys[d]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,s;this.anchorRowIndex>i?(r=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,s=i):(r=i,s=i),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let d=[];for(let m=r;m<=s;m++){let b=this.filteredValue?this.filteredValue[m]:this.value[m];if(!this.isSelected(b)){if(!this.isRowSelectable(b,i))continue;d.push(b),this._selection=[...this.selection,b];let S=this.dataKey?String(zt.resolveFieldData(b,this.dataKey)):null;S&&(this.selectionKeys[S]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:d,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let s=i;s<=r;s++){let d=this.value[s],m=this.findIndexInSelection(d);this._selection=this.selection.filter((S,I)=>I!=m);let b=this.dataKey?String(zt.resolveFieldData(d,this.dataKey)):null;b&&delete this.selectionKeys[b],this.onRowUnselect.emit({originalEvent:e,data:d,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[zt.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(zt.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(zt.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let d=this.findIndexInSelection(i);this._selection=this.selection.filter((m,b)=>b!=d),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let s=this.selectionPageOnly&&this._selection?this._selection.filter(d=>!r.some(m=>this.equals(d,m))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((d,m)=>this.rowSelectable({data:d,index:m})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:zt.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let m,r=!0,s=!1,d=!1;for(let b in this.filters)if(this.filters.hasOwnProperty(b)&&"global"!==b){d=!0;let S=b,I=this.filters[S];if(Array.isArray(I)){for(let R of I)if(r=this.executeLocalFilter(S,this.value[i],R),R.operator===By.OR&&r||R.operator===By.AND&&!r)break}else r=this.executeLocalFilter(S,this.value[i],I);if(!r)break}if(this.filters.global&&!s&&e)for(let b=0;b<e.length&&(s=this.filterService.filters[this.filters.global.matchMode](zt.resolveFieldData(this.value[i],e[b].field||e[b]),this.filters.global.value,this.filterLocale),!s);b++);m=this.filters.global?d?d&&r&&s:s:d&&r,m&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let s=r.value,d=r.matchMode||Mo.STARTS_WITH,m=zt.resolveFieldData(i,e);return(0,this.filterService.filters[d])(m,s,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",s=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let b=0;b<s.length;b++){let S=s[b];!1!==S.exportable&&S.field&&(r+='"'+this.getExportHeader(S)+'"',b<s.length-1&&(r+=this.csvSeparator))}i.forEach((b,S)=>{r+="\n";for(let I=0;I<s.length;I++){let R=s[I];if(!1!==R.exportable&&R.field){let G=zt.resolveFieldData(b,R.field);G=null!=G?this.exportFunction?this.exportFunction({data:G,field:R.field}):String(G).replace(/"/g,'""'):"",r+='"'+G+'"',I<s.length-1&&(r+=this.csvSeparator)}}});let d=new Blob([r],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a");m.style.display="none",document.body.appendChild(m),void 0!==m.download?(m.setAttribute("href",URL.createObjectURL(d)),m.setAttribute("download",this.exportFilename+".csv"),m.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(m)}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,s){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Le.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(Le.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(zt.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===Le.find(i,".ng-invalid.ng-dirty").length){let r=String(zt.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(zt.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(zt.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(zt.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(zt.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=Le.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=Le.getOffset(this.containerViewChild.nativeElement).left;Le.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let m=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&m>15&&this.resizeTableCells(r,m)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+e+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Le.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=Le.index(this.resizeColumnElement),s=[];const d=Le.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");Le.find(d,"tr > th").forEach(S=>s.push(Le.getOuterWidth(S))),this.destroyStyleElement(),this.createStyleElement();let b="";s.forEach((S,I)=>{let R=I===r?e:i&&I===r+1?i:S;b+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${I+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${I+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${I+1}) {\n                    width: ${R}px !important; max-width: ${R}px !important;\n                }\n            `}),this.styleElement.innerHTML=b}onColumnDragStart(e,i){this.reorderIconWidth=Le.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Le.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=Le.getOffset(this.containerViewChild.nativeElement),s=Le.getOffset(i);if(this.draggedColumn!=i){let d=s.left-r.left,m=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",e.pageX>m?(this.reorderIndicatorUpViewChild.nativeElement.style.left=d+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=d+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=d-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=d-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=Le.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=Le.indexWithinGroup(i,"preorderablecolumn"),d=r!=s;d&&(s-r==1&&-1===this.dropPosition||r-s==1&&1===this.dropPosition)&&(d=!1),d&&s<r&&1===this.dropPosition&&(s+=1),d&&s>r&&-1===this.dropPosition&&(s-=1),d&&(zt.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=Le.getOffset(r).top+Le.getWindowScrollTop(),d=e.pageY,m=s+Le.getOuterHeight(r)/2,b=r.previousElementSibling;d<m?(Le.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,b?Le.addClass(b,"p-datatable-dragpoint-bottom"):Le.addClass(r,"p-datatable-dragpoint-top")):(b?Le.removeClass(b,"p-datatable-dragpoint-bottom"):Le.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,Le.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&Le.removeClass(r,"p-datatable-dragpoint-bottom"),Le.removeClass(i,"p-datatable-dragpoint-bottom"),Le.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;zt.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let d=JSON.parse(i,function(d,m){return"string"==typeof m&&r.test(m)?new Date(m):m});this.paginator&&(void 0!==this.first&&(this.first=d.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=d.rows,this.rowsChange.emit(this.rows))),d.sortField&&(this.restoringSort=!0,this._sortField=d.sortField,this._sortOrder=d.sortOrder),d.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=d.multiSortMeta),d.filters&&(this.restoringFilter=!0,this.filters=d.filters),this.resizableColumns&&(this.columnWidthsState=d.columnWidths,this.tableWidthState=d.tableWidth),d.expandedRowKeys&&(this.expandedRowKeys=d.expandedRowKeys),d.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(d.selection)),this.stateRestored=!0,this.onStateRestore.emit(d)}}saveColumnWidths(e){let i=[];Le.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(Le.getOuterWidth(s))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=Le.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),zt.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,s)=>{i+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {\n                            width: ${r}px !important; max-width: ${r}px !important\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let d=[];s.map(m=>{let b=this.findColumnByKey(m);b&&d.push(b)}),this.columnOrderStateRestored=!0,this.columns=d}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(Hn),U(nD),U(mi),U(Nw),U(Vy))},t.\u0275cmp=it({type:t,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(lQ,5),An(cQ,5),An(uQ,5),An(dQ,5),An(hQ,5),An(pQ,5),An(fQ,5),An(mQ,5),An(gQ,5)),2&e){let r;St(r=Tt())&&(i.containerViewChild=r.first),St(r=Tt())&&(i.resizeHelperViewChild=r.first),St(r=Tt())&&(i.reorderIndicatorUpViewChild=r.first),St(r=Tt())&&(i.reorderIndicatorDownViewChild=r.first),St(r=Tt())&&(i.wrapperViewChild=r.first),St(r=Tt())&&(i.tableViewChild=r.first),St(r=Tt())&&(i.tableHeaderViewChild=r.first),St(r=Tt())&&(i.tableFooterViewChild=r.first),St(r=Tt())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[qt([nD]),pi],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(W(0,"div",0,1),K(2,_Q,2,2,"div",2),K(3,vQ,2,1,"div",3),K(4,bQ,1,17,"p-paginator",4),W(5,"div",5,6),K(7,SQ,3,17,"p-scroller",7),K(8,DQ,2,7,"ng-container",8),K(9,NQ,10,28,"ng-template",null,9,Sr),q(),K(11,LQ,1,17,"p-paginator",10),K(12,zQ,2,1,"div",11),K(13,BQ,2,0,"div",12),K(14,VQ,2,0,"span",13),K(15,HQ,2,0,"span",14),q()),2&e&&(Si(i.styleClass),P("ngStyle",i.style)("ngClass",td(16,UQ,i.rowHover||i.selectionMode,i.scrollable,i.scrollable&&"flex"===i.scrollHeight)),dn("id",i.id),V(2),P("ngIf",i.loading&&i.showLoader),V(1),P("ngIf",i.captionTemplate),V(1),P("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),V(1),P("ngStyle",tn(20,jQ,i.virtualScroll?"":i.scrollHeight)),V(2),P("ngIf",i.virtualScroll),V(1),P("ngIf",!i.virtualScroll),V(3),P("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),V(1),P("ngIf",i.summaryTemplate),V(1),P("ngIf",i.resizableColumns),V(1),P("ngIf",i.reorderableColumns),V(1),P("ngIf",i.reorderableColumns))},dependencies:function(){return[xo,Dn,So,Ma,GX,El,ZM,JJ]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),t})(),JJ=(()=>{class t{constructor(e,i,r,s){this.dt=e,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let s=zt.resolveFieldData(i,this.dt.groupRowsBy),d=e[r-1];return!d||s!==zt.resolveFieldData(d,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let s=zt.resolveFieldData(i,this.dt.groupRowsBy),d=e[r+1];return!d||s!==zt.resolveFieldData(d,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let s=zt.resolveFieldData(i,this.dt.groupRowsBy),d=e[r-1];return!d||s!==zt.resolveFieldData(d,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let s=zt.resolveFieldData(i,this.dt.groupRowsBy),d=s,m=0;for(;s===d;){m++;let b=e[++r];if(!b)break;d=zt.resolveFieldData(b,this.dt.groupRowsBy)}return 1===m?null:m}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=Le.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=Le.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,i){return this.dt.virtualScroll&&(i=i||this.scrollerOptions)?i[e]:null}getRowIndex(e){const i=this.dt.paginator?this.dt.first+e:e,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}}return t.\u0275fac=function(e){return new(e||t)(U(N0),U(nD),U(mi),U(Yt))},t.\u0275cmp=it({type:t,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:$Q,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(K(0,tJ,2,2,"ng-container",0),K(1,dJ,2,2,"ng-container",0),K(2,gJ,2,2,"ng-container",0),K(3,yJ,2,5,"ng-container",0),K(4,bJ,2,5,"ng-container",0)),2&e&&(P("ngIf",!i.dt.expandedRowTemplate),V(1),P("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),V(1),P("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),V(1),P("ngIf",i.dt.loading),V(1),P("ngIf",i.dt.isEmpty()&&!i.dt.loading))},dependencies:[$r,Dn,So],encapsulation:2}),t})(),eee=(()=>{class t{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(i=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),Le.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return Le.hasClass(e,"pi-filter-icon")||Le.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(U(N0))},t.\u0275dir=qe({type:t,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(e,i){1&e&&De("click",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onEnterKey(s)}),2&e&&(dn("tabindex",i.isEnabled()?"0":null)("role","columnheader")("aria-sort",i.sortOrder),Gt("p-sortable-column",i.isEnabled())("p-highlight",i.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),t})(),kR=(()=>{class t{constructor(e,i,r,s,d){this.el=e,this.dt=i,this.renderer=r,this.config=s,this.overlayService=d,this.type="text",this.display="row",this.showMenu=!0,this.operator=By.AND,this.showOperator=!0,this.showClearButton=!0,this.showApplyButton=!0,this.showMatchModes=!0,this.showAddButton=!0,this.hideOnClear=!1,this.maxConstraints=2,this.useGrouping=!0,this.showButtons=!0}ngOnInit(){this.dt.filters[this.field]||this.initFieldFilterConstraint(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.generateMatchModeOptions(),this.generateOperatorOptions()}),this.resetSubscription=this.dt.tableService.resetSource$.subscribe(()=>{this.initFieldFilterConstraint()}),this.generateMatchModeOptions(),this.generateOperatorOptions()}generateMatchModeOptions(){this.matchModes=this.matchModeOptions||this.config.filterMatchModeOptions[this.type]?.map(e=>({label:this.config.getTranslation(e),value:e}))}generateOperatorOptions(){this.operatorOptions=[{label:this.config.getTranslation(Do.MATCH_ALL),value:By.AND},{label:this.config.getTranslation(Do.MATCH_ANY),value:By.OR}]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"filter":default:this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}initFieldFilterConstraint(){let e=this.getDefaultMatchMode();this.dt.filters[this.field]="row"==this.display?{value:null,matchMode:e}:[{value:null,matchMode:e,operator:this.operator}]}onMenuMatchModeChange(e,i){i.matchMode=e,this.showApplyButton||this.dt._filter()}onRowMatchModeChange(e){this.dt.filters[this.field].matchMode=e,this.dt._filter(),this.hide()}onRowMatchModeKeyDown(e){let i=e.target;switch(e.key){case"ArrowDown":var r=this.findNextItem(i);r&&(i.removeAttribute("tabindex"),r.tabIndex="0",r.focus()),e.preventDefault();break;case"ArrowUp":var s=this.findPrevItem(i);s&&(i.removeAttribute("tabindex"),s.tabIndex="0",s.focus()),e.preventDefault()}}onRowClearItemClick(){this.clearFilter(),this.hide()}isRowMatchModeSelected(e){return this.dt.filters[this.field].matchMode===e}addConstraint(){this.dt.filters[this.field].push({value:null,matchMode:this.getDefaultMatchMode(),operator:this.getDefaultOperator()})}removeConstraint(e){this.dt.filters[this.field]=this.dt.filters[this.field].filter(i=>i!==e),this.dt._filter()}onOperatorChange(e){this.dt.filters[this.field].forEach(i=>{i.operator=e,this.operator=e}),this.showApplyButton||this.dt._filter()}toggleMenu(){this.overlayVisible=!this.overlayVisible}onToggleButtonKeyDown(e){switch(e.key){case"Escape":case"Tab":this.overlayVisible=!1;break;case"ArrowDown":if(this.overlayVisible){let i=Le.getFocusableElements(this.overlay);i&&i[0].focus(),e.preventDefault()}else e.altKey&&(this.overlayVisible=!0,e.preventDefault())}}onEscape(){this.overlayVisible=!1,this.icon.nativeElement.focus()}findNextItem(e){let i=e.nextElementSibling;return i?Le.hasClass(i,"p-column-filter-separator")?this.findNextItem(i):i:e.parentElement.firstElementChild}findPrevItem(e){let i=e.previousElementSibling;return i?Le.hasClass(i,"p-column-filter-separator")?this.findPrevItem(i):i:e.parentElement.lastElementChild}onContentClick(){this.selfClick=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,document.body.appendChild(this.overlay),Dl.set("overlay",this.overlay,this.config.zIndex.overlay),Le.absolutePosition(this.overlay,this.icon.nativeElement),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.overlayEventListener=i=>{this.overlay&&this.overlay.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener);break;case"void":this.onOverlayHide(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}onOverlayAnimationEnd(e){"void"===e.toState&&Dl.clear(e.element)}getDefaultMatchMode(){return this.matchMode?this.matchMode:"text"===this.type?Mo.STARTS_WITH:"numeric"===this.type?Mo.EQUALS:"date"===this.type?Mo.DATE_IS:Mo.CONTAINS}getDefaultOperator(){return this.dt.filters?this.dt.filters[this.field][0].operator:this.operator}hasRowFilter(){return this.dt.filters[this.field]&&!this.dt.isFilterBlank(this.dt.filters[this.field].value)}get fieldConstraints(){return this.dt.filters?this.dt.filters[this.field]:null}get showRemoveIcon(){return!!this.fieldConstraints&&this.fieldConstraints.length>1}get showMenuButton(){return this.showMenu&&("row"!==this.display||"boolean"!==this.type)}get isShowOperator(){return this.showOperator&&"boolean"!==this.type}get isShowAddConstraint(){return this.showAddButton&&"boolean"!==this.type&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints}get applyButtonLabel(){return this.config.getTranslation(Do.APPLY)}get clearButtonLabel(){return this.config.getTranslation(Do.CLEAR)}get addRuleButtonLabel(){return this.config.getTranslation(Do.ADD_RULE)}get removeRuleButtonLabel(){return this.config.getTranslation(Do.REMOVE_RULE)}get noFilterLabel(){return this.config.getTranslation(Do.NO_FILTER)}hasFilter(){let e=this.dt.filters[this.field];return!!e&&(Array.isArray(e)?!this.dt.isFilterBlank(e[0].value):!this.dt.isFilterBlank(e.value))}isOutsideClicked(e){return!(this.overlay.isSameNode(e.target)||this.overlay.contains(e.target)||this.icon.nativeElement.isSameNode(e.target)||this.icon.nativeElement.contains(e.target)||Le.hasClass(e.target,"p-column-filter-add-button")||Le.hasClass(e.target.parentElement,"p-column-filter-add-button")||Le.hasClass(e.target,"p-column-filter-remove-button")||Le.hasClass(e.target.parentElement,"p-column-filter-remove-button"))}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(i)&&this.hide(),this.selfClick=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}bindDocumentResizeListener(){this.documentResizeListener=()=>{this.overlayVisible&&!Le.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Lw(this.icon.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}hide(){this.overlayVisible=!1}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}clearFilter(){this.initFieldFilterConstraint(),this.dt._filter(),this.hideOnClear&&this.hide()}applyFilter(){this.dt._filter(),this.hide()}ngOnDestroy(){this.overlay&&(this.el.nativeElement.appendChild(this.overlay),Dl.clear(this.overlay),this.onOverlayHide()),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.resetSubscription&&this.resetSubscription.unsubscribe(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(N0),U(cr),U(Fm),U(Vy))},t.\u0275cmp=it({type:t,selectors:[["p-columnFilter"]],contentQueries:function(e,i,r){if(1&e&&_i(r,El,4),2&e){let s;St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&An(xJ,5),2&e){let r;St(r=Tt())&&(i.icon=r.first)}},hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",display:"display",showMenu:"showMenu",matchMode:"matchMode",operator:"operator",showOperator:"showOperator",showClearButton:"showClearButton",showApplyButton:"showApplyButton",showMatchModes:"showMatchModes",showAddButton:"showAddButton",hideOnClear:"hideOnClear",placeholder:"placeholder",matchModeOptions:"matchModeOptions",maxConstraints:"maxConstraints",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",showButtons:"showButtons"},decls:5,vars:8,consts:[[1,"p-column-filter",3,"ngClass"],["class","p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons",4,"ngIf"],["type","button","class","p-column-filter-menu-button p-link","aria-haspopup","true",3,"ngClass","click","keydown",4,"ngIf"],["type","button","class","p-column-filter-clear-button p-link",3,"ngClass","click",4,"ngIf"],[3,"ngClass","click","keydown.escape",4,"ngIf"],[1,"p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons"],["type","button","aria-haspopup","true",1,"p-column-filter-menu-button","p-link",3,"ngClass","click","keydown"],["icon",""],[1,"pi","pi-filter-icon","pi-filter"],["type","button",1,"p-column-filter-clear-button","p-link",3,"ngClass","click"],[1,"pi","pi-filter-slash"],[3,"ngClass","click","keydown.escape"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-column-filter-row-items",4,"ngIf","ngIfElse"],["menu",""],[1,"p-column-filter-row-items"],["class","p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter",4,"ngFor","ngForOf"],[1,"p-column-filter-separator"],[1,"p-column-filter-row-item",3,"click","keydown","keydown.enter"],[1,"p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter"],["class","p-column-filter-operator",4,"ngIf"],[1,"p-column-filter-constraints"],["class","p-column-filter-constraint",4,"ngFor","ngForOf"],["class","p-column-filter-add-rule",4,"ngIf"],[1,"p-column-filter-buttonbar"],["type","button","pButton","","class","p-button-outlined p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["type","button","pButton","","class","p-button-sm","pRipple","",3,"label","click",4,"ngIf"],[1,"p-column-filter-operator"],["styleClass","p-column-filter-operator-dropdown",3,"options","ngModel","ngModelChange"],[1,"p-column-filter-constraint"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange",4,"ngIf"],[3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping"],["type","button","pButton","","icon","pi pi-trash","class","p-column-filter-remove-button p-button-text p-button-danger p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange"],["type","button","pButton","","icon","pi pi-trash","pRipple","",1,"p-column-filter-remove-button","p-button-text","p-button-danger","p-button-sm",3,"label","click"],[1,"p-column-filter-add-rule"],["type","button","pButton","","icon","pi pi-plus","pRipple","",1,"p-column-filter-add-button","p-button-text","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-outlined","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-sm",3,"label","click"]],template:function(e,i){1&e&&(W(0,"div",0),K(1,SJ,1,15,"p-columnFilterFormElement",1),K(2,MJ,3,5,"button",2),K(3,EJ,3,3,"button",3),K(4,jJ,6,14,"div",4),q()),2&e&&(P("ngClass",tr(5,$J,"row"===i.display,"menu"===i.display)),V(1),P("ngIf","row"===i.display),V(1),P("ngIf",i.showMenuButton),V(1),P("ngIf",i.showClearButton&&"row"===i.display),V(1),P("ngIf",i.showMenu&&i.overlayVisible))},dependencies:function(){return[xo,$r,Dn,So,YM,yu,od,$M,tee]},encapsulation:2,data:{animation:[Yp("overlayAnimation",[Rs(":enter",[To({opacity:0,transform:"scaleY(0.8)"}),Ps(".12s cubic-bezier(0, 0, 0.2, 1)")]),Rs(":leave",[Ps(".1s linear",To({opacity:0}))])])]}}),t})(),tee=(()=>{class t{constructor(e,i){this.dt=e,this.colFilter=i,this.useGrouping=!0}get showButtons(){return this.colFilter.showButtons}ngOnInit(){this.filterCallback=e=>{this.filterConstraint.value=e,this.dt._filter()}}onModelChange(e){this.filterConstraint.value=e,("boolean"===this.type||""===e)&&this.dt._filter()}onTextInputEnterKeyDown(e){this.dt._filter(),e.preventDefault()}onNumericInputKeyDown(e){"Enter"===e.key&&(this.dt._filter(),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(U(N0),U(kR))},t.\u0275cmp=it({type:t,selectors:[["p-columnFilterFormElement"]],hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",filterConstraint:"filterConstraint",filterTemplate:"filterTemplate",placeholder:"placeholder",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["builtInElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["type","text","pInputText","",3,"value","input","keydown.enter",4,"ngSwitchCase"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"placeholder","ngModel","ngModelChange",4,"ngSwitchCase"],["type","text","pInputText","",3,"value","input","keydown.enter"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown"],[3,"ngModel","ngModelChange"],[3,"placeholder","ngModel","ngModelChange"]],template:function(e,i){if(1&e&&(K(0,qJ,2,5,"ng-container",0),K(1,QJ,5,5,"ng-template",null,1,Sr)),2&e){const r=En(2);P("ngIf",i.filterTemplate)("ngIfElse",r)}},dependencies:[Dn,So,t0,o2,QM,yu,od,wR,GM,TR],encapsulation:2}),t})(),Hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,WX,CR,XM,p0,Fw,nQ,fR,JM,MR,R0,Cu,R0]}),t})();function nee(t,n){1&t&&(W(0,"tr")(1,"th"),Pe(2,"Size"),q(),W(3,"th"),Pe(4,"Status"),q(),W(5,"th"),Pe(6,"Price"),q()())}function iee(t,n){if(1&t){const e=bt();W(0,"tr",7),De("click",function(){const s=ye(e).$implicit;return me(z(3).onPkgClicked(s))}),W(1,"td",8),Pe(2),q(),W(3,"td",8),Pe(4),wl(5,"titlecase"),q(),W(6,"td",8),Pe(7),q()()}if(2&t){const e=n.$implicit;V(2),Sn(e.size.slice(0,1).toUpperCase()),V(2),Sn(fu(5,3,e.status)),V(3),ei("",e.price," BGN")}}function ree(t,n){1&t&&(W(0,"p-table",4),K(1,nee,7,0,"ng-template",5),K(2,iee,8,5,"ng-template",6),q()),2&t&&P("value",z(2).receivedPackages)}function oee(t,n){1&t&&(W(0,"tr")(1,"th"),Pe(2,"Size"),q(),W(3,"th"),Pe(4,"Status"),q(),W(5,"th"),Pe(6,"Price"),q()())}function see(t,n){if(1&t){const e=bt();W(0,"tr",9),De("click",function(){const s=ye(e).$implicit;return me(z(3).onPkgClicked(s))}),W(1,"td",8),Pe(2),q(),W(3,"td",8),Pe(4),wl(5,"titlecase"),q(),W(6,"td",8),Pe(7),q()()}if(2&t){const e=n.$implicit;V(2),Sn(e.size.slice(0,1).toUpperCase()),V(2),Sn(fu(5,3,e.status)),V(3),ei("",e.price," BGN")}}function aee(t,n){1&t&&(W(0,"p-table",4),K(1,oee,7,0,"ng-template",5),K(2,see,8,5,"ng-template",6),q()),2&t&&P("value",z(2).deliveredPackages)}function lee(t,n){if(1&t&&(W(0,"div",1)(1,"h5",2),Pe(2),q(),W(3,"nb-accordion")(4,"nb-accordion-item")(5,"nb-accordion-item-header"),Pe(6),q(),W(7,"nb-accordion-item-body"),K(8,ree,3,1,"p-table",3),q()()(),W(9,"nb-accordion")(10,"nb-accordion-item")(11,"nb-accordion-item-header"),Pe(12),q(),W(13,"nb-accordion-item-body"),K(14,aee,3,1,"p-table",3),q()()()()),2&t){const e=z();V(2),ei("Office ",e.office.name,""),V(4),Lp("",e.receivedPackages.length," Received Package",1!==e.receivedPackages.length?"s":"",""),V(2),P("ngIf",e.receivedPackages.length>0),V(4),Lp("",e.deliveredPackages.length," Delivered Package",1!==e.deliveredPackages.length?"s":"",""),V(2),P("ngIf",e.deliveredPackages.length>0)}}let cee=(()=>{class t{constructor(e,i,r){this.officesService=e,this.pkgService=i,this.router=r,this.receivedPackages=[],this.deliveredPackages=[]}ngOnInit(){return dr(function*(){})()}ngOnChanges(e){var i=this;return dr(function*(){i.officeId&&(i.office=yield i.officesService.getOffice(i.officeId),i.packages=yield i.pkgService.getPackagesInOffice(i.officeId),i.receivedPackages=i.packages.filter(r=>r.status===Lm.RECEIVED),i.deliveredPackages=i.packages.filter(r=>r.status===Lm.DELIVERED))})()}onPkgClicked(e){this.router.navigate(["packages",e._id])}}return t.\u0275fac=function(e){return new(e||t)(U(zy),U(A0),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-office-preview"]],inputs:{officeId:"officeId"},features:[pi],decls:1,vars:1,consts:[["class","office-preview",4,"ngIf"],[1,"office-preview"],[1,"header"],[3,"value",4,"ngIf"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[3,"click"],[1,"text-link"],[1,"text-link",3,"click"]],template:function(e,i){1&e&&K(0,lee,15,7,"div",0),2&e&&P("ngIf",i.office)},dependencies:[Dn,Oy,D0,Tw,Sw,N0,El,ym],styles:[".p-datatable .p-datatable-header, .header[_ngcontent-%COMP%]{text-align:center}  .office-preview nb-accordion-item-body .item-body{padding:0}"]}),t})();class uee extends Promise{constructor(n){let e,i;super((r,s)=>{n(r,s),e=r,i=s}),this.resolve=e,this.reject=i}}let iD=(()=>{class t{constructor(e){this.sidebarService=e,this.drawerOpened=new Xe,this.drawerClosed=new Xe}openDrawer(e,i){this.sidebarService.expand("right-drawer"),this.drawerOpened.emit([e,i])}closeDrawer(){this.sidebarService.collapse("right-drawer"),this.drawerClosed.emit("right-drawer")}}return t.\u0275fac=function(e){return new(e||t)(Ee(bw))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dee=(()=>{class t{constructor(e){this.drawerService=e,Ly.accessToken=Ls_mapbox_accessToken,this.token=Ly.accessToken}}return t.\u0275fac=function(e){return new(e||t)(Ee(iD))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hee=["mapContainer"];let pee=(()=>{class t{constructor(e,i,r,s){var d=this;this.mapService=e,this.officesService=i,this.drawerService=r,this.deliveriesService=s,this.offices=[],this.drawerOpened=!1,this.mapReady=new uee(()=>{}),this.mapContainerResizeObserver=new ResizeObserver(m=>{m.forEach(function(){var b=dr(function*(S){d.drawerOpened?console.log("drawer opened - do nothing"):(console.log("observer"),d.resizeMap(),d.centerMap(),d.hideAllRoutes())});return function(S){return b.apply(this,arguments)}}())}),console.log("start fetching deliveries"),this.deliveries=this.deliveriesService.getAllDeliveries()}ngOnInit(){var e=this;return dr(function*(){e.offices=yield e.officesService.getAllOffices()})()}ngAfterViewInit(){var e=this;return dr(function*(){e.map=new Ly.Map({container:"map",style:"mapbox://styles/mapbox/dark-v11",center:[25.4858,42.7339],zoom:6.5}),e.map.on("load",dr(function*(){e.mapReady.resolve(),e.offices.length>0&&e.showOfficesOnMap(e.offices),(yield e.deliveries).forEach(i=>{e.showTruckOnMap(i)}),(yield e.deliveries).map(i=>{const r=i.route.path.points,d=r.slice(0,r.indexOf(i.lastPathPointPassed)+1).map(S=>[S.points.lng,S.points.lat]);d.push([i.truckLoc.lng,i.truckLoc.lat]);const b=r.slice(r.indexOf(i.lastPathPointPassed)+1).map(S=>[S.points.lng,S.points.lat]);b.unshift([i.truckLoc.lng,i.truckLoc.lat]),e.map.addSource(`route-traveled${i._id}`,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:d}}}),e.map.addLayer({id:`route-traveled${i._id}`,type:"line",source:`route-traveled${i._id}`,layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"#6E9140","line-width":3}}),e.map.addSource(`route${i._id}`,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:b}}}),e.map.addLayer({id:`route${i._id}`,type:"line",source:`route${i._id}`,layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"#914531","line-width":3}})})})),e.mapContainer&&e.mapContainerResizeObserver.observe(e.mapContainer.element.nativeElement),e.drawerService.drawerClosed.subscribe(i=>e.drawerOpened=!1)})()}onClick(e){var i=this;return dr(function*(){const r=e.target.closest(".office-marker"),s=e.target.classList.contains("truck-marker")&&e.target;if(r){const d=r.getAttribute("office-id"),m=i.offices.find(b=>b._id===d);i.hideAllRoutes(),i.drawerService.openDrawer(cee,{officeId:d}),i.drawerOpened=!0,m&&(i.resizeMap(),i.moveCenterMap([m.lng,m.lat]))}if(s){const d=s.getAttribute("delivery-id"),b=(yield i.deliveries).find(S=>S._id===d)?.truckLoc;i.drawerService.openDrawer(vZ,{deliveryId:d}),i.drawerOpened=!0,i.hideAllRoutes(),i.showRouteOnMap(d),i.resizeMap(),i.moveCenterMap(b)}})()}resizeMap(){var e=this;return dr(function*(){yield e.mapReady,setTimeout(()=>{console.time("resize"),console.log("map resized"),e.map.resize()},0)})()}centerMap(){var e=this;return dr(function*(){yield e.mapReady,setTimeout(()=>{e.map.flyTo({center:[25.4858,42.7339],zoom:6.5}),console.log("map centered")},0)})()}moveCenterMap(e){var i=this;return dr(function*(){yield i.mapReady,setTimeout(()=>{i.map.flyTo({center:e,zoom:8}),console.log("map moved")},0)})()}calculateTruckPoint(e){let i;const r=+new Date(e.departureDate);let b=(+new Date-r)/36e5*90;const S=e.route.path.points,I=S.find(ie=>b===ie.totalDistance),R=S[0],G=S[S.length-1];let X={};if(b<R.totalDistance)i=R.points,X=R;else if(b>G.totalDistance)i=G.points,X=G,b=G.distancePassed;else if(I)i=I.points,X=I;else{const ie=S.find(br=>br.totalDistance>b),ve=S[S.indexOf(ie)-1];X=ve;const dt=(b-ve.totalDistance)/ie.difference;i={lat:ve.points.lat+(ie.points.lat-ve.points.lat)*dt,lng:ve.points.lng+(ie.points.lng-ve.points.lng)*dt}}return{truckLatLng:i,lastPathPointPassed:X}}showOfficesOnMap(e){e.forEach(i=>{const r=new Ly.Marker({color:"#4E5F91"});r.setLngLat({lng:i.lng,lat:i.lat}),r.addTo(this.map),r.getElement().classList.add("office-marker"),r.getElement().setAttribute("office-id",i._id)})}showTruckOnMap(e){const{truckLatLng:i,lastPathPointPassed:r}=this.calculateTruckPoint(e),s=document.createElement("div");s.style.width="27px",s.style.height="41px",s.style.backgroundImage="url(./assets/images/truck-marker.svg)",s.style.top="-15px",s.classList.add("truck-marker"),s.setAttribute("delivery-id",e._id);const d=new Ly.Marker(s);d.setLngLat(i),d.addTo(this.map),e.truckLoc=i,e.lastPathPointPassed=r}showRouteOnMap(e){var i=this;return dr(function*(){yield i.mapReady,i.map.setLayoutProperty(`route${e}`,"visibility","visible"),i.map.setLayoutProperty(`route-traveled${e}`,"visibility","visible")})()}hideAllRoutes(){var e=this;return dr(function*(){yield e.mapReady;const i=e.map.getStyle().layers.filter(s=>s.id.includes("route")),r=e.map.getStyle().layers.filter(s=>s.id.includes("route-traveled"));i&&i.forEach(s=>{e.map.setLayoutProperty(s.id,"visibility","none")}),r&&r.forEach(s=>{e.map.setLayoutProperty(s.id,"visibility","none")})})()}}return t.\u0275fac=function(e){return new(e||t)(U(dee),U(zy),U(iD),U(Pw))},t.\u0275cmp=it({type:t,selectors:[["app-mapbox"]],viewQuery:function(e,i){if(1&e&&An(hee,5,Er),2&e){let r;St(r=Tt())&&(i.mapContainer=r.first)}},decls:2,vars:0,consts:[["id","map",1,"map",3,"click"],["mapContainer",""]],template:function(e,i){1&e&&(W(0,"div",0,1),De("click",function(s){return i.onClick(s)}),q())},styles:[".map[_ngcontent-%COMP%]{width:100%;height:auto;min-height:600px}"]}),t})();const fee=[{path:"",children:[],pathMatch:"full",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["app-dashboard"]],decls:5,vars:0,template:function(e,i){1&e&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2,"Map"),q(),W(3,"nb-card-body"),at(4,"app-mapbox"),q()())},dependencies:[bs,vs,ys,pee]}),t})()}];let mee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Gp.forRoot(fee),Gp]}),t})();const gee=["sliderHandle"],_ee=["sliderHandleStart"],yee=["sliderHandleEnd"],vee=function(t,n){return{left:t,width:n}};function bee(t,n){if(1&t&&at(0,"span",4),2&t){const e=z();P("ngStyle",tr(1,vee,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))}}const wee=function(t,n){return{bottom:t,height:n}};function Cee(t,n){if(1&t&&at(0,"span",4),2&t){const e=z();P("ngStyle",tr(1,wee,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%"))}}const xee=function(t){return{height:t}};function See(t,n){if(1&t&&at(0,"span",4),2&t){const e=z();P("ngStyle",tn(1,xee,e.handleValue+"%"))}}const Tee=function(t){return{width:t}};function Mee(t,n){if(1&t&&at(0,"span",4),2&t){const e=z();P("ngStyle",tn(1,Tee,e.handleValue+"%"))}}const rD=function(t,n){return{left:t,bottom:n}};function Dee(t,n){if(1&t){const e=bt();W(0,"span",5,6),De("keydown",function(r){return ye(e),me(z().onHandleKeydown(r))})("mousedown",function(r){return ye(e),me(z().onMouseDown(r))})("touchstart",function(r){return ye(e),me(z().onTouchStart(r))})("touchmove",function(r){return ye(e),me(z().onTouchMove(r))})("touchend",function(r){return ye(e),me(z().onTouchEnd(r))}),q()}if(2&t){const e=z();Qr("transition",e.dragging?"none":null),P("ngStyle",tr(8,rD,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null)),dn("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const AR=function(t){return{"p-slider-handle-active":t}};function Eee(t,n){if(1&t){const e=bt();W(0,"span",7,8),De("keydown",function(r){return ye(e),me(z().onHandleKeydown(r,0))})("mousedown",function(r){return ye(e),me(z().onMouseDown(r,0))})("touchstart",function(r){return ye(e),me(z().onTouchStart(r,0))})("touchmove",function(r){return ye(e),me(z().onTouchMove(r,0))})("touchend",function(r){return ye(e),me(z().onTouchEnd(r))}),q()}if(2&t){const e=z();Qr("transition",e.dragging?"none":null),P("ngStyle",tr(9,rD,e.rangeStartLeft,e.rangeStartBottom))("ngClass",tn(12,AR,0==e.handleIndex)),dn("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}function Iee(t,n){if(1&t){const e=bt();W(0,"span",7,9),De("keydown",function(r){return ye(e),me(z().onHandleKeydown(r,1))})("mousedown",function(r){return ye(e),me(z().onMouseDown(r,1))})("touchstart",function(r){return ye(e),me(z().onTouchStart(r,1))})("touchmove",function(r){return ye(e),me(z().onTouchMove(r,1))})("touchend",function(r){return ye(e),me(z().onTouchEnd(r))}),q()}if(2&t){const e=z();Qr("transition",e.dragging?"none":null),P("ngStyle",tr(9,rD,e.rangeEndLeft,e.rangeEndBottom))("ngClass",tn(12,AR,1==e.handleIndex)),dn("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)}}const kee=function(t,n,e,i){return{"p-slider p-component":!0,"p-disabled":t,"p-slider-horizontal":n,"p-slider-vertical":e,"p-slider-animate":i}},Aee={provide:to,useExisting:Bn(()=>OR),multi:!0};let OR=(()=>{class t{constructor(e,i,r,s){this.el=e,this.renderer=i,this.ngZone=r,this.cd=s,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new Xe,this.onSlideEnd=new Xe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&Le.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(e,i){if(!this.disabled){var r=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,"horizontal"===this.orientation?(this.startx=parseInt(r.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(r.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&Le.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onTouchMove(e,i){if(!this.disabled){var s,r=e.changedTouches[0];s="horizontal"===this.orientation?Math.floor(100*(parseInt(r.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(r.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,s),e.preventDefault()}}onTouchEnd(e,i){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&Le.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)}onHandleKeydown(e,i){this.disabled||(38==e.which||39==e.which?this.spin(e,1,i):(37==e.which||40==e.which)&&this.spin(e,-1,i))}spin(e,i,r){let s=(this.step||1)*i;this.range?(this.handleIndex=r,this.updateValue(this.values[this.handleIndex]+s),this.updateHandleValue()):(this.updateValue(this.value+s),this.updateHandleValue()),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const e=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:i,values:this.values}:{originalEvent:i,value:this.value}),this.animate&&Le.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(e,i){this.sliderHandleClick=!1;let r=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(r,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(r,e)):this.step?this.handleStepChange(r,this.value):(this.handleValue=i,this.updateValue(r,e)),this.cd.markForCheck()}handleStepChange(e,i){let r=e-i,s=i;r<0?s=i+Math.ceil(e/this.step-i/this.step)*this.step:r>0&&(s=i+Math.floor(e/this.step-i/this.step)*this.step),this.updateValue(s),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+Le.getWindowScrollLeft(),this.initY=e.top+Le.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let r=e;0==this.handleIndex?(r<this.min?(r=this.min,this.handleValues[0]=0):r>this.values[1]&&r>this.max&&(r=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(r>this.max?(r=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):r<this.min?(r=this.min,this.handleValues[1]=0):r<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(r),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(e){return e/100*(this.max-this.min)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(cr),U(Hn),U(mi))},t.\u0275cmp=it({type:t,selectors:[["p-slider"]],viewQuery:function(e,i){if(1&e&&(An(gee,5),An(_ee,5),An(yee,5)),2&e){let r;St(r=Tt())&&(i.sliderHandle=r.first),St(r=Tt())&&(i.sliderHandleStart=r.first),St(r=Tt())&&(i.sliderHandleEnd=r.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[qt([Aee])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(e,i){1&e&&(W(0,"div",0),De("click",function(s){return i.onBarClick(s)}),K(1,bee,1,4,"span",1),K(2,Cee,1,4,"span",1),K(3,See,1,3,"span",1),K(4,Mee,1,3,"span",1),K(5,Dee,2,11,"span",2),K(6,Eee,2,14,"span",3),K(7,Iee,2,14,"span",3),q()),2&e&&(Si(i.styleClass),P("ngStyle",i.style)("ngClass",mm(11,kee,i.disabled,"horizontal"==i.orientation,"vertical"==i.orientation,i.animate)),V(1),P("ngIf",i.range&&"horizontal"==i.orientation),V(1),P("ngIf",i.range&&"vertical"==i.orientation),V(1),P("ngIf",!i.range&&"vertical"==i.orientation),V(1),P("ngIf",!i.range&&"horizontal"==i.orientation),V(1),P("ngIf",!i.range),V(1),P("ngIf",i.range),V(1),P("ngIf",i.range))},dependencies:[xo,Dn,Ma],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Oee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki]}),t})();function Pee(t,n){if(1&t&&(W(0,"span"),Pe(1),q()),2&t){const e=z();V(1),Sn(e.label)}}function Ree(t,n){1&t&&Rt(0)}const jy=function(t){return{height:t}},Nee=function(t,n){return{"p-highlight":t,"p-disabled":n}},Lee=function(t){return{"p-highlight":t}},PR=function(t){return{"pi pi-check":t}},$y=function(t){return{$implicit:t}},Fee=["container"],zee=["overlay"],Bee=["filterInput"],Vee=["in"],Hee=["items"],Uee=["scroller"];function jee(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(2);V(1),Sn(e.valuesAsString||"empty")}}function $ee(t,n){if(1&t){const e=bt();W(0,"span",20),De("click",function(r){ye(e);const s=z().$implicit;return me(z(3).removeChip(s,r))}),q()}}function Gee(t,n){if(1&t&&(W(0,"div",16,17)(2,"span",18),Pe(3),q(),K(4,$ee,1,0,"span",19),q()),2&t){const e=n.$implicit,i=z(3);V(3),Sn(i.findLabelByValue(e)),V(1),P("ngIf",!i.disabled)}}function Wee(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(3);V(1),Sn(e.placeholder||e.defaultLabel||"empty")}}function qee(t,n){if(1&t&&(sn(0),K(1,Gee,5,2,"div",15),K(2,Wee,2,1,"ng-container",7),an()),2&t){const e=z(2);V(1),P("ngForOf",e.value),V(1),P("ngIf",!e.value||0===e.value.length)}}function Zee(t,n){if(1&t&&(sn(0),K(1,jee,2,1,"ng-container",7),K(2,qee,3,2,"ng-container",7),an()),2&t){const e=z();V(1),P("ngIf","comma"===e.display),V(1),P("ngIf","chip"===e.display)}}function Kee(t,n){1&t&&Rt(0)}function Yee(t,n){if(1&t){const e=bt();W(0,"i",21),De("click",function(r){return ye(e),me(z().clear(r))}),q()}}function Xee(t,n){1&t&&Rt(0)}function Qee(t,n){1&t&&Rt(0)}const RR=function(t){return{options:t}};function Jee(t,n){if(1&t&&(sn(0),K(1,Qee,1,0,"ng-container",8),an()),2&t){const e=z(3);V(1),P("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",tn(2,RR,e.filterOptions))}}const ete=function(t){return{"p-checkbox-disabled":t}},tte=function(t,n,e){return{"p-highlight":t,"p-focus":n,"p-disabled":e}};function nte(t,n){if(1&t){const e=bt();W(0,"div",36)(1,"div",2)(2,"input",37),De("focus",function(){return ye(e),me(z(4).onHeaderCheckboxFocus())})("blur",function(){return ye(e),me(z(4).onHeaderCheckboxBlur())})("keydown.space",function(r){return ye(e),me(z(4).toggleAll(r))}),q()(),W(3,"div",38),De("click",function(r){return ye(e),me(z(4).toggleAll(r))}),at(4,"span",39),q()()}if(2&t){const e=z(4);P("ngClass",tn(6,ete,e.disabled||e.toggleAllDisabled)),V(2),P("checked",e.allChecked)("disabled",e.disabled||e.toggleAllDisabled),V(1),P("ngClass",td(8,tte,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),dn("aria-checked",e.allChecked),V(1),P("ngClass",tn(12,PR,e.allChecked))}}function ite(t,n){if(1&t){const e=bt();W(0,"div",40)(1,"input",41,42),De("input",function(r){return ye(e),me(z(4).onFilterInputChange(r))}),q(),at(3,"span",43),q()}if(2&t){const e=z(4);V(1),P("value",e.filterValue||"")("disabled",e.disabled),dn("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function rte(t,n){if(1&t){const e=bt();K(0,nte,5,14,"div",32),K(1,ite,4,5,"div",33),W(2,"button",34),De("click",function(r){return ye(e),me(z(3).close(r))}),at(3,"span",35),q()}if(2&t){const e=z(3);P("ngIf",e.showToggleAll&&!e.selectionLimit),V(1),P("ngIf",e.filter)}}function ote(t,n){if(1&t&&(W(0,"div",28),ln(1),K(2,Xee,1,0,"ng-container",29),K(3,Jee,2,4,"ng-container",30),K(4,rte,4,2,"ng-template",null,31,Sr),q()),2&t){const e=En(5),i=z(2);V(2),P("ngTemplateOutlet",i.headerTemplate),V(1),P("ngIf",i.filterTemplate)("ngIfElse",e)}}function ste(t,n){1&t&&Rt(0)}const NR=function(t,n){return{$implicit:t,options:n}};function ate(t,n){if(1&t&&K(0,ste,1,0,"ng-container",8),2&t){const e=n.$implicit,i=n.options;z(2),P("ngTemplateOutlet",En(6))("ngTemplateOutletContext",tr(2,NR,e,i))}}function lte(t,n){1&t&&Rt(0)}function cte(t,n){if(1&t&&K(0,lte,1,0,"ng-container",8),2&t){const e=n.options;P("ngTemplateOutlet",z(4).loaderTemplate)("ngTemplateOutletContext",tn(2,RR,e))}}function ute(t,n){1&t&&(sn(0),K(1,cte,1,4,"ng-template",46),an())}function dte(t,n){if(1&t){const e=bt();W(0,"p-scroller",44,45),De("onLazyLoad",function(r){return ye(e),me(z(2).onLazyLoad.emit(r))}),K(2,ate,1,5,"ng-template",14),K(3,ute,2,0,"ng-container",7),q()}if(2&t){const e=z(2);gs(tn(9,jy,e.scrollHeight)),P("items",e.optionsToRender)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),V(3),P("ngIf",e.loaderTemplate)}}function hte(t,n){1&t&&Rt(0)}const pte=function(){return{}};function fte(t,n){if(1&t&&(sn(0),K(1,hte,1,0,"ng-container",8),an()),2&t){z();const e=En(6),i=z();V(1),P("ngTemplateOutlet",e)("ngTemplateOutletContext",tr(3,NR,i.optionsToRender,ed(2,pte)))}}function mte(t,n){if(1&t&&(W(0,"span"),Pe(1),q()),2&t){const e=z().$implicit,i=z(4);V(1),Sn(i.getOptionGroupLabel(e)||"empty")}}function gte(t,n){1&t&&Rt(0)}function _te(t,n){1&t&&Rt(0)}function yte(t,n){if(1&t&&(W(0,"li",52),K(1,mte,2,1,"span",7),K(2,gte,1,0,"ng-container",8),q(),K(3,_te,1,0,"ng-container",8)),2&t){const e=n.$implicit,i=z(2).options,r=En(5),s=z(2);P("ngStyle",tn(6,jy,i.itemSize+"px")),V(1),P("ngIf",!s.groupTemplate),V(1),P("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",tn(8,$y,e)),V(1),P("ngTemplateOutlet",r)("ngTemplateOutletContext",tn(10,$y,s.getOptionGroupChildren(e)))}}function vte(t,n){if(1&t&&(sn(0),K(1,yte,4,12,"ng-template",51),an()),2&t){const e=z().$implicit;V(1),P("ngForOf",e)}}function bte(t,n){1&t&&Rt(0)}function wte(t,n){if(1&t&&(sn(0),K(1,bte,1,0,"ng-container",8),an()),2&t){const e=z().$implicit,i=En(5);V(1),P("ngTemplateOutlet",i)("ngTemplateOutletContext",tn(2,$y,e))}}function Cte(t,n){if(1&t){const e=bt();W(0,"p-multiSelectItem",53),De("onClick",function(r){return ye(e),me(z(4).onOptionClick(r))})("onKeydown",function(r){return ye(e),me(z(4).onOptionKeydown(r))}),q()}if(2&t){const e=n.$implicit,i=z(2).options,r=z(2);P("option",e)("selected",r.isSelected(e))("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)("itemSize",i.itemSize)}}function xte(t,n){1&t&&K(0,Cte,1,6,"ng-template",51),2&t&&P("ngForOf",n.$implicit)}function Ste(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(4);V(1),ei(" ",e.emptyFilterMessageLabel," ")}}function Tte(t,n){1&t&&Rt(0,null,55)}function Mte(t,n){if(1&t&&(W(0,"li",54),K(1,Ste,2,1,"ng-container",30),K(2,Tte,2,0,"ng-container",29),q()),2&t){const e=z().options,i=z(2);P("ngStyle",tn(4,jy,e.itemSize+"px")),V(1),P("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),V(1),P("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Dte(t,n){if(1&t&&(sn(0),Pe(1),an()),2&t){const e=z(4);V(1),ei(" ",e.emptyMessageLabel," ")}}function Ete(t,n){1&t&&Rt(0,null,56)}function Ite(t,n){if(1&t&&(W(0,"li",54),K(1,Dte,2,1,"ng-container",30),K(2,Ete,2,0,"ng-container",29),q()),2&t){const e=z().options,i=z(2);P("ngStyle",tn(4,jy,e.itemSize+"px")),V(1),P("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),V(1),P("ngTemplateOutlet",i.emptyTemplate)}}function kte(t,n){if(1&t&&(W(0,"ul",47,48),K(2,vte,2,1,"ng-container",7),K(3,wte,2,4,"ng-container",7),K(4,xte,1,1,"ng-template",null,49,Sr),K(6,Mte,3,6,"li",50),K(7,Ite,3,6,"li",50),q()),2&t){const e=n.options,i=z(2);gs(e.contentStyle),P("ngClass",e.contentStyleClass),V(2),P("ngIf",i.group),V(1),P("ngIf",!i.group),V(3),P("ngIf",i.hasFilter()&&i.isEmpty()),V(1),P("ngIf",!i.hasFilter()&&i.isEmpty())}}function Ate(t,n){1&t&&Rt(0)}function Ote(t,n){if(1&t&&(W(0,"div",57),ln(1,1),K(2,Ate,1,0,"ng-container",29),q()),2&t){const e=z(2);V(2),P("ngTemplateOutlet",e.footerTemplate)}}const Pte=function(){return["p-multiselect-panel p-component"]};function Rte(t,n){if(1&t){const e=bt();W(0,"div",22),De("keydown",function(r){return ye(e),me(z().onKeydown(r))}),K(1,ote,6,3,"div",23),W(2,"div",24),K(3,dte,4,11,"p-scroller",25),K(4,fte,2,6,"ng-container",7),K(5,kte,8,7,"ng-template",null,26,Sr),q(),K(7,Ote,3,1,"div",27),q()}if(2&t){const e=z();Si(e.panelStyleClass),P("ngClass",ed(10,Pte))("ngStyle",e.panelStyle),V(1),P("ngIf",e.showHeader),V(1),Qr("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),V(1),P("ngIf",e.virtualScroll),V(1),P("ngIf",!e.virtualScroll),V(3),P("ngIf",e.footerFacet||e.footerTemplate)}}const Nte=[[["p-header"]],[["p-footer"]]],Lte=function(t,n,e,i){return{"p-multiselect p-component":!0,"p-multiselect-open":t,"p-multiselect-chip":n,"p-focus":e,"p-disabled":i}},Fte=function(t,n){return{"p-placeholder":t,"p-multiselect-label-empty":n}},zte=function(){return{"p-multiselect-trigger":!0}},Bte=["p-header","p-footer"],Vte={provide:to,useExisting:Bn(()=>LR),multi:!0};let Hte=(()=>{class t{constructor(){this.onClick=new Xe,this.onKeydown=new Xe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}onOptionKeydown(e){this.onKeydown.emit({originalEvent:e,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(W(0,"li",0),De("click",function(s){return i.onOptionClick(s)})("keydown",function(s){return i.onOptionKeydown(s)}),W(1,"div",1)(2,"div",2),at(3,"span",3),q()(),K(4,Pee,2,1,"span",4),K(5,Ree,1,0,"ng-container",5),q()),2&e&&(P("ngStyle",tn(9,jy,i.itemSize+"px"))("ngClass",tr(11,Nee,i.selected,i.disabled)),dn("aria-label",i.label)("tabindex",i.disabled?null:"0"),V(2),P("ngClass",tn(14,Lee,i.selected)),V(1),P("ngClass",tn(16,PR,i.selected)),V(1),P("ngIf",!i.template),V(1),P("ngTemplateOutlet",i.template)("ngTemplateOutletContext",tn(18,$y,i.option)))},dependencies:[xo,Dn,So,Ma,O0],encapsulation:2}),t})(),LR=(()=>{class t{constructor(e,i,r,s,d,m,b){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=d,this.config=m,this.overlayService=b,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new Xe,this.onFilter=new Xe,this.onFocus=new Xe,this.onBlur=new Xe,this.onClick=new Xe,this.onClear=new Xe,this.onPanelShow=new Xe,this.onPanelHide=new Xe,this.onLazyLoad=new Xe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder=e,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(e){this._options=e,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(e){return this.optionLabel?zt.resolveFieldData(e,this.optionLabel):e&&null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?zt.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?zt.resolveFieldData(e,this.optionGroupLabel):e&&null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?zt.resolveFieldData(e,this.optionGroupChildren):e.items}isOptionDisabled(e){return(this.optionDisabled?zt.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled)||this.maxSelectionLimitReached&&!this.isSelected(e)}writeValue(e){this.value=e,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e){let i=e.option;if(this.isOptionDisabled(i))return;let r=this.getOptionValue(i),s=this.findSelectionIndex(r);-1!=s?(this.value=this.value.filter((d,m)=>m!=s),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],r]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:e.originalEvent,value:this.value,itemValue:r}),this.updateLabel(),this.updateFilledState()}isSelected(e){return-1!=this.findSelectionIndex(this.getOptionValue(e))}findSelectionIndex(e){let i=-1;if(this.value)for(let r=0;r<this.value.length;r++)if(zt.equals(this.value[r],e,this.dataKey)){i=r;break}return i}get toggleAllDisabled(){let e=this.optionsToRender;if(!e||0===e.length)return!0;for(let i of e)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateFilledState(),this.updateLabel(),e.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(r=>{if(this.group){let s=this.getOptionGroupChildren(r);s&&s.forEach(d=>{let m=this.isOptionDisabled(d);(!m||m&&this.isSelected(d))&&i.push(this.getOptionValue(d))})}else{let s=this.isOptionDisabled(r);(!s||s&&this.isSelected(r))&&i.push(this.getOptionValue(r))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(s=>{this.isOptionDisabled(s)&&this.isSelected(s)&&i.push(this.getOptionValue(s))}):this.isOptionDisabled(r)&&this.isSelected(r)&&i.push(this.getOptionValue(r))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),e.stopPropagation()}onMouseclick(e,i){this.disabled||this.readonly||e.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(e),!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&!Le.hasClass(e.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),i.focus()))}removeChip(e,i){this.value=this.value.filter(r=>!zt.equals(r,e,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:e}),this.updateLabel(),this.updateFilledState()}onInputFocus(e){this.focus=!0,this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focus=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(e){if(!this.readonly)switch(e.originalEvent.which){case 40:var i=this.findNextItem(e.originalEvent.target.parentElement);i&&i.focus(),e.originalEvent.preventDefault();break;case 38:var r=this.findPrevItem(e.originalEvent.target.parentElement);r&&r.focus(),e.originalEvent.preventDefault();break;case 13:this.onOptionClick(e),e.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(e){let i=e.nextElementSibling;return i?Le.hasClass(i.children[0],"p-disabled")||Le.isHidden(i.children[0])||Le.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?Le.hasClass(i.children[0],"p-disabled")||Le.isHidden(i.children[0])||Le.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(e){switch(e.which){case 40:!this.overlayVisible&&e.altKey&&(this.show(),e.preventDefault());break;case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let e="";for(let i=0;i<this.value.length;i++){let r=this.findLabelByValue(this.value[i]);r&&(e.length>0&&(e+=", "),e+=r)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=e;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(e){if(this.group){let i=null;for(let r=0;r<this.options.length;r++){let s=this.getOptionGroupChildren(this.options[r]);if(s&&(i=this.searchLabelByValue(e,s),i))break}return i}return this.searchLabelByValue(e,this.options)}searchLabelByValue(e,i){let r=null;for(let s=0;s<i.length;s++){let d=i[s],m=this.getOptionValue(d);if(null==e&&null==m||zt.equals(e,m,this.dataKey)){r=this.getOptionLabel(d);break}}return r}get allChecked(){let e=this.optionsToRender;if(!e||0===e.length)return!1;{let i=0,r=0,s=0,d=this.group?0:this.optionsToRender.length;for(let m of e)if(this.group)for(let b of this.getOptionGroupChildren(m)){let S=this.isOptionDisabled(b),I=this.isSelected(b);if(S)I?i++:r++;else{if(!I)return!1;s++}d++}else{let b=this.isOptionDisabled(m),S=this.isSelected(m);if(b)S?i++:r++;else{if(!S)return!1;s++}}return d===i||d===s||s&&d===s+r+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Do.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Do.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(e){this._filterValue=e.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:e,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push({...r,[this.optionGroupChildren]:s})}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,e,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return t.\u0275fac=function(e){return new(e||t)(U(Yt),U(cr),U(mi),U(Hn),U(Nw),U(Fm),U(Vy))},t.\u0275cmp=it({type:t,selectors:[["p-multiSelect"]],contentQueries:function(e,i,r){if(1&e&&(_i(r,FZ,5),_i(r,LZ,5),_i(r,El,4)),2&e){let s;St(s=Tt())&&(i.footerFacet=s.first),St(s=Tt())&&(i.headerFacet=s.first),St(s=Tt())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(An(Fee,5),An(zee,5),An(Bee,5),An(Vee,5),An(Hee,5),An(Uee,5)),2&e){let r;St(r=Tt())&&(i.containerViewChild=r.first),St(r=Tt())&&(i.overlayViewChild=r.first),St(r=Tt())&&(i.filterInputChild=r.first),St(r=Tt())&&(i.accessibleViewChild=r.first),St(r=Tt())&&(i.itemsViewChild=r.first),St(r=Tt())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&Gt("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus||i.overlayVisible)("p-multiselect-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[qt([Vte])],ngContentSelectors:Bte,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(e,i){if(1&e){const r=bt();si(Nte),W(0,"div",0,1),De("click",function(d){ye(r);const m=En(4);return me(i.onMouseclick(d,m))}),W(2,"div",2)(3,"input",3,4),De("focus",function(d){return i.onInputFocus(d)})("blur",function(d){return i.onInputBlur(d)})("keydown",function(d){return i.onKeydown(d)}),q()(),W(5,"div",5)(6,"div",6),K(7,Zee,3,2,"ng-container",7),K(8,Kee,1,0,"ng-container",8),q(),K(9,Yee,1,0,"i",9),q(),W(10,"div",10),at(11,"span",11),q(),W(12,"p-overlay",12,13),De("visibleChange",function(d){return i.overlayVisible=d})("onAnimationStart",function(d){return i.onOverlayAnimationStart(d)})("onHide",function(){return i.hide()}),K(14,Rte,8,11,"ng-template",14),q()()}2&e&&(Si(i.styleClass),P("ngClass",mm(30,Lte,i.overlayVisible,"chip"===i.display,i.focus,i.disabled))("ngStyle",i.style),V(3),P("disabled",i.disabled),dn("label",i.label)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy),V(2),P("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),V(1),P("ngClass",tr(35,Fte,i.valuesAsString===(i.defaultLabel||i.placeholder),!(null!=i.valuesAsString&&0!==i.valuesAsString.length||null!=i.placeholder&&0!==i.placeholder.length))),V(1),P("ngIf",!i.selectedItemsTemplate),V(1),P("ngTemplateOutlet",i.selectedItemsTemplate)("ngTemplateOutletContext",tn(38,$y,i.value)),V(1),P("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear),V(1),P("ngClass",ed(40,zte)),V(1),P("ngClass",i.dropdownIcon),V(1),P("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[xo,$r,Dn,So,Ma,WM,El,gR,O0,ZM,Hte],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),t})(),Ute=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,zw,Cu,_R,P0,R0,zw,Cu,R0]}),t})(),wh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,p0,Mw.forChild(),vh,Rq,_s,Hw,Oee,Ute,fR,MR,TM,LP,wM]}),t})();function jte(t,n){if(1&t&&(W(0,"nb-radio",6),Pe(1),q()),2&t){const e=n.$implicit;P("value",e.value),V(1),ei(" ",e.label," ")}}function $te(t,n){if(1&t&&(W(0,"nb-radio",7),Pe(1),q()),2&t){const e=n.$implicit;P("value",e.value)("checked",e.checked),V(1),ei(" ",e.label," ")}}let Gte=(()=>{class t{constructor(e){this.settingsService=e,this.themeOptions=[{value:"dark",label:"Dark Theme"},{value:"default",label:"Light Theme"}],this.languageOptions=[{value:"bg",label:"Bulgarian",checked:!0},{value:"eng",label:"English"}],this.settingsService.onSettingsChanged(i=>{this._themeOption=i.theme})}get themeOption(){return console.log("GET themeOption"),this._themeOption}set themeOption(e){console.log("SET themeOption"),this.settingsService.saveSetting("theme",e)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(U(FR))},t.\u0275cmp=it({type:t,selectors:[["app-settings"]],decls:16,vars:4,consts:[["accent","info",1,"settings-popup"],[1,"theme-select"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"Language-select"],[3,"value","checked",4,"ngFor","ngForOf"],[3,"value"],[3,"value","checked"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header"),Pe(2,"Settings"),q(),W(3,"nb-card-body")(4,"nb-card",1)(5,"nb-card-header"),Pe(6,"Change Theme:"),q(),W(7,"nb-card-body")(8,"nb-radio-group",2),De("ngModelChange",function(s){return i.themeOption=s}),K(9,jte,2,2,"nb-radio",3),q()()(),W(10,"nb-card",4)(11,"nb-card-header"),Pe(12,"Chnage Language:"),q(),W(13,"nb-card-body")(14,"nb-radio-group",2),De("ngModelChange",function(s){return i.langOption=s}),K(15,$te,2,3,"nb-radio",5),q()()()()()),2&e&&(V(8),P("ngModel",i.themeOption),V(1),P("ngForOf",i.themeOptions),V(5),P("ngModel",i.langOption),V(1),P("ngForOf",i.languageOptions))},dependencies:[$r,yu,od,bs,vs,ys,$5,Pq],styles:[".settings-popup[_ngcontent-%COMP%]{width:80vw}"]}),t})(),FR=(()=>{class t{constructor(e){this.dialogService=e,this.settingsObs=new Ni({});const i=localStorage.getItem("settings");i&&this.settingsObs.next(JSON.parse(i)),this.settingsObs.subscribe(r=>{localStorage.setItem("settings",JSON.stringify(r))})}openSettingsModal(){this.dialogService.open(Gte)}getSetting(e){return this.settingsObs.value[e]}saveSetting(e,i){const r=this.settingsObs.value;r[e]=i,this.settingsObs.next(r)}clearSettings(){localStorage.removeItem("settings")}onSettingsChanged(e){this.settingsObs.subscribe(e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(E0))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:wh}),t})(),cd=(()=>{class t{constructor(e){this.httpBackend=e,this.loggedUser=new Ni(null),this.userData={},this.http=new ef(e),this.fetchUserFromStorage()}fetchUserFromStorage(){this.http.get(`${Ls_apiURL}/api/request-info`).subscribe(e=>console.log(e))}login(e,i){return new Promise((s,d)=>{if(Math.random()<.5){const m={user:{id:"24",name:"Pecka Shmecka",email:e,avatarUrl:"https://ih1.redbubble.net/image.2253860100.5603/poster,504x498,f8f8f8-pad,600x600,f8f8f8.jpg"},token:`${e.split("@")[0]}#10010${Math.round(100*Math.random())}`};this.loggedUser.next(m.user),this.authToken=m.token,s(this.userData)}else d("wrong pass")})}register(e,i,r){console.log("registering user",e,i,r)}logout(){this.loggedUser.next(null)}updateUserDetails({...e}){console.log(e);const i=this.loggedUser.value;i&&(Object.keys(e).forEach(r=>{i[r]=e[r]}),this.loggedUser.next(i)),console.log("changing details of current user")}}return t.\u0275fac=function(e){return new(e||t)(Ee(RM))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function Wte(t,n){1&t&&(W(0,"p",16),Pe(1,"Email is required"),q())}function qte(t,n){1&t&&(W(0,"p",16),Pe(1,"Email format is not valid"),q())}function Zte(t,n){1&t&&(W(0,"p",16),Pe(1,"Password is required"),q())}function Kte(t,n){1&t&&(W(0,"p",16),Pe(1,"Password should be at least 6 charecters long"),q())}let Yte=(()=>{class t{constructor(e,i){this.fb=e,this.userService=i,this.signUpClicked=new Xe,this.loginClicked=new Xe,this.showPassword=!1,this.loginForm=this.fb.group({email:["siyana.atanasov@gmail.com",co.compose([co.required,co.email])],password:["peckatrycka",co.compose([co.required,co.minLength(6)])]}),this.email=this.loginForm.controls.email,this.password=this.loginForm.controls.password}ngOnInit(){}getInputType(){return this.showPassword?"text":"password"}toggleShowPassword(){this.showPassword=!this.showPassword}onSignup(){this.signUpClicked.emit()}onlogin(){var e=this;return dr(function*(){const i=yield e.userService.login(e.email.value,e.password.value);e.loginClicked.emit(),console.log(i)})()}}return t.\u0275fac=function(e){return new(e||t)(U(BT),U(cd))},t.\u0275cmp=it({type:t,selectors:[["app-user-login"]],outputs:{signUpClicked:"signUpClicked",loginClicked:"loginClicked"},decls:26,vars:9,consts:[["accent","info",1,"popup","user-login-popup"],[1,"popup--header","user-login-popup--header"],[1,"popup--body","user-login-popup--body"],[1,"form",3,"formGroup","ngSubmit"],["type","email","nbInput","","placeholder","email","required","","minlength","6","name","email",1,"form-input",3,"formControl"],["class","caption status-danger error-message",4,"ngIf"],[1,"form-input"],["nbInput","","placeholder","password","name","password",3,"type","formControl"],["nbSuffix","","nbButton","","ghost","",3,"icon","click"],[3,"click"],["nbButton","","type","submit","status","primary"],[1,"social-buttons"],["nbButton","","status","primary"],["icon","facebook"],["nbButton","","status","danger"],["icon","google"],[1,"caption","status-danger","error-message"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header",1),Pe(2,"Login"),q(),W(3,"nb-card-body",2)(4,"form",3),De("ngSubmit",function(){return i.loginForm.valid&&i.onlogin()}),at(5,"input",4),K(6,Wte,2,0,"p",5),K(7,qte,2,0,"p",5),W(8,"nb-form-field",6),at(9,"input",7),W(10,"nb-icon",8),De("click",function(){return i.toggleShowPassword()}),q()(),K(11,Zte,2,0,"p",5),K(12,Kte,2,0,"p",5),W(13,"p"),Pe(14,"Don`t have an account? "),W(15,"a",9),De("click",function(){return i.onSignup()}),Pe(16,"Sign Up"),q()(),W(17,"button",10),Pe(18," Log In"),q()(),W(19,"div",11)(20,"button",12),at(21,"nb-icon",13),Pe(22,"Log in with Facebook"),q(),W(23,"button",14),at(24,"nb-icon",15),Pe(25,"Log in with Google"),q()()()()),2&e&&(V(4),P("formGroup",i.loginForm),V(1),P("formControl",i.email),V(1),P("ngIf",i.email.touched&&i.email.hasError("required")),V(1),P("ngIf",i.email.touched&&i.email.hasError("email")),V(2),P("type",i.getInputType())("formControl",i.password),V(1),P("icon",i.showPassword?"eye-outline":"eye-off-outline"),V(1),P("ngIf",i.password.touched&&i.password.hasError("required")),V(1),P("ngIf",i.password.touched&&i.password.hasError("minlength")))},dependencies:[Dn,K2,Wp,yu,V2,Y2,FT,hy,h0,bs,vs,ys,Ml,Ry,k0,Pm,Mr],styles:[".user-login-popup--body[_ngcontent-%COMP%]   .login-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:1rem}.user-login-popup--body[_ngcontent-%COMP%]   .login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40%;margin:.5rem 0}"]}),t})(),Xte=(()=>{class t{constructor(e,i,r){this.userService=e,this.sanitizer=i,this.toastrService=r,this.saveClicked=new Xe,this.closeClicked=new Xe,this.newAvatar=null,this.loggedUser=this.userService.loggedUser.value,this.name=this.loggedUser.name,this.email=this.loggedUser.email,console.log(this.loggedUser)}ngOnInit(){}onSave(){console.log("saving..."),this.saveClicked.emit();const e={};this.avatarUrl&&(e.avatarUrl=this.avatarUrl),this.name!==this.loggedUser.name&&(e.name=this.name),this.email!==this.loggedUser.email&&(e.email=this.email),Object.keys(e).length>0&&(this.userService.updateUserDetails(e),this.toastrService.success("","Changes saved!",{position:Gr.TOP_RIGHT,duration:5e3,icon:"checkmark-outline"}))}onClose(){console.log("closing..."),this.closeClicked.emit()}changeAvatar(e){if(e.item(0)){this.newAvatar=e.item(0);const i=URL.createObjectURL(e.item(0));this.avatarUrl=this.sanitizer.bypassSecurityTrustUrl(i)}}togglePasswordFieldVisibility(e){e.type="text"===e.type?"password":"text"}}return t.\u0275fac=function(e){return new(e||t)(U(cd),U(Vp),U(IM))},t.\u0275cmp=it({type:t,selectors:[["app-user-edit-profile"]],outputs:{saveClicked:"saveClicked",closeClicked:"closeClicked"},decls:45,vars:9,consts:[["accent","info",1,"user-edit-profile-popup"],[1,"user-edit-profile-popup--header"],[1,"user-edit-profile-popup--body"],[1,"user-display"],[1,"user-avatar-section"],[1,"edit-header"],["type","file","accept","image/png, image/jpeg, image/jpg",1,"file-input",3,"change"],["fileUpload",""],[1,"edit-btn","text-link",3,"click"],[1,"user-avatar"],["alt","",3,"src"],[1,"user-details"],[1,"user-details-row"],["nbInput","","size","small",1,"form-input",3,"ngModel","ngModelChange"],[1,"form-input"],["type","password","nbInput","","placeholder","old password",3,"ngModel","ngModelChange"],["oldPasswordInput",""],["nbSuffix","","nbButton","","ghost","",3,"icon","click"],["type","password","nbInput","","placeholder","password",3,"ngModel","ngModelChange"],["passwordInput",""],["type","password","nbInput","","placeholder","confirm password",3,"ngModel","ngModelChange"],["confirmedPasswordInput",""],[1,"user-actions"],["nbButton","","outline","","status","info","focus","false",3,"click"],["nbButton","","outline","","status","danger",3,"click"]],template:function(e,i){if(1&e){const r=bt();W(0,"nb-card",0)(1,"nb-card-header",1),Pe(2,"Edit Profile"),q(),W(3,"nb-card-body",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"p"),Pe(8,"Profile Picture"),q(),W(9,"div")(10,"input",6,7),De("change",function(d){return i.changeAvatar(d.target.files)}),q(),W(12,"a",8),De("click",function(){return ye(r),me(En(11).click())}),Pe(13,"Edit"),q()()(),W(14,"div",9),at(15,"img",10),q()(),W(16,"div",11)(17,"div",12)(18,"p"),Pe(19,"Name"),q(),W(20,"input",13),De("ngModelChange",function(d){return i.name=d}),q()(),W(21,"div",12)(22,"p"),Pe(23,"Email"),q(),W(24,"input",13),De("ngModelChange",function(d){return i.email=d}),q()(),W(25,"div",12)(26,"p"),Pe(27,"Change Password"),q(),W(28,"nb-form-field",14)(29,"input",15,16),De("ngModelChange",function(d){return i.oldPassword=d}),q(),W(31,"nb-icon",17),De("click",function(){ye(r);const d=En(30);return me(i.togglePasswordFieldVisibility(d))}),q()(),W(32,"nb-form-field",14)(33,"input",18,19),De("ngModelChange",function(d){return i.password=d}),q(),W(35,"nb-icon",17),De("click",function(){ye(r);const d=En(34);return me(i.togglePasswordFieldVisibility(d))}),q()(),W(36,"nb-form-field",14)(37,"input",20,21),De("ngModelChange",function(d){return i.confirmedPassword=d}),q(),W(39,"nb-icon",17),De("click",function(){ye(r);const d=En(38);return me(i.togglePasswordFieldVisibility(d))}),q()()()()(),W(40,"div",22)(41,"button",23),De("click",function(){return i.onSave()}),Pe(42,"Save"),q(),W(43,"button",24),De("click",function(){return i.onClose()}),Pe(44,"Close"),q()()()()}if(2&e){const r=En(30),s=En(34),d=En(38);V(15),P("src",i.avatarUrl||(null==i.loggedUser?null:i.loggedUser.avatarUrl),ru),V(5),P("ngModel",i.name),V(4),P("ngModel",i.email),V(5),P("ngModel",i.oldPassword),V(2),P("icon","password"===r.type?"eye-outline":"eye-off-outline"),V(2),P("ngModel",i.password),V(2),P("icon","password"===s.type?"eye-outline":"eye-off-outline"),V(2),P("ngModel",i.confirmedPassword),V(2),P("icon","password"===d.type?"eye-outline":"eye-off-outline")}},dependencies:[Wp,yu,od,bs,vs,ys,Ml,Ry,k0,Pm,Mr],styles:[".user-edit-profile-popup[_ngcontent-%COMP%]{width:80vw}.user-edit-profile-popup--header[_ngcontent-%COMP%]{text-align:center}.user-edit-profile-popup--body[_ngcontent-%COMP%]{padding:2rem 5rem}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:baseline;padding:0 4rem}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-avatar-section[_ngcontent-%COMP%]{flex:1;padding-right:3rem}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-avatar-section[_ngcontent-%COMP%]   .edit-header[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-avatar-section[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{text-align:center}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-avatar-section[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20vw;height:20vw;object-fit:cover;object-position:top;border-radius:50%;border:var(--user-picture-box-border-width) solid var(--user-picture-box-border-color)}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{flex:1;padding-left:3rem;border-left:1px solid}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-details-row[_ngcontent-%COMP%]   .edit-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-right:.5rem}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]{text-align:center;padding-top:3rem}.user-edit-profile-popup--body[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:15vw}.file-input[_ngcontent-%COMP%]{display:none}"]}),t})(),Qte=(()=>{class t{constructor(e,i){this.dialogService=e,this.userService=i,this.logOutClicked=new Xe}ngOnInit(){return dr(function*(){})()}onLogout(){this.userService.logout(),this.logOutClicked.emit()}onEdit(){this.userEditProfileModal=this.dialogService.open(Xte);const e=this.userEditProfileModal.componentRef.instance.saveClicked.subscribe(()=>{this.userEditProfileModal?.close(),i.unsubscribe()}),i=this.userEditProfileModal.componentRef.instance.closeClicked.subscribe(()=>{this.userEditProfileModal?.close(),i.unsubscribe()});this.userEditProfileModal.onClose.subscribe(()=>{e.unsubscribe(),i.unsubscribe()})}}return t.\u0275fac=function(e){return new(e||t)(U(E0),U(cd))},t.\u0275cmp=it({type:t,selectors:[["app-user-profile"]],outputs:{logOutClicked:"logOutClicked"},decls:22,vars:9,consts:[["accent","info",1,"user-profile-popup"],[1,"user-profile-popup--header"],[1,"user-profile-popup--body"],[1,"user-display"],[1,"user-avatar"],["alt","",3,"src"],[1,"user-details"],[1,"user-actions"],["nbButton","","outline","","status","info","focus","false",3,"click"],["nbButton","","outline","","status","danger",3,"click"]],template:function(e,i){if(1&e&&(W(0,"nb-card",0)(1,"nb-card-header",1),Pe(2,"Your Profile"),q(),W(3,"nb-card-body",2)(4,"div",3)(5,"div",4),at(6,"img",5),wl(7,"async"),q(),W(8,"div",6)(9,"p"),Pe(10),wl(11,"async"),q(),W(12,"p"),Pe(13),wl(14,"async"),q(),W(15,"p"),Pe(16,"Some other details.."),q()()(),W(17,"div",7)(18,"button",8),De("click",function(){return i.onEdit()}),Pe(19,"Edit Profile"),q(),W(20,"button",9),De("click",function(){return i.onLogout()}),Pe(21,"Log Out"),q()()()()),2&e){let r,s,d;V(6),P("src",null==(r=fu(7,3,i.userService.loggedUser))?null:r.avatarUrl,ru),V(4),Sn(null==(s=fu(11,5,i.userService.loggedUser))?null:s.name),V(3),Sn(null==(d=fu(14,7,i.userService.loggedUser))?null:d.email)}},dependencies:[bs,vs,ys,Ml,s2],styles:[".user-profile-popup[_ngcontent-%COMP%]{width:80vw}.user-profile-popup--header[_ngcontent-%COMP%]{text-align:center}.user-profile-popup--body[_ngcontent-%COMP%]{padding:2rem 5rem}.user-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.user-profile-popup--body[_ngcontent-%COMP%]   .user-display[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20vw;border-radius:50%;border:var(--user-picture-box-border-width) solid var(--user-picture-box-border-color)}.user-profile-popup--body[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]{text-align:center;padding-top:3rem}.user-profile-popup--body[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:15vw}"]}),t})();function Jte(t,n){1&t&&(W(0,"p",22),Pe(1,"Email is required"),q())}function ene(t,n){1&t&&(W(0,"p",22),Pe(1,"Email format is not valid"),q())}function tne(t,n){1&t&&(W(0,"p",22),Pe(1,"Name is required"),q())}function nne(t,n){1&t&&(W(0,"p",22),Pe(1,"Name should contain only letters"),q())}function ine(t,n){1&t&&(W(0,"p",22),Pe(1,"Name should be at least 6 letters long"),q())}function rne(t,n){1&t&&(W(0,"p",22),Pe(1,"Password is required"),q())}function one(t,n){1&t&&(W(0,"p",22),Pe(1,"Password should be at least 6 charecters long"),q())}function sne(t,n){1&t&&(W(0,"p",22),Pe(1,"Confirmed password is required"),q())}function ane(t,n){1&t&&(W(0,"p",22),Pe(1,"Confirmed password should match Password"),q())}let lne=(()=>{class t{constructor(e,i){this.fb=e,this.userService=i,this.logInClicked=new Xe,this.signupForm=this.fb.group({email:["",co.compose([co.required,co.email])],name:["",co.compose([co.required,co.pattern(/^([A-z]+\s){0,2}[A-z]+$/),co.minLength(6)])],password:["",co.compose([co.required,co.minLength(6)])],confirmed_password:["",co.compose([co.required,cne("password")])]}),this.email=this.signupForm.controls.email,this.name=this.signupForm.controls.name,this.password=this.signupForm.controls.password,this.confirmedPassword=this.signupForm.controls.confirmed_password,this.confirmedPassword.valueChanges.subscribe(r=>{console.log(r,this.confirmedPassword.errors)})}ngOnInit(){}togglePasswordFieldVisibility(e){e.type="text"===e.type?"password":"text"}onsignup(e){console.log(e)}onLogin(){this.logInClicked.emit()}}return t.\u0275fac=function(e){return new(e||t)(U(BT),U(cd))},t.\u0275cmp=it({type:t,selectors:[["app-user-signup"]],outputs:{logInClicked:"logInClicked"},decls:39,vars:20,consts:[["accent","info",1,"popup","user-signup-popup"],[1,"popup--header","user-signup-popup--header"],[1,"popup--body","user-signup-popup--body"],[1,"form","signup-form",3,"formGroup","ngSubmit"],["type","email","nbInput","","placeholder","email","name","email",1,"form-input",3,"status","formControl"],["emailInput",""],["class","caption status-danger error-message",4,"ngIf"],["type","text","nbInput","","placeholder","name","name","name",1,"form-input",3,"status","formControl"],["nameInput",""],[1,"form-input"],["type","password","nbInput","","placeholder","password","name","password",3,"status","formControl"],["passwordInput",""],["nbSuffix","","nbButton","","ghost","",3,"icon","click"],["type","password","nbInput","","placeholder","confirm password","name","confirmedPassword","passwordVisibilityToggle","",3,"status","formControl"],["confirmedPasswordInput",""],[3,"click"],["nbButton","","type","submit","status","success"],[1,"social-buttons"],["nbButton","","status","primary"],["icon","facebook"],["nbButton","","status","danger"],["icon","google"],[1,"caption","status-danger","error-message"]],template:function(e,i){if(1&e){const r=bt();W(0,"nb-card",0)(1,"nb-card-header",1),Pe(2,"Sign Up"),q(),W(3,"nb-card-body",2)(4,"form",3),De("ngSubmit",function(){ye(r);const d=En(6),m=En(10),b=En(16);return me(i.signupForm.valid&&i.userService.register(d.value,m.value,b.value))}),at(5,"input",4,5),K(7,Jte,2,0,"p",6),K(8,ene,2,0,"p",6),at(9,"input",7,8),K(11,tne,2,0,"p",6),K(12,nne,2,0,"p",6),K(13,ine,2,0,"p",6),W(14,"nb-form-field",9),at(15,"input",10,11),W(17,"nb-icon",12),De("click",function(){ye(r);const d=En(16);return me(i.togglePasswordFieldVisibility(d))}),q()(),K(18,rne,2,0,"p",6),K(19,one,2,0,"p",6),W(20,"nb-form-field",9),at(21,"input",13,14),W(23,"nb-icon",12),De("click",function(){ye(r);const d=En(22);return me(i.togglePasswordFieldVisibility(d))}),q()(),K(24,sne,2,0,"p",6),K(25,ane,2,0,"p",6),W(26,"p"),Pe(27,"Already have an account? "),W(28,"a",15),De("click",function(){return i.onLogin()}),Pe(29,"Log In"),q()(),W(30,"button",16),Pe(31,"Sign Up"),q()(),W(32,"div",17)(33,"button",18),at(34,"nb-icon",19),Pe(35,"Sign Up with Facebook"),q(),W(36,"button",20),at(37,"nb-icon",21),Pe(38,"Sign Up with Google"),q()()()()}if(2&e){const r=En(16),s=En(22);V(4),P("formGroup",i.signupForm),V(1),P("status",i.email.touched?i.email.valid?"success":"danger":"basic")("formControl",i.email),V(2),P("ngIf",i.email.touched&&i.email.hasError("required")),V(1),P("ngIf",i.email.touched&&i.email.hasError("email")),V(1),P("status",i.name.touched?i.name.valid?"success":"danger":"basic")("formControl",i.name),V(2),P("ngIf",i.name.touched&&i.name.hasError("required")),V(1),P("ngIf",i.name.touched&&i.name.hasError("pattern")),V(1),P("ngIf",i.name.touched&&i.name.hasError("minlength")),V(2),P("status",i.password.touched?i.password.valid?"success":"danger":"basic")("formControl",i.password),V(2),P("icon","password"===r.type?"eye-outline":"eye-off-outline"),V(1),P("ngIf",i.password.touched&&i.password.hasError("required")),V(1),P("ngIf",i.password.touched&&i.password.hasError("minlength")),V(2),P("status",i.confirmedPassword.touched?i.confirmedPassword.valid?"success":"danger":"basic")("formControl",i.confirmedPassword),V(2),P("icon","password"===s.type?"eye-outline":"eye-off-outline"),V(1),P("ngIf",i.confirmedPassword.touched&&i.confirmedPassword.hasError("required")),V(1),P("ngIf",i.confirmedPassword.touched&&i.confirmedPassword.hasError("valueMatch"))}},dependencies:[Dn,K2,Wp,yu,V2,hy,h0,bs,vs,ys,Ml,Ry,k0,Pm,Mr]}),t})();function cne(t){return n=>{const e=n&&n.parent&&n.parent.controls[t];return n.value!==(e&&e.value)?{valueMatch:!0}:null}}function une(t,n){if(1&t){const e=bt();W(0,"nb-user",2),De("click",function(){return ye(e),me(z().openUserProfileModal())}),q()}if(2&t){const e=z();P("name",e.user.name||"")("picture",e.user.avatarUrl.changingThisBreaksApplicationSecurity||e.user.avatarUrl)}}function dne(t,n){if(1&t){const e=bt();W(0,"button",3),De("click",function(){return ye(e),me(z().openLoginModal())}),Pe(1," Log In "),q()}}let hne=(()=>{class t{constructor(e,i){this.dialogService=e,this.userService=i}ngOnInit(){this.userService.loggedUser.subscribe(e=>this.user=e)}openUserProfileModal(){this.userProfileModal=this.dialogService.open(Qte,{autoFocus:!1});const e=this.userProfileModal.componentRef.instance.logOutClicked.subscribe(()=>{this.userProfileModal?.close(),e.unsubscribe()});this.userProfileModal.onClose.subscribe(()=>{e.unsubscribe()})}openLoginModal(){this.userLoginModal=this.dialogService.open(Yte);const e=this.userLoginModal.componentRef.instance.signUpClicked.subscribe(()=>{this.userLoginModal?.close(),this.openSignupModal(),e.unsubscribe()}),i=this.userLoginModal.componentRef.instance.loginClicked.subscribe(()=>{this.userLoginModal?.close(),i.unsubscribe()});this.userLoginModal.onClose.subscribe(()=>{e.unsubscribe(),i.unsubscribe()})}openSignupModal(){this.userSignupModal=this.dialogService.open(lne);const e=this.userSignupModal.componentRef.instance.logInClicked.subscribe(()=>{this.userSignupModal?.close(),this.openLoginModal(),e.unsubscribe()});this.userSignupModal.onClose.subscribe(()=>{e.unsubscribe()})}}return t.\u0275fac=function(e){return new(e||t)(U(E0),U(cd))},t.\u0275cmp=it({type:t,selectors:[["app-user-header-section"]],decls:2,vars:2,consts:[["showName","false",3,"name","picture","click",4,"ngIf"],["nbButton","","hero","","status","primary","size","small",3,"click",4,"ngIf"],["showName","false",3,"name","picture","click"],["nbButton","","hero","","status","primary","size","small",3,"click"]],template:function(e,i){1&e&&(K(0,une,1,2,"nb-user",0),K(1,dne,2,0,"button",1)),2&e&&(P("ngIf",i.user),V(1),P("ngIf",!i.user))},dependencies:[Dn,Ml,e5]}),t})();const pne=["container"];function fne(t,n){}let mne=(()=>{class t{constructor(e){this.drawerService=e}ngOnInit(){console.log("drawer init"),this.drawerService.drawerOpened.subscribe(([e,i])=>{this.createComponent(e,i)})}createComponent(e,i){if(!this.container)return;this.container.clear();const r=this.container.createComponent(e);return i&&Object.entries(i).forEach(([s,d])=>r.setInput(s,d)),r}onClose(){this.drawerService.closeDrawer()}}return t.\u0275fac=function(e){return new(e||t)(U(iD))},t.\u0275cmp=it({type:t,selectors:[["app-drawer"]],viewQuery:function(e,i){if(1&e&&An(pne,5,Er),2&e){let r;St(r=Tt())&&(i.container=r.first)}},decls:3,vars:0,consts:[["icon","close-outline",1,"close-btn","text-link",3,"click"],["container",""]],template:function(e,i){1&e&&(W(0,"nb-icon",0),De("click",function(){return i.onClose()}),q(),K(1,fne,0,0,"ng-template",null,1,Sr))},dependencies:[Mr],styles:[".close-btn[_ngcontent-%COMP%]{font-size:25px;position:absolute;right:20px}"]}),t})(),gne=(()=>{class t{constructor(e,i,r,s,d,m){this.sidebarService=e,this.menuService=i,this.settingsService=r,this.themeService=s,this.userService=d,this.http=m,this.menuTop=[{title:"Dashboard",icon:"map-outline",link:"/"},{title:"Trucks",icon:"car-outline",link:"trucks"},{title:"Packages",icon:"cube-outline",link:"packages"},{title:"Deliveries",icon:"arrow-circle-right-outline",link:"deliveries"},{title:"Offices",icon:"home-outline",link:"offices"},{title:"Clients",icon:"people-outline",link:"clients"}],this.menuBottom=[{title:"Settings",icon:"settings-2-outline"}]}ngAfterViewInit(){}ngOnInit(){var e=this;return dr(function*(){console.log("app component init"),e.settingsService.onSettingsChanged(i=>{e.themeService.changeTheme(i.theme)}),e.menuService.onItemClick().subscribe(i=>{"Settings"===i.item.title&&e.settingsService.openSettingsModal()})})()}toggleSidebar(){this.sidebarService.toggle(!0,"menu")}testRequest(){this.http.get(`${Ls_apiURL}/api/request-info`).subscribe(e=>{console.log(e),console.log(e.headers)})}}return t.\u0275fac=function(e){return new(e||t)(U(bw),U(vM),U(FR),U(hw),U(cd),U(ef))},t.\u0275cmp=it({type:t,selectors:[["app-root"]],decls:15,vars:2,consts:[["fixed","true"],[1,"sidebar-toggle",3,"click"],["icon","menu-outline"],["nbButton","","hero","","status","primary","size","small",3,"click"],["tag","menu",1,"sidebar","menu"],["tag","menu-bottom",3,"items"],["tag","menu-bottom",1,"sidebar-menu-bottom",3,"items"],["tag","right-drawer","state","collapsed","right","",1,"sidebar","drawer"],["drawer",""]],template:function(e,i){1&e&&(W(0,"nb-layout")(1,"nb-layout-header",0)(2,"a",1),De("click",function(){return i.toggleSidebar()}),at(3,"nb-icon",2),q(),W(4,"button",3),De("click",function(){return i.testRequest()}),Pe(5,"Test Request"),q(),at(6,"app-user-header-section"),q(),W(7,"nb-sidebar",4),at(8,"nb-menu",5)(9,"nb-menu",6),q(),W(10,"nb-sidebar",7,8),at(12,"app-drawer"),q(),W(13,"nb-layout-column"),at(14,"router-outlet"),q()()),2&e&&(V(8),P("items",i.menuTop),V(1),P("items",i.menuBottom))},dependencies:[hne,mne,eT,_M,PP,RP,Mr,YP,qP,Ml],styles:["nb-layout-header nav{justify-content:space-between!important}  nb-layout-header nav nb-user{cursor:pointer}  nb-layout-header nav .sidebar-toggle{color:#8f9bb3}  nb-layout-header nav .sidebar-toggle [icon]{font-size:2rem;cursor:pointer}  nb-sidebar.menu.expanded{width:150px}  nb-sidebar.menu.expanded .main-container{width:inherit}  nb-sidebar.menu .scrollable{display:flex;flex-direction:column;justify-content:space-between;max-height:90vh}  nb-sidebar.drawer.expanded{width:300px}  nb-sidebar.drawer.expanded .main-container{width:inherit}  nb-sidebar.drawer.expanded .main-container .scrollable{padding:0}"]}),t})();function zR(t){return new ct(3e3,!1)}function Xne(){return typeof window<"u"&&typeof window.document<"u"}function oD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tf(t){switch(t.length){case 0:return new my;case 1:return t[0];default:return new zO(t)}}function BR(t,n,e,i,r=new Map,s=new Map){const d=[],m=[];let b=-1,S=null;if(i.forEach(I=>{const R=I.get("offset"),G=R==b,X=G&&S||new Map;I.forEach((ie,ve)=>{let Me=ve,Ke=ie;if("offset"!==ve)switch(Me=n.normalizePropertyName(Me,d),Ke){case"!":Ke=r.get(ve);break;case yh:Ke=s.get(ve);break;default:Ke=n.normalizeStyleValue(ve,Me,Ke,d)}X.set(Me,Ke)}),G||m.push(X),S=X,b=R}),d.length)throw function Bne(t){return new ct(3502,!1)}();return m}function sD(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&aD(e,"start",t)));break;case"done":t.onDone(()=>i(e&&aD(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&aD(e,"destroy",t)))}}function aD(t,n,e){const s=lD(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),d=t._data;return null!=d&&(s._data=d),s}function lD(t,n,e,i,r="",s=0,d){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!d}}function Il(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function VR(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}let cD=(t,n)=>!1,HR=(t,n,e)=>[],UR=null;function uD(t){const n=t.parentNode||t.host;return n===UR?null:n}(oD()||typeof Element<"u")&&(Xne()?(UR=(()=>document.documentElement)(),cD=(t,n)=>{for(;n;){if(n===t)return!0;n=uD(n)}return!1}):cD=(t,n)=>t.contains(n),HR=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let zm=null,jR=!1;const $R=cD,GR=HR;let WR=(()=>{class t{validateStyleProperty(e){return function Jne(t){zm||(zm=function eie(){return typeof document<"u"?document.body:null}()||{},jR=!!zm.style&&"WebkitAppearance"in zm.style);let n=!0;return zm.style&&!function Qne(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in zm.style,!n&&jR&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in zm.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return $R(e,i)}getParentElement(e){return uD(e)}query(e,i,r){return GR(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,d,m=[],b){return new my(r,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),dD=(()=>{class t{}return t.NOOP=new WR,t})();const hD="ng-enter",Uw="ng-leave",jw="ng-trigger",$w=".ng-trigger",ZR="ng-animating",pD=".ng-animating";function Ch(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:fD(parseFloat(n[1]),n[2])}function fD(t,n){return"s"===n?1e3*t:t}function Gw(t,n,e){return t.hasOwnProperty("duration")?t:function iie(t,n,e){let r,s=0,d="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(zR()),{duration:0,delay:0,easing:""};r=fD(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(s=fD(parseFloat(b),m[4]));const S=m[5];S&&(d=S)}else r=t;if(!e){let m=!1,b=n.length;r<0&&(n.push(function _ne(){return new ct(3100,!1)}()),m=!0),s<0&&(n.push(function yne(){return new ct(3101,!1)}()),m=!0),m&&n.splice(b,0,zR())}return{duration:r,delay:s,easing:d}}(t,n,e)}function Gy(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function KR(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function nf(t,n=new Map,e){if(e)for(let[i,r]of e)n.set(i,r);for(let[i,r]of t)n.set(i,r);return n}function XR(t,n,e){return e?n+":"+e+";":""}function QR(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=XR(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=XR(0,aie(e),t.style[e]));t.setAttribute("style",n)}function ud(t,n,e){t.style&&(n.forEach((i,r)=>{const s=gD(r);e&&!e.has(r)&&e.set(r,t.style[s]),t.style[s]=i}),oD()&&QR(t))}function Bm(t,n){t.style&&(n.forEach((e,i)=>{const r=gD(i);t.style[r]=""}),oD()&&QR(t))}function Wy(t){return Array.isArray(t)?1==t.length?t[0]:RO(t):t}const mD=new RegExp("{{\\s*(.+?)\\s*}}","g");function JR(t){let n=[];if("string"==typeof t){let e;for(;e=mD.exec(t);)n.push(e[1]);mD.lastIndex=0}return n}function qy(t,n,e){const i=t.toString(),r=i.replace(mD,(s,d)=>{let m=n[d];return null==m&&(e.push(function bne(t){return new ct(3003,!1)}()),m=""),m.toString()});return r==i?t:r}function Ww(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const sie=/-+([a-z0-9])/g;function gD(t){return t.replace(sie,(...n)=>n[1].toUpperCase())}function aie(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kl(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function wne(t){return new ct(3004,!1)}()}}function eN(t,n){return window.getComputedStyle(t)[n]}function pie(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function fie(t,n,e){if(":"==t[0]){const b=function mie(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function Nne(t){return new ct(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof b)return void n.push(b);t=b}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Rne(t){return new ct(3015,!1)}()),n;const r=i[1],s=i[2],d=i[3];n.push(tN(r,d));"<"==s[0]&&!("*"==r&&"*"==d)&&n.push(tN(d,r))}(i,e,n)):e.push(t),e}const Yw=new Set(["true","1"]),Xw=new Set(["false","0"]);function tN(t,n){const e=Yw.has(t)||Xw.has(t),i=Yw.has(n)||Xw.has(n);return(r,s)=>{let d="*"==t||t==r,m="*"==n||n==s;return!d&&e&&"boolean"==typeof r&&(d=r?Yw.has(t):Xw.has(t)),!m&&i&&"boolean"==typeof s&&(m=s?Yw.has(n):Xw.has(n)),d&&m}}const gie=new RegExp("s*:selfs*,?","g");function _D(t,n,e,i){return new _ie(t).build(n,e,i)}class _ie{constructor(n){this._driver=n}build(n,e,i){const r=new bie(e);return this._resetContextStyleTimingState(r),kl(this,Wy(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],d=[];return"@"==n.name.charAt(0)&&e.errors.push(function xne(){return new ct(3006,!1)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const b=m,S=b.name;S.toString().split(/\s*,\s*/).forEach(I=>{b.name=I,s.push(this.visitState(b,e))}),b.name=S}else if(1==m.type){const b=this.visitTransition(m,e);i+=b.queryCount,r+=b.depCount,d.push(b)}else e.errors.push(function Sne(){return new ct(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:d,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,d=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(b=>{JR(b).forEach(S=>{d.hasOwnProperty(S)||s.add(S)})})}),s.size&&(Ww(s.values()),e.errors.push(function Tne(t,n){return new ct(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=kl(this,Wy(n.animation),e);return{type:1,matchers:pie(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Vm(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>kl(this,i,e)),options:Vm(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const s=n.steps.map(d=>{e.currentTime=i;const m=kl(this,d,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:s,options:Vm(n.options)}}visitAnimate(n,e){const i=function Cie(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return yD(Gw(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=yD(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Gw(e,n);return yD(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,s=n.styles?n.styles:To({});if(5==s.type)r=this.visitKeyframes(s,e);else{let d=n.styles,m=!1;if(!d){m=!0;const S={};i.easing&&(S.easing=i.easing),d=To(S)}e.currentTime+=i.duration+i.delay;const b=this.visitStyle(d,e);b.isEmptyStep=m,r=b}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let m of r)"string"==typeof m?m===yh?i.push(m):e.errors.push(new ct(3002,!1)):i.push(KR(m));let s=!1,d=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!s))for(let b of m.values())if(b.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:d,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,b)=>{const S=e.collectedStyles.get(e.currentQuerySelector),I=S.get(b);let R=!0;I&&(s!=r&&s>=I.startTime&&r<=I.endTime&&(e.errors.push(function Dne(t,n,e,i,r){return new ct(3010,!1)}()),R=!1),s=I.startTime),R&&S.set(b,{startTime:s,endTime:r}),e.options&&function oie(t,n,e){const i=n.params||{},r=JR(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function vne(t){return new ct(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Ene(){return new ct(3011,!1)}()),i;let s=0;const d=[];let m=!1,b=!1,S=0;const I=n.steps.map(Ke=>{const dt=this._makeStyleAst(Ke,e);let Ye=null!=dt.offset?dt.offset:function wie(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(dt.styles),It=0;return null!=Ye&&(s++,It=dt.offset=Ye),b=b||It<0||It>1,m=m||It<S,S=It,d.push(It),dt});b&&e.errors.push(function Ine(){return new ct(3012,!1)}()),m&&e.errors.push(function kne(){return new ct(3200,!1)}());const R=n.steps.length;let G=0;s>0&&s<R?e.errors.push(function Ane(){return new ct(3202,!1)}()):0==s&&(G=1/(R-1));const X=R-1,ie=e.currentTime,ve=e.currentAnimateTimings,Me=ve.duration;return I.forEach((Ke,dt)=>{const Ye=G>0?dt==X?1:G*dt:d[dt],It=Ye*Me;e.currentTime=ie+ve.delay+It,ve.duration=It,this._validateStyleAst(Ke,e),Ke.offset=Ye,i.styles.push(Ke)}),i}visitReference(n,e){return{type:8,animation:kl(this,Wy(n.animation),e),options:Vm(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Vm(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Vm(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[s,d]=function yie(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(gie,"")),t=t.replace(/@\*/g,$w).replace(/@\w+/g,e=>$w+"-"+e.slice(1)).replace(/:animating/g,pD),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,Il(e.collectedStyles,e.currentQuerySelector,new Map);const m=kl(this,Wy(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:m,originalSelector:n.selector,options:Vm(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function One(){return new ct(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Gw(n.timings,e.errors,!0);return{type:12,animation:kl(this,Wy(n.animation),e),timings:i,options:null}}}class bie{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vm(t){return t?(t=Gy(t)).params&&(t.params=function vie(t){return t?Gy(t):null}(t.params)):t={},t}function yD(t,n,e){return{duration:t,delay:n,easing:e}}function vD(t,n,e,i,r,s,d=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:d,subTimeline:m}}class Qw{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Tie=new RegExp(":enter","g"),Die=new RegExp(":leave","g");function bD(t,n,e,i,r,s=new Map,d=new Map,m,b,S=[]){return(new Eie).buildKeyframes(t,n,e,i,r,s,d,m,b,S)}class Eie{buildKeyframes(n,e,i,r,s,d,m,b,S,I=[]){S=S||new Qw;const R=new wD(n,e,S,r,s,I,[]);R.options=b;const G=b.delay?Ch(b.delay):0;R.currentTimeline.delayNextStep(G),R.currentTimeline.setStyles([d],null,R.errors,b),kl(this,i,R);const X=R.timelines.filter(ie=>ie.containsAnimation());if(X.length&&m.size){let ie;for(let ve=X.length-1;ve>=0;ve--){const Me=X[ve];if(Me.element===e){ie=Me;break}}ie&&!ie.allowOnlyTimelineStyles()&&ie.setStyles([m],null,R.errors,b)}return X.length?X.map(ie=>ie.buildKeyframes()):[vD(e,[],[],[],0,G,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),s=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);s!=d&&e.transformIntoNewTimeline(d)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const s=r?.delay;if(s){const d="number"==typeof s?s:Ch(qy(s,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime;const d=null!=i.duration?Ch(i.duration):null,m=null!=i.delay?Ch(i.delay):null;return 0!==d&&n.forEach(b=>{const S=e.appendInstructionToTimeline(b,d,m);s=Math.max(s,S.duration+S.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),kl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const s=n.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Jw);const d=Ch(s.delay);r.delayNextStep(d)}n.steps.length&&(n.steps.forEach(d=>kl(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?Ch(n.options.delay):0;n.steps.forEach(d=>{const m=e.createSubContext(n.options);s&&m.delayNextStep(s),kl(this,d,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Gw(e.params?qy(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,n.styles.forEach(b=>{m.forwardTime((b.offset||0)*s),m.setStyles(b.styles,b.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+s),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},s=r.delay?Ch(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Jw);let d=i;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let b=null;m.forEach((S,I)=>{e.currentQueryIndex=I;const R=e.createSubContext(n.options,S);s&&R.delayNextStep(s),S===e.element&&(b=R.currentTimeline),kl(this,n.animation,R),R.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,s=n.timings,d=Math.abs(s.duration),m=d*(e.currentQueryTotal-1);let b=d*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":b=m-b;break;case"full":b=i.currentStaggerTime}const I=e.currentTimeline;b&&I.delayNextStep(b);const R=I.currentTime;kl(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-R+(r.startTime-i.currentTimeline.startTime)}}const Jw={};class wD{constructor(n,e,i,r,s,d,m,b){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new eC(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Ch(i.duration)),null!=i.delay&&(r.delay=Ch(i.delay));const s=i.params;if(s){let d=r.params;d||(d=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=qy(s[m],d,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,s=new wD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Jw,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new Iie(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,s,d){let m=[];if(r&&m.push(this.element),n.length>0){n=(n=n.replace(Tie,"."+this._enterClassName)).replace(Die,"."+this._leaveClassName);let S=this._driver.query(this.element,n,1!=i);0!==i&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),m.push(...S)}return!s&&0==m.length&&d.push(function Pne(t){return new ct(3014,!1)}()),m}}class eC{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new eC(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||yh),this._currentKeyframe.set(e,yh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},d=function kie(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||n.keys();for(let s of i)e.set(s,yh)}else nf(r,e)}),e}(n,this._globalTimelineStyles);for(let[m,b]of d){const S=qy(b,s,i);this._pendingStyles.set(m,S),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??yh),this._updateStyle(m,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,b)=>{const S=nf(m,new Map,this._backFill);S.forEach((I,R)=>{"!"===I?n.add(R):I===yh&&e.add(R)}),i||S.set("offset",b/this.duration),r.push(S)});const s=n.size?Ww(n.values()):[],d=e.size?Ww(e.values()):[];if(i){const m=r[0],b=new Map(m);m.set("offset",0),b.set("offset",1),r=[m,b]}return vD(this.element,r,s,d,this.duration,this.startTime,this.easing,!1)}}class Iie extends eC{constructor(n,e,i,r,s,d,m=!1){super(n,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],d=i+e,m=e/d,b=nf(n[0]);b.set("offset",0),s.push(b);const S=nf(n[0]);S.set("offset",rN(m)),s.push(S);const I=n.length-1;for(let R=1;R<=I;R++){let G=nf(n[R]);const X=G.get("offset");G.set("offset",rN((e+X*i)/d)),s.push(G)}i=d,e=0,r="",n=s}return vD(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function rN(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class CD{}const Aie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Oie extends CD{normalizePropertyName(n,e){return gD(n)}normalizeStyleValue(n,e,i,r){let s="";const d=i.toString().trim();if(Aie.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function Cne(t,n){return new ct(3005,!1)}())}return d+s}}function oN(t,n,e,i,r,s,d,m,b,S,I,R,G){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:d,timelines:m,queriedElements:b,preStyleProps:S,postStyleProps:I,totalTime:R,errors:G}}const xD={};class sN{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Pie(t,n,e,i,r){return t.some(s=>s(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,s,d,m,b,S,I){const R=[],G=this.ast.options&&this.ast.options.params||xD,ie=this.buildStyles(i,m&&m.params||xD,R),ve=b&&b.params||xD,Me=this.buildStyles(r,ve,R),Ke=new Set,dt=new Map,Ye=new Map,It="void"===r,Ln={params:Rie(ve,G),delay:this.ast.options?.delay},ri=I?[]:bD(n,e,this.ast.animation,s,d,ie,Me,Ln,S,R);let br=0;if(ri.forEach(Fr=>{br=Math.max(Fr.duration+Fr.delay,br)}),R.length)return oN(e,this._triggerName,i,r,It,ie,Me,[],[],dt,Ye,br,R);ri.forEach(Fr=>{const is=Fr.element,F0=Il(dt,is,new Set);Fr.preStyleProps.forEach(xu=>F0.add(xu));const xh=Il(Ye,is,new Set);Fr.postStyleProps.forEach(xu=>xh.add(xu)),is!==e&&Ke.add(is)});const no=Ww(Ke.values());return oN(e,this._triggerName,i,r,It,ie,Me,ri,no,dt,Ye,br)}}function Rie(t,n){const e=Gy(n);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class Nie{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=Gy(this.defaultParams);return Object.keys(n).forEach(s=>{const d=n[s];null!==d&&(r[s]=d)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((d,m)=>{d&&(d=qy(d,r,e));const b=this.normalizer.normalizePropertyName(m,e);d=this.normalizer.normalizeStyleValue(m,b,d,e),i.set(b,d)})}),i}}class Fie{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Nie(r.style,r.options&&r.options.params||{},i))}),aN(this.states,"true","1"),aN(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new sN(n,r,this.states))}),this.fallbackTransition=function zie(t,n,e){return new sN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(d=>d.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function aN(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Bie=new Qw;class Vie{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],s=_D(this._driver,e,i,[]);if(i.length)throw function Vne(t){return new ct(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,i){const r=n.element,s=BR(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],s=this._animations.get(n);let d;const m=new Map;if(s?(d=bD(this._driver,e,s,hD,Uw,new Map,new Map,i,Bie,r),d.forEach(I=>{const R=Il(m,I.element,new Map);I.postStyleProps.forEach(G=>R.set(G,null))})):(r.push(function Hne(){return new ct(3300,!1)}()),d=[]),r.length)throw function Une(t){return new ct(3504,!1)}();m.forEach((I,R)=>{I.forEach((G,X)=>{I.set(X,this._driver.computeStyle(R,X,yh))})});const S=tf(d.map(I=>{const R=m.get(I.element);return this._buildPlayer(I,new Map,R)}));return this._playersById.set(n,S),S.onDestroy(()=>this.destroy(n)),this.players.push(S),S}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function jne(t){return new ct(3301,!1)}();return e}listen(n,e,i,r){const s=lD(e,"","","");return sD(this._getPlayer(n),i,s,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const lN="ng-animate-queued",SD="ng-animate-disabled",Gie=[],cN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tc="__ng_removed";class TD{constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Yie(t){return t??null}(i?n.value:n),i){const s=Gy(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Zy="void",MD=new TD(Zy);class qie{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Mc(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function $ne(t,n){return new ct(3302,!1)}();if(null==i||0==i.length)throw function Gne(t){return new ct(3303,!1)}();if(!function Xie(t){return"start"==t||"done"==t}(i))throw function Wne(t,n){return new ct(3400,!1)}();const s=Il(this._elementListeners,n,[]),d={name:e,phase:i,callback:r};s.push(d);const m=Il(this._engine.statesByElement,n,new Map);return m.has(e)||(Mc(n,jw),Mc(n,jw+"-"+e),m.set(e,MD)),()=>{this._engine.afterFlush(()=>{const b=s.indexOf(d);b>=0&&s.splice(b,1),this._triggers.has(e)||m.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function qne(t){return new ct(3401,!1)}();return e}trigger(n,e,i,r=!0){const s=this._getTrigger(e),d=new DD(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(Mc(n,jw),Mc(n,jw+"-"+e),this._engine.statesByElement.set(n,m=new Map));let b=m.get(e);const S=new TD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&b&&S.absorbOptions(b.options),m.set(e,S),b||(b=MD),S.value!==Zy&&b.value===S.value){if(!function ere(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(b.params,S.params)){const ve=[],Me=s.matchStyles(b.value,b.params,ve),Ke=s.matchStyles(S.value,S.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Bm(n,Me),ud(n,Ke)})}return}const G=Il(this._engine.playersByElement,n,[]);G.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==e&&ve.queued&&ve.destroy()});let X=s.matchTransition(b.value,S.value,n,S.params),ie=!1;if(!X){if(!r)return;X=s.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:X,fromState:b,toState:S,player:d,isFallbackTransition:ie}),ie||(Mc(n,lN),d.onStart(()=>{L0(n,lN)})),d.onDone(()=>{let ve=this.players.indexOf(d);ve>=0&&this.players.splice(ve,1);const Me=this._engine.playersByElement.get(n);if(Me){let Ke=Me.indexOf(d);Ke>=0&&Me.splice(Ke,1)}}),this.players.push(d),G.push(d),d}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,$w,!0);i.forEach(r=>{if(r[Tc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const s=this._engine.statesByElement.get(n),d=new Map;if(s){const m=[];if(s.forEach((b,S)=>{if(d.set(S,b.value),this._triggers.has(S)){const I=this.trigger(n,S,Zy,r);I&&m.push(I)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,d),i&&tf(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(s=>{const d=s.name;if(r.has(d))return;r.add(d);const b=this._triggers.get(d).fallbackTransition,S=i.get(d)||MD,I=new TD(Zy),R=new DD(this.id,d,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:d,transition:b,fromState:S,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let d=n;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const s=n[Tc];(!s||s===cN)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Mc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,d=this._elementListeners.get(s);d&&d.forEach(m=>{if(m.name==i.triggerName){const b=lD(s,i.triggerName,i.fromState.value,i.toState.value);b._data=n,sD(i.player,m.phase,b,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==s||0==d?s-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class Zie{constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new qie(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,m=this.driver.getParentElement(e);for(;m;){const b=r.get(m);if(b){const S=i.indexOf(b);i.splice(S+1,0,n),d=!0;break}m=this.driver.getParentElement(m)}d||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(n,e,i,r){if(tC(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!tC(e))return;const s=e[Tc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(n){const d=this._fetchNamespace(n);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Mc(n,SD)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),L0(n,SD))}removeNode(n,e,i,r){if(tC(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,i,r,s){this.collectedLeaveElements.push(e),e[Tc]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,r,s){return tC(e)?this._fetchNamespace(n).listen(e,i,r,s):()=>{}}_buildInstruction(n,e,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,$w,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,pD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return tf(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Tc];if(e&&e.setForRemoval){if(n[Tc]=cN,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(SD)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function Zne(t){return new ct(3402,!1)}()}_flushAnimations(n,e){const i=new Qw,r=[],s=new Map,d=[],m=new Map,b=new Map,S=new Map,I=new Set;this.disabledNodes.forEach(fn=>{I.add(fn);const Un=this.driver.query(fn,".ng-animate-queued",!0);for(let ni=0;ni<Un.length;ni++)I.add(Un[ni])});const R=this.bodyNode,G=Array.from(this.statesByElement.keys()),X=hN(G,this.collectedEnterElements),ie=new Map;let ve=0;X.forEach((fn,Un)=>{const ni=hD+ve++;ie.set(Un,ni),fn.forEach(ir=>Mc(ir,ni))});const Me=[],Ke=new Set,dt=new Set;for(let fn=0;fn<this.collectedLeaveElements.length;fn++){const Un=this.collectedLeaveElements[fn],ni=Un[Tc];ni&&ni.setForRemoval&&(Me.push(Un),Ke.add(Un),ni.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(ir=>Ke.add(ir)):dt.add(Un))}const Ye=new Map,It=hN(G,Array.from(Ke));It.forEach((fn,Un)=>{const ni=Uw+ve++;Ye.set(Un,ni),fn.forEach(ir=>Mc(ir,ni))}),n.push(()=>{X.forEach((fn,Un)=>{const ni=ie.get(Un);fn.forEach(ir=>L0(ir,ni))}),It.forEach((fn,Un)=>{const ni=Ye.get(Un);fn.forEach(ir=>L0(ir,ni))}),Me.forEach(fn=>{this.processLeaveNode(fn)})});const Ln=[],ri=[];for(let fn=this._namespaceList.length-1;fn>=0;fn--)this._namespaceList[fn].drainQueuedTransitions(e).forEach(ni=>{const ir=ni.player,ws=ni.element;if(Ln.push(ir),this.collectedEnterElements.length){const aa=ws[Tc];if(aa&&aa.setForMove){if(aa.previousTriggersValues&&aa.previousTriggersValues.has(ni.triggerName)){const Hm=aa.previousTriggersValues.get(ni.triggerName),Dc=this.statesByElement.get(ni.element);if(Dc&&Dc.has(ni.triggerName)){const rC=Dc.get(ni.triggerName);rC.value=Hm,Dc.set(ni.triggerName,rC)}}return void ir.destroy()}}const dd=!R||!this.driver.containsElement(R,ws),Al=Ye.get(ws),rf=ie.get(ws),io=this._buildInstruction(ni,i,rf,Al,dd);if(io.errors&&io.errors.length)return void ri.push(io);if(dd)return ir.onStart(()=>Bm(ws,io.fromStyles)),ir.onDestroy(()=>ud(ws,io.toStyles)),void r.push(ir);if(ni.isFallbackTransition)return ir.onStart(()=>Bm(ws,io.fromStyles)),ir.onDestroy(()=>ud(ws,io.toStyles)),void r.push(ir);const xN=[];io.timelines.forEach(aa=>{aa.stretchStartingKeyframe=!0,this.disabledNodes.has(aa.element)||xN.push(aa)}),io.timelines=xN,i.append(ws,io.timelines),d.push({instruction:io,player:ir,element:ws}),io.queriedElements.forEach(aa=>Il(m,aa,[]).push(ir)),io.preStyleProps.forEach((aa,Hm)=>{if(aa.size){let Dc=b.get(Hm);Dc||b.set(Hm,Dc=new Set),aa.forEach((rC,AD)=>Dc.add(AD))}}),io.postStyleProps.forEach((aa,Hm)=>{let Dc=S.get(Hm);Dc||S.set(Hm,Dc=new Set),aa.forEach((rC,AD)=>Dc.add(AD))})});if(ri.length){const fn=[];ri.forEach(Un=>{fn.push(function Kne(t,n){return new ct(3505,!1)}())}),Ln.forEach(Un=>Un.destroy()),this.reportError(fn)}const br=new Map,no=new Map;d.forEach(fn=>{const Un=fn.element;i.has(Un)&&(no.set(Un,Un),this._beforeAnimationBuild(fn.player.namespaceId,fn.instruction,br))}),r.forEach(fn=>{const Un=fn.element;this._getPreviousPlayers(Un,!1,fn.namespaceId,fn.triggerName,null).forEach(ir=>{Il(br,Un,[]).push(ir),ir.destroy()})});const Fr=Me.filter(fn=>fN(fn,b,S)),is=new Map;dN(is,this.driver,dt,S,yh).forEach(fn=>{fN(fn,b,S)&&Fr.push(fn)});const xh=new Map;X.forEach((fn,Un)=>{dN(xh,this.driver,new Set(fn),b,"!")}),Fr.forEach(fn=>{const Un=is.get(fn),ni=xh.get(fn);is.set(fn,new Map([...Array.from(Un?.entries()??[]),...Array.from(ni?.entries()??[])]))});const xu=[],z0=[],B0={};d.forEach(fn=>{const{element:Un,player:ni,instruction:ir}=fn;if(i.has(Un)){if(I.has(Un))return ni.onDestroy(()=>ud(Un,ir.toStyles)),ni.disabled=!0,ni.overrideTotalTime(ir.totalTime),void r.push(ni);let ws=B0;if(no.size>1){let Al=Un;const rf=[];for(;Al=Al.parentNode;){const io=no.get(Al);if(io){ws=io;break}rf.push(Al)}rf.forEach(io=>no.set(io,ws))}const dd=this._buildAnimation(ni.namespaceId,ir,br,s,xh,is);if(ni.setRealPlayer(dd),ws===B0)xu.push(ni);else{const Al=this.playersByElement.get(ws);Al&&Al.length&&(ni.parentPlayer=tf(Al)),r.push(ni)}}else Bm(Un,ir.fromStyles),ni.onDestroy(()=>ud(Un,ir.toStyles)),z0.push(ni),I.has(Un)&&r.push(ni)}),z0.forEach(fn=>{const Un=s.get(fn.element);if(Un&&Un.length){const ni=tf(Un);fn.setRealPlayer(ni)}}),r.forEach(fn=>{fn.parentPlayer?fn.syncPlayerEvents(fn.parentPlayer):fn.destroy()});for(let fn=0;fn<Me.length;fn++){const Un=Me[fn],ni=Un[Tc];if(L0(Un,Uw),ni&&ni.hasAnimation)continue;let ir=[];if(m.size){let dd=m.get(Un);dd&&dd.length&&ir.push(...dd);let Al=this.driver.query(Un,pD,!0);for(let rf=0;rf<Al.length;rf++){let io=m.get(Al[rf]);io&&io.length&&ir.push(...io)}}const ws=ir.filter(dd=>!dd.destroyed);ws.length?Qie(this,Un,ws):this.processLeaveNode(Un)}return Me.length=0,xu.forEach(fn=>{this.players.push(fn),fn.onDone(()=>{fn.destroy();const Un=this.players.indexOf(fn);this.players.splice(Un,1)}),fn.play()}),xu}elementContainsData(n,e){let i=!1;const r=e[Tc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,s){let d=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(d=m)}else{const m=this.playersByElement.get(n);if(m){const b=!s||s==Zy;m.forEach(S=>{S.queued||!b&&S.triggerName!=r||d.push(S)})}}return(i||r)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),d}_beforeAnimationBuild(n,e,i){const s=e.element,d=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const S=b.element,I=S!==s,R=Il(i,S,[]);this._getPreviousPlayers(S,I,d,m,e.toState).forEach(X=>{const ie=X.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),X.destroy(),R.push(X)})}Bm(s,e.fromStyles)}_buildAnimation(n,e,i,r,s,d){const m=e.triggerName,b=e.element,S=[],I=new Set,R=new Set,G=e.timelines.map(ie=>{const ve=ie.element;I.add(ve);const Me=ve[Tc];if(Me&&Me.removedBeforeQueried)return new my(ie.duration,ie.delay);const Ke=ve!==b,dt=function Jie(t){const n=[];return pN(t,n),n}((i.get(ve)||Gie).map(br=>br.getRealPlayer())).filter(br=>!!br.element&&br.element===ve),Ye=s.get(ve),It=d.get(ve),Ln=BR(0,this._normalizer,0,ie.keyframes,Ye,It),ri=this._buildPlayer(ie,Ln,dt);if(ie.subTimeline&&r&&R.add(ve),Ke){const br=new DD(n,m,ve);br.setRealPlayer(ri),S.push(br)}return ri});S.forEach(ie=>{Il(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function Kie(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,ie.element,ie))}),I.forEach(ie=>Mc(ie,ZR));const X=tf(G);return X.onDestroy(()=>{I.forEach(ie=>L0(ie,ZR)),ud(b,e.toStyles)}),R.forEach(ie=>{Il(r,ie,[]).push(X)}),X}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new my(n.duration,n.delay)}}class DD{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new my,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>sD(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Il(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function tC(t){return t&&1===t.nodeType}function uN(t,n){const e=t.style.display;return t.style.display=n??"none",e}function dN(t,n,e,i,r){const s=[];e.forEach(b=>s.push(uN(b)));const d=[];i.forEach((b,S)=>{const I=new Map;b.forEach(R=>{const G=n.computeStyle(S,R,r);I.set(R,G),(!G||0==G.length)&&(S[Tc]=Wie,d.push(S))}),t.set(S,I)});let m=0;return e.forEach(b=>uN(b,s[m++])),d}function hN(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const r=new Set(n),s=new Map;function d(m){if(!m)return 1;let b=s.get(m);if(b)return b;const S=m.parentNode;return b=e.has(S)?S:r.has(S)?1:d(S),s.set(m,b),b}return n.forEach(m=>{const b=d(m);1!==b&&e.get(b).push(m)}),e}function Mc(t,n){t.classList?.add(n)}function L0(t,n){t.classList?.remove(n)}function Qie(t,n,e){tf(e).onDone(()=>t.processLeaveNode(n))}function pN(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof zO?pN(i.players,n):n.push(i)}}function fN(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(s=>r.add(s)):n.set(t,i),e.delete(t),!0}class nC{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Zie(n,e,i),this._timelineEngine=new Vie(n,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,e,i,r,s){const d=n+"-"+r;let m=this._triggerCache[d];if(!m){const b=[],I=_D(this._driver,s,b,[]);if(b.length)throw function zne(t,n){return new ct(3404,!1)}();m=function Lie(t,n,e){return new Fie(t,n,e)}(r,I,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,r,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i,r){this._transitionEngine.removeNode(n,e,r||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[s,d]=VR(i);this._timelineEngine.command(s,e,d,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,s){if("@"==i.charAt(0)){const[d,m]=VR(i);return this._timelineEngine.listen(d,e,m,s)}return this._transitionEngine.listen(n,e,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nre=(()=>{class t{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ud(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ud(this._element,this._initialStyles),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Bm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bm(this._element,this._endStyles),this._endStyles=null),ud(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ED(t){let n=null;return t.forEach((e,i)=>{(function ire(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class mN{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:eN(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rre{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return $R(n,e)}getParentElement(n){return uD(n)}query(n,e,i){return GR(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,r,s,d=[]){const b={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(b.easing=s);const S=new Map,I=d.filter(X=>X instanceof mN);(function lie(t,n){return 0===t||0===n})(i,r)&&I.forEach(X=>{X.currentSnapshot.forEach((ie,ve)=>S.set(ve,ie))});let R=function rie(t){return t.length?t[0]instanceof Map?t:t.map(n=>KR(n)):[]}(e).map(X=>nf(X));R=function cie(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((s,d)=>{i.has(d)||r.push(d),i.set(d,s)}),r.length)for(let s=1;s<n.length;s++){let d=n[s];r.forEach(m=>d.set(m,eN(t,m)))}}return n}(n,R,S);const G=function tre(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=ED(n[0]),n.length>1&&(i=ED(n[n.length-1]))):n instanceof Map&&(e=ED(n)),e||i?new nre(t,e,i):null}(n,R);return new mN(n,R,b,G)}}let ore=(()=>{class t extends PO{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ts.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?RO(e):e;return gN(this._renderer,null,i,"register",[r]),new sre(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Ee(eh),Ee(Ui))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class sre extends class cU{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new are(this._id,n,e||{},this._renderer)}}class are{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return gN(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gN(t,n,e,i,r){return t.setProperty(n,`@@${e}:${i}`,r)}const _N="@.disabled";let lre=(()=>{class t{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,d)=>{const m=d?.parentNode(s);m&&d.removeChild(m,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(s);return I||(I=new yN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,I)),I}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const b=I=>{Array.isArray(I)?I.forEach(b):this.engine.registerTrigger(d,m,e,I.name,I)};return i.data.animation.forEach(b),new cre(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[d,m]=s;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Ee(eh),Ee(nC),Ee(Hn))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();class yN{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==_N?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class cre extends yN{constructor(n,e,i,r,s){super(e,i,r,s),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_N?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function ure(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),d="";return"@"!=s.charAt(0)&&([s,d]=function dre(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(n,e,i)}}const vN=[{provide:PO,useClass:ore},{provide:CD,useFactory:function pre(){return new Oie}},{provide:nC,useClass:(()=>{class t extends nC{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Ee(Ui),Ee(dD),Ee(CD),Ee(Jg))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})()},{provide:eh,useFactory:function fre(t,n,e){return new lre(t,n,e)},deps:[h2,nC,Hn]}],ID=[{provide:dD,useFactory:()=>new rre},{provide:eS,useValue:"BrowserAnimations"},...vN],bN=[{provide:dD,useClass:WR},{provide:eS,useValue:"NoopAnimations"},...vN];let mre=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?bN:ID}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:ID,imports:[xI]}),t})();var gre=wi(773);class _re extends hM{constructor(n,e){super(n,""),this.name=n,this.content=e}getContent(n){return this.content.toSvg({width:"100%",height:"100%",fill:"currentColor",...n})}}let yre=(()=>{class t{constructor(e){this.NAME="eva",e.registerSvgPack(this.NAME,this.createIcons()),e.setDefaultPack(this.NAME)}createIcons(){return Object.entries(gre.icons).map(([e,i])=>[e,new _re(e,i)]).reduce((e,[i,r])=>(e[i]=r,e),{})}}return t.\u0275fac=function(e){return new(e||t)(Ee(pM))},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({}),t})(),wN=(()=>{class t{constructor(e){this.http=e,this.allTrucks=[]}getAllTrucks(){var e=this;return dr(function*(){return e.allTrucks=yield Sc(e.http.get(`${Ls_apiURL}/trucks/`)),e.allTrucks})()}getSingleTruck(e){return Sc(this.http.get(`${Ls_apiURL}/trucks/${e}`))}}return t.\u0275fac=function(e){return new(e||t)(Ee(ef))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vre(t,n){if(1&t){const e=bt();W(0,"p-slider",12),De("onSlideEnd",function(r){return me((0,ye(e).filterCallback)(r.values))}),q(),W(1,"div",13)(2,"span"),Pe(3),q(),W(4,"span"),Pe(5),q()()}if(2&t){const e=z(2).$implicit,i=z(2);P("ngModel",i.getRangeModel(e))("min",i.getRangeValues(e)[0])("max",i.getRangeValues(e)[1])("range",!0),V(3),ei("",i.getRangeModel(e)[0],"\xa0-\xa0"),V(2),Sn(i.getRangeModel(e)[1])}}function bre(t,n){if(1&t&&(W(0,"p-columnFilter",10),K(1,vre,6,6,"ng-template",11),q()),2&t){const e=z().$implicit,i=z(2);P("field",e.field)("matchMode",i.hasCustomFilter(e)?"custom-"+e.field:"between")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function wre(t,n){if(1&t&&(W(0,"div",14)(1,"span",15),Pe(2),q()()),2&t){const e=z(2).$implicit;V(2),ei("",e.header," Picker")}}function Cre(t,n){if(1&t&&at(0,"div",18),2&t){const e=n.$implicit,i=z(3).$implicit;P("innerHtml",z(2).getOptionText(i,e),nm)}}function xre(t,n){if(1&t){const e=bt();W(0,"p-multiSelect",16),De("onChange",function(r){return me((0,ye(e).filterCallback)(r.value))}),K(1,Cre,1,1,"ng-template",17),q()}if(2&t){const e=n.$implicit,i=z(2).$implicit,r=z(2);P("ngModel",e)("options",r.getOptions(i))("showHeader",!1)}}function Sre(t,n){if(1&t&&(W(0,"p-columnFilter",10),K(1,wre,3,1,"ng-template",1),K(2,xre,2,3,"ng-template",11),q()),2&t){const e=z().$implicit,i=z(2);P("field",e.field)("matchMode",i.hasCustomFilter(e)?"custom-"+e.field:"in")("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function Tre(t,n){if(1&t){const e=bt();W(0,"p-calendar",20,21),De("onSelect",function(){return me((0,ye(e).filterCallback)(En(1).value))})("onInput",function(){ye(e);const r=En(1),s=z(2).$implicit;return me(z(2).setup(r.value,s.field))}),q()}2&t&&P("ngModel",n.$implicit)}function Mre(t,n){if(1&t&&(W(0,"p-columnFilter",19),K(1,Tre,2,1,"ng-template",11),q()),2&t){const e=z().$implicit;P("matchMode",z(2).hasCustomFilter(e)?"custom-"+e.field:"equals")("field",e.field)("showAddButton",!1)("showOperator",!1)}}function Dre(t,n){if(1&t&&at(0,"p-columnFilter",22),2&t){const e=z().$implicit;P("matchMode",z(2).hasCustomFilter(e)?"custom-"+e.field:"equals")("field",e.field)}}function Ere(t,n){if(1&t&&at(0,"p-columnFilter",23),2&t){const e=z().$implicit;P("matchMode",z(2).hasCustomFilter(e)?"custom-"+e.field:"equals")("field",e.field)("showAddButton",!1)}}function Ire(t,n){if(1&t&&at(0,"p-columnFilter",24),2&t){const e=z().$implicit;P("matchMode",z(2).hasCustomFilter(e)?"custom-"+e.field:"contains")("field",e.field)("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function kre(t,n){if(1&t&&(W(0,"th",4),Pe(1),K(2,bre,2,5,"p-columnFilter",5),K(3,Sre,3,5,"p-columnFilter",5),K(4,Mre,2,4,"p-columnFilter",6),K(5,Dre,1,2,"p-columnFilter",7),K(6,Ere,1,3,"p-columnFilter",8),K(7,Ire,1,5,"p-columnFilter",9),q()),2&t){const e=n.$implicit;P("pSortableColumn",e.field)("ngSwitch",null==e.filterConfig?null:e.filterConfig.filterType),V(1),ei(" ",e.header," "),V(1),P("ngSwitchCase","range"),V(1),P("ngSwitchCase","select"),V(1),P("ngSwitchCase","date"),V(1),P("ngSwitchCase","boolean"),V(1),P("ngSwitchCase","number")}}function Are(t,n){if(1&t&&(W(0,"tr"),K(1,kre,8,8,"th",3),q()),2&t){const e=z();V(1),P("ngForOf",e.tableConfig)}}function Ore(t,n){if(1&t){const e=bt();W(0,"td",27),De("click",function(r){const d=ye(e).$implicit,m=z().$implicit;return me(z().onCellClick(r,d,m))}),q()}if(2&t){const e=n.$implicit,i=z().$implicit;P("innerHtml",z().getDisplayText(e,i),nm)("ngClass",e.classes)}}function Pre(t,n){if(1&t&&(W(0,"tr",25),K(1,Ore,1,2,"td",26),q()),2&t){const e=z();V(1),P("ngForOf",e.tableConfig)}}let Ky=(()=>{class t{constructor(e){this.filterService=e,this.data=[],this.tableConfig=[],this.itemClick=new Xe,this.rangeModels={}}ngOnInit(){this.registerCustomFilterFns()}getDisplayText(e,i){const r=e&&e.displayFn;if(r){const s=r(i[e.field],i);return"string"==typeof s?`<span>${s}</span>`:s.map(d=>d.outerHTML).join("")}return i[e.field]}getOptionText(e,i){const r=e&&e.filterConfig&&e.filterConfig.displayFn;if(r){const s=r(i);return"string"==typeof s?`<span>${s}</span>`:s.map(d=>d.outerHTML).join("")}return i}getOptions(e){const i=e&&e.filterConfig&&e.filterConfig.uniqueFn;return this.data.map(d=>d[e.field]).reduce((d,m,b)=>(d.some(I=>i?i(I)===i(m):I===m)||d.push(m),d),[])}getRangeValues(e){let i=e.filterConfig?.rangeValues||[0,100];if(i.some(s=>"string"==typeof s)){const s=e.getValue,d=this.data.map(S=>s?s(S[e.field]):S[e.field]),m=Math.min(...d),b=Math.max(...d);i=i.map(S=>"min"===S?m:"max"===S?b:S)}return i}getRangeModel(e){return this.rangeModels[e.field]||(this.rangeModels[e.field]=[...this.getRangeValues(e)]),this.rangeModels[e.field]}hasCustomFilter(e){return!!e.filterConfig?.filterFn}registerCustomFilterFns(){this.tableConfig.forEach(e=>{e.filterConfig&&e.filterConfig.filterFn&&this.filterService.register("custom-"+e.field,e.filterConfig.filterFn)})}itemClicked(e,i){this.itemClick.emit(i)}onCellClick(e,i,r){const s=i.onClick;s?s(r[i.field],r):this.itemClicked(e,r)}}return t.\u0275fac=function(e){return new(e||t)(U(Nw))},t.\u0275cmp=it({type:t,selectors:[["app-smart-table"]],inputs:{data:"data",tableConfig:"tableConfig"},outputs:{itemClick:"itemClick"},decls:3,vars:3,consts:[["scrollHeight","flex",3,"value","rowHover","scrollable"],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","ngSwitch",4,"ngFor","ngForOf"],[3,"pSortableColumn","ngSwitch"],["display","menu",3,"field","matchMode","showMatchModes","showOperator","showAddButton",4,"ngSwitchCase"],["type","date","display","menu",3,"matchMode","field","showAddButton","showOperator",4,"ngSwitchCase"],["type","boolean","display","menu",3,"matchMode","field",4,"ngSwitchCase"],["type","numeric","display","menu",3,"matchMode","field","showAddButton",4,"ngSwitchCase"],["type","text","display","menu",3,"matchMode","field","showMatchModes","showOperator","showAddButton",4,"ngSwitchDefault"],["display","menu",3,"field","matchMode","showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["styleClass","m-3",3,"ngModel","min","max","range","onSlideEnd"],[1,"flex","align-items-center","justify-content-center","p-2"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","Any","optionLabel","name",3,"ngModel","options","showHeader","onChange"],["pTemplate","item"],[1,"p-multiselect-representative-option",3,"innerHtml"],["type","date","display","menu",3,"matchMode","field","showAddButton","showOperator"],["dateFormat","dd/mm/yy",3,"ngModel","onSelect","onInput"],["calendar",""],["type","boolean","display","menu",3,"matchMode","field"],["type","numeric","display","menu",3,"matchMode","field","showAddButton"],["type","text","display","menu",3,"matchMode","field","showMatchModes","showOperator","showAddButton"],[1,"p-selectable-row"],[3,"innerHtml","ngClass","click",4,"ngFor","ngForOf"],[3,"innerHtml","ngClass","click"]],template:function(e,i){1&e&&(W(0,"p-table",0),K(1,Are,2,1,"ng-template",1),K(2,Pre,2,1,"ng-template",2),q()),2&e&&P("value",i.data)("rowHover",!0)("scrollable",!0)},dependencies:[xo,$r,t0,o2,MS,yu,od,N0,El,eee,kR,OR,LR,GM],styles:[".flex[_ngcontent-%COMP%]{display:flex}.align-items-center[_ngcontent-%COMP%]{align-items:center}.justify-content-center[_ngcontent-%COMP%]{justify-content:center}.p-2[_ngcontent-%COMP%]{padding:.5rem 2rem}  .p-datatable-thead>tr>th{white-space:nowrap}"]}),t})();function Rre(t,n){if(1&t){const e=bt();W(0,"app-smart-table",2),De("itemClick",function(r){return ye(e),me(z().truckClicked(r))}),q()}if(2&t){const e=z();P("data",e.trucks)("tableConfig",e.cols)}}let Nre=(()=>{class t{constructor(e,i,r){this.trucksService=e,this.titleCasePipe=i,this.router=r,this.trucks=[],this.cols=[]}ngOnInit(){var e=this;return dr(function*(){e.cols=[{field:"_id",header:"#"},{field:"registrationNumber",header:"Reg Number"},{field:"size",header:"Size",displayFn:i=>e.titleCasePipe.transform(i),filterConfig:{filterType:"select",displayFn:i=>i.slice(0,1).toUpperCase()}},{field:"health",header:"Health",displayFn:i=>`${i}%`,filterConfig:{filterType:"range"}},{field:"status",header:"Status",displayFn:i=>e.titleCasePipe.transform(i),filterConfig:{filterType:"select",displayFn:i=>e.titleCasePipe.transform(i)}}],e.trucks=yield e.trucksService.getAllTrucks()})()}truckClicked(e){this.router.navigate(["trucks",e._id])}}return t.\u0275fac=function(e){return new(e||t)(U(wN),U(ym),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-all-trucks"]],decls:5,vars:2,consts:[["size","giant","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","tableConfig","itemClick",4,"ngIf"],[3,"data","tableConfig","itemClick"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header"),Pe(2,"Trucks"),q(),W(3,"nb-card-body"),K(4,Rre,1,2,"app-smart-table",1),q()()),2&e&&(P("nbSpinner",0===i.trucks.length),V(4),P("ngIf",i.trucks.length>0))},dependencies:[Dn,Ky,bs,vs,ys,ld]}),t})(),Yy=(()=>{class t{constructor(e){this.location=e}onClick(){return this.location.back(),!1}}return t.\u0275fac=function(e){return new(e||t)(U(e0))},t.\u0275dir=qe({type:t,selectors:[["","goBackBtn",""]],hostBindings:function(e,i){1&e&&De("click",function(){return i.onClick()})}}),t})();const Lre=["valueList"];function Fre(t,n){if(1&t){const e=bt();W(0,"nb-list-item")(1,"div",3),Pe(2),q(),W(3,"div",4,5),De("click",function(r){const d=ye(e).$implicit;return me(z(2).onValueClick(r,d))}),q()()}if(2&t){const e=n.$implicit,i=En(4),r=z(2);V(2),Sn(e.header),V(1),P("innerHtml",r.displayValue(e,i),nm)("ngClass",e.classes)}}function zre(t,n){if(1&t&&(W(0,"nb-list",null,1),K(2,Fre,5,3,"nb-list-item",2),q()),2&t){const e=z();V(2),P("ngForOf",e.itemConfig)}}let Xy=(()=>{class t{constructor(){this.itemConfig=[],this.handledCustomComponentElements=[],this.afterViewInitReady=new Promise((e,i)=>{this.afterViewInitResolve=e})}ngAfterViewInit(){this.afterViewInitResolve()}ngOnInit(){}displayValue(e,i){const r=e.displayFn,s=e.customDisplayCmp;if(r){const d=r(this.data[e.key]);return"string"==typeof d?d:d.map(m=>m.outerHTML).join("")}if(!s)return this.data[e.key];{const d=e.cmpProperties&&e.cmpProperties(this.data[e.key],this.data),m=e.cmpHandlers&&e.cmpHandlers(this.data[e.key],this.data);this.injectComponent(i,s,d,m)}}injectComponent(e,i,r,s){var d=this;return dr(function*(){if(d.handledCustomComponentElements.indexOf(e)>=0)return;const m=d.valueLists&&d.valueLists.find((b,S,I)=>b.element.nativeElement===e);if(m){yield d.afterViewInitReady;const b=m.createComponent(i);Object.entries(r).forEach(([S,I])=>b.setInput(S,I)),Object.entries(s).forEach(([S,I])=>{b.instance[S].subscribe(G=>I(G))}),d.handledCustomComponentElements.push(e)}})()}onValueClick(e,i){const r=i.onClick;r&&r(this.data[i.key])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["app-display-item-card"]],viewQuery:function(e,i){if(1&e&&An(Lre,5,Er),2&e){let r;St(r=Tt())&&(i.valueLists=r)}},inputs:{data:"data",itemConfig:"itemConfig"},decls:1,vars:1,consts:[[4,"ngIf"],["nbList",""],[4,"ngFor","ngForOf"],[1,"key-list"],[1,"value-list",3,"innerHtml","ngClass","click"],["valueList",""]],template:function(e,i){1&e&&K(0,zre,3,1,"nb-list",0),2&e&&P("ngIf",i.data)},dependencies:[xo,$r,Dn],styles:[".value-list[_ngcontent-%COMP%]:empty{display:none}"]}),t})();function Bre(t,n){1&t&&at(0,"nb-card",4),2&t&&P("nbSpinner",!z().truck)}function Vre(t,n){if(1&t&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2),q(),W(3,"nb-card-body"),at(4,"app-display-item-card",5),q()()),2&t){const e=z();V(2),ei("Truck ",e.truck.registrationNumber,""),V(2),P("data",e.truck)("itemConfig",e.itemConfig)}}let Hre=[{path:"trucks",component:Nre},{path:"trucks/:truckId",component:(()=>{class t{constructor(e,i,r){var s=this;this.route=e,this.trucksService=i,this.titleCasePipe=r,this.itemConfig=[],this.route.params.subscribe(function(){var d=dr(function*({truckId:m}){console.log(m),m&&(s.truck=yield s.trucksService.getSingleTruck(m))});return function(m){return d.apply(this,arguments)}}())}ngOnInit(){this.itemConfig=[{key:"_id",header:"ID"},{key:"registrationNumber",header:"Reg Number"},{key:"size",header:"Size",displayFn:e=>this.titleCasePipe.transform(e)},{key:"health",header:"Health",displayFn:e=>`${e}%`},{key:"status",header:"Status",displayFn:e=>this.titleCasePipe.transform(e)}]}}return t.\u0275fac=function(e){return new(e||t)(U(Cl),U(wN),U(ym))},t.\u0275cmp=it({type:t,selectors:[["app-single-truck"]],decls:4,vars:2,consts:[["goBackBtn",""],["icon","arrow-back-outline"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner",4,"ngIf"],[4,"ngIf"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","itemConfig"]],template:function(e,i){1&e&&(W(0,"a",0),at(1,"nb-icon",1),q(),K(2,Bre,1,1,"nb-card",2),K(3,Vre,5,3,"nb-card",3)),2&e&&(V(2),P("ngIf",!i.truck),V(1),P("ngIf",i.truck))},dependencies:[Dn,Yy,Xy,Mr,bs,vs,ys,ld]}),t})()}],Ure=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,Gp.forChild(Hre),wh,_s,aR,vh,Ay]}),t})();function jre(t,n){if(1&t){const e=bt();W(0,"button",3),De("click",function(){return ye(e),me(z().onCreatePackage())}),Pe(1,"Create Package"),q()}}function $re(t,n){if(1&t){const e=bt();W(0,"app-smart-table",4),De("itemClick",function(r){return ye(e),me(z().packageClicked(r))}),q()}if(2&t){const e=z();P("data",e.packages)("tableConfig",e.cols)}}function Wre(t,n){1&t&&at(0,"nb-card",4),2&t&&P("nbSpinner",!z().package)}function qre(t,n){if(1&t&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2),q(),W(3,"nb-card-body"),at(4,"app-display-item-card",5),q()()),2&t){const e=z();V(2),ei("Package #",e.package._id,""),V(2),P("data",e.package)("itemConfig",e.itemConfig)}}const Zre=[{path:"packages",component:(()=>{class t{constructor(e,i,r){this.packagesService=e,this.router=i,this.userService=r,this.packages=[],this.cols=[]}ngOnInit(){var e=this;return dr(function*(){e.cols=[{field:"size",header:"Size",filterConfig:{filterType:"select",displayFn:i=>i.slice(0,1).toUpperCase()}},{field:"status",header:"Status",filterConfig:{filterType:"select"}},{field:"originOffice",header:"Origin Office",classes:"text-link",displayFn:i=>i.name,onClick:(i,r)=>(e.router.navigate(["offices",i._id]),!0),filterConfig:{displayFn:i=>i.name,filterType:"select",uniqueFn:i=>i._id}},{field:"destinationOffice",header:"Destination Office",classes:"text-link",displayFn:i=>i.name,onClick:(i,r)=>(e.router.navigate(["offices",i._id]),!0),filterConfig:{displayFn:i=>i.name,filterType:"select",uniqueFn:i=>i._id}},{field:"recipient",header:"Recipient",classes:"text-link",displayFn:i=>i?i.name:"-",onClick:(i,r)=>(i&&e.router.navigate(["clients",i._id]),!0),filterConfig:{displayFn:i=>i?i.name:"-",filterType:"select",uniqueFn:i=>i&&i._id}},{field:"deliveredOn",header:"Delivered on",displayFn:i=>i?`${("0"+i.getDate()).slice(-2)}/${("0"+(i.getMonth()+1)).slice(-2)}/${i.getFullYear()}`:"-",filterConfig:{filterType:"date"}},{field:"isPaid",header:"Paid",displayFn:i=>{const r=[],s=document.createElement("i");return s.classList.add(...i?["pi","pi-check"]:["pi","pi-times"]),r.push(s),r},filterConfig:{filterType:"boolean"}},{field:"isFragile",header:"Fragile",displayFn:i=>{const r=[],s=document.createElement("i");return s.classList.add(...i?["pi","pi-check"]:["pi","pi-times"]),r.push(s),r},filterConfig:{filterType:"boolean"}},{field:"price",header:"Price",displayFn:i=>`${i} BGN`,filterConfig:{filterType:"number"}}],e.packages=yield e.packagesService.getAllPackages(),e.convertDateFromString()})()}packageClicked(e){this.router.navigate(["packages",e._id])}convertDateFromString(){this.packages.map(e=>(e.deliveredOn&&(e.deliveredOn=new Date(e.deliveredOn)),e))}onCreatePackage(){this.packagesService.openCreatePackageModal()}}return t.\u0275fac=function(e){return new(e||t)(U(A0),U(vr),U(cd))},t.\u0275cmp=it({type:t,selectors:[["app-all-packages"]],decls:8,vars:5,consts:[["size","giant","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],["nbButton","","outline","","status","info",3,"click",4,"ngIf"],[3,"data","tableConfig","itemClick",4,"ngIf"],["nbButton","","outline","","status","info",3,"click"],[3,"data","tableConfig","itemClick"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header")(2,"span"),Pe(3,"Packages"),q(),K(4,jre,2,0,"button",1),wl(5,"async"),q(),W(6,"nb-card-body"),K(7,$re,1,2,"app-smart-table",2),q()()),2&e&&(P("nbSpinner",0===i.packages.length),V(4),P("ngIf",fu(5,3,i.userService.loggedUser)),V(3),P("ngIf",i.packages.length>0))},dependencies:[Dn,Ky,bs,vs,ys,Ml,ld,s2],styles:["nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]}),t})()},{path:"packages/:packageId",component:(()=>{class t{constructor(e,i,r,s){var d=this;this.router=e,this.route=i,this.packageService=r,this.titleCasePipe=s,this.itemConfig=[],this.route.params.subscribe(function(){var m=dr(function*({packageId:b}){b&&(d.package=yield d.packageService.getSinglePackage(b))});return function(b){return m.apply(this,arguments)}}()),this.itemConfig=[{key:"_id",header:"ID"},{key:"description",header:"Description",displayFn:m=>m||"-"},{key:"size",header:"Size",displayFn:m=>this.titleCasePipe.transform(m)},{key:"price",header:"Price",displayFn:m=>`${m} BGN`},{key:"status",header:"Status",displayFn:m=>this.titleCasePipe.transform(m)},{key:"createdAt",header:"Created at",displayFn:m=>{if(!m)return"-";const b=new Date(m);return`${("0"+b.getDate()).slice(-2)}/${("0"+(b.getMonth()+1)).slice(-2)}/${b.getFullYear()} - ${b.getHours()}:${b.getMinutes()}`}},{key:"updatedAt",header:"Updated at",displayFn:m=>{if(!m)return"-";const b=new Date(m);return`${("0"+b.getDate()).slice(-2)}/${("0"+(b.getMonth()+1)).slice(-2)}/${b.getFullYear()} - ${b.getHours()}:${b.getMinutes()}`}},{key:"deliveredOn",header:"Delivered on",displayFn:m=>{if(!m)return"-";const b=new Date(m);return`${("0"+b.getDate()).slice(-2)}/${("0"+(b.getMonth()+1)).slice(-2)}/${b.getFullYear()}`}},{key:"isPaid",header:"Paid",displayFn:m=>{const b=[],S=document.createElement("i");return S.classList.add(...m?["pi","pi-check"]:["pi","pi-times"]),b.push(S),b}},{key:"isFragile",header:"Fragile",displayFn:m=>{const b=[],S=document.createElement("i");return S.classList.add(...m?["pi","pi-check"]:["pi","pi-times"]),b.push(S),b}},{key:"originOffice",header:"From Office",classes:"text-link",displayFn:m=>m.name,onClick:m=>(this.router.navigate(["offices",m._id]),!0)},{key:"destinationOffice",header:"To Office",classes:"text-link",displayFn:m=>m.name,onClick:m=>(this.router.navigate(["offices",m._id]),!0)},{key:"recipient",header:"Recipient",classes:"text-link",displayFn:m=>m?m.name:"-",onClick:m=>(m&&this.router.navigate(["clients",m._id]),!0)}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(U(vr),U(Cl),U(A0),U(ym))},t.\u0275cmp=it({type:t,selectors:[["app-single-package"]],decls:4,vars:2,consts:[["goBackBtn",""],["icon","arrow-back-outline"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner",4,"ngIf"],[4,"ngIf"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","itemConfig"]],template:function(e,i){1&e&&(W(0,"a",0),at(1,"nb-icon",1),q(),K(2,Wre,1,1,"nb-card",2),K(3,qre,5,3,"nb-card",3)),2&e&&(V(2),P("ngIf",!i.package),V(1),P("ngIf",i.package))},dependencies:[Dn,Yy,Xy,bs,vs,ys,Mr,ld],styles:["nb-card-header[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let Kre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[ym],imports:[Ki,zT,Gp.forChild(Zre),wh,Hw,vh,_s,rq,Iy,Mw,xw,Tq,r5,Ay,B5.forRoot()]}),t})();function Yre(t,n){if(1&t){const e=bt();W(0,"app-smart-table",2),De("itemClick",function(r){return ye(e),me(z().deliveryClicked(r))}),q()}if(2&t){const e=z();P("data",e.deliveries)("tableConfig",e.cols)}}let Xre=(()=>{class t{constructor(e,i){this.deliveriesService=e,this.router=i,this.deliveries=[],this.cols=[]}ngOnInit(){var e=this;return dr(function*(){e.cols=[{field:"_id",header:"ID"}],e.deliveries=yield e.deliveriesService.getAllDeliveries(),console.log(e.deliveries)})()}deliveryClicked(e){this.router.navigate(["deliveries",e._id])}}return t.\u0275fac=function(e){return new(e||t)(U(Pw),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-all-deliveries"]],decls:5,vars:2,consts:[["size","giant","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","tableConfig","itemClick",4,"ngIf"],[3,"data","tableConfig","itemClick"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header"),Pe(2," Deliveries "),q(),W(3,"nb-card-body"),K(4,Yre,1,2,"app-smart-table",1),q()()),2&e&&(P("nbSpinner",0===i.deliveries.length),V(4),P("ngIf",i.deliveries.length>0))},dependencies:[Dn,Ky,bs,vs,ys,ld]}),t})();function Qre(t,n){if(1&t){const e=bt();W(0,"nb-accordion-item-body",1),De("click",function(r){const d=ye(e).$implicit;return me(z().onItemClicked(r,d))}),Pe(1),q()}if(2&t){const e=n.$implicit;V(1),ei(" ",e," ")}}let kD=(()=>{class t{constructor(){this.header="",this.items=[],this.class="",this.itemClicked=new Xe}ngOnInit(){this.hostClass=this.class}onItemClicked(e,i){this.itemClicked.emit(i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=it({type:t,selectors:[["app-custom-accordion"]],hostVars:2,hostBindings:function(e,i){2&e&&Si(i.hostClass)},inputs:{header:"header",items:"items",class:"class"},outputs:{itemClicked:"itemClicked"},decls:5,vars:2,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,i){1&e&&(W(0,"nb-accordion")(1,"nb-accordion-item")(2,"nb-accordion-item-header"),Pe(3),q(),K(4,Qre,2,1,"nb-accordion-item-body",0),q()()),2&e&&(V(3),Sn(i.header),V(1),P("ngForOf",i.items))},dependencies:[$r,Oy,D0,Tw,Sw]}),t})();function Jre(t,n){1&t&&at(0,"nb-card",4),2&t&&P("nbSpinner",!z().delivery)}function eoe(t,n){if(1&t&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2),q(),W(3,"nb-card-body"),at(4,"app-display-item-card",5),q()()),2&t){const e=z();V(2),ei("Delivery #",e.delivery._id,""),V(2),P("data",e.delivery)("itemConfig",e.itemConfig)}}const toe=[{path:"deliveries",component:Xre},{path:"deliveries/:deliveryId",component:(()=>{class t{constructor(e,i,r,s){var d=this;this.route=e,this.deliveriesService=i,this.router=r,this.titleCasePipe=s,this.itemConfig=[],this.route.params.subscribe(function(){var m=dr(function*({deliveryId:b}){b&&(d.delivery=yield d.deliveriesService.getDelivery(b))});return function(b){return m.apply(this,arguments)}}())}ngOnInit(){this.itemConfig=[{key:"_id",header:"ID"},{key:"status",header:"Status",displayFn:e=>this.titleCasePipe.transform(e)},{key:"departureDate",header:"Departured at",displayFn:e=>{if(!e)return"-";const i=new Date(e);return`${i.getHours()}:${i.getMinutes()} - ${("0"+i.getDate()).slice(-2)}/${("0"+(i.getMonth()+1)).slice(-2)}/${i.getFullYear()}`}},{key:"originOffice",header:"From Office",classes:"text-link",displayFn:e=>e.name,onClick:e=>(this.router.navigate(["offices",e._id]),!0)},{key:"destinationOffice",header:"To Office",classes:"text-link",displayFn:e=>e.name,onClick:e=>(this.router.navigate(["offices",e._id]),!0)},{key:"truck",header:"Truck",classes:"text-link",displayFn:e=>e.registrationNumber,onClick:e=>(this.router.navigate(["trucks",e._id]),!0)},{key:"packages",header:"Packages",customDisplayCmp:kD,cmpProperties:(e,i)=>({header:`${e.length||0} Package${1!==e.length?"s":""}`,items:e,class:"value-list"}),cmpHandlers:(e,i)=>({itemClicked:r=>{this.router.navigate(["packages",r])}})}]}}return t.\u0275fac=function(e){return new(e||t)(U(Cl),U(Pw),U(vr),U(ym))},t.\u0275cmp=it({type:t,selectors:[["app-single-delivery"]],decls:4,vars:2,consts:[["goBackBtn",""],["icon","arrow-back-outline"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner",4,"ngIf"],[4,"ngIf"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","itemConfig"]],template:function(e,i){1&e&&(W(0,"a",0),at(1,"nb-icon",1),q(),K(2,Jre,1,1,"nb-card",2),K(3,eoe,5,3,"nb-card",3)),2&e&&(V(2),P("ngIf",!i.delivery),V(1),P("ngIf",i.delivery))},dependencies:[Dn,Yy,Xy,bs,vs,ys,ld,Mr]}),t})()}];let noe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,wh,Gp.forChild(toe),wh,vh,Ay,_s,TM,Hw]}),t})();function ioe(t,n){if(1&t){const e=bt();W(0,"app-smart-table",2),De("itemClick",function(r){return ye(e),me(z().officeClicked(r))}),q()}if(2&t){const e=z();P("data",e.offices)("tableConfig",e.cols)}}function ooe(t,n){1&t&&at(0,"nb-card",4),2&t&&P("nbSpinner",!z().office)}function soe(t,n){if(1&t&&at(0,"app-display-item-card",6),2&t){const e=z(2);P("data",e.office)("itemConfig",e.itemConfig)}}function aoe(t,n){if(1&t&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2),q(),W(3,"nb-card-body"),K(4,soe,1,2,"app-display-item-card",5),q()()),2&t){const e=z();V(2),ei("Office ",e.office.name,""),V(2),P("ngIf",e.office.realPackages)}}const loe=[{path:"offices",component:(()=>{class t{constructor(e,i,r){this.officesService=e,this.router=i,this.pkgService=r,this.offices=[],this.cols=[]}ngOnInit(){var e=this;return dr(function*(){e.cols=[{field:"_id",header:"#"},{field:"name",header:"Name"},{field:"address",header:"Address"},{field:"realPackages",header:"Packages",displayFn:i=>`${i&&i.length} Package${i&&1!=i.length?"s":""}`,getValue:i=>i&&i.length,filterConfig:{filterType:"range",rangeValues:["min","max"],filterFn:(i,r)=>!r||r[0]<=i.length&&i.length<=r[1]}}],e.offices=yield e.officesService.getAllOffices(),e.offices.map(function(){var i=dr(function*(r){return r.realPackages=yield e.pkgService.getPackagesInOffice(r._id),r});return function(r){return i.apply(this,arguments)}}())})()}officeClicked(e){this.router.navigate(["offices",e._id])}}return t.\u0275fac=function(e){return new(e||t)(U(zy),U(vr),U(A0))},t.\u0275cmp=it({type:t,selectors:[["app-all-offices"]],decls:5,vars:2,consts:[["size","giant","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","tableConfig","itemClick",4,"ngIf"],[3,"data","tableConfig","itemClick"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header"),Pe(2," Offices "),q(),W(3,"nb-card-body"),K(4,ioe,1,2,"app-smart-table",1),q()()),2&e&&(P("nbSpinner",0===i.offices.length),V(4),P("ngIf",i.offices.length>0))},dependencies:[Dn,Ky,bs,vs,ys,ld],styles:["nb-card-header[_ngcontent-%COMP%]{text-align:center}"]}),t})()},{path:"offices/:officeId",component:(()=>{class t{constructor(e,i,r,s){var d=this;this.route=e,this.officesService=i,this.pkgService=r,this.router=s,this.itemConfig=[],this.route.params.subscribe(function(){var m=dr(function*({officeId:b}){b&&(d.office=yield d.officesService.getOffice(b),d.office.realPackages=yield d.pkgService.getPackagesInOffice(b),console.log("pkgs ready"))});return function(b){return m.apply(this,arguments)}}())}ngOnInit(){this.itemConfig=[{key:"_id",header:"ID"},{key:"name",header:"Name"},{key:"address",header:"Address"},{key:"realPackages",header:"Received Packages",customDisplayCmp:kD,cmpProperties:(e,i)=>{const r=e.filter(s=>s.status===Lm.RECEIVED);return{header:`${r.length||0} Packages`,items:r&&r.map(s=>s._id),class:"value-list"}},cmpHandlers:(e,i)=>({itemClicked:r=>{this.router.navigate(["packages",r])}})},{key:"realPackages",header:"Delivered Packages",customDisplayCmp:kD,cmpProperties:(e,i)=>{const r=e.filter(s=>s.status===Lm.DELIVERED);return{header:`${r.length||0} Packages`,items:r&&r.map(s=>s._id),class:"value-list"}},cmpHandlers:(e,i)=>({itemClicked:r=>{this.router.navigate(["packages",r])}})}]}}return t.\u0275fac=function(e){return new(e||t)(U(Cl),U(zy),U(A0),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-single-office"]],decls:4,vars:2,consts:[["goBackBtn",""],["icon","arrow-back-outline"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner",4,"ngIf"],[4,"ngIf"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","itemConfig",4,"ngIf"],[3,"data","itemConfig"]],template:function(e,i){1&e&&(W(0,"a",0),at(1,"nb-icon",1),q(),K(2,ooe,1,1,"nb-card",2),K(3,aoe,5,2,"nb-card",3)),2&e&&(V(2),P("ngIf",!i.office),V(1),P("ngIf",i.office))},dependencies:[Dn,Yy,Xy,bs,vs,ys,Mr,ld]}),t})()}];let CN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,Gp.forChild(loe),wh,vh,_s,TM,Ay,Hw]}),t})(),coe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[cd],imports:[Ki,p0,zT,Mw,vh,Iy,Eq,xw,_s,wh,Mw,t5,B5.forRoot()]}),t})();function uoe(t,n){if(1&t){const e=bt();W(0,"app-smart-table",2),De("itemClick",function(r){return ye(e),me(z().clientClicked(r))}),q()}if(2&t){const e=z();P("data",e.clients)("tableConfig",e.cols)}}function hoe(t,n){1&t&&at(0,"nb-card",4),2&t&&P("nbSpinner",!z().client)}function poe(t,n){if(1&t&&(W(0,"nb-card")(1,"nb-card-header"),Pe(2),q(),W(3,"nb-card-body"),at(4,"app-display-item-card",5),q()()),2&t){const e=z();V(2),ei("Client ",e.client.name,""),V(2),P("data",e.client)("itemConfig",e.itemConfig)}}const foe=[{path:"clients",component:(()=>{class t{constructor(e,i){this.clientsService=e,this.router=i,this.clients=[],this.cols=[]}ngOnInit(){var e=this;return dr(function*(){e.cols=[{field:"_id",header:"#"},{field:"name",header:"Name"},{field:"phone",header:"Phone"},{field:"email",header:"Email",displayFn:i=>i||"-"}],e.clients=yield e.clientsService.getAllClients()})()}clientClicked(e){this.router.navigate(["clients",e._id])}}return t.\u0275fac=function(e){return new(e||t)(U(UM),U(vr))},t.\u0275cmp=it({type:t,selectors:[["app-all-clients"]],decls:5,vars:2,consts:[["size","giant","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","tableConfig","itemClick",4,"ngIf"],[3,"data","tableConfig","itemClick"]],template:function(e,i){1&e&&(W(0,"nb-card",0)(1,"nb-card-header"),Pe(2," Clients "),q(),W(3,"nb-card-body"),K(4,uoe,1,2,"app-smart-table",1),q()()),2&e&&(P("nbSpinner",0===i.clients.length),V(4),P("ngIf",i.clients.length>0))},dependencies:[Dn,Ky,bs,vs,ys,ld]}),t})()},{path:"clients/:clientId",component:(()=>{class t{constructor(e,i){var r=this;this.route=e,this.clientsService=i,this.itemConfig=[],this.route.params.subscribe(function(){var s=dr(function*({clientId:d}){d&&(r.client=yield r.clientsService.getClient(d))});return function(d){return s.apply(this,arguments)}}())}ngOnInit(){this.itemConfig=[{key:"_id",header:"ID"},{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"email",header:"Email",displayFn:e=>e||"-"}]}}return t.\u0275fac=function(e){return new(e||t)(U(Cl),U(UM))},t.\u0275cmp=it({type:t,selectors:[["app-single-client"]],decls:4,vars:2,consts:[["goBackBtn",""],["icon","arrow-back-outline"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner",4,"ngIf"],[4,"ngIf"],["size","small","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"nbSpinner"],[3,"data","itemConfig"]],template:function(e,i){1&e&&(W(0,"a",0),at(1,"nb-icon",1),q(),K(2,hoe,1,1,"nb-card",2),K(3,poe,5,3,"nb-card",3)),2&e&&(V(2),P("ngIf",!i.client),V(1),P("ngIf",i.client))},dependencies:[Dn,Yy,Xy,bs,vs,ys,Mr,ld]}),t})()}];let moe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,Gp.forChild(foe),wh,vh,_s,Ay]}),t})(),goe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,eq,_s,bM]}),t})(),_oe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,_s]}),t})(),yoe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({imports:[Ki,wM,CN,_s]}),t})(),voe=(()=>{class t{constructor(e){this.userService=e}intercept(e,i){return i.handle(this.userService.authToken?e.clone({setHeaders:{auth:this.userService.authToken}}):e)}}return t.\u0275fac=function(e){return new(e||t)(Ee(cd))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),boe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t}),t.\u0275inj=Lt({providers:[{provide:zM,useClass:voe,multi:!0,deps:[cd]}],imports:[Ki]}),t})(),woe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ft({type:t,bootstrap:[gne]}),t.\u0275inj=Lt({imports:[xI,coe,Ure,Kre,noe,CN,moe,wh,yoe,mee,boe,mre,aR,yP.forRoot({name:"dark"}),LP,yre,_s,wM.forRoot(),$W.forRoot(),vh,Iy,t5,goe,_oe,yP.forRoot({name:"corporate"})]}),t})();(function E6(){w4=!1})(),qz().bootstrapModule(woe).catch(t=>console.error(t))},773:function(sf){typeof self<"u"&&self,sf.exports=function(ji){var wi={};function kt(Rn){if(wi[Rn])return wi[Rn].exports;var Fn=wi[Rn]={i:Rn,l:!1,exports:{}};return ji[Rn].call(Fn.exports,Fn,Fn.exports,kt),Fn.l=!0,Fn.exports}return kt.m=ji,kt.c=wi,kt.d=function(Rn,Fn,f){kt.o(Rn,Fn)||Object.defineProperty(Rn,Fn,{enumerable:!0,get:f})},kt.r=function(Rn){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Rn,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Rn,"__esModule",{value:!0})},kt.t=function(Rn,Fn){if(1&Fn&&(Rn=kt(Rn)),8&Fn||4&Fn&&"object"==typeof Rn&&Rn&&Rn.__esModule)return Rn;var f=Object.create(null);if(kt.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:Rn}),2&Fn&&"string"!=typeof Rn)for(var He in Rn)kt.d(f,He,function($n){return Rn[$n]}.bind(null,He));return f},kt.n=function(Rn){var Fn=Rn&&Rn.__esModule?function(){return Rn.default}:function(){return Rn};return kt.d(Fn,"a",Fn),Fn},kt.o=function(Rn,Fn){return Object.prototype.hasOwnProperty.call(Rn,Fn)},kt.p="",kt(kt.s="./package/src/index.js")}({"./node_modules/classnames/dedupe.js":function(ji,wi,kt){var Fn;!function(){"use strict";var f=function(){function He(){}function $n(rr,fi){for(var Jt=fi.length,xn=0;xn<Jt;++xn)zr(rr,fi[xn])}He.prototype=Object.create(null);var Ti={}.hasOwnProperty;var Ci=/\s+/;function zr(rr,fi){if(fi){var Jt=typeof fi;"string"===Jt?function _r(rr,fi){for(var Jt=fi.split(Ci),xn=Jt.length,Fe=0;Fe<xn;++Fe)rr[Jt[Fe]]=!0}(rr,fi):Array.isArray(fi)?$n(rr,fi):"object"===Jt?function mn(rr,fi){for(var Jt in fi)Ti.call(fi,Jt)&&(rr[Jt]=!!fi[Jt])}(rr,fi):"number"===Jt&&function $t(rr,fi){rr[fi]=!0}(rr,fi)}}return function rs(){for(var rr=arguments.length,fi=Array(rr),Jt=0;Jt<rr;Jt++)fi[Jt]=arguments[Jt];var xn=new He;$n(xn,fi);var Fe=[];for(var Wt in xn)xn[Wt]&&Fe.push(Wt);return Fe.join(" ")}}();typeof ji<"u"&&ji.exports?(f.default=f,ji.exports=f):void 0!==(Fn=function(){return f}.apply(wi,[]))&&(ji.exports=Fn)}()},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss":function(ji,wi,kt){(ji.exports=kt("./node_modules/css-loader/lib/css-base.js")(!1)).push([ji.i,"/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n.eva-animation {\n  animation-duration: 1s;\n  animation-fill-mode: both; }\n\n.eva-infinite {\n  animation-iteration-count: infinite; }\n\n.eva-icon-shake {\n  animation-name: eva-shake; }\n\n.eva-icon-zoom {\n  animation-name: eva-zoomIn; }\n\n.eva-icon-pulse {\n  animation-name: eva-pulse; }\n\n.eva-icon-flip {\n  animation-name: eva-flipInY; }\n\n.eva-hover {\n  display: inline-block; }\n\n.eva-hover:hover .eva-icon-hover-shake, .eva-parent-hover:hover .eva-icon-hover-shake {\n  animation-name: eva-shake; }\n\n.eva-hover:hover .eva-icon-hover-zoom, .eva-parent-hover:hover .eva-icon-hover-zoom {\n  animation-name: eva-zoomIn; }\n\n.eva-hover:hover .eva-icon-hover-pulse, .eva-parent-hover:hover .eva-icon-hover-pulse {\n  animation-name: eva-pulse; }\n\n.eva-hover:hover .eva-icon-hover-flip, .eva-parent-hover:hover .eva-icon-hover-flip {\n  animation-name: eva-flipInY; }\n\n@keyframes eva-flipInY {\n  from {\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0; }\n  40% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n    animation-timing-function: ease-in; }\n  60% {\n    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n    opacity: 1; }\n  80% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -5deg); }\n  to {\n    transform: perspective(400px); } }\n\n@keyframes eva-shake {\n  from,\n  to {\n    transform: translate3d(0, 0, 0); }\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translate3d(-3px, 0, 0); }\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translate3d(3px, 0, 0); } }\n\n@keyframes eva-pulse {\n  from {\n    transform: scale3d(1, 1, 1); }\n  50% {\n    transform: scale3d(1.2, 1.2, 1.2); }\n  to {\n    transform: scale3d(1, 1, 1); } }\n\n@keyframes eva-zoomIn {\n  from {\n    opacity: 1;\n    transform: scale3d(0.5, 0.5, 0.5); }\n  50% {\n    opacity: 1; } }\n",""])},"./node_modules/css-loader/lib/css-base.js":function(ji,wi){function kt(Fn,f){var He=Fn[1]||"",$n=Fn[3];if(!$n)return He;if(f&&"function"==typeof btoa){var Ti=function Rn(Fn){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(Fn))))+" */"}($n),$t=$n.sources.map(function(mn){return"/*# sourceURL="+$n.sourceRoot+mn+" */"});return[He].concat($t).concat([Ti]).join("\n")}return[He].join("\n")}ji.exports=function(Fn){var f=[];return f.toString=function(){return this.map(function($n){var Ti=kt($n,Fn);return $n[2]?"@media "+$n[2]+"{"+Ti+"}":Ti}).join("")},f.i=function(He,$n){"string"==typeof He&&(He=[[null,He,""]]);for(var Ti={},$t=0;$t<this.length;$t++){var mn=this[$t][0];"number"==typeof mn&&(Ti[mn]=!0)}for($t=0;$t<He.length;$t++){var Ci=He[$t];("number"!=typeof Ci[0]||!Ti[Ci[0]])&&($n&&!Ci[2]?Ci[2]=$n:$n&&(Ci[2]="("+Ci[2]+") and ("+$n+")"),f.push(Ci))}},f}},"./node_modules/isomorphic-style-loader/insertCss.js":function(ji,wi,kt){"use strict";var Rn={};function Fn($n){return btoa(encodeURIComponent($n).replace(/%([0-9A-F]{2})/g,function(Ti,$t){return String.fromCharCode("0x"+$t)}))}function f($n){$n.forEach(function(Ti){if(--Rn[Ti]<=0){var $t=document.getElementById(Ti);$t&&$t.parentNode.removeChild($t)}})}ji.exports=function He($n,Ti){for(var $t=void 0===Ti?{}:Ti,mn=$t.replace,Ci=void 0!==mn&&mn,_r=$t.prepend,zr=void 0!==_r&&_r,rs=$t.prefix,rr=void 0===rs?"s":rs,fi=[],Jt=0;Jt<$n.length;Jt++){var xn=$n[Jt],Wt=xn[1],yn=xn[2],hi=xn[3],Zt=""+rr+xn[0]+"-"+Jt;if(fi.push(Zt),!Rn[Zt]||Ci){Rn[Zt]=1;var Xn=document.getElementById(Zt),Cs=!1;Xn||(Cs=!0,(Xn=document.createElement("style")).setAttribute("type","text/css"),Xn.id=Zt,yn&&Xn.setAttribute("media",yn));var os=Wt;hi&&"function"==typeof btoa&&(os+="\n/*# sourceMappingURL=data:application/json;base64,"+Fn(JSON.stringify(hi))+"*/",os+="\n/*# sourceURL="+hi.file+"?"+Zt+"*/"),"textContent"in Xn?Xn.textContent=os:Xn.styleSheet.cssText=os,Cs&&(zr?document.head.insertBefore(Xn,document.head.childNodes[0]):document.head.appendChild(Xn))}else Rn[Zt]++}return f.bind(null,fi)}},"./package-build/eva-icons.json":function(ji){ji.exports={activity:'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 15a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V8a1 1 0 0 1 2 0z"/></g></g>',"alert-triangle":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zM12 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',archive:'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 18 3zm-3 10.13a.87.87 0 0 1-.87.87H9.87a.87.87 0 0 1-.87-.87v-.26a.87.87 0 0 1 .87-.87h4.26a.87.87 0 0 1 .87.87zM18 7H6a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></g></g>',"arrow-back":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.69 11.86l-3 2.86a.49.49 0 0 1-.15.1.54.54 0 0 1-.16.1.94.94 0 0 1-.76 0 1 1 0 0 1-.33-.21l-3-3a1 1 0 0 1 1.42-1.42l1.29 1.3V8a1 1 0 0 1 2 0v5.66l1.31-1.25a1 1 0 0 1 1.38 1.45z"/></g></g>',"arrow-circle-left":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22 12a10 10 0 1 0-10 10 10 10 0 0 0 10-10zm-11.86 3.69l-2.86-3a.49.49 0 0 1-.1-.15.54.54 0 0 1-.1-.16.94.94 0 0 1 0-.76 1 1 0 0 1 .21-.33l3-3a1 1 0 0 1 1.42 1.42L10.41 11H16a1 1 0 0 1 0 2h-5.66l1.25 1.31a1 1 0 0 1-1.45 1.38z"/></g></g>',"arrow-circle-right":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M2 12A10 10 0 1 0 12 2 10 10 0 0 0 2 12zm11.86-3.69l2.86 3a.49.49 0 0 1 .1.15.54.54 0 0 1 .1.16.94.94 0 0 1 0 .76 1 1 0 0 1-.21.33l-3 3a1 1 0 0 1-1.42-1.42l1.3-1.29H8a1 1 0 0 1 0-2h5.66l-1.25-1.31a1 1 0 0 1 1.45-1.38z"/></g></g>',"arrow-circle-up":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 22A10 10 0 1 0 2 12a10 10 0 0 0 10 10zM8.31 10.14l3-2.86a.49.49 0 0 1 .15-.1.54.54 0 0 1 .16-.1.94.94 0 0 1 .76 0 1 1 0 0 1 .33.21l3 3a1 1 0 0 1-1.42 1.42L13 10.41V16a1 1 0 0 1-2 0v-5.66l-1.31 1.25a1 1 0 0 1-1.38-1.45z"/></g></g>',"arrow-down":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"/></g></g>',"arrow-downward":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2z"/></g></g>',"arrow-right":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46z"/></g></g>',"arrow-up":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1z"/></g></g>',"arrow-upward":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',at:'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',attach:'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',award:'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4z"/></g></g>',backspace:'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zm-3.43 9.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L14 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L15.41 12z"/></g></g>',"bar-chart-2":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',battery:'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',behance:'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M14.76 11.19a1 1 0 0 0-1 1.09h2.06a1 1 0 0 0-1.06-1.09z"/><path d="M9.49 12.3H8.26v1.94h1c1 0 1.44-.33 1.44-1s-.46-.94-1.21-.94z"/><path d="M10.36 10.52c0-.53-.35-.85-.95-.85H8.26v1.74h.85c.89 0 1.25-.32 1.25-.89z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM9.7 15.2H7V8.7h2.7c1.17 0 1.94.61 1.94 1.6a1.4 1.4 0 0 1-1.12 1.43A1.52 1.52 0 0 1 12 13.37c0 1.16-1 1.83-2.3 1.83zm3.55-6h3v.5h-3zM17 13.05h-3.3v.14a1.07 1.07 0 0 0 1.09 1.19.9.9 0 0 0 1-.63H17a2 2 0 0 1-2.17 1.55 2.15 2.15 0 0 1-2.36-2.3v-.44a2.11 2.11 0 0 1 2.28-2.25A2.12 2.12 0 0 1 17 12.58z"/></g></g>',"bell-off":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M15.88 18.71l-.59-.59L14 16.78l-.07-.07L6.58 9.4 5.31 8.14a5.68 5.68 0 0 0 0 .59v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/><path d="M7.13 4.3l1.46 1.46 9.53 9.53 2 2 .31.3a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.83-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',bell:'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/></g></g>',bluetooth:'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 4.34a1.24 1.24 0 0 0-1.08-.23L13 5.89v14.27l7.56-1.94A1.25 1.25 0 0 0 21.5 17V5.32a1.25 1.25 0 0 0-.5-.98z"/><path d="M11 5.89L4.06 4.11A1.27 1.27 0 0 0 3 4.34a1.25 1.25 0 0 0-.48 1V17a1.25 1.25 0 0 0 .94 1.21L11 20.16z"/></g></g>',book:'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 19a1 1 0 0 1 0-2h11v2z"/></g></g>',bookmark:'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6 21a1 1 0 0 1-.49-.13A1 1 0 0 1 5 20V5.33A2.28 2.28 0 0 1 7.2 3h9.6A2.28 2.28 0 0 1 19 5.33V20a1 1 0 0 1-.5.86 1 1 0 0 1-1 0l-5.67-3.21-5.33 3.2A1 1 0 0 1 6 21z"/></g></g>',briefcase:'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M7 21h10V7h-1V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H7zm3-15.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4z"/><path d="M19 7v14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3z"/><path d="M5 7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3z"/></g></g>',browser:'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-6 3a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM8 6a1 1 0 1 1-1 1 1 1 0 0 1 1-1zm11 12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14z"/></g></g>',brush:'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M7.12 12.55a4 4 0 0 0-3.07 3.86v3.11a.47.47 0 0 0 .48.48l3.24-.06a3.78 3.78 0 0 0 3.44-2.2 3.65 3.65 0 0 0-4.09-5.19z"/><path d="M19.26 4.46a2.14 2.14 0 0 0-2.88.21L10 11.08a.47.47 0 0 0 0 .66L12.25 14a.47.47 0 0 0 .66 0l6.49-6.47a2.06 2.06 0 0 0 .6-1.47 2 2 0 0 0-.74-1.6z"/></g></g>',bulb:'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',calendar:'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm3-6H5V7a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1z"/></g></g>',camera:'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="14" r="1.5"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zm2 12a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',car:'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm12 0a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',cast:'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',charging:'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M11.28 13H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1L9.28 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h4.25z"/><path d="M15.83 6h-4.25l-2.86 5H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1L10.72 18h5.11A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"checkmark-circle-2":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4.3 7.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-circle":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-square-2":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-1.7 6.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-square":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',checkmark:'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"chevron-down":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',clipboard:'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 4v3a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/><rect x="7" y="2" width="10" height="6" rx="1" ry="1"/></g></g>',clock:'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11h-4a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2z"/></g></g>',"close-circle":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm2.71 11.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',"close-square":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3.29 10.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',close:'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/></g></g>',"cloud-upload":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M21.9 12c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 10.08 21 10s-.2-.25-.31-.37-.21-.2-.32-.3L20 9l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09L17.67 8A6 6 0 0 0 6.33 8l-.18.05a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23l-.36.3-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 13a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 16a5 5 0 0 0 4 2h3v-1.37a2 2 0 0 1-1 .27 2.05 2.05 0 0 1-1.44-.61 2 2 0 0 1 .05-2.83l3-2.9A2 2 0 0 1 12 10a2 2 0 0 1 1.41.59l3 3a2 2 0 0 1 0 2.82A2 2 0 0 1 15 17a1.92 1.92 0 0 1-1-.27V18h3a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 13a5.23 5.23 0 0 0-.1-1z"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"code-download":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',code:'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',collapse:'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zm-12.7 9.66a1.5 1.5 0 1 1 .4-2.08 1.49 1.49 0 0 1-.4 2.08zM8.3 9.25a1.5 1.5 0 1 1-.55-2 1.5 1.5 0 0 1 .55 2zM11 7a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 11 7zm5.75.8a1.5 1.5 0 1 1 .55-2 1.5 1.5 0 0 1-.55 2z"/></g></g>',"color-picker":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zm-13 7.6L12 9.36l2.69 2.7-2.79 2.79"/></g></g>',compass:'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><polygon points="10.8 13.21 12.49 12.53 13.2 10.79 11.51 11.47 10.8 13.21"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.93 7.42l-1.75 4.26a1 1 0 0 1-.55.55l-4.21 1.7A1 1 0 0 1 9 16a1 1 0 0 1-.71-.31h-.05a1 1 0 0 1-.18-1l1.75-4.26a1 1 0 0 1 .55-.55l4.21-1.7a1 1 0 0 1 1.1.25 1 1 0 0 1 .26.99z"/></g></g>',copy:'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 9h-3V5.67A2.68 2.68 0 0 0 12.33 3H5.67A2.68 2.68 0 0 0 3 5.67v6.66A2.68 2.68 0 0 0 5.67 15H9v3a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3v-6a3 3 0 0 0-3-3zm-9 3v1H5.67a.67.67 0 0 1-.67-.67V5.67A.67.67 0 0 1 5.67 5h6.66a.67.67 0 0 1 .67.67V9h-1a3 3 0 0 0-3 3z"/></g></g>',"corner-down-left":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zm-8 10H7a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm6 0h-2a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zm3-6H4V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',crop:'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',cube:'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M11.25 11.83L3 8.36v7.73a1.69 1.69 0 0 0 1 1.52L11.19 21h.06z"/><path d="M12 10.5l8.51-3.57a1.62 1.62 0 0 0-.51-.38l-7.2-3.37a1.87 1.87 0 0 0-1.6 0L4 6.55a1.62 1.62 0 0 0-.51.38z"/><path d="M12.75 11.83V21h.05l7.2-3.39a1.69 1.69 0 0 0 1-1.51V8.36z"/></g></g>',"diagonal-arrow-left-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',download:'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off":'<g data-name="Layer 2"><g data-name="droplet-off"><rect width="24" height="24" opacity="0"/><path d="M19 16.14A7.73 7.73 0 0 0 17.34 8l-4.56-4.69a1 1 0 0 0-.71-.31 1 1 0 0 0-.72.3L8.74 5.92z"/><path d="M6 8.82a7.73 7.73 0 0 0 .64 9.9A7.44 7.44 0 0 0 11.92 21a7.34 7.34 0 0 0 4.64-1.6z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',droplet:'<g data-name="Layer 2"><g data-name="droplet"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1z"/></g></g>',"edit-2":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6z"/></g></g>',edit:'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',email:'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm0 2l-6.5 4.47a1 1 0 0 1-1 0L5 6z"/></g></g>',expand:'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M15.29 18.12L14 16.78l-.07-.07-1.27-1.27a4.07 4.07 0 0 1-.61.06A3.5 3.5 0 0 1 8.5 12a4.07 4.07 0 0 1 .06-.61l-2-2L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67z"/><path d="M8.59 5.76l2.8 2.8A4.07 4.07 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 4.07 4.07 0 0 1-.06.61l2.68 2.68.84.84a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0 0-1c-.64-1.11-4.16-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',eye:'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zm-9.87 4a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',facebook:'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 3.5a.5.5 0 0 0-.5-.5H14a4.77 4.77 0 0 0-5 4.5v2.7H6.5a.5.5 0 0 0-.5.5v2.6a.5.5 0 0 0 .5.5H9v6.7a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-6.7h2.62a.5.5 0 0 0 .49-.37l.72-2.6a.5.5 0 0 0-.48-.63H13V7.5a1 1 0 0 1 1-.9h2.5a.5.5 0 0 0 .5-.5z"/></g></g>',"file-add":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-remove":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-text":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM9 12h3a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2zm6 6H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2zm-.29-10a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',file:'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 4l3.74 4h-3a.79.79 0 0 1-.74-.85z"/></g></g>',film:'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm14-2h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',flag:'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43z"/></g></g>',"flash-off":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M17.33 14.5l2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11z"/><path d="M6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',flash:'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44z"/></g></g>',"flip-2":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',flip:'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"folder-remove":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',folder:'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43z"/></g></g>',funnel:'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1z"/></g></g>',gift:'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M4.64 15.27v4.82a.92.92 0 0 0 .92.91h5.62v-5.73z"/><path d="M12.82 21h5.62a.92.92 0 0 0 .92-.91v-4.82h-6.54z"/><path d="M20.1 7.09h-1.84a2.82 2.82 0 0 0 .29-1.23A2.87 2.87 0 0 0 15.68 3 4.21 4.21 0 0 0 12 5.57 4.21 4.21 0 0 0 8.32 3a2.87 2.87 0 0 0-2.87 2.86 2.82 2.82 0 0 0 .29 1.23H3.9c-.5 0-.9.59-.9 1.31v3.93c0 .72.4 1.31.9 1.31h7.28V7.09h1.64v6.55h7.28c.5 0 .9-.59.9-1.31V8.4c0-.72-.4-1.31-.9-1.31zm-11.78 0a1.23 1.23 0 1 1 0-2.45c1.4 0 2.19 1.44 2.58 2.45zm7.36 0H13.1c.39-1 1.18-2.45 2.58-2.45a1.23 1.23 0 1 1 0 2.45z"/></g></g>',github:'<g data-name="Layer 2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 1A10.89 10.89 0 0 0 1 11.77 10.79 10.79 0 0 0 8.52 22c.55.1.75-.23.75-.52v-1.83c-3.06.65-3.71-1.44-3.71-1.44a2.86 2.86 0 0 0-1.22-1.58c-1-.66.08-.65.08-.65a2.31 2.31 0 0 1 1.68 1.11 2.37 2.37 0 0 0 3.2.89 2.33 2.33 0 0 1 .7-1.44c-2.44-.27-5-1.19-5-5.32a4.15 4.15 0 0 1 1.11-2.91 3.78 3.78 0 0 1 .11-2.84s.93-.29 3 1.1a10.68 10.68 0 0 1 5.5 0c2.1-1.39 3-1.1 3-1.1a3.78 3.78 0 0 1 .11 2.84A4.15 4.15 0 0 1 19 11.2c0 4.14-2.58 5.05-5 5.32a2.5 2.5 0 0 1 .75 2v2.95c0 .35.2.63.75.52A10.8 10.8 0 0 0 23 11.77 10.89 10.89 0 0 0 12 1" data-name="github"/></g>',"globe-2":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zm4.89 14.32a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .58-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-3":'<g data-name="Layer 2"><g data-name="globe-3"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2z"/></g></g>',globe:'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',google:'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M17.5 14a5.51 5.51 0 0 1-4.5 3.93 6.15 6.15 0 0 1-7-5.45A6 6 0 0 1 12 6a6.12 6.12 0 0 1 2.27.44.5.5 0 0 0 .64-.21l1.44-2.65a.52.52 0 0 0-.23-.7A10 10 0 0 0 2 12.29 10.12 10.12 0 0 0 11.57 22 10 10 0 0 0 22 12.52v-2a.51.51 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h5"/></g></g>',grid:'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/></g></g>',"hard-drive":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zM5.62 11l2.72-5.45a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11z"/></g></g>',hash:'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',headphones:'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2z"/></g></g>',heart:'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21z"/></g></g>',home:'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><rect x="10" y="14" width="4" height="7"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2H8v-9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v9h3.11A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44z"/></g></g>',"image-2":'<g data-name="Layer 2"><g data-name="image-2"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 7a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 7zm11 10.83A1.09 1.09 0 0 1 18 19H6l7.57-6.82a.69.69 0 0 1 .93 0l4.5 4.48z"/></g></g>',image:'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',inbox:'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2a1 1 0 0 0-1-1H5.62z"/></g></g>',info:'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 14a1 1 0 0 1-2 0v-5a1 1 0 0 1 2 0zm-1-7a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',keypad:'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/></g></g>',layers:'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M3.24 7.29l8.52 4.63a.51.51 0 0 0 .48 0l8.52-4.63a.44.44 0 0 0-.05-.81L12.19 3a.5.5 0 0 0-.38 0L3.29 6.48a.44.44 0 0 0-.05.81z"/><path d="M20.71 10.66l-1.83-.78-6.64 3.61a.51.51 0 0 1-.48 0L5.12 9.88l-1.83.78a.48.48 0 0 0 0 .85l8.52 4.9a.46.46 0 0 0 .48 0l8.52-4.9a.48.48 0 0 0-.1-.85z"/><path d="M20.71 15.1l-1.56-.68-6.91 3.76a.51.51 0 0 1-.48 0l-6.91-3.76-1.56.68a.49.49 0 0 0 0 .87l8.52 5a.51.51 0 0 0 .48 0l8.52-5a.49.49 0 0 0-.1-.87z"/></g></g>',layout:'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M21 8V6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v2z"/><path d="M3 10v8a3 3 0 0 0 3 3h5V10z"/><path d="M13 10v11h5a3 3 0 0 0 3-3v-8z"/></g></g>',"link-2":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',link:'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',linkedin:'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15.15 8.4a5.83 5.83 0 0 0-5.85 5.82v5.88a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a1.94 1.94 0 0 1 2.15-1.93 2 2 0 0 1 1.75 2v5.81a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a5.83 5.83 0 0 0-5.85-5.82z"/><rect x="3" y="9.3" width="4.5" height="11.7" rx=".9" ry=".9"/><circle cx="5.25" cy="5.25" r="2.25"/></g></g>',list:'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',lock:'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM12 18a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"log-in":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',map:'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM9 6.55l2 .89v10l-2-.89zm10 10.9l-2-.89v-10l2 .89z"/></g></g>',maximize:'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12h-1v1a1 1 0 0 1-2 0v-1H9a1 1 0 0 1 0-2h1V9a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"menu-2":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',menu:'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle":'<g data-name="Layer 2"><g data-name="message-circle"><rect width="24" height="24" opacity="0"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zM8 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"message-square":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"mic-off":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M15.58 12.75A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',mic:'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',minimize:'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12H9a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',"minus-circle":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',"minus-square":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',minus:'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',monitor:'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v5h20V6a3 3 0 0 0-3-3z"/><path d="M2 14a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3v-1H2z"/></g></g>',moon:'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3z"/></g></g>',"more-horizontal":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',move:'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',music:'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51z"/></g></g>',"navigation-2":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8l-1.54-7.57a1 1 0 0 0-.78-.78L2.8 11.31a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68z"/></g></g>',navigation:'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17l-6.9-4.56a1 1 0 0 0-1.1 0l-6.9 4.56a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20z"/></g></g>',npm:'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h7V11h4v10h1a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3z"/></g></g>',"options-2":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2z"/></g></g>',options:'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5z"/></g></g>',pantone:'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-2.7l-1.86 2L11.88 19l-1.41 1.52L10 21h10a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1z"/><path d="M18.19 9.3l-4.14-3.86a.89.89 0 0 0-.71-.26 1 1 0 0 0-.7.31l-.82.89v10.71a5.23 5.23 0 0 1-.06.57l6.48-6.95a1 1 0 0 0-.05-1.41z"/><path d="M10.82 4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09a3.91 3.91 0 0 0 7.82 0zm-2 13.09a1.91 1.91 0 0 1-3.82 0V15h3.82zm0-4.09H5v-3h3.82zm0-5H5V5h3.82z"/></g></g>',"paper-plane":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm-2 13a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0zm6 0a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',people:'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M21 20a1 1 0 0 0 1-1 5 5 0 0 0-8.06-3.95A7 7 0 0 0 2 20a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1"/></g></g>',percent:'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-delete":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"person-done":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-remove":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',person:'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M18 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"phone-call":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73z"/></g></g>',"phone-missed":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M9.27 12.06a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-4 4A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',phone:'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22z"/></g></g>',"pie-chart-2":'<g data-name="Layer 2"><g data-name="pie-chart-2"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83zm.83-6.6a5.83 5.83 0 0 1 4.94 4.94h-4.94z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',"pie-chart":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',pin:'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="9.5" r="1.5"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 11a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 13z"/></g></g>',"play-circle":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><polygon points="11.5 14.6 14.31 12 11.5 9.4 11.5 14.6"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11.18l-3.64 3.37a1.74 1.74 0 0 1-1.16.45 1.68 1.68 0 0 1-.69-.15 1.6 1.6 0 0 1-1-1.48V8.63a1.6 1.6 0 0 1 1-1.48 1.7 1.7 0 0 1 1.85.3L16 10.82a1.6 1.6 0 0 1 0 2.36z"/></g></g>',"plus-circle":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',"plus-square":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',plus:'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',power:'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',pricetags:'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M21.47 11.58l-6.42-6.41a1 1 0 0 0-.61-.29L5.09 4a1 1 0 0 0-.8.29 1 1 0 0 0-.29.8l.88 9.35a1 1 0 0 0 .29.61l6.41 6.42a1.84 1.84 0 0 0 1.29.53 1.82 1.82 0 0 0 1.28-.53l7.32-7.32a1.82 1.82 0 0 0 0-2.57zm-9.91 0a1.5 1.5 0 1 1 0-2.12 1.49 1.49 0 0 1 0 2.1z"/></g></g>',printer:'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4z"/></g></g>',"question-mark-circle":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 16a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5.16V14a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.5-1.5 1 1 0 0 1-2 0 3.5 3.5 0 1 1 4.5 3.34z"/></g></g>',"question-mark":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5z"/></g></g>',radio:'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',recording:'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8z"/></g></g>',refresh:'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',repeat:'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"rewind-right":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66z"/></g></g>',save:'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><rect x="10" y="17" width="4" height="4"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H10v6h5a1 1 0 0 1 0 2H9a1 1 0 0 1-1-1V3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h2v-4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4h2a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12z"/></g></g>',scissors:'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',search:'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M20.32 9.37h-1.09c-.14 0-.24-.11-.3-.26a.34.34 0 0 1 0-.37l.81-.74a1.63 1.63 0 0 0 .5-1.18 1.67 1.67 0 0 0-.5-1.19L18.4 4.26a1.67 1.67 0 0 0-2.37 0l-.77.74a.38.38 0 0 1-.41 0 .34.34 0 0 1-.22-.29V3.68A1.68 1.68 0 0 0 13 2h-1.94a1.69 1.69 0 0 0-1.69 1.68v1.09c0 .14-.11.24-.26.3a.34.34 0 0 1-.37 0L8 4.26a1.72 1.72 0 0 0-1.19-.5 1.65 1.65 0 0 0-1.18.5L4.26 5.6a1.67 1.67 0 0 0 0 2.4l.74.74a.38.38 0 0 1 0 .41.34.34 0 0 1-.29.22H3.68A1.68 1.68 0 0 0 2 11.05v1.89a1.69 1.69 0 0 0 1.68 1.69h1.09c.14 0 .24.11.3.26a.34.34 0 0 1 0 .37l-.81.74a1.72 1.72 0 0 0-.5 1.19 1.66 1.66 0 0 0 .5 1.19l1.34 1.36a1.67 1.67 0 0 0 2.37 0l.77-.74a.38.38 0 0 1 .41 0 .34.34 0 0 1 .22.29v1.09A1.68 1.68 0 0 0 11.05 22h1.89a1.69 1.69 0 0 0 1.69-1.68v-1.09c0-.14.11-.24.26-.3a.34.34 0 0 1 .37 0l.76.77a1.72 1.72 0 0 0 1.19.5 1.65 1.65 0 0 0 1.18-.5l1.34-1.34a1.67 1.67 0 0 0 0-2.37l-.73-.73a.34.34 0 0 1 0-.37.34.34 0 0 1 .29-.22h1.09A1.68 1.68 0 0 0 22 13v-1.94a1.69 1.69 0 0 0-1.68-1.69zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',settings:'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.89 10.32L21.1 7.8a2.26 2.26 0 0 0-2.88-1.51l-.34.11a1.74 1.74 0 0 1-1.59-.26l-.11-.08a1.76 1.76 0 0 1-.69-1.43v-.28a2.37 2.37 0 0 0-.68-1.68 2.26 2.26 0 0 0-1.6-.67h-2.55a2.32 2.32 0 0 0-2.29 2.33v.24a1.94 1.94 0 0 1-.73 1.51l-.13.1a1.93 1.93 0 0 1-1.78.29 2.14 2.14 0 0 0-1.68.12 2.18 2.18 0 0 0-1.12 1.33l-.82 2.6a2.34 2.34 0 0 0 1.48 2.94h.16a1.83 1.83 0 0 1 1.12 1.22l.06.16a2.06 2.06 0 0 1-.23 1.86 2.37 2.37 0 0 0 .49 3.3l2.07 1.57a2.25 2.25 0 0 0 1.35.43A2 2 0 0 0 9 22a2.25 2.25 0 0 0 1.47-1l.23-.33a1.8 1.8 0 0 1 1.43-.77 1.75 1.75 0 0 1 1.5.78l.12.17a2.24 2.24 0 0 0 3.22.53L19 19.86a2.38 2.38 0 0 0 .5-3.23l-.26-.38A2 2 0 0 1 19 14.6a1.89 1.89 0 0 1 1.21-1.28l.2-.07a2.36 2.36 0 0 0 1.48-2.93zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',shake:'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',share:'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3z"/></g></g>',"shield-off":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27z"/><path d="M18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75L13 2.4a2 2 0 0 0-2 0L7.32 4.49z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',shield:'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25z"/></g></g>',"shopping-bag":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zM12 16a4 4 0 0 1-4-4 1 1 0 0 1 2 0 2 2 0 0 0 4 0 1 1 0 0 1 2 0 4 4 0 0 1-4 4zM6.41 7l1.71-1.71A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7z"/></g></g>',"shopping-cart":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',shuffle:'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"skip-forward":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1z"/></g></g>',slash:'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',smartphone:'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 16a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 18zm2.5-10h-5a1 1 0 0 1 0-2h5a1 1 0 0 1 0 2z"/></g></g>',"smiling-face":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',speaker:'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><circle cx="12" cy="15.5" r="1.5"/><circle cx="12" cy="8" r="1"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 3a3 3 0 1 1-3 3 3 3 0 0 1 3-3zm0 14a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 19z"/></g></g>',square:'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',star:'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18z"/></g></g>',"stop-circle":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 12.75A1.25 1.25 0 0 1 14.75 16h-5.5A1.25 1.25 0 0 1 8 14.75v-5.5A1.25 1.25 0 0 1 9.25 8h5.5A1.25 1.25 0 0 1 16 9.25z"/><rect x="10" y="10" width="4" height="4"/></g></g>',sun:'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4z"/></g></g>',swap:'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',sync:'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',text:'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"thermometer-plus":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',thermometer:'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"toggle-left":'<g data-name="Layer 2"><g data-name="toggle-left"><rect x=".02" y=".02" width="23.97" height="23.97" transform="rotate(179.92 12.002 11.998)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zM9 15a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/><path d="M9 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></g></g>',"toggle-right":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><circle cx="15" cy="12" r="1"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"trash-2":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0zm0-11.67c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM16 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0z"/></g></g>',trash:'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4z"/></g></g>',"trending-down":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',tv:'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',twitter:'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.08 20A11.07 11.07 0 0 0 19.52 9 8.09 8.09 0 0 0 21 6.16a.44.44 0 0 0-.62-.51 1.88 1.88 0 0 1-2.16-.38 3.89 3.89 0 0 0-5.58-.17A4.13 4.13 0 0 0 11.49 9C8.14 9.2 5.84 7.61 4 5.43a.43.43 0 0 0-.75.24 9.68 9.68 0 0 0 4.6 10.05A6.73 6.73 0 0 1 3.38 18a.45.45 0 0 0-.14.84A11 11 0 0 0 8.08 20"/></g></g>',umbrella:'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2z"/></g></g>',undo:'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76z"/></g></g>',unlock:'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-5 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',upload:'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M14.22 17.05L4.88 7.71 3.12 6 3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l1.29 1.29 6.59 6.59 2 2 2 2a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63a1.6 1.6 0 0 0-1-1.48z"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',video:'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15z"/></g></g>',"volume-down":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"volume-mute":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1z"/></g></g>',"volume-off":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M15 12.17V4a1 1 0 0 0-1.57-.83L9 6.2z"/><path d="M4.74 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1v-2.17z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"volume-up":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M14.47 3.12a1 1 0 0 0-1 0L7 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"wifi-off":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',wifi:'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>',"activity-outline":'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle-outline":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="16" r="1"/><path d="M12 7a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1z"/></g></g>',"alert-triangle-outline":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"archive-outline":'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M21 6a3 3 0 0 0-3-3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 21 6zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm12 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h12z"/><rect x="9" y="12" width="6" height="2" rx=".87" ry=".87"/></g></g>',"arrow-back-outline":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M14.31 12.41L13 13.66V8a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 .33.21.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1.49.49 0 0 0 .15-.1l3-2.86a1 1 0 0 0-1.38-1.45z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-left-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" opacity="0"/><path d="M16 11h-5.66l1.25-1.31a1 1 0 0 0-1.45-1.38l-2.86 3a1 1 0 0 0-.09.13.72.72 0 0 0-.11.19.88.88 0 0 0-.06.28L7 12a1 1 0 0 0 .08.38 1 1 0 0 0 .21.32l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L10.41 13H16a1 1 0 0 0 0-2z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-right-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-up-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" opacity="0"/><path d="M12.71 7.29a1 1 0 0 0-.32-.21A1 1 0 0 0 12 7h-.1a.82.82 0 0 0-.27.06.72.72 0 0 0-.19.11 1 1 0 0 0-.13.09l-3 2.86a1 1 0 0 0 1.38 1.45L11 10.34V16a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-down-outline":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17zm-3.91-7L12 14.82 16 10z"/></g></g>',"arrow-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left-outline":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2zm-4.86-6l4.82 4V8.09z"/></g></g>',"arrow-right-outline":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46zm0-10v7.9l4.86-3.9z"/></g></g>',"arrow-up-outline":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1zM8 14h7.9L12 9.18z"/></g></g>',"arrow-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down-outline":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left-outline":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right-outline":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up-outline":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',"at-outline":'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2-outline":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',"attach-outline":'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',"award-outline":'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4zm.31 12.71a1 1 0 0 0-1 0l-3.75 2.2L9 13.21a5.94 5.94 0 0 0 5.92 0L16.45 19z"/></g></g>',"backspace-outline":'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zM20 18h-9.63a1 1 0 0 1-.67-.26l-5.33-4.85 5.38-6.67a1 1 0 0 1 .62-.22H20z"/><path d="M11.29 14.71a1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L15.41 12l1.3-1.29a1 1 0 0 0-1.42-1.42L14 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42z"/></g></g>',"bar-chart-2-outline":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart-outline":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"battery-outline":'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6zm.17 9.57a.52.52 0 0 1-.17.43H4.18a.5.5 0 0 1-.18-.43V8.43A.53.53 0 0 1 4.17 8h11.65a.5.5 0 0 1 .18.43z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"behance-outline":'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M10.52 11.78a1.4 1.4 0 0 0 1.12-1.43c0-1-.77-1.6-1.94-1.6H7v6.5h2.7c1.3-.05 2.3-.72 2.3-1.88a1.52 1.52 0 0 0-1.48-1.59zM8.26 9.67h1.15c.6 0 .95.32.95.85s-.38.89-1.25.89h-.85zm1 4.57h-1V12.3h1.23c.75 0 1.17.38 1.17 1s-.42.94-1.44.94z"/><path d="M14.75 10.3a2.11 2.11 0 0 0-2.28 2.25V13a2.15 2.15 0 0 0 2.34 2.31A2 2 0 0 0 17 13.75h-1.21a.9.9 0 0 1-1 .63 1.07 1.07 0 0 1-1.09-1.19v-.14H17v-.47a2.12 2.12 0 0 0-2.25-2.28zm1 2h-2.02a1 1 0 0 1 1-1.09 1 1 0 0 1 1 1.09z"/><rect x="13.25" y="9.2" width="3" height=".5"/></g></g>',"bell-off-outline":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M8.9 5.17A4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a1.92 1.92 0 0 0 .1.59l3.6 3.6a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54l1.47 1.43a4.79 4.79 0 0 1 .43-.47z"/><path d="M14 16.86l-.83-.86H5.51l1.18-1.18a2 2 0 0 0 .59-1.42v-3.29l-2-2a5.68 5.68 0 0 0 0 .59v4.7l-1.8 1.81A1.63 1.63 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22l-.83-.78zM12 20a1.88 1.88 0 0 1-2-1.66V18h4v.34A1.88 1.88 0 0 1 12 20z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"bell-outline":'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4zM5.51 16l1.18-1.18a2 2 0 0 0 .59-1.42V8.73A4.73 4.73 0 0 1 8.9 5.17 4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a2 2 0 0 0 .58 1.42L18.49 16z"/></g></g>',"bluetooth-outline":'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open-outline":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.62 4.22a1 1 0 0 0-.84-.2L12 5.77 4.22 4A1 1 0 0 0 3 5v12.2a1 1 0 0 0 .78 1l8 1.8h.44l8-1.8a1 1 0 0 0 .78-1V5a1 1 0 0 0-.38-.78zM5 6.25l6 1.35v10.15L5 16.4zM19 16.4l-6 1.35V7.6l6-1.35z"/></g></g>',"book-outline":'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 5h11v10H7a3 3 0 0 0-1 .18V6a1 1 0 0 1 1-1zm0 14a1 1 0 0 1 0-2h11v2z"/></g></g>',"bookmark-outline":'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6.09 21.06a1 1 0 0 1-1-1L4.94 5.4a2.26 2.26 0 0 1 2.18-2.35L16.71 3a2.27 2.27 0 0 1 2.23 2.31l.14 14.66a1 1 0 0 1-.49.87 1 1 0 0 1-1 0l-5.7-3.16-5.29 3.23a1.2 1.2 0 0 1-.51.15zm5.76-5.55a1.11 1.11 0 0 1 .5.12l4.71 2.61-.12-12.95c0-.2-.13-.34-.21-.33l-9.6.09c-.08 0-.19.13-.19.33l.12 12.9 4.28-2.63a1.06 1.06 0 0 1 .51-.14z"/></g></g>',"briefcase-outline":'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-4 2v10H9V9zm-5-3.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM4 18v-8a1 1 0 0 1 1-1h2v10H5a1 1 0 0 1-1-1zm16 0a1 1 0 0 1-1 1h-2V9h2a1 1 0 0 1 1 1z"/></g></g>',"browser-outline":'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14zM5 9V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3z"/><circle cx="8" cy="7.03" r="1"/><circle cx="12" cy="7.03" r="1"/></g></g>',"brush-outline":'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M20 6.83a2.76 2.76 0 0 0-.82-2 2.89 2.89 0 0 0-4 0l-6.6 6.6h-.22a4.42 4.42 0 0 0-4.3 4.31L4 19a1 1 0 0 0 .29.73A1.05 1.05 0 0 0 5 20l3.26-.06a4.42 4.42 0 0 0 4.31-4.3v-.23l6.61-6.6A2.74 2.74 0 0 0 20 6.83zM8.25 17.94L6 18v-2.23a2.4 2.4 0 0 1 2.4-2.36 2.15 2.15 0 0 1 2.15 2.19 2.4 2.4 0 0 1-2.3 2.34zm9.52-10.55l-5.87 5.87a4.55 4.55 0 0 0-.52-.64 3.94 3.94 0 0 0-.64-.52l5.87-5.86a.84.84 0 0 1 1.16 0 .81.81 0 0 1 .23.59.79.79 0 0 1-.23.56z"/></g></g>',"bulb-outline":'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9zm1.5 7.59a1 1 0 0 0-.5.87V20h-2v-4.54a1 1 0 0 0-.5-.87A3 3 0 0 1 9 12a3 3 0 0 1 6 0 3 3 0 0 1-1.5 2.59z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',"calendar-outline":'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z"/><circle cx="8" cy="16" r="1"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"camera-outline":'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM20 18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/><path d="M12 10.5a3.5 3.5 0 1 0 3.5 3.5 3.5 3.5 0 0 0-3.5-3.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"car-outline":'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm5-3H4V5h11v10zm7 3a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',"cast-outline":'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',"charging-outline":'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/><path d="M15.83 6h-3.1l-1.14 2h4.23a.5.5 0 0 1 .18.43v7.14a.52.52 0 0 1-.17.43H13l-1.15 2h4A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M4 15.57V8.43A.53.53 0 0 1 4.17 8H7l1.13-2h-4A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h3.1l1.14-2H4.18a.5.5 0 0 1-.18-.43z"/><path d="M9 20a1 1 0 0 1-.87-1.5l3.15-5.5H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1l4-7a1 1 0 0 1 1.74 1L8.72 11H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1l-4 7A1 1 0 0 1 9 20z"/></g></g>',"checkmark-circle-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-circle-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-outline":'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"checkmark-square-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-square-outline":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',"chevron-down-outline":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left-outline":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right-outline":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up-outline":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',"clipboard-outline":'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 5V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v1a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM8 4h8v4H8V4zm11 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a1 1 0 0 1 1 1z"/></g></g>',"clock-outline":'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M16 11h-3V8a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2z"/></g></g>',"close-circle-outline":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"close-outline":'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"close-square-outline":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download-outline":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"cloud-upload-outline":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"code-download-outline":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',"code-outline":'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',"collapse-outline":'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette-outline":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zM15.88 15h-1.65a2.49 2.49 0 0 0-1.87 4.15.49.49 0 0 1 .12.49c-.05.21-.28.34-.59.36a8 8 0 0 1-7.82-9.11A8.1 8.1 0 0 1 11.92 4H12a8.47 8.47 0 0 1 6.1 2.48 6.5 6.5 0 0 1 1.9 4.77A4.17 4.17 0 0 1 15.88 15z"/><circle cx="12" cy="6.5" r="1.5"/><path d="M15.25 7.2a1.5 1.5 0 1 0 2.05.55 1.5 1.5 0 0 0-2.05-.55z"/><path d="M8.75 7.2a1.5 1.5 0 1 0 .55 2.05 1.5 1.5 0 0 0-.55-2.05z"/><path d="M6.16 11.26a1.5 1.5 0 1 0 2.08.4 1.49 1.49 0 0 0-2.08-.4z"/></g></g>',"color-picker-outline":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.36l2.69 2.7zm7-7L13.36 8l1.91-2L18 8.73z"/></g></g>',"compass-outline":'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15.68 8.32a1 1 0 0 0-1.1-.25l-4.21 1.7a1 1 0 0 0-.55.55l-1.75 4.26a1 1 0 0 0 .18 1h.05A1 1 0 0 0 9 16a1 1 0 0 0 .38-.07l4.21-1.7a1 1 0 0 0 .55-.55l1.75-4.26a1 1 0 0 0-.21-1.1zm-4.88 4.89l.71-1.74 1.69-.68-.71 1.74z"/></g></g>',"copy-outline":'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 21h-6a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3zm-6-10a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1z"/><path d="M9.73 15H5.67A2.68 2.68 0 0 1 3 12.33V5.67A2.68 2.68 0 0 1 5.67 3h6.66A2.68 2.68 0 0 1 15 5.67V9.4h-2V5.67a.67.67 0 0 0-.67-.67H5.67a.67.67 0 0 0-.67.67v6.66a.67.67 0 0 0 .67.67h4.06z"/></g></g>',"corner-down-left-outline":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right-outline":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down-outline":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up-outline":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down-outline":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up-outline":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left-outline":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right-outline":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card-outline":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM4 8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1H4zm16 8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-5h16z"/><path d="M7 15h4a1 1 0 0 0 0-2H7a1 1 0 0 0 0 2z"/><path d="M15 15h2a1 1 0 0 0 0-2h-2a1 1 0 0 0 0 2z"/></g></g>',"crop-outline":'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',"cube-outline":'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g>',"diagonal-arrow-left-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all-outline":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',"download-outline":'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off-outline":'<g data-name="Layer 2"><g data-name="droplet-off-outline"><rect width="24" height="24" opacity="0"/><path d="M12 19a5.4 5.4 0 0 1-3.88-1.64 5.73 5.73 0 0 1-.69-7.11L6 8.82a7.74 7.74 0 0 0 .7 9.94A7.37 7.37 0 0 0 12 21a7.36 7.36 0 0 0 4.58-1.59L15.15 18A5.43 5.43 0 0 1 12 19z"/><path d="M12 5.43l3.88 4a5.71 5.71 0 0 1 1.49 5.15L19 16.15A7.72 7.72 0 0 0 17.31 8l-4.6-4.7A1 1 0 0 0 12 3a1 1 0 0 0-.72.3L8.73 5.9l1.42 1.42z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"droplet-outline":'<g data-name="Layer 2"><g data-name="droplet-outline"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1zm.13-15.57L8.24 9.45a5.74 5.74 0 0 0-.07 8A5.43 5.43 0 0 0 12 19.1a5.42 5.42 0 0 0 3.9-1.61 5.72 5.72 0 0 0 .06-8z"/></g></g>',"edit-2-outline":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6zm-8.9 8.91L12 7.32l2.7 2.7-5.6 5.6-3 .28z"/></g></g>',"edit-outline":'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',"email-outline":'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g>',"expand-outline":'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link-outline":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2-outline":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off-outline":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l5.63 5.63a3.5 3.5 0 0 0 4.74 4.74l5.63 5.63a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM12 13.5a1.5 1.5 0 0 1-1.5-1.5v-.07l1.56 1.56z"/><path d="M12.22 17c-4.3.1-7.12-3.59-8-5a13.7 13.7 0 0 1 2.24-2.72L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67l-1.58-1.58a7.74 7.74 0 0 1-1.7.25z"/><path d="M21.87 11.5c-.64-1.11-4.17-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67l1.58 1.58a7.74 7.74 0 0 1 1.7-.25c4.29-.11 7.11 3.59 8 5a13.7 13.7 0 0 1-2.29 2.72L19 16.13a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0-.04-1z"/></g></g>',"eye-outline":'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z"/><path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"facebook-outline":'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13 22H9a1 1 0 0 1-1-1v-6.2H6a1 1 0 0 1-1-1v-3.6a1 1 0 0 1 1-1h2V7.5A5.77 5.77 0 0 1 14 2h3a1 1 0 0 1 1 1v3.6a1 1 0 0 1-1 1h-3v1.6h3a1 1 0 0 1 .8.39 1 1 0 0 1 .16.88l-1 3.6a1 1 0 0 1-1 .73H14V21a1 1 0 0 1-1 1zm-3-2h2v-6.2a1 1 0 0 1 1-1h2.24l.44-1.6H13a1 1 0 0 1-1-1V7.5a2 2 0 0 1 2-1.9h2V4h-2a3.78 3.78 0 0 0-4 3.5v2.7a1 1 0 0 1-1 1H7v1.6h2a1 1 0 0 1 1 1z"/></g></g>',"file-add-outline":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"file-outline":'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM17.65 9h-3.94a.79.79 0 0 1-.71-.85V4h.11zm-.21 11H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H11v4.15A2.79 2.79 0 0 0 13.71 11H18v8.5a.53.53 0 0 1-.56.5z"/></g></g>',"file-remove-outline":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"file-text-outline":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g>',"film-outline":'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm4-8h6v14H9zm10 6h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',"flag-outline":'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43zM18 14.59a6.32 6.32 0 0 1-2.5.41 8.36 8.36 0 0 1-3.13-.79 10.34 10.34 0 0 0-3.87-.92 9.51 9.51 0 0 0-2.5.29V5.42A6.13 6.13 0 0 1 8.5 5a8.36 8.36 0 0 1 3.13.79 10.34 10.34 0 0 0 3.87.92 9.41 9.41 0 0 0 2.5-.3z"/></g></g>',"flash-off-outline":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.54 18.06l.27-2.42L10 12.8H6.87l1.24-1.86L6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67-1.44-1.44z"/><path d="M11.46 5.94l-.27 2.42L14 11.2h3.1l-1.24 1.86 1.44 1.44 2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11l1.44 1.44z"/></g></g>',"flash-outline":'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g>',"flip-2-outline":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',"flip-outline":'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add-outline":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"folder-outline":'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43zM4 13.76v4.31a.46.46 0 0 0 .5.43h15a.46.46 0 0 0 .5-.43V9.48a.46.46 0 0 0-.5-.43H12a1 1 0 0 1-.77-.37L8.63 5.5H4.5a.46.46 0 0 0-.5.43z"/></g></g>',"folder-remove-outline":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"funnel-outline":'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1zm-3-4.54l2 1.53v-4.55A1 1 0 0 1 13 14l4.3-8H6.64l4.13 8a1 1 0 0 1 .11.46z"/></g></g>',"gift-outline":'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19.2 7h-.39A3 3 0 0 0 19 6a3.08 3.08 0 0 0-3.14-3A4.46 4.46 0 0 0 12 5.4 4.46 4.46 0 0 0 8.14 3 3.08 3.08 0 0 0 5 6a3 3 0 0 0 .19 1H4.8A2 2 0 0 0 3 9.2v3.6A2.08 2.08 0 0 0 4.5 15v4.37A1.75 1.75 0 0 0 6.31 21h11.38a1.75 1.75 0 0 0 1.81-1.67V15a2.08 2.08 0 0 0 1.5-2.2V9.2A2 2 0 0 0 19.2 7zM19 9.2v3.6a.56.56 0 0 1 0 .2h-6V9h6a.56.56 0 0 1 0 .2zM15.86 5A1.08 1.08 0 0 1 17 6a1.08 1.08 0 0 1-1.14 1H13.4a2.93 2.93 0 0 1 2.46-2zM7 6a1.08 1.08 0 0 1 1.14-1 2.93 2.93 0 0 1 2.45 2H8.14A1.08 1.08 0 0 1 7 6zM5 9.2A.56.56 0 0 1 5 9h6v4H5a.56.56 0 0 1 0-.2zM6.5 15H11v4H6.5zm6.5 4v-4h4.5v4z"/></g></g>',"github-outline":'<g data-name="Layer 2"><rect width="24" height="24" opacity="0"/><path d="M16.24 22a1 1 0 0 1-1-1v-2.6a2.15 2.15 0 0 0-.54-1.66 1 1 0 0 1 .61-1.67C17.75 14.78 20 14 20 9.77a4 4 0 0 0-.67-2.22 2.75 2.75 0 0 1-.41-2.06 3.71 3.71 0 0 0 0-1.41 7.65 7.65 0 0 0-2.09 1.09 1 1 0 0 1-.84.15 10.15 10.15 0 0 0-5.52 0 1 1 0 0 1-.84-.15 7.4 7.4 0 0 0-2.11-1.09 3.52 3.52 0 0 0 0 1.41 2.84 2.84 0 0 1-.43 2.08 4.07 4.07 0 0 0-.67 2.23c0 3.89 1.88 4.93 4.7 5.29a1 1 0 0 1 .82.66 1 1 0 0 1-.21 1 2.06 2.06 0 0 0-.55 1.56V21a1 1 0 0 1-2 0v-.57a6 6 0 0 1-5.27-2.09 3.9 3.9 0 0 0-1.16-.88 1 1 0 1 1 .5-1.94 4.93 4.93 0 0 1 2 1.36c1 1 2 1.88 3.9 1.52a3.89 3.89 0 0 1 .23-1.58c-2.06-.52-5-2-5-7a6 6 0 0 1 1-3.33.85.85 0 0 0 .13-.62 5.69 5.69 0 0 1 .33-3.21 1 1 0 0 1 .63-.57c.34-.1 1.56-.3 3.87 1.2a12.16 12.16 0 0 1 5.69 0c2.31-1.5 3.53-1.31 3.86-1.2a1 1 0 0 1 .63.57 5.71 5.71 0 0 1 .33 3.22.75.75 0 0 0 .11.57 6 6 0 0 1 1 3.34c0 5.07-2.92 6.54-5 7a4.28 4.28 0 0 1 .22 1.67V21a1 1 0 0 1-.94 1z"/></g>',"globe-2-outline":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2zm11.93 2.52a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .54-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-outline":'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',"google-outline":'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M12 22h-.43A10.16 10.16 0 0 1 2 12.29a10 10 0 0 1 14.12-9.41 1.48 1.48 0 0 1 .77.86 1.47 1.47 0 0 1-.1 1.16L15.5 7.28a1.44 1.44 0 0 1-1.83.64A4.5 4.5 0 0 0 8.77 9a4.41 4.41 0 0 0-1.16 3.34 4.36 4.36 0 0 0 1.66 3 4.52 4.52 0 0 0 3.45 1 3.89 3.89 0 0 0 2.63-1.57h-2.9A1.45 1.45 0 0 1 11 13.33v-2.68a1.45 1.45 0 0 1 1.45-1.45h8.1A1.46 1.46 0 0 1 22 10.64v1.88A10 10 0 0 1 12 22zm0-18a8 8 0 0 0-8 8.24A8.12 8.12 0 0 0 11.65 20 8 8 0 0 0 20 12.42V11.2h-7v1.58h5.31l-.41 1.3a6 6 0 0 1-4.9 4.25A6.58 6.58 0 0 1 8 17a6.33 6.33 0 0 1-.72-9.3A6.52 6.52 0 0 1 14 5.91l.77-1.43A7.9 7.9 0 0 0 12 4z"/></g></g>',"grid-outline":'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM5 9V5h4v4z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-4 6V5h4v4z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/></g></g>',"hard-drive-outline":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H5.62zM18 19H6a1 1 0 0 1-1-1v-5h14v5a1 1 0 0 1-1 1z"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><circle cx="8" cy="16" r="1"/></g></g>',"hash-outline":'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',"headphones-outline":'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2zM6 15a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm12 4a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"heart-outline":'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21zM7.22 6a3.2 3.2 0 0 0-2.28.94 3.24 3.24 0 0 0 0 4.57L12 18.58l7.06-7.07a3.24 3.24 0 0 0 0-4.57 3.32 3.32 0 0 0-4.56 0l-1.79 1.8a1 1 0 0 1-1.42 0L9.5 6.94A3.2 3.2 0 0 0 7.22 6z"/></g></g>',"home-outline":'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2h14.22A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44zM10 20v-6h4v6zm9 0h-3v-7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v7H5v-8.42l7-7.15 7 7.19z"/></g></g>',"image-outline":'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1zm12 14H6.56l7-5.84a.78.78 0 0 1 .93 0L19 17v1a1 1 0 0 1-1 1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',"inbox-outline":'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v3H9v-3a1 1 0 0 0-1-1H5.62zM18 19H6a1 1 0 0 1-1-1v-5h2v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-3h2v5a1 1 0 0 1-1 1z"/></g></g>',"info-outline":'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="8" r="1"/><path d="M12 10a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1z"/></g></g>',"keypad-outline":'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"layers-outline":'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 11.35a1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-8-3.41a1 1 0 0 0-.78 0l-8 3.41a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l8 4.6a1 1 0 0 0 1 0l8-4.6a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92zm-9-6.26l5.76 2.45L12 10.85 6.24 7.54zm-.5 7.78a1 1 0 0 0 1 0l3.57-2 1.69.72L12 14.85l-5.76-3.31 1.69-.72zm6.26 2.67L12 18.85l-5.76-3.31 1.69-.72 3.57 2.05a1 1 0 0 0 1 0l3.57-2.05z"/></g></g>',"layout-outline":'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v2H5V6a1 1 0 0 1 1-1zM5 18v-8h6v9H6a1 1 0 0 1-1-1zm13 1h-5v-9h6v8a1 1 0 0 1-1 1z"/></g></g>',"link-2-outline":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',"link-outline":'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',"linkedin-outline":'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 22h-1.67a2 2 0 0 1-2-2v-5.37a.92.92 0 0 0-.69-.93.84.84 0 0 0-.67.19.85.85 0 0 0-.3.65V20a2 2 0 0 1-2 2H11a2 2 0 0 1-2-2v-5.46a6.5 6.5 0 1 1 13 0V20a2 2 0 0 1-2 2zm-4.5-10.31a3.73 3.73 0 0 1 .47 0 2.91 2.91 0 0 1 2.36 2.9V20H20v-5.46a4.5 4.5 0 1 0-9 0V20h1.67v-5.46a2.85 2.85 0 0 1 2.83-2.85z"/><path d="M6 22H4a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM4 10v10h2V10z"/><path d="M5 7a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm0-4a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"/></g></g>',"list-outline":'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',"loader-outline":'<g data-name="Layer 2"><g data-name="loader"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/></g></g>',"lock-outline":'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"log-in-outline":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out-outline":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',"map-outline":'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM5 7.44l2-.89v10l-2 .89zm4-.89l2 .89v10l-2-.89zm4 .89l2-.89v10l-2 .89zm6 10l-2-.89v-10l2 .89z"/></g></g>',"maximize-outline":'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10h-1V9a1 1 0 0 0-2 0v1H9a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"menu-2-outline":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow-outline":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',"menu-outline":'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle-outline":'<g data-name="Layer 2"><g data-name="message-circle"><circle cx="12" cy="12" r="1"/><circle cx="16" cy="12" r="1"/><circle cx="8" cy="12" r="1"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zm.83 8.36a8 8 0 0 1-11 6.08 3.26 3.26 0 0 0-1.25-.26 3.43 3.43 0 0 0-.56.05l-2.82.57.57-2.82a3.09 3.09 0 0 0-.21-1.81 8 8 0 0 1 6.08-11 8 8 0 0 1 9.19 9.19z"/><rect width="24" height="24" opacity="0"/></g></g>',"message-square-outline":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="11" r="1"/><circle cx="16" cy="11" r="1"/><circle cx="8" cy="11" r="1"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"mic-off-outline":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M10 6a2 2 0 0 1 4 0v5a1 1 0 0 1 0 .16l1.6 1.59A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75L10 7.17z"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"mic-outline":'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4zm-2-9a2 2 0 0 1 4 0v5a2 2 0 0 1-4 0z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',"minimize-outline":'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10H9a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"minus-circle-outline":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"minus-outline":'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',"minus-square-outline":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"monitor-outline":'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"moon-outline":'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3zM7.46 4.92a7.93 7.93 0 0 0-1.37 1.22 8.44 8.44 0 0 0 .2 11.32A8.29 8.29 0 0 0 12.22 20h.08a8.34 8.34 0 0 0 6.78-3.49A10.37 10.37 0 0 1 7.46 4.92z"/></g></g>',"more-horizontal-outline":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical-outline":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',"move-outline":'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',"music-outline":'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51zM6.54 19A1.49 1.49 0 1 1 8 17.21a1.53 1.53 0 0 1 0 .3A1.49 1.49 0 0 1 6.54 19zm9-2A1.5 1.5 0 1 1 17 15.21a1.53 1.53 0 0 1 0 .3A1.5 1.5 0 0 1 15.51 17z"/></g></g>',"navigation-2-outline":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8L11 13l-8.2-1.69a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68zm-6.8-11.9l5.19 1.06a1 1 0 0 1 .79.78l1.05 5.19 3.52-10.55z"/></g></g>',"navigation-outline":'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17L12 14.9l-7.45 4.93a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20zm-8-7.3a1 1 0 0 1 .55.17l4.88 3.23L12 5.24 6.57 16.1l4.88-3.23a1 1 0 0 1 .55-.17z"/></g></g>',"npm-outline":'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/><rect x="12" y="9" width="4" height="10"/></g></g>',"options-2-outline":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"options-outline":'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64zM6 18a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"pantone-outline":'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-4.06l2.3-2.47a1 1 0 0 0 0-1.41l-4.19-3.86a.93.93 0 0 0-.71-.26 1 1 0 0 0-.7.31l-1.82 2V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09A3.91 3.91 0 0 0 6.91 21H20a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1zm-6.58-5.59l2.67 2.49-5.27 5.66v-5.36zM8.82 10v3H5v-3zm0-5v3H5V5zM5 17.09V15h3.82v2.09a1.91 1.91 0 0 1-3.82 0zM19 19h-8.49l3.56-3.82H19z"/></g></g>',"paper-plane-outline":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle-outline":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M9 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"people-outline":'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M17 14a5 5 0 0 0-3.06 1.05A7 7 0 0 0 2 20a1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 6.9 6.9 0 0 0-.86-3.35A3 3 0 0 1 20 19a1 1 0 0 0 2 0 5 5 0 0 0-5-5z"/></g></g>',"percent-outline":'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add-outline":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-delete-outline":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-done-outline":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-outline":'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M12 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-remove-outline":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"phone-call-outline":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.54.28c-.86.45-1.54.81-1.18 1.59a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/></g></g>',"phone-missed-outline":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off-outline":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/><path d="M6.7 14.63A13.29 13.29 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.57 11.57 0 0 0 1.57 3l1.43-1.42a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-1.43 1.43a11.52 11.52 0 0 0 2.94 1.56c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6 13.29 13.29 0 0 1-8-2.7l-1.46 1.43A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/></g></g>',"phone-outline":'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22zM6.6 4A2.61 2.61 0 0 0 4 6.6 13.41 13.41 0 0 0 17.4 20a2.61 2.61 0 0 0 2.6-2.6v-.33L15.36 16l-.29.55c-.45.87-.78 1.5-1.62 1.16a11.85 11.85 0 0 1-7.18-7.21c-.36-.78.32-1.14 1.18-1.59L8 8.64 6.93 4z"/></g></g>',"pie-chart-outline":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M13 2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1 9 9 0 0 0-9-9zm1 8V4.07A7 7 0 0 1 19.93 10z"/><path d="M20.82 14.06a1 1 0 0 0-1.28.61A8 8 0 1 1 9.33 4.46a1 1 0 0 0-.66-1.89 10 10 0 1 0 12.76 12.76 1 1 0 0 0-.61-1.27z"/></g></g>',"pin-outline":'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 17.65c-1.67-1.59-6-6-6-9.73a6 6 0 0 1 12 0c0 3.7-4.33 8.14-6 9.73z"/><path d="M12 6a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 6zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 11z"/></g></g>',"play-circle-outline":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12.34 7.45a1.7 1.7 0 0 0-1.85-.3 1.6 1.6 0 0 0-1 1.48v6.74a1.6 1.6 0 0 0 1 1.48 1.68 1.68 0 0 0 .69.15 1.74 1.74 0 0 0 1.16-.45L16 13.18a1.6 1.6 0 0 0 0-2.36zm-.84 7.15V9.4l2.81 2.6z"/></g></g>',"plus-circle-outline":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"plus-outline":'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',"plus-square-outline":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"power-outline":'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',"pricetags-outline":'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M12.87 22a1.84 1.84 0 0 1-1.29-.53l-6.41-6.42a1 1 0 0 1-.29-.61L4 5.09a1 1 0 0 1 .29-.8 1 1 0 0 1 .8-.29l9.35.88a1 1 0 0 1 .61.29l6.42 6.41a1.82 1.82 0 0 1 0 2.57l-7.32 7.32a1.82 1.82 0 0 1-1.28.53zm-6-8.11l6 6 7.05-7.05-6-6-7.81-.73z"/><circle cx="10.5" cy="10.5" r="1.5"/></g></g>',"printer-outline":'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4zM20 16.33a.66.66 0 0 1-.64.67h-.86v-2a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2v2h-.86a.66.66 0 0 1-.64-.67V9.67A.66.66 0 0 1 4.64 9h14.72a.66.66 0 0 1 .64.67z"/></g></g>',"question-mark-circle-outline":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 6a3.5 3.5 0 0 0-3.5 3.5 1 1 0 0 0 2 0A1.5 1.5 0 1 1 12 11a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.16A3.49 3.49 0 0 0 12 6z"/><circle cx="12" cy="17" r="1"/></g></g>',"question-mark-outline":'<g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off-outline":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on-outline":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"radio-outline":'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',"recording-outline":'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8zM4 12a2 2 0 1 1 2 2 2 2 0 0 1-2-2zm14 2a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"refresh-outline":'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',"repeat-outline":'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left-outline":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM9.5 16l-4.82-4L9.5 8.09zm8 0l-4.82-4 4.82-3.91z"/></g></g>',"rewind-right-outline":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66zM6.5 15.91V8l4.82 4zm8 0V8l4.82 4z"/></g></g>',"save-outline":'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12zM10 19v-2h4v2zm9-1a1 1 0 0 1-1 1h-2v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2v5a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2h-3V5h3.17a1.05 1.05 0 0 1 .71.29l4.83 4.83a1 1 0 0 1 .29.71z"/></g></g>',"scissors-outline":'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"search-outline":'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2-outline":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12.94 22h-1.89a1.68 1.68 0 0 1-1.68-1.68v-1.09a.34.34 0 0 0-.22-.29.38.38 0 0 0-.41 0l-.74.8a1.67 1.67 0 0 1-2.37 0L4.26 18.4a1.66 1.66 0 0 1-.5-1.19 1.72 1.72 0 0 1 .5-1.21l.74-.74a.34.34 0 0 0 0-.37c-.06-.15-.16-.26-.3-.26H3.68A1.69 1.69 0 0 1 2 12.94v-1.89a1.68 1.68 0 0 1 1.68-1.68h1.09a.34.34 0 0 0 .29-.22.38.38 0 0 0 0-.41L4.26 8a1.67 1.67 0 0 1 0-2.37L5.6 4.26a1.65 1.65 0 0 1 1.18-.5 1.72 1.72 0 0 1 1.22.5l.74.74a.34.34 0 0 0 .37 0c.15-.06.26-.16.26-.3V3.68A1.69 1.69 0 0 1 11.06 2H13a1.68 1.68 0 0 1 1.68 1.68v1.09a.34.34 0 0 0 .22.29.38.38 0 0 0 .41 0l.69-.8a1.67 1.67 0 0 1 2.37 0l1.37 1.34a1.67 1.67 0 0 1 .5 1.19 1.63 1.63 0 0 1-.5 1.21l-.74.74a.34.34 0 0 0 0 .37c.06.15.16.26.3.26h1.09A1.69 1.69 0 0 1 22 11.06V13a1.68 1.68 0 0 1-1.68 1.68h-1.09a.34.34 0 0 0-.29.22.34.34 0 0 0 0 .37l.77.77a1.67 1.67 0 0 1 0 2.37l-1.31 1.33a1.65 1.65 0 0 1-1.18.5 1.72 1.72 0 0 1-1.19-.5l-.77-.74a.34.34 0 0 0-.37 0c-.15.06-.26.16-.26.3v1.09A1.69 1.69 0 0 1 12.94 22zm-1.57-2h1.26v-.77a2.33 2.33 0 0 1 1.46-2.14 2.36 2.36 0 0 1 2.59.47l.54.54.88-.88-.54-.55a2.34 2.34 0 0 1-.48-2.56 2.33 2.33 0 0 1 2.14-1.45H20v-1.29h-.77a2.33 2.33 0 0 1-2.14-1.46 2.36 2.36 0 0 1 .47-2.59l.54-.54-.88-.88-.55.54a2.39 2.39 0 0 1-4-1.67V4h-1.3v.77a2.33 2.33 0 0 1-1.46 2.14 2.36 2.36 0 0 1-2.59-.47l-.54-.54-.88.88.54.55a2.39 2.39 0 0 1-1.67 4H4v1.26h.77a2.33 2.33 0 0 1 2.14 1.46 2.36 2.36 0 0 1-.47 2.59l-.54.54.88.88.55-.54a2.39 2.39 0 0 1 4 1.67z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"settings-outline":'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><path d="M8.61 22a2.25 2.25 0 0 1-1.35-.46L5.19 20a2.37 2.37 0 0 1-.49-3.22 2.06 2.06 0 0 0 .23-1.86l-.06-.16a1.83 1.83 0 0 0-1.12-1.22h-.16a2.34 2.34 0 0 1-1.48-2.94L2.93 8a2.18 2.18 0 0 1 1.12-1.41 2.14 2.14 0 0 1 1.68-.12 1.93 1.93 0 0 0 1.78-.29l.13-.1a1.94 1.94 0 0 0 .73-1.51v-.24A2.32 2.32 0 0 1 10.66 2h2.55a2.26 2.26 0 0 1 1.6.67 2.37 2.37 0 0 1 .68 1.68v.28a1.76 1.76 0 0 0 .69 1.43l.11.08a1.74 1.74 0 0 0 1.59.26l.34-.11A2.26 2.26 0 0 1 21.1 7.8l.79 2.52a2.36 2.36 0 0 1-1.46 2.93l-.2.07A1.89 1.89 0 0 0 19 14.6a2 2 0 0 0 .25 1.65l.26.38a2.38 2.38 0 0 1-.5 3.23L17 21.41a2.24 2.24 0 0 1-3.22-.53l-.12-.17a1.75 1.75 0 0 0-1.5-.78 1.8 1.8 0 0 0-1.43.77l-.23.33A2.25 2.25 0 0 1 9 22a2 2 0 0 1-.39 0zM4.4 11.62a3.83 3.83 0 0 1 2.38 2.5v.12a4 4 0 0 1-.46 3.62.38.38 0 0 0 0 .51L8.47 20a.25.25 0 0 0 .37-.07l.23-.33a3.77 3.77 0 0 1 6.2 0l.12.18a.3.3 0 0 0 .18.12.25.25 0 0 0 .19-.05l2.06-1.56a.36.36 0 0 0 .07-.49l-.26-.38A4 4 0 0 1 17.1 14a3.92 3.92 0 0 1 2.49-2.61l.2-.07a.34.34 0 0 0 .19-.44l-.78-2.49a.35.35 0 0 0-.2-.19.21.21 0 0 0-.19 0l-.34.11a3.74 3.74 0 0 1-3.43-.57L15 7.65a3.76 3.76 0 0 1-1.49-3v-.31a.37.37 0 0 0-.1-.26.31.31 0 0 0-.21-.08h-2.54a.31.31 0 0 0-.29.33v.25a3.9 3.9 0 0 1-1.52 3.09l-.13.1a3.91 3.91 0 0 1-3.63.59.22.22 0 0 0-.14 0 .28.28 0 0 0-.12.15L4 11.12a.36.36 0 0 0 .22.45z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"shake-outline":'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',"share-outline":'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3zm0-10a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM5 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm13 6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"shield-off-outline":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.3 19.68l-.3.17-.3-.17A13.15 13.15 0 0 1 5 8.23v-.14L5.16 8 3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27l-1.42-1.42a12.56 12.56 0 0 1-2.6 1.94z"/><path d="M20 6.34L13 2.4a2 2 0 0 0-2 0L7.32 4.49 8.78 6 12 4.15l7 3.94v.14a13 13 0 0 1-1.63 6.31L18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75z"/></g></g>',"shield-outline":'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25zm0-17.7L5 8.09v.14a13.15 13.15 0 0 0 6.7 11.45l.3.17.3-.17A13.15 13.15 0 0 0 19 8.23v-.14z"/></g></g>',"shopping-bag-outline":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zm-12-1.42A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7H6.41zM18 19H6a1 1 0 0 1-1-1V9h14v9a1 1 0 0 1-1 1z"/><path d="M15 11a1 1 0 0 0-1 1 2 2 0 0 1-4 0 1 1 0 0 0-2 0 4 4 0 0 0 8 0 1 1 0 0 0-1-1z"/></g></g>',"shopping-cart-outline":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7zm-4.7 7H8.76L7.13 8h12.25z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2-outline":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',"shuffle-outline":'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back-outline":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM15.5 16l-4.82-4 4.82-3.91z"/></g></g>',"skip-forward-outline":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1zm-7.5 9.91V8l4.82 4z"/></g></g>',"slash-outline":'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',"smartphone-outline":'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><circle cx="12" cy="16.5" r="1.5"/><path d="M14.5 6h-5a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2z"/></g></g>',"smiling-face-outline":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',"speaker-outline":'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 11a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M12 12a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 12zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 17z"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/></g></g>',"square-outline":'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',"star-outline":'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18zM12 16.1a.92.92 0 0 1 .46.11l3.77 2-.72-4.21a1 1 0 0 1 .29-.89l3-2.93-4.2-.62a1 1 0 0 1-.71-.56L12 5.25 10.11 9a1 1 0 0 1-.75.54l-4.2.62 3 2.93a1 1 0 0 1 .29.89l-.72 4.16 3.77-2a.92.92 0 0 1 .5-.04z"/></g></g>',"stop-circle-outline":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.75 8h-5.5A1.25 1.25 0 0 0 8 9.25v5.5A1.25 1.25 0 0 0 9.25 16h5.5A1.25 1.25 0 0 0 16 14.75v-5.5A1.25 1.25 0 0 0 14.75 8zM14 14h-4v-4h4z"/></g></g>',"sun-outline":'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4zm0 6a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"swap-outline":'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',"sync-outline":'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',"text-outline":'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus-outline":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"thermometer-outline":'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 9 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4z"/></g></g>',"thermometer-plus-outline":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"toggle-left-outline":'<g data-name="Layer 2"><g data-name="toggle-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M9 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"toggle-right-outline":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M15 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"trash-2-outline":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g>',"trash-outline":'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/></g></g>',"trending-down-outline":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up-outline":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',"tv-outline":'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',"twitter-outline":'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.51 20h-.08a10.87 10.87 0 0 1-4.65-1.09A1.38 1.38 0 0 1 3 17.47a1.41 1.41 0 0 1 1.16-1.18 6.63 6.63 0 0 0 2.54-.89 9.49 9.49 0 0 1-3.51-9.07 1.41 1.41 0 0 1 1-1.15 1.35 1.35 0 0 1 1.43.41 7.09 7.09 0 0 0 4.88 2.75 4.5 4.5 0 0 1 1.41-3.1 4.47 4.47 0 0 1 6.37.19.7.7 0 0 0 .78.1A1.39 1.39 0 0 1 21 7.13a6.66 6.66 0 0 1-1.28 2.6A10.79 10.79 0 0 1 8.51 20zm0-2h.08a8.79 8.79 0 0 0 9.09-8.59 1.32 1.32 0 0 1 .37-.85 5.19 5.19 0 0 0 .62-1 2.56 2.56 0 0 1-1.91-.85A2.45 2.45 0 0 0 15 6a2.5 2.5 0 0 0-1.79.69 2.53 2.53 0 0 0-.72 2.42l.26 1.14-1.17.08a8.3 8.3 0 0 1-6.54-2.4 7.12 7.12 0 0 0 3.73 6.46l.95.54-.63.9a5.62 5.62 0 0 1-2.68 1.92A8.34 8.34 0 0 0 8.5 18zM19 6.65z"/></g></g>',"umbrella-outline":'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2zm-7.94 9a8 8 0 0 1 15.88 0z"/></g></g>',"undo-outline":'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76zm-9.77-9.5a11.07 11.07 0 0 1 8.81 4.26A9 9 0 0 0 10.45 9a1 1 0 0 1-1-1V6.08l-4.82 4.17 4.82 4.21v-2a1 1 0 0 1 1-.96z"/></g></g>',"unlock-outline":'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"upload-outline":'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off-outline":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M14 17H5a1 1 0 0 1-1-1V8a1 1 0 0 1 .4-.78L3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51L14.14 17a.7.7 0 0 1-.14 0z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l2 2H14a1 1 0 0 1 1 1v4.17l4.72 4.72a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zm-1 7.45L17.19 12 20 9.4z"/></g></g>',"video-outline":'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zM15 16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1zm5-1.4L17.19 12 20 9.4z"/></g></g>',"volume-down-outline":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88zM15 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H5V9.57h4.33a1 1 0 0 0 .57-.17L15 5.9z"/></g></g>',"volume-mute-outline":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1zM6 14.43h4.33a1 1 0 0 1 .57.17l5.1 3.5V5.9l-5.1 3.5a1 1 0 0 1-.57.17H6z"/></g></g>',"volume-off-outline":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M13.5 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H3.5V9.57h3.24l-2-2H2.5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1v-1.67l-2-2z"/><path d="M13.5 5.9v4.77l2 2V4a1 1 0 0 0-1.57-.83L9.23 6.4l1.44 1.44z"/></g></g>',"volume-up-outline":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M15 3.12a1 1 0 0 0-1 0L7.52 7.57h-5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1V4a1 1 0 0 0-.5-.88zm-1.47 15L8.4 14.6a1 1 0 0 0-.57-.17H3.5V9.57h4.33a1 1 0 0 0 .57-.17l5.1-3.5z"/></g></g>',"wifi-off-outline":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',"wifi-outline":'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>'}},"./package/src/animation.scss":function(ji,wi,kt){var Fn=kt("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss"),f=kt("./node_modules/isomorphic-style-loader/insertCss.js"),He="string"==typeof Fn?[[ji.i,Fn,""]]:Fn;(wi=ji.exports=Fn.locals||{})._getContent=function(){return He},wi._getCss=function(){return""+Fn},wi._insertCss=function(Ti){return f(He,Ti)}},"./package/src/default-attrs.json":function(ji){ji.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"}},"./package/src/icon.js":function(ji,wi,kt){"use strict";kt.r(wi);var Rn=kt("./node_modules/classnames/dedupe.js"),Fn=kt.n(Rn),f=kt("./package/src/default-attrs.json");function $n(Fe,Wt){if(null==Fe)return{};var hi,Zt,yn=function Ti(Fe,Wt){if(null==Fe)return{};var Zt,Xn,yn={},hi=Object.keys(Fe);for(Xn=0;Xn<hi.length;Xn++)!(Wt.indexOf(Zt=hi[Xn])>=0)&&(yn[Zt]=Fe[Zt]);return yn}(Fe,Wt);if(Object.getOwnPropertySymbols){var Xn=Object.getOwnPropertySymbols(Fe);for(Zt=0;Zt<Xn.length;Zt++)!(Wt.indexOf(hi=Xn[Zt])>=0)&&(!Object.prototype.propertyIsEnumerable.call(Fe,hi)||(yn[hi]=Fe[hi]))}return yn}function $t(Fe){for(var Wt=1;Wt<arguments.length;Wt++){var yn=null!=arguments[Wt]?arguments[Wt]:{},hi=Object.keys(yn);"function"==typeof Object.getOwnPropertySymbols&&(hi=hi.concat(Object.getOwnPropertySymbols(yn).filter(function(Zt){return Object.getOwnPropertyDescriptor(yn,Zt).enumerable}))),hi.forEach(function(Zt){mn(Fe,Zt,yn[Zt])})}return Fe}function mn(Fe,Wt,yn){return Wt in Fe?Object.defineProperty(Fe,Wt,{value:yn,enumerable:!0,configurable:!0,writable:!0}):Fe[Wt]=yn,Fe}function _r(Fe,Wt){for(var yn=0;yn<Wt.length;yn++){var hi=Wt[yn];hi.enumerable=hi.enumerable||!1,hi.configurable=!0,"value"in hi&&(hi.writable=!0),Object.defineProperty(Fe,hi.key,hi)}}var rs={hover:!0},rr=function(Wt){return"string"==typeof Wt||Wt instanceof String},fi=function(){function Fe(Wt,yn){(function Ci(Fe,Wt){if(!(Fe instanceof Wt))throw new TypeError("Cannot call a class as a function")})(this,Fe),this.name=Wt,this.contents=yn,this.attrs=$t({},f,{class:"eva eva-".concat(Wt)})}return function zr(Fe,Wt,yn){return Wt&&_r(Fe.prototype,Wt),yn&&_r(Fe,yn),Fe}(Fe,[{key:"toSvg",value:function(){var yn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},hi=yn.animation,Zt=$n(yn,["animation"]),Xn=Jt(hi),Cs=Xn?Xn.class:"",os=$t({},this.attrs,Zt,{class:Fn()(this.attrs.class,yn.class,Cs)}),el="<svg ".concat(xn(os),">").concat(this.contents,"</svg>");return Xn&&Xn.hover?'<i class="eva-hover">'.concat(el,"</i>"):el}},{key:"toString",value:function(){return this.contents}}]),Fe}();function Jt(Fe){if(!Fe)return null;Fe.hover&&(Fe.hover=rr(Fe.hover)?JSON.parse(Fe.hover):Fe.hover);var Wt=$t({},rs,Fe),yn=Wt.hover?"eva-icon-hover-".concat(Wt.type):"eva-icon-".concat(Wt.type);return Wt.class=Fn()({"eva-animation":!0,"eva-infinite":rr(Fe.infinite)?JSON.parse(Fe.infinite):Fe.infinite},yn),Wt}function xn(Fe){return Object.keys(Fe).map(function(Wt){return"".concat(Wt,'="').concat(Fe[Wt],'"')}).join(" ")}wi.default=fi},"./package/src/icons.js":function(ji,wi,kt){"use strict";kt.r(wi);var Rn=kt("./package/src/icon.js"),Fn=kt("./package-build/eva-icons.json");wi.default=Object.keys(Fn).map(function(He){return new Rn.default(He,Fn[He])}).reduce(function(He,$n){return He[$n.name]=$n,He},{})},"./package/src/index.js":function(ji,wi,kt){"use strict";kt.r(wi);var Rn=kt("./package/src/icons.js");kt.d(wi,"icons",function(){return Rn.default});var Fn=kt("./package/src/replace.js");kt.d(wi,"replace",function(){return Fn.default});var f=kt("./package/src/animation.scss");typeof window<"u"&&kt.n(f).a._insertCss()},"./package/src/replace.js":function(ji,wi,kt){"use strict";kt.r(wi);var Rn=kt("./node_modules/classnames/dedupe.js"),Fn=kt.n(Rn),f=kt("./package/src/icons.js");function He(Jt){for(var xn=1;xn<arguments.length;xn++){var Fe=null!=arguments[xn]?arguments[xn]:{},Wt=Object.keys(Fe);"function"==typeof Object.getOwnPropertySymbols&&(Wt=Wt.concat(Object.getOwnPropertySymbols(Fe).filter(function(yn){return Object.getOwnPropertyDescriptor(Fe,yn).enumerable}))),Wt.forEach(function(yn){$n(Jt,yn,Fe[yn])})}return Jt}function $n(Jt,xn,Fe){return xn in Jt?Object.defineProperty(Jt,xn,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):Jt[xn]=Fe,Jt}function Ti(Jt,xn){if(null==Jt)return{};var Wt,yn,Fe=function $t(Jt,xn){if(null==Jt)return{};var yn,hi,Fe={},Wt=Object.keys(Jt);for(hi=0;hi<Wt.length;hi++)!(xn.indexOf(yn=Wt[hi])>=0)&&(Fe[yn]=Jt[yn]);return Fe}(Jt,xn);if(Object.getOwnPropertySymbols){var hi=Object.getOwnPropertySymbols(Jt);for(yn=0;yn<hi.length;yn++)!(xn.indexOf(Wt=hi[yn])>=0)&&(!Object.prototype.propertyIsEnumerable.call(Jt,Wt)||(Fe[Wt]=Jt[Wt]))}return Fe}var mn={"data-eva-animation":"type","data-eva-hover":"hover","data-eva-infinite":"infinite"},Ci={"data-eva":"name","data-eva-width":"width","data-eva-height":"height","data-eva-fill":"fill"};function zr(Jt){var xn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Fe=rs(Jt),Wt=Fe.name,yn=Ti(Fe,["name"]),hi=f.default[Wt].toSvg(He({},xn,yn,{animation:fi(xn.animation,yn.animation)},{class:Fn()(xn.class,yn.class)})),Zt=(new DOMParser).parseFromString(hi,"text/html"),Xn=Zt.querySelector(".eva-hover")||Zt.querySelector("svg");Jt.parentNode.replaceChild(Xn,Jt)}function rs(Jt){return Array.from(Jt.attributes).reduce(function(xn,Fe){return mn[Fe.name]?xn.animation=He({},xn.animation,$n({},mn[Fe.name],Fe.value)):xn=He({},xn,function rr(Jt){return $n({},Ci[Jt.name]?Ci[Jt.name]:Jt.name,Jt.value)}(Fe)),xn},{})}function fi(Jt,xn){return Jt||xn?He({},Jt,xn):null}wi.default=function _r(){var Jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`eva.replace()` only works in a browser environment.");var xn=document.querySelectorAll("[data-eva]");Array.from(xn).forEach(function(Fe){return zr(Fe,Jt)})}}})},898:function(sf){sf.exports=function(){"use strict";var ji,wi,kt;function Rn(f,He){if(ji)if(wi){var $n="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+ji+")(sharedChunk); ("+wi+")(sharedChunk); self.onerror = null;",Ti={};ji(Ti),kt=He(Ti),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(kt.workerUrl=window.URL.createObjectURL(new Blob([$n],{type:"text/javascript"})))}else wi=He;else ji=He}return Rn(0,function(f){var He=typeof self<"u"?self:{},$n="2.12.0";let Ti;const $t={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Ti){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Ti=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):a}catch{Ti=a}}return Ti},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},mn={supported:!1,testSupport:function(a){!zr&&_r&&(rs?rr(a):Ci=a)}};let Ci,_r,zr=!1,rs=!1;function rr(a){const o=a.createTexture();a.bindTexture(a.TEXTURE_2D,o);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,_r),a.isContextLost())return;mn.supported=!0}catch{}a.deleteTexture(o),zr=!0}He.document&&(_r=He.document.createElement("img"),_r.onload=function(){Ci&&rr(Ci),Ci=null,rs=!0},_r.onerror=function(){zr=!0,Ci=null},_r.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const fi="01";var Jt=xn;function xn(a,o,l,u){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(u-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=o,this.p2x=l,this.p2y=u}xn.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,o){if(void 0===o&&(o=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,u=0;u<8;u++){var p=this.sampleCurveX(l)-a;if(Math.abs(p)<o)return l;var _=this.sampleCurveDerivativeX(l);if(Math.abs(_)<1e-6)break;l-=p/_}var v=0,C=1;for(l=a,u=0;u<20&&(p=this.sampleCurveX(l),!(Math.abs(p-a)<o));u++)a>p?v=l:C=l,l=.5*(C-v)+v;return l},solve:function(a,o){return this.sampleCurveY(this.solveCurveX(a,o))}};var Fe=Wt;function Wt(a,o){this.x=a,this.y=o}Wt.prototype={clone:function(){return new Wt(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,o){return this.clone()._rotateAround(a,o)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var o=a.x-this.x,l=a.y-this.y;return o*o+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,o){return Math.atan2(this.x*o-this.y*a,this.x*a+this.y*o)},_matMult:function(a){var o=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=o,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var o=Math.cos(a),l=Math.sin(a),u=l*this.x+o*this.y;return this.x=o*this.x-l*this.y,this.y=u,this},_rotateAround:function(a,o){var l=Math.cos(a),u=Math.sin(a),p=o.y+u*(this.x-o.x)+l*(this.y-o.y);return this.x=o.x+l*(this.x-o.x)-u*(this.y-o.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Wt.convert=function(a){return a instanceof Wt?a:Array.isArray(a)?new Wt(a[0],a[1]):a};const yn=Math.PI/180,hi=180/Math.PI;function Zt(a){return a*yn}function Xn(a){return a*hi}const Cs=[[0,0],[1,0],[1,1],[0,1]];function os(a){if(a<=0)return 0;if(a>=1)return 1;const o=a*a,l=o*a;return 4*(a<.5?l:3*(a-o)+l-.75)}function el(a,o,l,u){const p=new Jt(a,o,l,u);return function(_){return p.solve(_)}}const Ec=el(.25,.1,.25,1);function ai(a,o,l){return Math.min(l,Math.max(o,a))}function Ic(a,o,l){return(l=ai((l-a)/(o-a),0,1))*l*(3-2*l)}function ss(a,o,l){const u=l-o,p=((a-o)%u+u)%u+o;return p===o?l:p}function Ol(a,o,l){if(!a.length)return l(null,[]);let u=a.length;const p=new Array(a.length);let _=null;a.forEach((v,C)=>{o(v,(T,M)=>{T&&(_=T),p[C]=M,0==--u&&l(_,p)})})}function Pl(a){const o=[];for(const l in a)o.push(a[l]);return o}function zn(a,...o){for(const l of o)for(const u in l)a[u]=l[u];return a}let kc=1;function hd(){return kc++}function tl(){return function a(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function Ia(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Ct(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function Rl(a,o){a.forEach(l=>{o[l]&&(o[l]=o[l].bind(o))})}function as(a,o){return-1!==a.indexOf(o,a.length-o.length)}function Ai(a,o,l){const u={};for(const p in a)u[p]=o.call(l||this,a[p],p,a);return u}function Oi(a,o,l){const u={};for(const p in a)o.call(l||this,a[p],p,a)&&(u[p]=a[p]);return u}function xs(a){return Array.isArray(a)?a.map(xs):"object"==typeof a&&a?Ai(a,xs):a}const Kt={};function yr(a){Kt[a]||(typeof console<"u"&&console.warn(a),Kt[a]=!0)}function ka(a,o,l){return(l.y-a.y)*(o.x-a.x)>(o.y-a.y)*(l.x-a.x)}function gi(a){let o=0;for(let l,u,p=0,_=a.length,v=_-1;p<_;v=p++)l=a[p],u=a[v],o+=(u.x-l.x)*(l.y+u.y);return o}function Aa(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Sh(a){const o={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,u,p,_)=>{const v=p||_;return o[u]=!v||v.toLowerCase(),""}),o["max-age"]){const l=parseInt(o["max-age"],10);isNaN(l)?delete o["max-age"]:o["max-age"]=l}return o}let Nl=null;function pd(a){if(null==Nl){const o=a.navigator?a.navigator.userAgent:null;Nl=!!a.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Nl}function fd(a){try{const o=He[a];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}function Ac(a,o){return[a[4*o],a[4*o+1],a[4*o+2],a[4*o+3]]}const md="mapbox-tiles";let ls,nl,Su=500,Th=50;function gd(){try{return He.caches}catch{}}function Oc(){gd()&&!ls&&(ls=He.caches.open(md))}function la(a){const o=a.indexOf("?");if(o<0)return a;const u=function(p){const _=p.indexOf("?");return _>0?p.slice(_+1).split("&"):[]}(a).filter(p=>{const _=p.split("=");return"language"===_[0]||"worldview"===_[0]});return u.length?`${a.slice(0,o)}?${u.join("&")}`:a.slice(0,o)}let Tu=1/0;const Fs={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Fs);class _d extends Error{constructor(o,l,u){401===l&&Lc(u)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=l,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const yd=Aa()?()=>self.worker&&self.worker.referrer:()=>("blob:"===He.location.protocol?He.parent:He).location.href,Ll=function(a,o){if(!(/^file:/.test(l=a.url)||/^file:/.test(yd())&&!/^\w+:/.test(l))){if(He.fetch&&He.Request&&He.AbortController&&He.Request.prototype.hasOwnProperty("signal"))return function(u,p){const _=new He.AbortController,v=new He.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:yd(),signal:_.signal});let C=!1,T=!1;const M=(k=v.url).indexOf("sku=")>0&&Lc(k);var k;"json"===u.type&&v.headers.set("Accept","application/json");const O=(B,H,Z)=>{if(T)return;if(B&&"SecurityError"!==B.message&&yr(B),H&&Z)return N(H);const J=Date.now();He.fetch(v).then(de=>{if(de.ok){const ge=M?de.clone():null;return N(de,ge,J)}return p(new _d(de.statusText,de.status,u.url))}).catch(de=>{20!==de.code&&p(new Error(de.message))})},N=(B,H,Z)=>{("arrayBuffer"===u.type?B.arrayBuffer():"json"===u.type?B.json():B.text()).then(J=>{T||(H&&Z&&function(de,ge,le){if(Oc(),!ls)return;const fe={status:ge.status,statusText:ge.statusText,headers:new He.Headers};ge.headers.forEach((Ve,Be)=>fe.headers.set(Be,Ve));const we=Sh(ge.headers.get("Cache-Control")||"");if(we["no-store"])return;we["max-age"]&&fe.headers.set("Expires",new Date(le+1e3*we["max-age"]).toUTCString());const _e=fe.headers.get("Expires");_e&&(new Date(_e).getTime()-le<42e4||function(Ve,Be){if(void 0===nl)try{new Response(new ReadableStream),nl=!0}catch{nl=!1}nl?Be(Ve.body):Ve.blob().then(Be)}(ge,Ve=>{const Be=new He.Response(Ve,fe);Oc(),ls&&ls.then(et=>et.put(la(de.url),Be)).catch(et=>yr(et.message))}))}(v,H,Z),C=!0,p(null,J,B.headers.get("Cache-Control"),B.headers.get("Expires")))}).catch(J=>{T||p(new Error(J.message))})};return M?function(B,H){if(Oc(),!ls)return H(null);const Z=la(B.url);ls.then(J=>{J.match(Z).then(de=>{const ge=function(le){if(!le)return!1;const fe=new Date(le.headers.get("Expires")||0),we=Sh(le.headers.get("Cache-Control")||"");return fe>Date.now()&&!we["no-cache"]}(de);J.delete(Z),ge&&J.put(Z,de.clone()),H(null,de,ge)}).catch(H)}).catch(H)}(v,O):O(null,null),{cancel:()=>{T=!0,C||_.abort()}}}(a,o);if(Aa()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,o,void 0,!0)}var l;return function(u,p){const _=new He.XMLHttpRequest;_.open(u.method||"GET",u.url,!0),"arrayBuffer"===u.type&&(_.responseType="arraybuffer");for(const v in u.headers)_.setRequestHeader(v,u.headers[v]);return"json"===u.type&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials="include"===u.credentials,_.onerror=()=>{p(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||0===_.status)&&null!==_.response){let v=_.response;if("json"===u.type)try{v=JSON.parse(_.response)}catch(C){return p(C)}p(null,v,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else p(new _d(_.statusText,_.status,u.url))},_.send(u.body),{cancel:()=>_.abort()}}(a,o)},Pc=function(a,o){return Ll(zn(a,{type:"arrayBuffer"}),o)};function Mh(a){const o=He.document.createElement("a");return o.href=a,o.protocol===He.document.location.protocol&&o.host===He.document.location.host}const af="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let vd,Rc;vd=[],Rc=0;const Fl=function(a,o){if(mn.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Rc>=$t.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:a,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return vd.push(_),_}Rc++;let l=!1;const u=()=>{if(!l)for(l=!0,Rc--;vd.length&&Rc<$t.MAX_PARALLEL_IMAGE_REQUESTS;){const _=vd.shift(),{requestParameters:v,callback:C,cancelled:T}=_;T||(_.cancel=Fl(v,C).cancel)}},p=Pc(a,(_,v,C,T)=>{u(),_?o(_):v&&(He.createImageBitmap?function(M,k){const O=new He.Blob([new Uint8Array(M)],{type:"image/png"});He.createImageBitmap(O).then(N=>{k(null,N)}).catch(N=>{k(new Error(`Could not load image because of ${N.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(M,k)=>o(M,k,C,T)):function(M,k){const O=new He.Image,N=He.URL;O.onload=()=>{k(null,O),N.revokeObjectURL(O.src),O.onload=null,He.requestAnimationFrame(()=>{O.src=af})},O.onerror=()=>k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new He.Blob([new Uint8Array(M)],{type:"image/png"});O.src=M.byteLength?N.createObjectURL(B):af}(v,(M,k)=>o(M,k,C,T)))});return{cancel:()=>{p.cancel(),u()}}},Nc="NO_ACCESS_TOKEN";function zs(a){return 0===a.indexOf("mapbox:")}function Lc(a){return $t.API_URL_REGEX.test(a)}function bd(a){return $t.API_CDN_URL_REGEX.test(a)}function Mu(a){return $t.API_STYLE_REGEX.test(a)&&!zl(a)}function zl(a){return $t.API_SPRITE_REGEX.test(a)}const Fc=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Bs(a){const o=a.match(Fc);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function il(a){const o=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${o}`}function Rr(a){if(!a)return null;const o=a.split(".");if(!o||3!==o.length)return null;try{return JSON.parse(decodeURIComponent(He.atob(o[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ce{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const l=Rr($t.ACCESS_TOKEN);let u="";return u=l&&l.u?He.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(p,_)=>String.fromCharCode(Number("0x"+_)))):$t.ACCESS_TOKEN||"",o?`mapbox.eventData.${o}:${u}`:`mapbox.eventData:${u}`}fetchEventData(){const o=fd("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(o)try{const p=He.localStorage.getItem(l);p&&(this.eventData=JSON.parse(p));const _=He.localStorage.getItem(u);_&&(this.anonId=_)}catch{yr("Unable to read from LocalStorage")}}saveEventData(){const o=fd("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(o)try{He.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&He.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{yr("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,l,u,p){if(!$t.EVENTS_URL)return;const _=Bs($t.EVENTS_URL);_.params.push(`access_token=${p||$t.ACCESS_TOKEN||""}`);const v={event:this.type,created:new Date(o).toISOString()},C=l?zn(v,l):v,T={url:il(_),headers:{"Content-Type":"text/plain"},body:JSON.stringify([C])};var k;this.pendingRequest=(k=M=>{this.pendingRequest=null,u(M),this.saveEventData(),this.processRequests(p)},Ll(zn(T,{method:"POST"}),k))}queueRequest(o,l){this.queue.push(o),this.processRequests(l)}}const j=new class extends ce{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,o){$t.EVENTS_URL&&$t.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>zs(l)||Lc(l))&&this.queueRequest(Date.now(),o)}processRequests(a){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=Rr($t.ACCESS_TOKEN),l=o?o.u:$t.ACCESS_TOKEN;let u=l!==this.eventData.tokenU;Ct(this.anonId)||(this.anonId=tl(),u=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const _=new Date(this.eventData.lastSuccess),v=new Date(p),C=(p-this.eventData.lastSuccess)/864e5;u=u||C>=1||C<-1||_.getDate()!==v.getDate()}else u=!0;u?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:$n,skuId:fi,"enabled.telemetry":!1,userId:this.anonId},_=>{_||(this.eventData.lastSuccess=p,this.eventData.tokenU=l)},a):this.processRequests()}},Y=j.postTurnstileEvent.bind(j),ae=new class extends ce{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,o,l,u){this.skuToken=o,this.errorCb=u,$t.EVENTS_URL&&(l||$t.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(Nc)))}processRequests(a){if(this.pendingRequest||0===this.queue.length)return;const{id:o,timestamp:l}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),Ct(this.anonId)||(this.anonId=tl()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:$n,skuId:fi,skuToken:this.skuToken,userId:this.anonId},u=>{u?this.errorCb(u):o&&(this.success[o]=!0)},a))}},he=ae.postMapLoadEvent.bind(ae),xe=new class extends ce{constructor(){super("gljs.performance")}postPerformanceEvent(a,o){$t.EVENTS_URL&&(a||$t.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:o},a)}processRequests(a){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:o,performanceData:l}=this.queue.shift(),u=function(p){const _=He.performance.getEntriesByType("resource"),v=He.performance.getEntriesByType("mark"),C=function(N){const B={};if(N)for(const H in N)if("other"!==H)for(const Z of N[H]){const J=`${H}ResolveRangeMin`,de=`${H}ResolveRangeMax`,ge=`${H}RequestCount`,le=`${H}RequestCachedCount`;B[J]=Math.min(B[J]||1/0,Z.startTime),B[de]=Math.max(B[de]||-1/0,Z.responseEnd);const fe=we=>{void 0===B[we]&&(B[we]=0),++B[we]};void 0!==Z.transferSize&&0===Z.transferSize&&fe(le),fe(ge)}return B}(function(N,B){const H={};if(N)for(const Z of N){const J=B(Z);void 0===H[J]&&(H[J]=[]),H[J].push(Z)}return H}(_,ft)),T=He.devicePixelRatio,M=He.navigator.connection||He.navigator.mozConnection||He.navigator.webkitConnection,k={counters:[],metadata:[],attributes:[]},O=(N,B,H)=>{null!=H&&N.push({name:B,value:H.toString()})};for(const N in C)O(k.counters,N,C[N]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(O(k.counters,"interactionRangeMin",p.interactionRange[0]),O(k.counters,"interactionRangeMax",p.interactionRange[1])),v)for(const N of Object.keys(rt)){const B=rt[N],H=v.find(Z=>Z.name===B);H&&O(k.counters,B,H.startTime)}return O(k.counters,"visibilityHidden",p.visibilityHidden),O(k.attributes,"style",function(N){if(N)for(const B of N){const H=B.name.split("?")[0];if(Mu(H)){const Z=H.split("/").slice(-2);if(2===Z.length)return`mapbox://styles/${Z[0]}/${Z[1]}`}}}(_)),O(k.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),O(k.attributes,"fogEnabled",p.fogEnabled?"true":"false"),O(k.attributes,"projection",p.projection),O(k.attributes,"zoom",p.zoom),O(k.metadata,"devicePixelRatio",T),O(k.metadata,"connectionEffectiveType",M?M.effectiveType:void 0),O(k.metadata,"navigatorUserAgent",He.navigator.userAgent),O(k.metadata,"screenWidth",He.screen.width),O(k.metadata,"screenHeight",He.screen.height),O(k.metadata,"windowWidth",He.innerWidth),O(k.metadata,"windowHeight",He.innerHeight),O(k.metadata,"mapWidth",p.width/T),O(k.metadata,"mapHeight",p.height/T),O(k.metadata,"webglRenderer",p.renderer),O(k.metadata,"webglVendor",p.vendor),O(k.metadata,"sdkVersion",$n),O(k.metadata,"sdkIdentifier","mapbox-gl-js"),k}(l);for(const p of u.metadata);for(const p of u.counters);for(const p of u.attributes);this.postEvent(o,u,()=>{},a)}},Re=xe.postPerformanceEvent.bind(xe),ke=new class extends ce{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,o,l,u){if(!$t.API_URL||!$t.SESSION_PATH)return;const p=Bs($t.API_URL+$t.SESSION_PATH);p.params.push(`sku=${o||""}`),p.params.push(`access_token=${u||$t.ACCESS_TOKEN||""}`);const _={url:il(p),headers:{"Content-Type":"text/plain"}};var C;this.pendingRequest=(C=v=>{this.pendingRequest=null,l(v),this.saveEventData(),this.processRequests(u)},Ll(zn(_,{method:"GET"}),C))}getSessionAPI(a,o,l,u){this.skuToken=o,this.errorCb=u,$t.SESSION_PATH&&$t.API_URL&&(l||$t.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(Nc)))}processRequests(a){if(this.pendingRequest||0===this.queue.length)return;const{id:o,timestamp:l}=this.queue.shift();o&&this.success[o]||this.getSession(l,this.skuToken,u=>{u?this.errorCb(u):o&&(this.success[o]=!0)},a)}},Se=ke.getSessionAPI.bind(ke),Ae=new Set,rt={create:"create",load:"load",fullLoad:"fullLoad"},vt={mark(a){He.performance.mark(a)},measure(a,o,l){He.performance.measure(a,o,l)}};function ft(a){const o=a.name.split("?")[0];return bd(o)&&o.includes("mapbox-gl.js")?"javascript":bd(o)&&o.includes("mapbox-gl.css")?"css":$t.API_FONTS_REGEX.test(o)?"fontRange":zl(o)?"sprite":Mu(o)?"style":$t.API_TILEJSON_REGEX.test(o)?"tilejson":"other"}const gn=He.performance;function cn(a){const o=a?a.url.toString():void 0;return gn.getEntriesByName(o)}let Xt,Tn,qn,Pi;const en={now:()=>void 0!==qn?qn:He.performance.now(),setNow(a){qn=a},restoreNow(){qn=void 0},frame(a){const o=He.requestAnimationFrame(a);return{cancel:()=>He.cancelAnimationFrame(o)}},getImageData(a,o=0){const{width:l,height:u}=a;Pi||(Pi=He.document.createElement("canvas"));const p=Pi.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(l>Pi.width||u>Pi.height)&&(Pi.width=l,Pi.height=u),p.clearRect(-o,-o,l+2*o,u+2*o),p.drawImage(a,0,0,l,u),p.getImageData(-o,-o,l+2*o,u+2*o)},resolveURL:a=>(Xt||(Xt=He.document.createElement("a")),Xt.href=a,Xt.href),get devicePixelRatio(){return He.devicePixelRatio},get prefersReducedMotion(){return!!He.matchMedia&&(null==Tn&&(Tn=He.matchMedia("(prefers-reduced-motion: reduce)")),Tn.matches)}};function $i(a,o,l){l[a]&&-1!==l[a].indexOf(o)||(l[a]=l[a]||[],l[a].push(o))}function or(a,o,l){if(l&&l[a]){const u=l[a].indexOf(o);-1!==u&&l[a].splice(u,1)}}class Oa{constructor(o,l={}){zn(this,l),this.type=o}}class Bl extends Oa{constructor(o,l={}){super("error",zn({error:o},l))}}class Vs{on(o,l){return this._listeners=this._listeners||{},$i(o,l,this._listeners),this}off(o,l){return or(o,l,this._listeners),or(o,l,this._oneTimeListeners),this}once(o,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},$i(o,l,this._oneTimeListeners),this):new Promise(u=>this.once(o,u))}fire(o,l){"string"==typeof o&&(o=new Oa(o,l||{}));const u=o.type;if(this.listens(u)){o.target=this;const p=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const C of p)C.call(this,o);const _=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const C of _)or(u,C,this._oneTimeListeners),C.call(this,o);const v=this._eventedParent;v&&(zn(o,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),v.fire(o))}else o instanceof Bl&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,l){return this._eventedParent=o,this._eventedParentData=l,this}}var tt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function rl(a,...o){for(const l of o)for(const u in l)a[u]=l[u];return a}function Br(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Fi(a){if(Array.isArray(a))return a.map(Fi);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const o={};for(const l in a)o[l]=Fi(a[l]);return o}return Br(a)}class ro extends Error{constructor(o,l){super(l),this.message=l,this.key=o}}var Ri=ro;class Du{constructor(o,l=[]){this.parent=o,this.bindings={};for(const[u,p]of l)this.bindings[u]=p}concat(o){return new Du(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}var sr=Du;const uo={kind:"null"},mt={kind:"number"},li={kind:"string"},ci={kind:"boolean"},Bn={kind:"color"},On={kind:"object"},Qn={kind:"value"},Dh={kind:"collator"},ct={kind:"formatted"},ca={kind:"resolvedImage"};function vn(a,o){return{kind:"array",itemType:a,N:o}}function In(a){if("array"===a.kind){const o=In(a.itemType);return"number"==typeof a.N?`array<${o}, ${a.N}>`:"value"===a.itemType.kind?"array":`array<${o}>`}return a.kind}const Pa=[uo,mt,li,ci,Bn,ct,On,vn(Qn),ca];function Eh(a,o){if("error"===o.kind)return null;if("array"===a.kind){if("array"===o.kind&&(0===o.N&&"value"===o.itemType.kind||!Eh(a.itemType,o.itemType))&&("number"!=typeof a.N||a.N===o.N))return null}else{if(a.kind===o.kind)return null;if("value"===a.kind)for(const l of Pa)if(!Eh(l,o))return null}return`Expected ${In(a)} but found ${In(o)} instead.`}function wd(a,o){return o.some(l=>l.kind===a.kind)}function Vl(a,o){return o.some(l=>"null"===l?null===a:"array"===l?Array.isArray(a):"object"===l?a&&!Array.isArray(a)&&"object"==typeof a:l===typeof a)}var ho,Um={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Hl(a){return(a=Math.round(a))<0?0:a>255?255:a}function Ih(a){return Hl("%"===a[a.length-1]?parseFloat(a)/100*255:parseInt(a))}function Hs(a){return(o="%"===a[a.length-1]?parseFloat(a)/100:parseFloat(a))<0?0:o>1?1:o;var o}function jm(a,o,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(o-a)*l*6:2*l<1?o:3*l<2?a+(o-a)*(2/3-l)*6:a}try{ho={}.parseCSSColor=function(a){var o,l=a.replace(/ /g,"").toLowerCase();if(l in Um)return Um[l].slice();if("#"===l[0])return 4===l.length?(o=parseInt(l.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:7===l.length&&(o=parseInt(l.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var u=l.indexOf("("),p=l.indexOf(")");if(-1!==u&&p+1===l.length){var _=l.substr(0,u),v=l.substr(u+1,p-(u+1)).split(","),C=1;switch(_){case"rgba":if(4!==v.length)return null;C=Hs(v.pop());case"rgb":return 3!==v.length?null:[Ih(v[0]),Ih(v[1]),Ih(v[2]),C];case"hsla":if(4!==v.length)return null;C=Hs(v.pop());case"hsl":if(3!==v.length)return null;var T=(parseFloat(v[0])%360+360)%360/360,M=Hs(v[1]),k=Hs(v[2]),O=k<=.5?k*(M+1):k+M-k*M,N=2*k-O;return[Hl(255*jm(N,O,T+1/3)),Hl(255*jm(N,O,T)),Hl(255*jm(N,O,T-1/3)),C];default:return null}}return null}}catch{}class Ss{constructor(o,l,u,p=1){this.r=o,this.g=l,this.b=u,this.a=p}static parse(o){if(!o)return;if(o instanceof Ss)return o;if("string"!=typeof o)return;const l=ho(o);return l?new Ss(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[o,l,u,p]=this.toArray();return`rgba(${Math.round(o)},${Math.round(l)},${Math.round(u)},${p})`}toArray(){const{r:o,g:l,b:u,a:p}=this;return 0===p?[0,0,0,0]:[255*o/p,255*l/p,255*u/p,p]}toArray01(){const{r:o,g:l,b:u,a:p}=this;return 0===p?[0,0,0,0]:[o/p,l/p,u/p,p]}toArray01PremultipliedAlpha(){const{r:o,g:l,b:u,a:p}=this;return[o,l,u,p]}}Ss.black=new Ss(0,0,0,1),Ss.white=new Ss(1,1,1,1),Ss.transparent=new Ss(0,0,0,0),Ss.red=new Ss(1,0,0,1),Ss.blue=new Ss(0,0,1,1);var kr=Ss;class kh{constructor(o,l,u){this.sensitivity=o?l?"variant":"case":l?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,l){return this.collator.compare(o,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class lf{constructor(o,l,u,p,_){this.text=o.normalize?o.normalize():o,this.image=l,this.scale=u,this.fontStack=p,this.textColor=_}}class Eo{constructor(o){this.sections=o}static fromString(o){return new Eo([new lf(o,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(o=>0!==o.text.length||o.image&&0!==o.image.name.length)}static factory(o){return o instanceof Eo?o:Eo.fromString(o)}toString(){return 0===this.sections.length?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const l of this.sections){if(l.image){o.push(["image",l.image.name]);continue}o.push(l.text);const u={};l.fontStack&&(u["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(u["font-scale"]=l.scale),l.textColor&&(u["text-color"]=["rgba"].concat(l.textColor.toArray())),o.push(u)}return o}}class Us{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new Us({name:o,available:!1}):null}serialize(){return["image",this.name]}}function V0(a,o,l,u){return"number"==typeof a&&a>=0&&a<=255&&"number"==typeof o&&o>=0&&o<=255&&"number"==typeof l&&l>=0&&l<=255?void 0===u||"number"==typeof u&&u>=0&&u<=1?null:`Invalid rgba value [${[a,o,l,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof u?[a,o,l,u]:[a,o,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Io(a){if(null===a||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||a instanceof kr||a instanceof kh||a instanceof Eo||a instanceof Us)return!0;if(Array.isArray(a)){for(const o of a)if(!Io(o))return!1;return!0}if("object"==typeof a){for(const o in a)if(!Io(a[o]))return!1;return!0}return!1}function Vn(a){if(null===a)return uo;if("string"==typeof a)return li;if("boolean"==typeof a)return ci;if("number"==typeof a)return mt;if(a instanceof kr)return Bn;if(a instanceof kh)return Dh;if(a instanceof Eo)return ct;if(a instanceof Us)return ca;if(Array.isArray(a)){const o=a.length;let l;for(const u of a){const p=Vn(u);if(l){if(l===p)continue;l=Qn;break}l=p}return vn(l||Qn,o)}return On}function Ah(a){const o=typeof a;return null===a?"":"string"===o||"number"===o||"boolean"===o?String(a):a instanceof kr||a instanceof Eo||a instanceof Us?a.toString():JSON.stringify(a)}class $m{constructor(o,l){this.type=o,this.value=l}static parse(o,l){if(2!==o.length)return l.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!Io(o[1]))return l.error("invalid value");const u=o[1];let p=Vn(u);const _=l.expectedType;return"array"!==p.kind||0!==p.N||!_||"array"!==_.kind||"number"==typeof _.N&&0!==_.N||(p=_),new $m(p,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof kr?["rgba"].concat(this.value.toArray()):this.value instanceof Eo?this.value.serialize():this.value}}var Oh=$m,Qe=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const Cd={string:li,number:mt,boolean:ci,object:On};class Lt{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let u,p=1;const _=o[0];if("array"===_){let C,T;if(o.length>2){const M=o[1];if("string"!=typeof M||!(M in Cd)||"object"===M)return l.error('The item type argument of "array" must be one of string, number, boolean',1);C=Cd[M],p++}else C=Qn;if(o.length>3){if(null!==o[2]&&("number"!=typeof o[2]||o[2]<0||o[2]!==Math.floor(o[2])))return l.error('The length argument to "array" must be a positive integer literal',2);T=o[2],p++}u=vn(C,T)}else u=Cd[_];const v=[];for(;p<o.length;p++){const C=l.parse(o[p],p,Qn);if(!C)return null;v.push(C)}return new Lt(u,v)}evaluate(o){for(let l=0;l<this.args.length;l++){const u=this.args[l].evaluate(o);if(!Eh(this.type,Vn(u)))return u;if(l===this.args.length-1)throw new Qe(`Expected value to be of type ${In(this.type)}, but found ${In(Vn(u))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,l=[o.kind];if("array"===o.kind){const u=o.itemType;if("string"===u.kind||"number"===u.kind||"boolean"===u.kind){l.push(u.kind);const p=o.N;("number"==typeof p||this.args.length>1)&&l.push(p)}}return l.concat(this.args.map(u=>u.serialize()))}}var js=Lt;class xd{constructor(o){this.type=ct,this.sections=o}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");const u=o[1];if(!Array.isArray(u)&&"object"==typeof u)return l.error("First argument must be an image or text section.");const p=[];let _=!1;for(let v=1;v<=o.length-1;++v){const C=o[v];if(_&&"object"==typeof C&&!Array.isArray(C)){_=!1;let T=null;if(C["font-scale"]&&(T=l.parse(C["font-scale"],1,mt),!T))return null;let M=null;if(C["text-font"]&&(M=l.parse(C["text-font"],1,vn(li)),!M))return null;let k=null;if(C["text-color"]&&(k=l.parse(C["text-color"],1,Bn),!k))return null;const O=p[p.length-1];O.scale=T,O.font=M,O.textColor=k}else{const T=l.parse(o[v],1,Qn);if(!T)return null;const M=T.type.kind;if("string"!==M&&"value"!==M&&"null"!==M&&"resolvedImage"!==M)return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,p.push({content:T,scale:null,font:null,textColor:null})}}return new xd(p)}evaluate(o){return new Eo(this.sections.map(l=>{const u=l.content.evaluate(o);return Vn(u)===ca?new lf("",u,null,null,null):new lf(Ah(u),null,l.scale?l.scale.evaluate(o):null,l.font?l.font.evaluate(o).join(","):null,l.textColor?l.textColor.evaluate(o):null)}))}eachChild(o){for(const l of this.sections)o(l.content),l.scale&&o(l.scale),l.font&&o(l.font),l.textColor&&o(l.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const l of this.sections){o.push(l.content.serialize());const u={};l.scale&&(u["font-scale"]=l.scale.serialize()),l.font&&(u["text-font"]=l.font.serialize()),l.textColor&&(u["text-color"]=l.textColor.serialize()),o.push(u)}return o}}class Sd{constructor(o){this.type=ca,this.input=o}static parse(o,l){if(2!==o.length)return l.error("Expected two arguments.");const u=l.parse(o[1],1,li);return u?new Sd(u):l.error("No image name provided.")}evaluate(o){const l=this.input.evaluate(o),u=Us.fromString(l);return u&&o.availableImages&&(u.available=o.availableImages.indexOf(l)>-1),u}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const H0={"to-boolean":ci,"to-color":Bn,"to-number":mt,"to-string":li};class cf{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");const u=o[0];if(("to-boolean"===u||"to-string"===u)&&2!==o.length)return l.error("Expected one argument.");const p=H0[u],_=[];for(let v=1;v<o.length;v++){const C=l.parse(o[v],v,Qn);if(!C)return null;_.push(C)}return new cf(p,_)}evaluate(o){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(o));if("color"===this.type.kind){let l,u;for(const p of this.args){if(l=p.evaluate(o),u=null,l instanceof kr)return l;if("string"==typeof l){const _=o.parseColor(l);if(_)return _}else if(Array.isArray(l)&&(u=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:V0(l[0],l[1],l[2],l[3]),!u))return new kr(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Qe(u||`Could not parse color from value '${"string"==typeof l?l:String(JSON.stringify(l))}'`)}if("number"===this.type.kind){let l=null;for(const u of this.args){if(l=u.evaluate(o),null===l)return 0;const p=Number(l);if(!isNaN(p))return p}throw new Qe(`Could not convert ${JSON.stringify(l)} to number.`)}return"formatted"===this.type.kind?Eo.fromString(Ah(this.args[0].evaluate(o))):"resolvedImage"===this.type.kind?Us.fromString(Ah(this.args[0].evaluate(o))):Ah(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if("formatted"===this.type.kind)return new xd([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Sd(this.args[0]).serialize();const o=[`to-${this.type.kind}`];return this.eachChild(l=>{o.push(l.serialize())}),o}}var Ul=cf;const zc=["Unknown","Point","LineString","Polygon"];var Ph=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?zc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:l,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*o-a[0])+this.featureDistanceData.bearing[1]*(u*o-a[1])}return 0}parseColor(a){let o=this._parseColorCache[a];return o||(o=this._parseColorCache[a]=kr.parse(a)),o}};class Bc{constructor(o,l,u,p){this.name=o,this.type=l,this._evaluate=u,this.args=p}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,l){const u=o[0],p=Bc.definitions[u];if(!p)return l.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(p)?p[0]:p.type,v=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,C=v.filter(([M])=>!Array.isArray(M)||M.length===o.length-1);let T=null;for(const[M,k]of C){T=new $l(l.registry,l.path,null,l.scope);const O=[];let N=!1;for(let B=1;B<o.length;B++){const H=o[B],Z=Array.isArray(M)?M[B-1]:M.type,J=T.parse(H,1+O.length,Z);if(!J){N=!0;break}O.push(J)}if(!N)if(Array.isArray(M)&&M.length!==O.length)T.error(`Expected ${M.length} arguments, but found ${O.length} instead.`);else{for(let B=0;B<O.length;B++){const H=Array.isArray(M)?M[B]:M.type,Z=O[B];T.concat(B+1).checkSubtype(H,Z.type)}if(0===T.errors.length)return new Bc(u,_,k,O)}}if(1===C.length)l.errors.push(...T.errors);else{const M=(C.length?C:v).map(([O])=>{return N=O,Array.isArray(N)?`(${N.map(In).join(", ")})`:`(${In(N.type)}...)`;var N}).join(" | "),k=[];for(let O=1;O<o.length;O++){const N=l.parse(o[O],1+k.length);if(!N)return null;k.push(In(N.type))}l.error(`Expected arguments of type ${M}, but found (${k.join(", ")}) instead.`)}return null}static register(o,l){Bc.definitions=l;for(const u in l)o[u]=Bc}}var jl=Bc;class Nn{constructor(o,l,u){this.type=Dh,this.locale=u,this.caseSensitive=o,this.diacriticSensitive=l}static parse(o,l){if(2!==o.length)return l.error("Expected one argument.");const u=o[1];if("object"!=typeof u||Array.isArray(u))return l.error("Collator options argument must be an object.");const p=l.parse(void 0!==u["case-sensitive"]&&u["case-sensitive"],1,ci);if(!p)return null;const _=l.parse(void 0!==u["diacritic-sensitive"]&&u["diacritic-sensitive"],1,ci);if(!_)return null;let v=null;return u.locale&&(v=l.parse(u.locale,1,li),!v)?null:new Nn(p,_,v)}evaluate(o){return new kh(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}const Wr=8192;function Rh(a,o){a[0]=Math.min(a[0],o[0]),a[1]=Math.min(a[1],o[1]),a[2]=Math.max(a[2],o[0]),a[3]=Math.max(a[3],o[1])}function ko(a,o){return!(a[0]<=o[0]||a[2]>=o[2]||a[1]<=o[1]||a[3]>=o[3])}function uf(a,o){const l=(180+a[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,p=Math.pow(2,o.z);return[Math.round(l*p*Wr),Math.round(u*p*Wr)]}function U0(a,o,l){const u=a[0]-o[0],p=a[1]-o[1],_=a[0]-l[0],v=a[1]-l[1];return u*v-_*p==0&&u*_<=0&&p*v<=0}function ua(a,o){let l=!1;for(let v=0,C=o.length;v<C;v++){const T=o[v];for(let M=0,k=T.length;M<k-1;M++){if(U0(a,T[M],T[M+1]))return!1;(p=T[M])[1]>(u=a)[1]!=(_=T[M+1])[1]>u[1]&&u[0]<(_[0]-p[0])*(u[1]-p[1])/(_[1]-p[1])+p[0]&&(l=!l)}}var u,p,_;return l}function $s(a,o){for(let l=0;l<o.length;l++)if(ua(a,o[l]))return!0;return!1}function df(a,o,l,u){const p=u[0]-l[0],_=u[1]-l[1],v=(a[0]-l[0])*_-p*(a[1]-l[1]),C=(o[0]-l[0])*_-p*(o[1]-l[1]);return v>0&&C<0||v<0&&C>0}function Nh(a,o,l){for(const M of l)for(let k=0;k<M.length-1;++k)if((C=[(v=M[k+1])[0]-(_=M[k])[0],v[1]-_[1]])[0]*(T=[(p=o)[0]-(u=a)[0],p[1]-u[1]])[1]-C[1]*T[0]!=0&&df(u,p,_,v)&&df(_,v,u,p))return!0;var u,p,_,v,C,T;return!1}function Ts(a,o){for(let l=0;l<a.length;++l)if(!ua(a[l],o))return!1;for(let l=0;l<a.length-1;++l)if(Nh(a[l],a[l+1],o))return!1;return!0}function hr(a,o){for(let l=0;l<o.length;l++)if(Ts(a,o[l]))return!0;return!1}function Lh(a,o,l){const u=[];for(let p=0;p<a.length;p++){const _=[];for(let v=0;v<a[p].length;v++){const C=uf(a[p][v],l);Rh(o,C),_.push(C)}u.push(_)}return u}function Gm(a,o,l){const u=[];for(let p=0;p<a.length;p++){const _=Lh(a[p],o,l);u.push(_)}return u}function Gs(a,o,l,u){if(a[0]<l[0]||a[0]>l[2]){const p=.5*u;let _=a[0]-l[0]>p?-u:l[0]-a[0]>p?u:0;0===_&&(_=a[0]-l[2]>p?-u:l[2]-a[0]>p?u:0),a[0]+=_}Rh(o,a)}function un(a,o,l,u){const p=Math.pow(2,u.z)*Wr,_=[u.x*Wr,u.y*Wr],v=[];if(!a)return v;for(const C of a)for(const T of C){const M=[T.x+_[0],T.y+_[1]];Gs(M,o,l,p),v.push(M)}return v}function Td(a,o,l,u){const p=Math.pow(2,u.z)*Wr,_=[u.x*Wr,u.y*Wr],v=[];if(!a)return v;for(const T of a){const M=[];for(const k of T){const O=[k.x+_[0],k.y+_[1]];Rh(o,O),M.push(O)}v.push(M)}if(o[2]-o[0]<=p/2){(C=o)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const T of v)for(const M of T)Gs(M,o,l,p)}var C;return v}class Vc{constructor(o,l){this.type=ci,this.geojson=o,this.geometries=l}static parse(o,l){if(2!==o.length)return l.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(Io(o[1])){const u=o[1];if("FeatureCollection"===u.type)for(let p=0;p<u.features.length;++p){const _=u.features[p].geometry.type;if("Polygon"===_||"MultiPolygon"===_)return new Vc(u,u.features[p].geometry)}else if("Feature"===u.type){const p=u.geometry.type;if("Polygon"===p||"MultiPolygon"===p)return new Vc(u,u.geometry)}else if("Polygon"===u.type||"MultiPolygon"===u.type)return new Vc(u,u)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(null!=o.geometry()&&null!=o.canonicalID()){if("Point"===o.geometryType())return function(l,u){const p=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(!v)return!1;if("Polygon"===u.type){const C=Lh(u.coordinates,_,v),T=un(l.geometry(),p,_,v);if(!ko(p,_))return!1;for(const M of T)if(!ua(M,C))return!1}if("MultiPolygon"===u.type){const C=Gm(u.coordinates,_,v),T=un(l.geometry(),p,_,v);if(!ko(p,_))return!1;for(const M of T)if(!$s(M,C))return!1}return!0}(o,this.geometries);if("LineString"===o.geometryType())return function(l,u){const p=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(!v)return!1;if("Polygon"===u.type){const C=Lh(u.coordinates,_,v),T=Td(l.geometry(),p,_,v);if(!ko(p,_))return!1;for(const M of T)if(!Ts(M,C))return!1}if("MultiPolygon"===u.type){const C=Gm(u.coordinates,_,v),T=Td(l.geometry(),p,_,v);if(!ko(p,_))return!1;for(const M of T)if(!hr(M,C))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Md=Vc;function Hc(a){if(a instanceof jl&&("get"===a.name&&1===a.args.length||"feature-state"===a.name||"has"===a.name&&1===a.args.length||"properties"===a.name||"geometry-type"===a.name||"id"===a.name||/^filter-/.test(a.name))||a instanceof Md)return!1;let o=!0;return a.eachChild(l=>{o&&!Hc(l)&&(o=!1)}),o}function Ws(a){if(a instanceof jl&&"feature-state"===a.name)return!1;let o=!0;return a.eachChild(l=>{o&&!Ws(l)&&(o=!1)}),o}function ol(a,o){if(a instanceof jl&&o.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(u=>{l&&!ol(u,o)&&(l=!1)}),l}class Fh{constructor(o,l){this.type=l.type,this.name=o,this.boundExpression=l}static parse(o,l){if(2!==o.length||"string"!=typeof o[1])return l.error("'var' expression requires exactly one string literal argument.");const u=o[1];return l.scope.has(u)?new Fh(u,l.scope.get(u)):l.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var it=Fh;class zh{constructor(o,l=[],u,p=new sr,_=[]){this.registry=o,this.path=l,this.key=l.map(v=>`[${v}]`).join(""),this.scope=p,this.errors=_,this.expectedType=u}parse(o,l,u,p,_={}){return l?this.concat(l,u,p)._parse(o,_):this._parse(o,_)}_parse(o,l){function u(p,_,v){return"assert"===v?new js(_,[p]):"coerce"===v?new Ul(_,[p]):p}if(null!==o&&"string"!=typeof o&&"boolean"!=typeof o&&"number"!=typeof o||(o=["literal",o]),Array.isArray(o)){if(0===o.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=o[0];if("string"!=typeof p)return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[p];if(_){let v=_.parse(o,this);if(!v)return null;if(this.expectedType){const C=this.expectedType,T=v.type;if("string"!==C.kind&&"number"!==C.kind&&"boolean"!==C.kind&&"object"!==C.kind&&"array"!==C.kind||"value"!==T.kind)if("color"!==C.kind&&"formatted"!==C.kind&&"resolvedImage"!==C.kind||"value"!==T.kind&&"string"!==T.kind){if(this.checkSubtype(C,T))return null}else v=u(v,C,l.typeAnnotation||"coerce");else v=u(v,C,l.typeAnnotation||"assert")}if(!(v instanceof Oh)&&"resolvedImage"!==v.type.kind&&Uc(v)){const C=new Ph;try{v=new Oh(v.type,v.evaluate(C))}catch(T){return this.error(T.message),null}}return v}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===o?"'undefined' value invalid. Use null instead.":"object"==typeof o?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,l,u){const p="number"==typeof o?this.path.concat(o):this.path,_=u?this.scope.concat(u):this.scope;return new zh(this.registry,p,l||null,_,this.errors)}error(o,...l){const u=`${this.key}${l.map(p=>`[${p}]`).join("")}`;this.errors.push(new Ri(u,o))}checkSubtype(o,l){const u=Eh(o,l);return u&&this.error(u),u}}var $l=zh;function Uc(a){if(a instanceof it)return Uc(a.boundExpression);if(a instanceof jl&&"error"===a.name||a instanceof Nn||a instanceof Md)return!1;const o=a instanceof Ul||a instanceof js;let l=!0;return a.eachChild(u=>{l=o?l&&Uc(u):l&&u instanceof Oh}),!!l&&Hc(a)&&ol(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ft(a,o){const l=a.length-1;let u,p,_=0,v=l,C=0;for(;_<=v;)if(C=Math.floor((_+v)/2),u=a[C],p=a[C+1],u<=o){if(C===l||o<p)return C;_=C+1}else{if(!(u>o))throw new Qe("Input is not a number.");v=C-1}return 0}class Dd{constructor(o,l,u){this.type=o,this.input=l,this.labels=[],this.outputs=[];for(const[p,_]of u)this.labels.push(p),this.outputs.push(_)}static parse(o,l){if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");const u=l.parse(o[1],1,mt);if(!u)return null;const p=[];let _=null;l.expectedType&&"value"!==l.expectedType.kind&&(_=l.expectedType);for(let v=1;v<o.length;v+=2){const C=1===v?-1/0:o[v],T=o[v+1],M=v,k=v+1;if("number"!=typeof C)return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(p.length&&p[p.length-1][0]>=C)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const O=l.parse(T,k,_);if(!O)return null;_=_||O.type,p.push([C,O])}return new Dd(_,u,p)}evaluate(o){const l=this.labels,u=this.outputs;if(1===l.length)return u[0].evaluate(o);const p=this.input.evaluate(o);if(p<=l[0])return u[0].evaluate(o);const _=l.length;return p>=l[_-1]?u[_-1].evaluate(o):u[Ft(l,p)].evaluate(o)}eachChild(o){o(this.input);for(const l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&o.push(this.labels[l]),o.push(this.outputs[l].serialize());return o}}var Ed=Dd;function qe(a,o,l){return a*(1-l)+o*l}var po=Object.freeze({__proto__:null,number:qe,color:function(a,o,l){return new kr(qe(a.r,o.r,l),qe(a.g,o.g,l),qe(a.b,o.b,l),qe(a.a,o.a,l))},array:function(a,o,l){return a.map((u,p)=>qe(u,o[p],l))}});const fo=4/29,sl=6/29,cs=3*sl*sl,Ms=Math.PI/180,Ht=180/Math.PI;function Jn(a){return a>.008856451679035631?Math.pow(a,1/3):a/cs+fo}function pr(a){return a>sl?a*a*a:cs*(a-fo)}function $o(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function al(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function qr(a){const o=al(a.r),l=al(a.g),u=al(a.b),p=Jn((.4124564*o+.3575761*l+.1804375*u)/.95047),_=Jn((.2126729*o+.7151522*l+.072175*u)/1);return{l:116*_-16,a:500*(p-_),b:200*(_-Jn((.0193339*o+.119192*l+.9503041*u)/1.08883)),alpha:a.a}}function Gl(a){let o=(a.l+16)/116,l=isNaN(a.a)?o:o+a.a/500,u=isNaN(a.b)?o:o-a.b/200;return o=1*pr(o),l=.95047*pr(l),u=1.08883*pr(u),new kr($o(3.2404542*l-1.5371385*o-.4985314*u),$o(-.969266*l+1.8760108*o+.041556*u),$o(.0556434*l-.2040259*o+1.0572252*u),a.alpha)}function Ar(a,o,l){const u=o-a;return a+l*(u>180||u<-180?u-360*Math.round(u/360):u)}const ll={forward:qr,reverse:Gl,interpolate:function(a,o,l){return{l:qe(a.l,o.l,l),a:qe(a.a,o.a,l),b:qe(a.b,o.b,l),alpha:qe(a.alpha,o.alpha,l)}}},Ra={forward:function(a){const{l:o,a:l,b:u}=qr(a),p=Math.atan2(u,l)*Ht;return{h:p<0?p+360:p,c:Math.sqrt(l*l+u*u),l:o,alpha:a.a}},reverse:function(a){const o=a.h*Ms,l=a.c;return Gl({l:a.l,a:Math.cos(o)*l,b:Math.sin(o)*l,alpha:a.alpha})},interpolate:function(a,o,l){return{h:Ar(a.h,o.h,l),c:qe(a.c,o.c,l),l:qe(a.l,o.l,l),alpha:qe(a.alpha,o.alpha,l)}}};var ui=Object.freeze({__proto__:null,lab:ll,hcl:Ra});class jc{constructor(o,l,u,p,_){this.type=o,this.operator=l,this.interpolation=u,this.input=p,this.labels=[],this.outputs=[];for(const[v,C]of _)this.labels.push(v),this.outputs.push(C)}static interpolationFactor(o,l,u,p){let _=0;if("exponential"===o.name)_=Wl(l,o.base,u,p);else if("linear"===o.name)_=Wl(l,1,u,p);else if("cubic-bezier"===o.name){const v=o.controlPoints;_=new Jt(v[0],v[1],v[2],v[3]).solve(Wl(l,1,u,p))}return _}static parse(o,l){let[u,p,_,...v]=o;if(!Array.isArray(p)||0===p.length)return l.error("Expected an interpolation type expression.",1);if("linear"===p[0])p={name:"linear"};else if("exponential"===p[0]){const M=p[1];if("number"!=typeof M)return l.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:M}}else{if("cubic-bezier"!==p[0])return l.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const M=p.slice(1);if(4!==M.length||M.some(k=>"number"!=typeof k||k<0||k>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:M}}}if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(_=l.parse(_,2,mt),!_)return null;const C=[];let T=null;"interpolate-hcl"===u||"interpolate-lab"===u?T=Bn:l.expectedType&&"value"!==l.expectedType.kind&&(T=l.expectedType);for(let M=0;M<v.length;M+=2){const k=v[M],O=v[M+1],N=M+3,B=M+4;if("number"!=typeof k)return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(C.length&&C[C.length-1][0]>=k)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',N);const H=l.parse(O,B,T);if(!H)return null;T=T||H.type,C.push([k,H])}return"number"===T.kind||"color"===T.kind||"array"===T.kind&&"number"===T.itemType.kind&&"number"==typeof T.N?new jc(T,u,p,_,C):l.error(`Type ${In(T)} is not interpolatable.`)}evaluate(o){const l=this.labels,u=this.outputs;if(1===l.length)return u[0].evaluate(o);const p=this.input.evaluate(o);if(p<=l[0])return u[0].evaluate(o);const _=l.length;if(p>=l[_-1])return u[_-1].evaluate(o);const v=Ft(l,p),C=jc.interpolationFactor(this.interpolation,p,l[v],l[v+1]),T=u[v].evaluate(o),M=u[v+1].evaluate(o);return"interpolate"===this.operator?po[this.type.kind.toLowerCase()](T,M,C):"interpolate-hcl"===this.operator?Ra.reverse(Ra.interpolate(Ra.forward(T),Ra.forward(M),C)):ll.reverse(ll.interpolate(ll.forward(T),ll.forward(M),C))}eachChild(o){o(this.input);for(const l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,o,this.input.serialize()];for(let u=0;u<this.labels.length;u++)l.push(this.labels[u],this.outputs[u].serialize());return l}}function Wl(a,o,l,u){const p=u-l,_=a-l;return 0===p?0:1===o?_/p:(Math.pow(o,_)-1)/(Math.pow(o,p)-1)}var qs=jc;class Na{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expectected at least one argument.");let u=null;const p=l.expectedType;p&&"value"!==p.kind&&(u=p);const _=[];for(const C of o.slice(1)){const T=l.parse(C,1+_.length,u,void 0,{typeAnnotation:"omit"});if(!T)return null;u=u||T.type,_.push(T)}const v=p&&_.some(C=>Eh(p,C.type));return new Na(v?Qn:u,_)}evaluate(o){let l,u=null,p=0;for(const _ of this.args){if(p++,u=_.evaluate(o),u&&u instanceof Us&&!u.available&&(l||(l=u),u=null,p===this.args.length))return l;if(null!==u)break}return u}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(l=>{o.push(l.serialize())}),o}}var oo=Na;class ql{constructor(o,l){this.type=l.type,this.bindings=[].concat(o),this.result=l}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const l of this.bindings)o(l[1]);o(this.result)}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const u=[];for(let _=1;_<o.length-1;_+=2){const v=o[_];if("string"!=typeof v)return l.error(`Expected string, but found ${typeof v} instead.`,_);if(/[^a-zA-Z0-9_]/.test(v))return l.error("Variable names must contain only alphanumeric characters or '_'.",_);const C=l.parse(o[_+1],_+1);if(!C)return null;u.push([v,C])}const p=l.parse(o[o.length-1],o.length-1,l.expectedType,u);return p?new ql(u,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[l,u]of this.bindings)o.push(l,u.serialize());return o.push(this.result.serialize()),o}}var $c=ql;class Ds{constructor(o,l,u){this.type=o,this.index=l,this.input=u}static parse(o,l){if(3!==o.length)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const u=l.parse(o[1],1,mt),p=l.parse(o[2],2,vn(l.expectedType||Qn));return u&&p?new Ds(p.type.itemType,u,p):null}evaluate(o){const l=this.index.evaluate(o),u=this.input.evaluate(o);if(l<0)throw new Qe(`Array index out of bounds: ${l} < 0.`);if(l>=u.length)throw new Qe(`Array index out of bounds: ${l} > ${u.length-1}.`);if(l!==Math.floor(l))throw new Qe(`Array index must be an integer, but found ${l} instead.`);return u[l]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Gc=Ds;class Id{constructor(o,l){this.type=ci,this.needle=o,this.haystack=l}static parse(o,l){if(3!==o.length)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const u=l.parse(o[1],1,Qn),p=l.parse(o[2],2,Qn);return u&&p?wd(u.type,[ci,li,mt,uo,Qn])?new Id(u,p):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${In(u.type)} instead`):null}evaluate(o){const l=this.needle.evaluate(o),u=this.haystack.evaluate(o);if(null==u)return!1;if(!Vl(l,["boolean","string","number","null"]))throw new Qe(`Expected first argument to be of type boolean, string, number or null, but found ${In(Vn(l))} instead.`);if(!Vl(u,["string","array"]))throw new Qe(`Expected second argument to be of type array or string, but found ${In(Vn(u))} instead.`);return u.indexOf(l)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var fr=Id;class Bh{constructor(o,l,u){this.type=mt,this.needle=o,this.haystack=l,this.fromIndex=u}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const u=l.parse(o[1],1,Qn),p=l.parse(o[2],2,Qn);if(!u||!p)return null;if(!wd(u.type,[ci,li,mt,uo,Qn]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${In(u.type)} instead`);if(4===o.length){const _=l.parse(o[3],3,mt);return _?new Bh(u,p,_):null}return new Bh(u,p)}evaluate(o){const l=this.needle.evaluate(o),u=this.haystack.evaluate(o);if(!Vl(l,["boolean","string","number","null"]))throw new Qe(`Expected first argument to be of type boolean, string, number or null, but found ${In(Vn(l))} instead.`);if(!Vl(u,["string","array"]))throw new Qe(`Expected second argument to be of type array or string, but found ${In(Vn(u))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(o);return u.indexOf(l,p)}return u.indexOf(l)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var j0=Bh;class Eu{constructor(o,l,u,p,_,v){this.inputType=o,this.type=l,this.input=u,this.cases=p,this.outputs=_,this.otherwise=v}static parse(o,l){if(o.length<5)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return l.error("Expected an even number of arguments.");let u,p;l.expectedType&&"value"!==l.expectedType.kind&&(p=l.expectedType);const _={},v=[];for(let M=2;M<o.length-1;M+=2){let k=o[M];const O=o[M+1];Array.isArray(k)||(k=[k]);const N=l.concat(M);if(0===k.length)return N.error("Expected at least one branch label.");for(const H of k){if("number"!=typeof H&&"string"!=typeof H)return N.error("Branch labels must be numbers or strings.");if("number"==typeof H&&Math.abs(H)>Number.MAX_SAFE_INTEGER)return N.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof H&&Math.floor(H)!==H)return N.error("Numeric branch labels must be integer values.");if(u){if(N.checkSubtype(u,Vn(H)))return null}else u=Vn(H);if(void 0!==_[String(H)])return N.error("Branch labels must be unique.");_[String(H)]=v.length}const B=l.parse(O,M,p);if(!B)return null;p=p||B.type,v.push(B)}const C=l.parse(o[1],1,Qn);if(!C)return null;const T=l.parse(o[o.length-1],o.length-1,p);return T?"value"!==C.type.kind&&l.concat(1).checkSubtype(u,C.type)?null:new Eu(u,p,C,_,v,T):null}evaluate(o){const l=this.input.evaluate(o);return(Vn(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),u=[],p={};for(const v of l){const C=p[this.cases[v]];void 0===C?(p[this.cases[v]]=u.length,u.push([this.cases[v],[v]])):u[C][1].push(v)}const _=v=>"number"===this.inputType.kind?Number(v):v;for(const[v,C]of u)o.push(1===C.length?_(C[0]):C.map(_)),o.push(this.outputs[v].serialize());return o.push(this.otherwise.serialize()),o}}var hf=Eu;class La{constructor(o,l,u){this.type=o,this.branches=l,this.otherwise=u}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return l.error("Expected an odd number of arguments.");let u;l.expectedType&&"value"!==l.expectedType.kind&&(u=l.expectedType);const p=[];for(let v=1;v<o.length-1;v+=2){const C=l.parse(o[v],v,ci);if(!C)return null;const T=l.parse(o[v+1],v+1,u);if(!T)return null;p.push([C,T]),u=u||T.type}const _=l.parse(o[o.length-1],o.length-1,u);return _?new La(u,p,_):null}evaluate(o){for(const[l,u]of this.branches)if(l.evaluate(o))return u.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[l,u]of this.branches)o(l),o(u);o(this.otherwise)}outputDefined(){return this.branches.every(([o,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(l=>{o.push(l.serialize())}),o}}var kd=La;class da{constructor(o,l,u,p){this.type=o,this.input=l,this.beginIndex=u,this.endIndex=p}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const u=l.parse(o[1],1,Qn),p=l.parse(o[2],2,mt);if(!u||!p)return null;if(!wd(u.type,[vn(Qn),li,Qn]))return l.error(`Expected first argument to be of type array or string, but found ${In(u.type)} instead`);if(4===o.length){const _=l.parse(o[3],3,mt);return _?new da(u.type,u,p,_):null}return new da(u.type,u,p)}evaluate(o){const l=this.input.evaluate(o),u=this.beginIndex.evaluate(o);if(!Vl(l,["string","array"]))throw new Qe(`Expected first argument to be of type array or string, but found ${In(Vn(l))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(o);return l.slice(u,p)}return l.slice(u)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Oo=da;function Wm(a,o){return"=="===a||"!="===a?"boolean"===o.kind||"string"===o.kind||"number"===o.kind||"null"===o.kind||"value"===o.kind:"string"===o.kind||"number"===o.kind||"value"===o.kind}function Go(a,o,l,u){return 0===u.compare(o,l)}function mo(a,o,l){const u="=="!==a&&"!="!==a;return class SN{constructor(_,v,C){this.type=ci,this.lhs=_,this.rhs=v,this.collator=C,this.hasUntypedArgument="value"===_.type.kind||"value"===v.type.kind}static parse(_,v){if(3!==_.length&&4!==_.length)return v.error("Expected two or three arguments.");const C=_[0];let T=v.parse(_[1],1,Qn);if(!T)return null;if(!Wm(C,T.type))return v.concat(1).error(`"${C}" comparisons are not supported for type '${In(T.type)}'.`);let M=v.parse(_[2],2,Qn);if(!M)return null;if(!Wm(C,M.type))return v.concat(2).error(`"${C}" comparisons are not supported for type '${In(M.type)}'.`);if(T.type.kind!==M.type.kind&&"value"!==T.type.kind&&"value"!==M.type.kind)return v.error(`Cannot compare types '${In(T.type)}' and '${In(M.type)}'.`);u&&("value"===T.type.kind&&"value"!==M.type.kind?T=new js(M.type,[T]):"value"!==T.type.kind&&"value"===M.type.kind&&(M=new js(T.type,[M])));let k=null;if(4===_.length){if("string"!==T.type.kind&&"string"!==M.type.kind&&"value"!==T.type.kind&&"value"!==M.type.kind)return v.error("Cannot use collator to compare non-string types.");if(k=v.parse(_[3],3,Dh),!k)return null}return new SN(T,M,k)}evaluate(_){const v=this.lhs.evaluate(_),C=this.rhs.evaluate(_);if(u&&this.hasUntypedArgument){const T=Vn(v),M=Vn(C);if(T.kind!==M.kind||"string"!==T.kind&&"number"!==T.kind)throw new Qe(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${T.kind}, ${M.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const T=Vn(v),M=Vn(C);if("string"!==T.kind||"string"!==M.kind)return o(_,v,C)}return this.collator?l(_,v,C,this.collator.evaluate(_)):o(_,v,C)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}serialize(){const _=[a];return this.eachChild(v=>{_.push(v.serialize())}),_}}}const Vh=mo("==",function(a,o,l){return o===l},Go),Ad=mo("!=",function(a,o,l){return o!==l},function(a,o,l,u){return!Go(0,o,l,u)}),Iu=mo("<",function(a,o,l){return o<l},function(a,o,l,u){return u.compare(o,l)<0}),ha=mo(">",function(a,o,l){return o>l},function(a,o,l,u){return u.compare(o,l)>0}),$0=mo("<=",function(a,o,l){return o<=l},function(a,o,l,u){return u.compare(o,l)<=0}),Qy=mo(">=",function(a,o,l){return o>=l},function(a,o,l,u){return u.compare(o,l)>=0});class pf{constructor(o,l,u,p,_,v){this.type=li,this.number=o,this.locale=l,this.currency=u,this.unit=p,this.minFractionDigits=_,this.maxFractionDigits=v}static parse(o,l){if(3!==o.length)return l.error("Expected two arguments.");const u=l.parse(o[1],1,mt);if(!u)return null;const p=o[2];if("object"!=typeof p||Array.isArray(p))return l.error("NumberFormat options argument must be an object.");let _=null;if(p.locale&&(_=l.parse(p.locale,1,li),!_))return null;let v=null;if(p.currency&&(v=l.parse(p.currency,1,li),!v))return null;let C=null;if(p.unit&&(C=l.parse(p.unit,1,li),!C))return null;let T=null;if(p["min-fraction-digits"]&&(T=l.parse(p["min-fraction-digits"],1,mt),!T))return null;let M=null;return p["max-fraction-digits"]&&(M=l.parse(p["max-fraction-digits"],1,mt),!M)?null:new pf(u,_,v,C,T,M)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class ff{constructor(o){this.type=mt,this.input=o}static parse(o,l){if(2!==o.length)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);const u=l.parse(o[1],1);return u?"array"!==u.type.kind&&"string"!==u.type.kind&&"value"!==u.type.kind?l.error(`Expected argument of type string or array, but found ${In(u.type)} instead.`):new ff(u):null}evaluate(o){const l=this.input.evaluate(o);if("string"==typeof l||Array.isArray(l))return l.length;throw new Qe(`Expected value to be of type string or array, but found ${In(Vn(l))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(l=>{o.push(l.serialize())}),o}}const G0={"==":Vh,"!=":Ad,">":ha,"<":Iu,">=":Qy,"<=":$0,array:js,at:Gc,boolean:js,case:kd,coalesce:oo,collator:Nn,format:xd,image:Sd,in:fr,"index-of":j0,interpolate:qs,"interpolate-hcl":qs,"interpolate-lab":qs,length:ff,let:$c,literal:Oh,match:hf,number:js,"number-format":pf,object:js,slice:Oo,step:Ed,string:js,"to-boolean":Ul,"to-color":Ul,"to-number":Ul,"to-string":Ul,var:it,within:Md};function W0(a,[o,l,u,p]){o=o.evaluate(a),l=l.evaluate(a),u=u.evaluate(a);const _=p?p.evaluate(a):1,v=V0(o,l,u,_);if(v)throw new Qe(v);return new kr(o/255*_,l/255*_,u/255*_,_)}function qm(a,o){return a in o}function mf(a,o){const l=o[a];return void 0===l?null:l}function cl(a){return{type:a}}jl.register(G0,{error:[{kind:"error"},[li],(a,[o])=>{throw new Qe(o.evaluate(a))}],typeof:[li,[Qn],(a,[o])=>In(Vn(o.evaluate(a)))],"to-rgba":[vn(mt,4),[Bn],(a,[o])=>o.evaluate(a).toArray()],rgb:[Bn,[mt,mt,mt],W0],rgba:[Bn,[mt,mt,mt,mt],W0],has:{type:ci,overloads:[[[li],(a,[o])=>qm(o.evaluate(a),a.properties())],[[li,On],(a,[o,l])=>qm(o.evaluate(a),l.evaluate(a))]]},get:{type:Qn,overloads:[[[li],(a,[o])=>mf(o.evaluate(a),a.properties())],[[li,On],(a,[o,l])=>mf(o.evaluate(a),l.evaluate(a))]]},"feature-state":[Qn,[li],(a,[o])=>mf(o.evaluate(a),a.featureState||{})],properties:[On,[],a=>a.properties()],"geometry-type":[li,[],a=>a.geometryType()],id:[Qn,[],a=>a.id()],zoom:[mt,[],a=>a.globals.zoom],pitch:[mt,[],a=>a.globals.pitch||0],"distance-from-center":[mt,[],a=>a.distanceFromCenter()],"heatmap-density":[mt,[],a=>a.globals.heatmapDensity||0],"line-progress":[mt,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[mt,[],a=>a.globals.skyRadialProgress||0],accumulated:[Qn,[],a=>void 0===a.globals.accumulated?null:a.globals.accumulated],"+":[mt,cl(mt),(a,o)=>{let l=0;for(const u of o)l+=u.evaluate(a);return l}],"*":[mt,cl(mt),(a,o)=>{let l=1;for(const u of o)l*=u.evaluate(a);return l}],"-":{type:mt,overloads:[[[mt,mt],(a,[o,l])=>o.evaluate(a)-l.evaluate(a)],[[mt],(a,[o])=>-o.evaluate(a)]]},"/":[mt,[mt,mt],(a,[o,l])=>o.evaluate(a)/l.evaluate(a)],"%":[mt,[mt,mt],(a,[o,l])=>o.evaluate(a)%l.evaluate(a)],ln2:[mt,[],()=>Math.LN2],pi:[mt,[],()=>Math.PI],e:[mt,[],()=>Math.E],"^":[mt,[mt,mt],(a,[o,l])=>Math.pow(o.evaluate(a),l.evaluate(a))],sqrt:[mt,[mt],(a,[o])=>Math.sqrt(o.evaluate(a))],log10:[mt,[mt],(a,[o])=>Math.log(o.evaluate(a))/Math.LN10],ln:[mt,[mt],(a,[o])=>Math.log(o.evaluate(a))],log2:[mt,[mt],(a,[o])=>Math.log(o.evaluate(a))/Math.LN2],sin:[mt,[mt],(a,[o])=>Math.sin(o.evaluate(a))],cos:[mt,[mt],(a,[o])=>Math.cos(o.evaluate(a))],tan:[mt,[mt],(a,[o])=>Math.tan(o.evaluate(a))],asin:[mt,[mt],(a,[o])=>Math.asin(o.evaluate(a))],acos:[mt,[mt],(a,[o])=>Math.acos(o.evaluate(a))],atan:[mt,[mt],(a,[o])=>Math.atan(o.evaluate(a))],min:[mt,cl(mt),(a,o)=>Math.min(...o.map(l=>l.evaluate(a)))],max:[mt,cl(mt),(a,o)=>Math.max(...o.map(l=>l.evaluate(a)))],abs:[mt,[mt],(a,[o])=>Math.abs(o.evaluate(a))],round:[mt,[mt],(a,[o])=>{const l=o.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[mt,[mt],(a,[o])=>Math.floor(o.evaluate(a))],ceil:[mt,[mt],(a,[o])=>Math.ceil(o.evaluate(a))],"filter-==":[ci,[li,Qn],(a,[o,l])=>a.properties()[o.value]===l.value],"filter-id-==":[ci,[Qn],(a,[o])=>a.id()===o.value],"filter-type-==":[ci,[li],(a,[o])=>a.geometryType()===o.value],"filter-<":[ci,[li,Qn],(a,[o,l])=>{const u=a.properties()[o.value],p=l.value;return typeof u==typeof p&&u<p}],"filter-id-<":[ci,[Qn],(a,[o])=>{const l=a.id(),u=o.value;return typeof l==typeof u&&l<u}],"filter->":[ci,[li,Qn],(a,[o,l])=>{const u=a.properties()[o.value],p=l.value;return typeof u==typeof p&&u>p}],"filter-id->":[ci,[Qn],(a,[o])=>{const l=a.id(),u=o.value;return typeof l==typeof u&&l>u}],"filter-<=":[ci,[li,Qn],(a,[o,l])=>{const u=a.properties()[o.value],p=l.value;return typeof u==typeof p&&u<=p}],"filter-id-<=":[ci,[Qn],(a,[o])=>{const l=a.id(),u=o.value;return typeof l==typeof u&&l<=u}],"filter->=":[ci,[li,Qn],(a,[o,l])=>{const u=a.properties()[o.value],p=l.value;return typeof u==typeof p&&u>=p}],"filter-id->=":[ci,[Qn],(a,[o])=>{const l=a.id(),u=o.value;return typeof l==typeof u&&l>=u}],"filter-has":[ci,[Qn],(a,[o])=>o.value in a.properties()],"filter-has-id":[ci,[],a=>null!==a.id()&&void 0!==a.id()],"filter-type-in":[ci,[vn(li)],(a,[o])=>o.value.indexOf(a.geometryType())>=0],"filter-id-in":[ci,[vn(Qn)],(a,[o])=>o.value.indexOf(a.id())>=0],"filter-in-small":[ci,[li,vn(Qn)],(a,[o,l])=>l.value.indexOf(a.properties()[o.value])>=0],"filter-in-large":[ci,[li,vn(Qn)],(a,[o,l])=>function(u,p,_,v){for(;_<=v;){const C=_+v>>1;if(p[C]===u)return!0;p[C]>u?v=C-1:_=C+1}return!1}(a.properties()[o.value],l.value,0,l.value.length-1)],all:{type:ci,overloads:[[[ci,ci],(a,[o,l])=>o.evaluate(a)&&l.evaluate(a)],[cl(ci),(a,o)=>{for(const l of o)if(!l.evaluate(a))return!1;return!0}]]},any:{type:ci,overloads:[[[ci,ci],(a,[o,l])=>o.evaluate(a)||l.evaluate(a)],[cl(ci),(a,o)=>{for(const l of o)if(l.evaluate(a))return!0;return!1}]]},"!":[ci,[ci],(a,[o])=>!o.evaluate(a)],"is-supported-script":[ci,[li],(a,[o])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(o.evaluate(a))}],upcase:[li,[li],(a,[o])=>o.evaluate(a).toUpperCase()],downcase:[li,[li],(a,[o])=>o.evaluate(a).toLowerCase()],concat:[li,cl(Qn),(a,o)=>o.map(l=>Ah(l.evaluate(a))).join("")],"resolved-locale":[li,[Dh],(a,[o])=>o.evaluate(a).resolvedLocale()]});var Hh=G0;function q0(a){return{result:"success",value:a}}function Zs(a){return{result:"error",value:a}}function ku(a){return"data-driven"===a["property-type"]}function Au(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Zm(a){return!!a.expression&&a.expression.interpolated}function zi(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":null===a?"null":typeof a}function Uh(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}function Jy(a){return a}function Od(a,o){const l="color"===o.type,u=a.stops&&"object"==typeof a.stops[0][0],p=u||!(u||void 0!==a.property),_=a.type||(Zm(o)?"exponential":"interval");if(l&&((a=rl({},a)).stops&&(a.stops=a.stops.map(M=>[M[0],kr.parse(M[1])])),a.default=kr.parse(a.default?a.default:o.default)),a.colorSpace&&"rgb"!==a.colorSpace&&!ui[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let v,C,T;if("exponential"===_)v=Ym;else if("interval"===_)v=Z0;else if("categorical"===_){v=Km,C=Object.create(null);for(const M of a.stops)C[M[0]]=M[1];T=typeof a.stops[0][0]}else{if("identity"!==_)throw new Error(`Unknown function type "${_}"`);v=ul}if(u){const M={},k=[];for(let B=0;B<a.stops.length;B++){const H=a.stops[B],Z=H[0].zoom;void 0===M[Z]&&(M[Z]={zoom:Z,type:a.type,property:a.property,default:a.default,stops:[]},k.push(Z)),M[Z].stops.push([H[0].value,H[1]])}const O=[];for(const B of k)O.push([M[B].zoom,Od(M[B],o)]);const N={name:"linear"};return{kind:"composite",interpolationType:N,interpolationFactor:qs.interpolationFactor.bind(void 0,N),zoomStops:O.map(B=>B[0]),evaluate:({zoom:B},H)=>Ym({stops:O,base:a.base},o,B).evaluate(B,H)}}if(p){const M="exponential"===_?{name:"exponential",base:void 0!==a.base?a.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:qs.interpolationFactor.bind(void 0,M),zoomStops:a.stops.map(k=>k[0]),evaluate:({zoom:k})=>v(a,o,k,C,T)}}return{kind:"source",evaluate(M,k){const O=k&&k.properties?k.properties[a.property]:void 0;return void 0===O?Zl(a.default,o.default):v(a,o,O,C,T)}}}function Zl(a,o,l){return void 0!==a?a:void 0!==o?o:void 0!==l?l:void 0}function Km(a,o,l,u,p){return Zl(typeof l===p?u[l]:void 0,a.default,o.default)}function Z0(a,o,l){if("number"!==zi(l))return Zl(a.default,o.default);const u=a.stops.length;if(1===u||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[u-1][0])return a.stops[u-1][1];const p=Ft(a.stops.map(_=>_[0]),l);return a.stops[p][1]}function Ym(a,o,l){const u=void 0!==a.base?a.base:1;if("number"!==zi(l))return Zl(a.default,o.default);const p=a.stops.length;if(1===p||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[p-1][0])return a.stops[p-1][1];const _=Ft(a.stops.map(k=>k[0]),l),v=function(k,O,N,B){const H=B-N,Z=k-N;return 0===H?0:1===O?Z/H:(Math.pow(O,Z)-1)/(Math.pow(O,H)-1)}(l,u,a.stops[_][0],a.stops[_+1][0]),C=a.stops[_][1],T=a.stops[_+1][1];let M=po[o.type]||Jy;if(a.colorSpace&&"rgb"!==a.colorSpace){const k=ui[a.colorSpace];M=(O,N)=>k.reverse(k.interpolate(k.forward(O),k.forward(N),v))}return"function"==typeof C.evaluate?{evaluate(...k){const O=C.evaluate.apply(void 0,k),N=T.evaluate.apply(void 0,k);if(void 0!==O&&void 0!==N)return M(O,N,v)}}:M(C,T,v)}function ul(a,o,l){return"color"===o.type?l=kr.parse(l):"formatted"===o.type?l=Eo.fromString(l.toString()):"resolvedImage"===o.type?l=Us.fromString(l.toString()):zi(l)===o.type||"enum"===o.type&&o.values[l]||(l=void 0),Zl(l,a.default,o.default)}class jh{constructor(o,l){var u;this.expression=o,this._warningHistory={},this._evaluator=new Ph,this._defaultValue=l?"color"===(u=l).type&&(Uh(u.default)||Array.isArray(u.default))?new kr(0,0,0,0):"color"===u.type?kr.parse(u.default)||null:void 0===u.default?null:u.default:null,this._enumValues=l&&"enum"===l.type?l.values:null}evaluateWithoutErrorHandling(o,l,u,p,_,v,C,T){return this._evaluator.globals=o,this._evaluator.feature=l,this._evaluator.featureState=u,this._evaluator.canonical=p||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=T||null,this.expression.evaluate(this._evaluator)}evaluate(o,l,u,p,_,v,C,T){this._evaluator.globals=o,this._evaluator.feature=l||null,this._evaluator.featureState=u||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=T||null;try{const M=this.expression.evaluate(this._evaluator);if(null==M||"number"==typeof M&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new Qe(`Expected value to be one of ${Object.keys(this._enumValues).map(k=>JSON.stringify(k)).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console<"u"&&console.warn(M.message)),this._defaultValue}}}function pi(a){return Array.isArray(a)&&a.length>0&&"string"==typeof a[0]&&a[0]in Hh}function dl(a,o){const l=new $l(Hh,[],o?function(p){const _={color:Bn,string:li,number:mt,enum:li,boolean:ci,formatted:ct,resolvedImage:ca};return"array"===p.type?vn(_[p.value]||Qn,p.length):_[p.type]}(o):void 0),u=l.parse(a,void 0,void 0,void 0,o&&"string"===o.type?{typeAnnotation:"coerce"}:void 0);return u?q0(new jh(u,o)):Zs(l.errors)}class Kl{constructor(o,l){this.kind=o,this._styleExpression=l,this.isStateDependent="constant"!==o&&!Ws(l.expression)}evaluateWithoutErrorHandling(o,l,u,p,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,l,u,p,_,v)}evaluate(o,l,u,p,_,v){return this._styleExpression.evaluate(o,l,u,p,_,v)}}class $h{constructor(o,l,u,p){this.kind=o,this.zoomStops=u,this._styleExpression=l,this.isStateDependent="camera"!==o&&!Ws(l.expression),this.interpolationType=p}evaluateWithoutErrorHandling(o,l,u,p,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,l,u,p,_,v)}evaluate(o,l,u,p,_,v){return this._styleExpression.evaluate(o,l,u,p,_,v)}interpolationFactor(o,l,u){return this.interpolationType?qs.interpolationFactor(this.interpolationType,o,l,u):0}}function Gh(a,o){if("error"===(a=dl(a,o)).result)return a;const l=a.value.expression,u=Hc(l);if(!u&&!ku(o))return Zs([new Ri("","data expressions not supported")]);const p=ol(l,["zoom","pitch","distance-from-center"]);if(!p&&!Au(o))return Zs([new Ri("","zoom expressions not supported")]);const _=Pd(l);return _||p?_ instanceof Ri?Zs([_]):_ instanceof qs&&!Zm(o)?Zs([new Ri("",'"interpolate" expressions cannot be used with this property')]):q0(_?new $h(u?"camera":"composite",a.value,_.labels,_ instanceof qs?_.interpolation:void 0):new Kl(u?"constant":"source",a.value)):Zs([new Ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Wc{constructor(o,l){this._parameters=o,this._specification=l,rl(this,Od(this._parameters,this._specification))}static deserialize(o){return new Wc(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Pd(a){let o=null;if(a instanceof $c)o=Pd(a.result);else if(a instanceof oo){for(const l of a.args)if(o=Pd(l),o)break}else(a instanceof Ed||a instanceof qs)&&a.input instanceof jl&&"zoom"===a.input.name&&(o=a);return o instanceof Ri||a.eachChild(l=>{const u=Pd(l);u instanceof Ri?o=u:!o&&u?o=new Ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&u&&o!==u&&(o=new Ri("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}class Ot{constructor(o,l,u,p){this.message=(o?`${o}: `:"")+u,p&&(this.identifier=p),null!=l&&l.__line__&&(this.line=l.__line__)}}function Ks(a){const o=a.key,l=a.value,u=a.valueSpec||{},p=a.objectElementValidators||{},_=a.style,v=a.styleSpec;let C=[];const T=zi(l);if("object"!==T)return[new Ot(o,l,`object expected, ${T} found`)];for(const M in l){const k=M.split(".")[0],O=u[k]||u["*"];let N;p[k]?N=p[k]:u[k]?N=me:p["*"]?N=p["*"]:u["*"]&&(N=me),N?C=C.concat(N({key:(o&&`${o}.`)+M,value:l[M],valueSpec:O,style:_,styleSpec:v,object:l,objectKey:M},l)):C.push(new Ot(o,l[M],`unknown property "${M}"`))}for(const M in u)p[M]||u[M].required&&void 0===u[M].default&&void 0===l[M]&&C.push(new Ot(o,l,`missing required property "${M}"`));return C}function Po(a){const o=a.value,l=a.valueSpec,u=a.style,p=a.styleSpec,_=a.key,v=a.arrayElementValidator||me;if("array"!==zi(o))return[new Ot(_,o,`array expected, ${zi(o)} found`)];if(l.length&&o.length!==l.length)return[new Ot(_,o,`array length ${l.length} expected, length ${o.length} found`)];if(l["min-length"]&&o.length<l["min-length"])return[new Ot(_,o,`array length at least ${l["min-length"]} expected, length ${o.length} found`)];let C={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};p.$version<7&&(C.function=l.function),"object"===zi(l.value)&&(C=l.value);let T=[];for(let M=0;M<o.length;M++)T=T.concat(v({array:o,arrayIndex:M,value:o[M],valueSpec:C,style:u,styleSpec:p,key:`${_}[${M}]`}));return T}function Wh(a){const o=a.key,l=a.value,u=a.valueSpec;let p=zi(l);if("number"===p&&l!=l&&(p="NaN"),"number"!==p)return[new Ot(o,l,`number expected, ${p} found`)];if("minimum"in u){let _=u.minimum;if("array"===zi(u.minimum)&&(_=u.minimum[a.arrayIndex]),l<_)return[new Ot(o,l,`${l} is less than the minimum value ${_}`)]}if("maximum"in u){let _=u.maximum;if("array"===zi(u.maximum)&&(_=u.maximum[a.arrayIndex]),l>_)return[new Ot(o,l,`${l} is greater than the maximum value ${_}`)]}return[]}function Xm(a){const o=a.valueSpec,l=Br(a.value.type);let u,p,_,v={};const C="categorical"!==l&&void 0===a.value.property,T=!C,M="array"===zi(a.value.stops)&&"array"===zi(a.value.stops[0])&&"object"===zi(a.value.stops[0][0]),k=Ks({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(B){if("identity"===l)return[new Ot(B.key,B.value,'identity function may not have a "stops" property')];let H=[];const Z=B.value;return H=H.concat(Po({key:B.key,value:Z,valueSpec:B.valueSpec,style:B.style,styleSpec:B.styleSpec,arrayElementValidator:O})),"array"===zi(Z)&&0===Z.length&&H.push(new Ot(B.key,Z,"array must have at least one stop")),H},default:function(B){return me({key:B.key,value:B.value,valueSpec:o,style:B.style,styleSpec:B.styleSpec})}}});return"identity"===l&&C&&k.push(new Ot(a.key,a.value,'missing required property "property"')),"identity"===l||a.value.stops||k.push(new Ot(a.key,a.value,'missing required property "stops"')),"exponential"===l&&a.valueSpec.expression&&!Zm(a.valueSpec)&&k.push(new Ot(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(T&&!ku(a.valueSpec)?k.push(new Ot(a.key,a.value,"property functions not supported")):C&&!Au(a.valueSpec)&&k.push(new Ot(a.key,a.value,"zoom functions not supported"))),"categorical"!==l&&!M||void 0!==a.value.property||k.push(new Ot(a.key,a.value,'"property" property is required')),k;function O(B){let H=[];const Z=B.value,J=B.key;if("array"!==zi(Z))return[new Ot(J,Z,`array expected, ${zi(Z)} found`)];if(2!==Z.length)return[new Ot(J,Z,`array length 2 expected, length ${Z.length} found`)];if(M){if("object"!==zi(Z[0]))return[new Ot(J,Z,`object expected, ${zi(Z[0])} found`)];if(void 0===Z[0].zoom)return[new Ot(J,Z,"object stop key must have zoom")];if(void 0===Z[0].value)return[new Ot(J,Z,"object stop key must have value")];const de=Br(Z[0].zoom);if("number"!=typeof de)return[new Ot(J,Z[0].zoom,"stop zoom values must be numbers")];if(_&&_>de)return[new Ot(J,Z[0].zoom,"stop zoom values must appear in ascending order")];de!==_&&(_=de,p=void 0,v={}),H=H.concat(Ks({key:`${J}[0]`,value:Z[0],valueSpec:{zoom:{}},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{zoom:Wh,value:N}}))}else H=H.concat(N({key:`${J}[0]`,value:Z[0],valueSpec:{},style:B.style,styleSpec:B.styleSpec},Z));return pi(Fi(Z[1]))?H.concat([new Ot(`${J}[1]`,Z[1],"expressions are not allowed in function stops.")]):H.concat(me({key:`${J}[1]`,value:Z[1],valueSpec:o,style:B.style,styleSpec:B.styleSpec}))}function N(B,H){const Z=zi(B.value),J=Br(B.value),de=null!==B.value?B.value:H;if(u){if(Z!==u)return[new Ot(B.key,de,`${Z} stop domain type must match previous stop domain type ${u}`)]}else u=Z;if("number"!==Z&&"string"!==Z&&"boolean"!==Z&&"number"!=typeof J&&"string"!=typeof J&&"boolean"!=typeof J)return[new Ot(B.key,de,"stop domain value must be a number, string, or boolean")];if("number"!==Z&&"categorical"!==l){let ge=`number expected, ${Z} found`;return ku(o)&&void 0===l&&(ge+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ot(B.key,de,ge)]}return"categorical"!==l||"number"!==Z||"number"==typeof J&&isFinite(J)&&Math.floor(J)===J?"categorical"!==l&&"number"===Z&&"number"==typeof J&&"number"==typeof p&&void 0!==p&&J<p?[new Ot(B.key,de,"stop domain values must appear in ascending order")]:(p=J,"categorical"===l&&J in v?[new Ot(B.key,de,"stop domain values must be unique")]:(v[J]=!0,[])):[new Ot(B.key,de,`integer expected, found ${String(J)}`)]}}function Yl(a){const o=("property"===a.expressionContext?Gh:dl)(Fi(a.value),a.valueSpec);if("error"===o.result)return o.value.map(u=>new Ot(`${a.key}${u.key}`,a.value,u.message));const l=o.value.expression||o.value._styleExpression.expression;if("property"===a.expressionContext&&"text-font"===a.propertyKey&&!l.outputDefined())return[new Ot(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===a.expressionContext&&"layout"===a.propertyType&&!Ws(l))return[new Ot(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===a.expressionContext)return Qm(l,a);if(a.expressionContext&&0===a.expressionContext.indexOf("cluster")){if(!ol(l,["zoom","feature-state"]))return[new Ot(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===a.expressionContext&&!Hc(l))return[new Ot(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Qm(a,o){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(o.valueSpec&&o.valueSpec.expression)for(const p of o.valueSpec.expression.parameters)l.delete(p);if(0===l.size)return[];const u=[];return a instanceof jl&&l.has(a.name)?[new Ot(o.key,o.value,`["${a.name}"] expression is not supported in a filter for a ${o.object.type} layer with id: ${o.object.id}`)]:(a.eachChild(p=>{u.push(...Qm(p,o))}),u)}function gf(a){const o=a.key,l=a.value,u=a.valueSpec,p=[];return Array.isArray(u.values)?-1===u.values.indexOf(Br(l))&&p.push(new Ot(o,l,`expected one of [${u.values.join(", ")}], ${JSON.stringify(l)} found`)):-1===Object.keys(u.values).indexOf(Br(l))&&p.push(new Ot(o,l,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(l)} found`)),p}function wr(a){if(!0===a||!1===a)return!0;if(!Array.isArray(a)||0===a.length)return!1;switch(a[0]){case"has":return a.length>=2&&"$id"!==a[1]&&"$type"!==a[1];case"in":return a.length>=3&&("string"!=typeof a[1]||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==a.length||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const o of a.slice(1))if(!wr(o)&&"boolean"!=typeof o)return!1;return!0;default:return!0}}function qc(a,o="fill"){if(null==a)return{filter:()=>!0,needGeometry:!1,needFeature:!1};wr(a)||(a=ao(a));const l=a;let u=!0;try{u=function(M){if(!so(M))return M;let k=Fi(M);return Xl(k),k=Es(k),k}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(l,null,2)}\n        `)}const p=tt[`filter_${o}`],_=dl(u,p);let v=null;if("error"===_.result)throw new Error(_.value.map(M=>`${M.key}: ${M.message}`).join(", "));v=(M,k,O)=>_.value.evaluate(M,k,{},O);let C=null,T=null;if(u!==l){const M=dl(l,p);if("error"===M.result)throw new Error(M.value.map(k=>`${k.key}: ${k.message}`).join(", "));C=(k,O,N,B,H)=>M.value.evaluate(k,O,{},N,void 0,void 0,B,H),T=!Hc(M.value.expression)}return{filter:v,dynamicFilter:C||void 0,needGeometry:Zc(u),needFeature:!!T}}function Es(a){if(!Array.isArray(a))return a;const o=function(l){if(K0.has(l[0]))for(let u=1;u<l.length;u++)if(so(l[u]))return!0;return l}(a);return!0===o?o:o.map(l=>Es(l))}function Xl(a){let o=!1;const l=[];if("case"===a[0]){for(let u=1;u<a.length-1;u+=2)o=o||so(a[u]),l.push(a[u+1]);l.push(a[a.length-1])}else if("match"===a[0]){o=o||so(a[1]);for(let u=2;u<a.length-1;u+=2)l.push(a[u+1]);l.push(a[a.length-1])}else if("step"===a[0]){o=o||so(a[1]);for(let u=1;u<a.length-1;u+=2)l.push(a[u+1])}o&&(a.length=0,a.push("any",...l));for(let u=1;u<a.length;u++)Xl(a[u])}function so(a){if(!Array.isArray(a))return!1;if("pitch"===(o=a[0])||"distance-from-center"===o)return!0;var o;for(let l=1;l<a.length;l++)if(so(a[l]))return!0;return!1}const K0=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function _f(a,o){return a<o?-1:a>o?1:0}function Zc(a){if(!Array.isArray(a))return!1;if("within"===a[0])return!0;for(let o=1;o<a.length;o++)if(Zc(a[o]))return!0;return!1}function ao(a){if(!a)return!0;const o=a[0];return a.length<=1?"any"!==o:"=="===o?yf(a[1],a[2],"=="):"!="===o?pa(yf(a[1],a[2],"==")):"<"===o||">"===o||"<="===o||">="===o?yf(a[1],a[2],o):"any"===o?(l=a.slice(1),["any"].concat(l.map(ao))):"all"===o?["all"].concat(a.slice(1).map(ao)):"none"===o?["all"].concat(a.slice(1).map(ao).map(pa)):"in"===o?Kc(a[1],a.slice(2)):"!in"===o?pa(Kc(a[1],a.slice(2))):"has"===o?Jm(a[1]):"!has"===o?pa(Jm(a[1])):"within"!==o||a;var l}function yf(a,o,l){switch(a){case"$type":return[`filter-type-${l}`,o];case"$id":return[`filter-id-${l}`,o];default:return[`filter-${l}`,a,o]}}function Kc(a,o){if(0===o.length)return!1;switch(a){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(l=>typeof l!=typeof o[0])?["filter-in-large",a,["literal",o.sort(_f)]]:["filter-in-small",a,["literal",o]]}}function Jm(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function pa(a){return["!",a]}function Ou(a){return wr(Fi(a.value))?Yl(rl({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):qh(a)}function qh(a){const o=a.value,l=a.key;if("array"!==zi(o))return[new Ot(l,o,`array expected, ${zi(o)} found`)];const u=a.styleSpec;let p,_=[];if(o.length<1)return[new Ot(l,o,"filter array must have at least 1 element")];switch(_=_.concat(gf({key:`${l}[0]`,value:o[0],valueSpec:u.filter_operator,style:a.style,styleSpec:a.styleSpec})),Br(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&"$type"===Br(o[1])&&_.push(new Ot(l,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":3!==o.length&&_.push(new Ot(l,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(p=zi(o[1]),"string"!==p&&_.push(new Ot(`${l}[1]`,o[1],`string expected, ${p} found`)));for(let v=2;v<o.length;v++)p=zi(o[v]),"$type"===Br(o[1])?_=_.concat(gf({key:`${l}[${v}]`,value:o[v],valueSpec:u.geometry_type,style:a.style,styleSpec:a.styleSpec})):"string"!==p&&"number"!==p&&"boolean"!==p&&_.push(new Ot(`${l}[${v}]`,o[v],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let v=1;v<o.length;v++)_=_.concat(qh({key:`${l}[${v}]`,value:o[v],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":p=zi(o[1]),2!==o.length?_.push(new Ot(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):"string"!==p&&_.push(new Ot(`${l}[1]`,o[1],`string expected, ${p} found`));break;case"within":p=zi(o[1]),2!==o.length?_.push(new Ot(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):"object"!==p&&_.push(new Ot(`${l}[1]`,o[1],`object expected, ${p} found`))}return _}function Gn(a,o){const l=a.key,u=a.style,p=a.styleSpec,_=a.value,v=a.objectKey,C=p[`${o}_${a.layerType}`];if(!C)return[];const T=v.match(/^(.*)-transition$/);if("paint"===o&&T&&C[T[1]]&&C[T[1]].transition)return me({key:l,value:_,valueSpec:p.transition,style:u,styleSpec:p});const M=a.valueSpec||C[v];if(!M)return[new Ot(l,_,`unknown property "${v}"`)];let k;if("string"===zi(_)&&ku(M)&&!M.tokens&&(k=/^{([^}]+)}$/.exec(_)))return[new Ot(l,_,`"${v}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(k[1])} }\`.`)];const O=[];return"symbol"===a.layerType&&("text-field"===v&&u&&!u.glyphs&&O.push(new Ot(l,_,'use of "text-field" requires a style "glyphs" property')),"text-font"===v&&Uh(Fi(_))&&"identity"===Br(_.type)&&O.push(new Ot(l,_,'"text-font" does not support identity functions'))),O.concat(me({key:a.key,value:_,valueSpec:M,style:u,styleSpec:p,expressionContext:"property",propertyType:o,propertyKey:v}))}function Zh(a){return Gn(a,"paint")}function Y0(a){return Gn(a,"layout")}function Kh(a){let o=[];const l=a.value,u=a.key,p=a.style,_=a.styleSpec;l.type||l.ref||o.push(new Ot(u,l,'either "type" or "ref" is required'));let v=Br(l.type);const C=Br(l.ref);if(l.id){const T=Br(l.id);for(let M=0;M<a.arrayIndex;M++){const k=p.layers[M];Br(k.id)===T&&o.push(new Ot(u,l.id,`duplicate layer id "${l.id}", previously used at line ${k.id.__line__}`))}}if("ref"in l){let T;["type","source","source-layer","filter","layout"].forEach(M=>{M in l&&o.push(new Ot(u,l[M],`"${M}" is prohibited for ref layers`))}),p.layers.forEach(M=>{Br(M.id)===C&&(T=M)}),T?T.ref?o.push(new Ot(u,l.ref,"ref cannot reference another ref layer")):v=Br(T.type):"string"==typeof C&&o.push(new Ot(u,l.ref,`ref layer "${C}" not found`))}else if("background"!==v&&"sky"!==v)if(l.source){const T=p.sources&&p.sources[l.source],M=T&&Br(T.type);T?"vector"===M&&"raster"===v?o.push(new Ot(u,l.source,`layer "${l.id}" requires a raster source`)):"raster"===M&&"raster"!==v?o.push(new Ot(u,l.source,`layer "${l.id}" requires a vector source`)):"vector"!==M||l["source-layer"]?"raster-dem"===M&&"hillshade"!==v?o.push(new Ot(u,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==v||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||"geojson"===M&&T.lineMetrics||o.push(new Ot(u,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new Ot(u,l,`layer "${l.id}" must specify a "source-layer"`)):o.push(new Ot(u,l.source,`source "${l.source}" not found`))}else o.push(new Ot(u,l,'missing required property "source"'));return o=o.concat(Ks({key:u,value:l,valueSpec:_.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>me({key:`${u}.type`,value:l.type,valueSpec:_.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:T=>Ou(rl({layerType:v},T)),layout:T=>Ks({layer:l,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":M=>Y0(rl({layerType:v},M))}}),paint:T=>Ks({layer:l,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":M=>Zh(rl({layerType:v},M))}})}})),o}function hl(a){const o=a.value,l=a.key,u=zi(o);return"string"!==u?[new Ot(l,o,`string expected, ${u} found`)]:[]}const vf={promoteId:function({key:a,value:o}){if("string"===zi(o))return hl({key:a,value:o});{const l=[];for(const u in o)l.push(...hl({key:`${a}.${u}`,value:o[u]}));return l}}};function bf(a){const o=a.value,l=a.key,u=a.styleSpec,p=a.style;if(!o.type)return[new Ot(l,o,'"type" is required')];const _=Br(o.type);let v;switch(_){case"vector":case"raster":case"raster-dem":return v=Ks({key:l,value:o,valueSpec:u[`source_${_.replace("-","_")}`],style:a.style,styleSpec:u,objectElementValidators:vf}),v;case"geojson":if(v=Ks({key:l,value:o,valueSpec:u.source_geojson,style:p,styleSpec:u,objectElementValidators:vf}),o.cluster)for(const C in o.clusterProperties){const[T,M]=o.clusterProperties[C],k="string"==typeof T?[T,["accumulated"],["get",C]]:T;v.push(...Yl({key:`${l}.${C}.map`,value:M,expressionContext:"cluster-map"})),v.push(...Yl({key:`${l}.${C}.reduce`,value:k,expressionContext:"cluster-reduce"}))}return v;case"video":return Ks({key:l,value:o,valueSpec:u.source_video,style:p,styleSpec:u});case"image":return Ks({key:l,value:o,valueSpec:u.source_image,style:p,styleSpec:u});case"canvas":return[new Ot(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gf({key:`${l}.type`,value:o.type,valueSpec:{values:eg(u)},style:p,styleSpec:u})}}function eg(a){return a.source.reduce((o,l)=>{const u=a[l];return"enum"===u.type.type&&(o=o.concat(Object.keys(u.type.values))),o},[])}function tg(a){const o=a.value,l=a.styleSpec,u=l.light,p=a.style;let _=[];const v=zi(o);if(void 0===o)return _;if("object"!==v)return _=_.concat([new Ot("light",o,`object expected, ${v} found`)]),_;for(const C in o){const T=C.match(/^(.*)-transition$/);_=_.concat(T&&u[T[1]]&&u[T[1]].transition?me({key:C,value:o[C],valueSpec:l.transition,style:p,styleSpec:l}):u[C]?me({key:C,value:o[C],valueSpec:u[C],style:p,styleSpec:l}):[new Ot(C,o[C],`unknown property "${C}"`)])}return _}function _t(a){const o=a.value,l=a.key,u=a.style,p=a.styleSpec,_=p.terrain;let v=[];const C=zi(o);if(void 0===o)return v;if("object"!==C)return v=v.concat([new Ot("terrain",o,`object expected, ${C} found`)]),v;for(const T in o){const M=T.match(/^(.*)-transition$/);v=v.concat(M&&_[M[1]]&&_[M[1]].transition?me({key:T,value:o[T],valueSpec:p.transition,style:u,styleSpec:p}):_[T]?me({key:T,value:o[T],valueSpec:_[T],style:u,styleSpec:p}):[new Ot(T,o[T],`unknown property "${T}"`)])}if(o.source){const T=u.sources&&u.sources[o.source],M=T&&Br(T.type);T?"raster-dem"!==M&&v.push(new Ot(l,o.source,`terrain cannot be used with a source of type ${String(M)}, it only be used with a "raster-dem" source type`)):v.push(new Ot(l,o.source,`source "${o.source}" not found`))}else v.push(new Ot(l,o,'terrain is missing required property "source"'));return v}function Mi(a){const o=a.value,l=a.style,u=a.styleSpec,p=u.fog;let _=[];const v=zi(o);if(void 0===o)return _;if("object"!==v)return _=_.concat([new Ot("fog",o,`object expected, ${v} found`)]),_;for(const C in o){const T=C.match(/^(.*)-transition$/);_=_.concat(T&&p[T[1]]&&p[T[1]].transition?me({key:C,value:o[C],valueSpec:u.transition,style:l,styleSpec:u}):p[C]?me({key:C,value:o[C],valueSpec:p[C],style:l,styleSpec:u}):[new Ot(C,o[C],`unknown property "${C}"`)])}return _}const ye={"*":()=>[],array:Po,boolean:function(a){const o=a.value,l=a.key,u=zi(o);return"boolean"!==u?[new Ot(l,o,`boolean expected, ${u} found`)]:[]},number:Wh,color:function(a){const o=a.key,l=a.value,u=zi(l);return"string"!==u?[new Ot(o,l,`color expected, ${u} found`)]:null===ho(l)?[new Ot(o,l,`color expected, "${l}" found`)]:[]},enum:gf,filter:Ou,function:Xm,layer:Kh,object:Ks,source:bf,light:tg,terrain:_t,fog:Mi,string:hl,formatted:function(a){return 0===hl(a).length?[]:Yl(a)},resolvedImage:function(a){return 0===hl(a).length?[]:Yl(a)},projection:function(a){const o=a.value,l=a.styleSpec,u=l.projection,p=a.style;let _=[];const v=zi(o);if("object"===v)for(const C in o)_=_.concat(me({key:C,value:o[C],valueSpec:u[C],style:p,styleSpec:l}));else"string"!==v&&(_=_.concat([new Ot("projection",o,`object or string expected, ${v} found`)]));return _}};function me(a){const o=a.value,l=a.valueSpec,u=a.styleSpec;return l.expression&&Uh(Br(o))?Xm(a):l.expression&&pi(Fi(o))?Yl(a):l.type&&ye[l.type]?ye[l.type](a):Ks(rl({},a,{valueSpec:l.type?u[l.type]:l}))}function Zr(a){const o=a.value,l=a.key,u=hl(a);return u.length||(-1===o.indexOf("{fontstack}")&&u.push(new Ot(l,o,'"glyphs" url must include a "{fontstack}" token')),-1===o.indexOf("{range}")&&u.push(new Ot(l,o,'"glyphs" url must include a "{range}" token'))),u}function Yh(a,o=tt){return fa(me({key:"",value:a,valueSpec:o.$root,styleSpec:o,style:a,objectElementValidators:{glyphs:Zr,"*":()=>[]}}))}const Rd=a=>fa(Zh(a)),Fa=a=>fa(Y0(a));function fa(a){return a.slice().sort((o,l)=>o.line&&l.line?o.line-l.line:0)}function Xh(a,o){let l=!1;if(o&&o.length)for(const u of o)a.fire(new Bl(new Error(u.message))),l=!0;return l}var Nd=za;function za(a,o,l){var u=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var p=new Int32Array(this.arrayBuffer);a=p[0],this.d=(o=p[1])+2*(l=p[2]);for(var _=0;_<this.d*this.d;_++){var v=p[3+_],C=p[3+_+1];u.push(v===C?null:p.subarray(v,C))}var T=p[3+u.length+1];this.keys=p.subarray(p[3+u.length],T),this.bboxes=p.subarray(T),this.insert=this._insertReadonly}else{this.d=o+2*l;for(var M=0;M<this.d*this.d;M++)u.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=a,this.padding=l,this.scale=o/a,this.uid=0;var k=l/o*a;this.min=-k,this.max=a+k}za.prototype.insert=function(a,o,l,u,p){this._forEachCell(o,l,u,p,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(o),this.bboxes.push(l),this.bboxes.push(u),this.bboxes.push(p)},za.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},za.prototype._insertCell=function(a,o,l,u,p,_){this.cells[p].push(_)},za.prototype.query=function(a,o,l,u,p){var _=this.min,v=this.max;if(a<=_&&o<=_&&v<=l&&v<=u&&!p)return Array.prototype.slice.call(this.keys);var C=[];return this._forEachCell(a,o,l,u,this._queryCell,C,{},p),C},za.prototype._queryCell=function(a,o,l,u,p,_,v,C){var T=this.cells[p];if(null!==T)for(var M=this.keys,k=this.bboxes,O=0;O<T.length;O++){var N=T[O];if(void 0===v[N]){var B=4*N;(C?C(k[B+0],k[B+1],k[B+2],k[B+3]):a<=k[B+2]&&o<=k[B+3]&&l>=k[B+0]&&u>=k[B+1])?(v[N]=!0,_.push(M[N])):v[N]=!1}}},za.prototype._forEachCell=function(a,o,l,u,p,_,v,C){for(var T=this._convertToCellCoord(a),M=this._convertToCellCoord(o),k=this._convertToCellCoord(l),O=this._convertToCellCoord(u),N=T;N<=k;N++)for(var B=M;B<=O;B++){var H=this.d*B+N;if((!C||C(this._convertFromCellCoord(N),this._convertFromCellCoord(B),this._convertFromCellCoord(N+1),this._convertFromCellCoord(B+1)))&&p.call(this,a,o,l,u,H,_,v,C))return}},za.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},za.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},za.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,o=3+this.cells.length+1+1,l=0,u=0;u<this.cells.length;u++)l+=this.cells[u].length;var p=new Int32Array(o+l+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var _=o,v=0;v<a.length;v++){var C=a[v];p[3+v]=_,p.set(C,_),_+=C.length}return p[3+a.length]=_,p.set(this.keys,_),p[3+a.length+1]=_+=this.keys.length,p.set(this.bboxes,_),_+=this.bboxes.length,p.buffer};const wf={};function Nt(a,o,l={}){Object.defineProperty(a,"_classRegistryKey",{value:o,writeable:!1}),wf[o]={klass:a,omit:l.omit||[]}}Nt(Object,"Object"),Nd.serialize=function(a,o){const l=a.toArrayBuffer();return o&&o.push(l),{buffer:l}},Nd.deserialize=function(a){return new Nd(a.buffer)},Object.defineProperty(Nd,"name",{value:"Grid"}),Nt(Nd,"Grid"),Nt(kr,"Color"),Nt(Error,"Error"),Nt(_d,"AJAXError"),Nt(Us,"ResolvedImage"),Nt(Wc,"StylePropertyFunction"),Nt(jh,"StyleExpression",{omit:["_evaluator"]}),Nt($h,"ZoomDependentExpression"),Nt(Kl,"ZoomConstantExpression"),Nt(jl,"CompoundExpression",{omit:["_evaluate"]});for(const a in Hh)wf[Hh[a]._classRegistryKey]||Nt(Hh[a],`Expression${a}`);function Ro(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&"ArrayBuffer"===a.constructor.name)}function Ba(a){return He.ImageBitmap&&a instanceof He.ImageBitmap}function pl(a,o){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(Ro(a)||Ba(a))return o&&o.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return o&&o.push(l.buffer),l}if(a instanceof He.ImageData)return o&&o.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const u of a)l.push(pl(u,o));return l}if("object"==typeof a){const l=a.constructor,u=l._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const p=l.serialize?l.serialize(a,o):{};if(!l.serialize){for(const _ in a)a.hasOwnProperty(_)&&(wf[u].omit.indexOf(_)>=0||(p[_]=pl(a[_],o)));a instanceof Error&&(p.message=a.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(p.$name=u),p}throw new Error("can't serialize object of type "+typeof a)}function Va(a){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||Ro(a)||Ba(a)||ArrayBuffer.isView(a)||a instanceof He.ImageData)return a;if(Array.isArray(a))return a.map(Va);if("object"==typeof a){const o=a.$name||"Object",{klass:l}=wf[o];if(!l)throw new Error(`can't deserialize unregistered class ${o}`);if(l.deserialize)return l.deserialize(a);const u=Object.create(l.prototype);for(const p of Object.keys(a))"$name"!==p&&(u[p]=Va(a[p]));return u}throw new Error("can't deserialize object of type "+typeof a)}const ma=a=>a>=1536&&a<=1791,ng=a=>a>=1872&&a<=1919,Qh=a=>a>=2208&&a<=2303,Cf=a=>a>=11904&&a<=12031,xf=a=>a>=12032&&a<=12255,Ld=a=>a>=12272&&a<=12287,Ql=a=>a>=12288&&a<=12351,Pu=a=>a>=12352&&a<=12447,Ru=a=>a>=12448&&a<=12543,ig=a=>a>=12544&&a<=12591,Jh=a=>a>=12704&&a<=12735,ep=a=>a>=12736&&a<=12783,Sf=a=>a>=12784&&a<=12799,Tf=a=>a>=12800&&a<=13055,Mf=a=>a>=13056&&a<=13311,Df=a=>a>=13312&&a<=19903,Fd=a=>a>=19968&&a<=40959,rg=a=>a>=40960&&a<=42127,og=a=>a>=42128&&a<=42191,go=a=>a>=44032&&a<=55215,Ys=a=>a>=63744&&a<=64255,g=a=>a>=64336&&a<=65023,c=a=>a>=65040&&a<=65055,h=a=>a>=65072&&a<=65103,y=a=>a>=65104&&a<=65135,w=a=>a>=65136&&a<=65279,x=a=>a>=65280&&a<=65519;function D(a){for(const o of a)if(F(o.charCodeAt(0)))return!0;return!1}function E(a){for(const o of a)if(!A(o.charCodeAt(0)))return!1;return!0}function A(a){return!(ma(a)||ng(a)||Qh(a)||g(a)||w(a))}function F(a){return!(746!==a&&747!==a&&(a<4352||!(Jh(a)||ig(a)||h(a)&&!(a>=65097&&a<=65103)||Ys(a)||Mf(a)||Cf(a)||ep(a)||!(!Ql(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||12336===a)||Df(a)||Fd(a)||Tf(a)||(o=a,o>=12592&&o<=12687)||(o=>o>=43360&&o<=43391)(a)||(o=>o>=55216&&o<=55295)(a)||(o=>o>=4352&&o<=4607)(a)||go(a)||Pu(a)||Ld(a)||(o=>o>=12688&&o<=12703)(a)||xf(a)||Sf(a)||Ru(a)&&12540!==a||!(!x(a)||65288===a||65289===a||65293===a||a>=65306&&a<=65310||65339===a||65341===a||65343===a||a>=65371&&a<=65503||65507===a||a>=65512&&a<=65519)||!(!y(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(o=>o>=5120&&o<=5759)(a)||(o=>o>=6320&&o<=6399)(a)||c(a)||(o=>o>=19904&&o<=19967)(a)||rg(a)||og(a))));var o}function L(a){return!(F(a)||(o=a,(l=o)>=128&&l<=255&&(167===o||169===o||174===o||177===o||188===o||189===o||190===o||215===o||247===o)||(l=>l>=8192&&l<=8303)(o)&&(8214===o||8224===o||8225===o||8240===o||8241===o||8251===o||8252===o||8258===o||8263===o||8264===o||8265===o||8273===o)||(l=>l>=8448&&l<=8527)(o)||(l=>l>=8528&&l<=8591)(o)||(l=>l>=8960&&l<=9215)(o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||9003===o||o>=9085&&o<=9114||o>=9150&&o<=9165||9167===o||o>=9169&&o<=9179||o>=9186&&o<=9215)||(l=>l>=9216&&l<=9279)(o)&&9251!==o||(l=>l>=9280&&l<=9311)(o)||(l=>l>=9312&&l<=9471)(o)||(l=>l>=9632&&l<=9727)(o)||(l=>l>=9728&&l<=9983)(o)&&!(o>=9754&&o<=9759)||(l=>l>=11008&&l<=11263)(o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||Ql(o)||Ru(o)||(l=>l>=57344&&l<=63743)(o)||h(o)||y(o)||x(o)||8734===o||8756===o||8757===o||o>=9984&&o<=10087||o>=10102&&o<=10131||65532===o||65533===o));var o,l}function $(a){return a>=1424&&a<=2303||g(a)||w(a)}function Q(a,o){return!(!o&&$(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(l=a,l>=6016&&l<=6143));var l}function re(a){for(const o of a)if($(o.charCodeAt(0)))return!0;return!1}const ne="deferred",oe="loading",ee="loaded";let te=null,ue="unavailable",se=null;const pe=function(a){a&&"string"==typeof a&&a.indexOf("NetworkError")>-1&&(ue="error"),te&&te(a)};function Ce(){be.fire(new Oa("pluginStateChange",{pluginStatus:ue,pluginURL:se}))}const be=new Vs,Te=function(){return ue},Ue=function(){if(ue!==ne||!se)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ue=oe,Ce(),se&&Pc({url:se},a=>{a?pe(a):(ue=ee,Ce())})},ze={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ue===ee||null!=ze.applyArabicShaping,isLoading:()=>ue===oe,setState(a){ue=a.pluginStatus,se=a.pluginURL},isParsed:()=>null!=ze.applyArabicShaping&&null!=ze.processBidirectionalText&&null!=ze.processStyledBidirectionalText,getPluginURL:()=>se};class Ie{constructor(o,l){this.zoom=o,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(o){return function(l,u){for(const p of l)if(!Q(p.charCodeAt(0),u))return!1;return!0}(o,ze.isLoaded())}}class gt{constructor(o,l){this.property=o,this.value=l,this.expression=function(u,p){if(Uh(u))return new Wc(u,p);if(pi(u)){const _=Gh(u,p);if("error"===_.result)throw new Error(_.value.map(v=>`${v.key}: ${v.message}`).join(", "));return _.value}{let _=u;return"string"==typeof u&&"color"===p.type&&(_=kr.parse(u)),{kind:"constant",evaluate:()=>_}}}(void 0===l?o.specification.default:l,o.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(o,l,u){return this.property.possiblyEvaluate(this,o,l,u)}}class Ne{constructor(o){this.property=o,this.value=new gt(o,void 0)}transitioned(o,l){return new $e(this.property,this.value,l,zn({},o.transition,this.transition),o.now)}untransitioned(){return new $e(this.property,this.value,null,{},0)}}class Je{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return xs(this._values[o].value.value)}setValue(o,l){this._values.hasOwnProperty(o)||(this._values[o]=new Ne(this._values[o].property)),this._values[o].value=new gt(this._values[o].property,null===l?void 0:xs(l))}getTransition(o){return xs(this._values[o].transition)}setTransition(o,l){this._values.hasOwnProperty(o)||(this._values[o]=new Ne(this._values[o].property)),this._values[o].transition=xs(l)||void 0}serialize(){const o={};for(const l of Object.keys(this._values)){const u=this.getValue(l);void 0!==u&&(o[l]=u);const p=this.getTransition(l);void 0!==p&&(o[`${l}-transition`]=p)}return o}transitioned(o,l){const u=new lt(this._properties);for(const p of Object.keys(this._values))u._values[p]=this._values[p].transitioned(o,l._values[p]);return u}untransitioned(){const o=new lt(this._properties);for(const l of Object.keys(this._values))o._values[l]=this._values[l].untransitioned();return o}}class $e{constructor(o,l,u,p,_){const v=p.delay||0,C=p.duration||0;_=_||0,this.property=o,this.value=l,this.begin=_+v,this.end=this.begin+C,o.specification.transition&&(p.delay||p.duration)&&(this.prior=u)}possiblyEvaluate(o,l,u){const p=o.now||0,_=this.value.possiblyEvaluate(o,l,u),v=this.prior;if(v){if(p>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(p<this.begin)return v.possiblyEvaluate(o,l,u);{const C=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(o,l,u),_,os(C))}}return _}}class lt{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,l,u){const p=new yt(this._properties);for(const _ of Object.keys(this._values))p._values[_]=this._values[_].possiblyEvaluate(o,l,u);return p}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Ze{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return xs(this._values[o].value)}setValue(o,l){this._values[o]=new gt(this._values[o].property,null===l?void 0:xs(l))}serialize(){const o={};for(const l of Object.keys(this._values)){const u=this.getValue(l);void 0!==u&&(o[l]=u)}return o}possiblyEvaluate(o,l,u){const p=new yt(this._properties);for(const _ of Object.keys(this._values))p._values[_]=this._values[_].possiblyEvaluate(o,l,u);return p}}class ot{constructor(o,l,u){this.property=o,this.value=l,this.parameters=u}isConstant(){return"constant"===this.value.kind}constantOr(o){return"constant"===this.value.kind?this.value.value:o}evaluate(o,l,u,p){return this.property.evaluate(this.value,this.parameters,o,l,u,p)}}class yt{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Oe{constructor(o){this.specification=o}possiblyEvaluate(o,l){return o.expression.evaluate(l)}interpolate(o,l,u){const p=po[this.specification.type];return p?p(o,l,u):o}}class je{constructor(o,l){this.specification=o,this.overrides=l}possiblyEvaluate(o,l,u,p){return new ot(this,"constant"===o.expression.kind||"camera"===o.expression.kind?{kind:"constant",value:o.expression.evaluate(l,null,{},u,p)}:o.expression,l)}interpolate(o,l,u){if("constant"!==o.value.kind||"constant"!==l.value.kind)return o;if(void 0===o.value.value||void 0===l.value.value)return new ot(this,{kind:"constant",value:void 0},o.parameters);const p=po[this.specification.type];return p?new ot(this,{kind:"constant",value:p(o.value.value,l.value.value,u)},o.parameters):o}evaluate(o,l,u,p,_,v){return"constant"===o.kind?o.value:o.evaluate(l,u,p,_,v)}}class Bt{constructor(o){this.specification=o}possiblyEvaluate(o,l,u,p){return!!o.expression.evaluate(l,null,{},u,p)}interpolate(){return!1}}class Ut{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new Ie(0,{});for(const u in o){const p=o[u];p.specification.overridable&&this.overridableProperties.push(u);const _=this.defaultPropertyValues[u]=new gt(p,void 0),v=this.defaultTransitionablePropertyValues[u]=new Ne(p);this.defaultTransitioningPropertyValues[u]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=_.possiblyEvaluate(l)}}}function Vt(a,o){return 256*(a=ai(Math.floor(a),0,255))+ai(Math.floor(o),0,255)}Nt(je,"DataDrivenProperty"),Nt(Oe,"DataConstantProperty"),Nt(Bt,"ColorRampProperty");const pn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class jn{constructor(o,l){this._structArray=o,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,l){return o._trim(),l&&(o.isTransferred=!0,l.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const l=Object.create(this.prototype);return l.arrayBuffer=o.arrayBuffer,l.length=o.length,l.capacity=o.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Pt(a,o=1){let l=0,u=0;return{members:a.map(p=>{const _=pn[p.type].BYTES_PER_ELEMENT,v=l=Di(l,Math.max(o,_)),C=p.components||1;return u=Math.max(u,_),l+=_*C,{name:p.name,type:p.type,components:C,offset:v}}),size:Di(l,Math.max(u,o)),alignment:o}}function Di(a,o){return Math.ceil(a/o)*o}class Ei extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l){const u=this.length;return this.resize(u+1),this.emplace(u,o,l)}emplace(o,l,u){const p=2*o;return this.int16[p+0]=l,this.int16[p+1]=u,o}}Ei.prototype.bytesPerElement=4,Nt(Ei,"StructArrayLayout2i4");class Wi extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,u){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,u)}emplace(o,l,u,p){const _=3*o;return this.int16[_+0]=l,this.int16[_+1]=u,this.int16[_+2]=p,o}}Wi.prototype.bytesPerElement=6,Nt(Wi,"StructArrayLayout3i6");class Bi extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,o,l,u,p)}emplace(o,l,u,p,_){const v=4*o;return this.int16[v+0]=l,this.int16[v+1]=u,this.int16[v+2]=p,this.int16[v+3]=_,o}}Bi.prototype.bytesPerElement=8,Nt(Bi,"StructArrayLayout4i8");class Wo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C){const T=this.length;return this.resize(T+1),this.emplace(T,o,l,u,p,_,v,C)}emplace(o,l,u,p,_,v,C,T){const M=6*o,k=12*o,O=3*o;return this.int16[M+0]=l,this.int16[M+1]=u,this.uint8[k+4]=p,this.uint8[k+5]=_,this.uint8[k+6]=v,this.uint8[k+7]=C,this.float32[O+2]=T,o}}Wo.prototype.bytesPerElement=12,Nt(Wo,"StructArrayLayout2i4ub1f12");class us extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,o,l,u,p)}emplace(o,l,u,p,_){const v=4*o;return this.float32[v+0]=l,this.float32[v+1]=u,this.float32[v+2]=p,this.float32[v+3]=_,o}}us.prototype.bytesPerElement=16,Nt(us,"StructArrayLayout4f16");class qo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_){const v=this.length;return this.resize(v+1),this.emplace(v,o,l,u,p,_)}emplace(o,l,u,p,_,v){const C=6*o,T=3*o;return this.uint16[C+0]=l,this.uint16[C+1]=u,this.uint16[C+2]=p,this.uint16[C+3]=_,this.float32[T+2]=v,o}}qo.prototype.bytesPerElement=12,Nt(qo,"StructArrayLayout4ui1f12");class Is extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,o,l,u,p)}emplace(o,l,u,p,_){const v=4*o;return this.uint16[v+0]=l,this.uint16[v+1]=u,this.uint16[v+2]=p,this.uint16[v+3]=_,o}}Is.prototype.bytesPerElement=8,Nt(Is,"StructArrayLayout4ui8");class Vi extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v){const C=this.length;return this.resize(C+1),this.emplace(C,o,l,u,p,_,v)}emplace(o,l,u,p,_,v,C){const T=6*o;return this.int16[T+0]=l,this.int16[T+1]=u,this.int16[T+2]=p,this.int16[T+3]=_,this.int16[T+4]=v,this.int16[T+5]=C,o}}Vi.prototype.bytesPerElement=12,Nt(Vi,"StructArrayLayout6i12");class Yi extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C,T,M,k,O,N){const B=this.length;return this.resize(B+1),this.emplace(B,o,l,u,p,_,v,C,T,M,k,O,N)}emplace(o,l,u,p,_,v,C,T,M,k,O,N,B){const H=12*o;return this.int16[H+0]=l,this.int16[H+1]=u,this.int16[H+2]=p,this.int16[H+3]=_,this.uint16[H+4]=v,this.uint16[H+5]=C,this.uint16[H+6]=T,this.uint16[H+7]=M,this.int16[H+8]=k,this.int16[H+9]=O,this.int16[H+10]=N,this.int16[H+11]=B,o}}Yi.prototype.bytesPerElement=24,Nt(Yi,"StructArrayLayout4i4ui4i24");class yi extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v){const C=this.length;return this.resize(C+1),this.emplace(C,o,l,u,p,_,v)}emplace(o,l,u,p,_,v,C){const T=10*o,M=5*o;return this.int16[T+0]=l,this.int16[T+1]=u,this.int16[T+2]=p,this.float32[M+2]=_,this.float32[M+3]=v,this.float32[M+4]=C,o}}yi.prototype.bytesPerElement=20,Nt(yi,"StructArrayLayout3i3f20");class Dr extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint32[1*o+0]=l,o}}Dr.prototype.bytesPerElement=4,Nt(Dr,"StructArrayLayout1ul4");class Nr extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C,T,M,k,O,N,B){const H=this.length;return this.resize(H+1),this.emplace(H,o,l,u,p,_,v,C,T,M,k,O,N,B)}emplace(o,l,u,p,_,v,C,T,M,k,O,N,B,H){const Z=20*o,J=10*o;return this.int16[Z+0]=l,this.int16[Z+1]=u,this.int16[Z+2]=p,this.int16[Z+3]=_,this.int16[Z+4]=v,this.float32[J+3]=C,this.float32[J+4]=T,this.float32[J+5]=M,this.float32[J+6]=k,this.int16[Z+14]=O,this.uint32[J+8]=N,this.uint16[Z+18]=B,this.uint16[Z+19]=H,o}}Nr.prototype.bytesPerElement=40,Nt(Nr,"StructArrayLayout5i4f1i1ul2ui40");class Ji extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C){const T=this.length;return this.resize(T+1),this.emplace(T,o,l,u,p,_,v,C)}emplace(o,l,u,p,_,v,C,T){const M=8*o;return this.int16[M+0]=l,this.int16[M+1]=u,this.int16[M+2]=p,this.int16[M+4]=_,this.int16[M+5]=v,this.int16[M+6]=C,this.int16[M+7]=T,o}}Ji.prototype.bytesPerElement=16,Nt(Ji,"StructArrayLayout3i2i2i16");class _n extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_){const v=this.length;return this.resize(v+1),this.emplace(v,o,l,u,p,_)}emplace(o,l,u,p,_,v){const C=4*o,T=8*o;return this.float32[C+0]=l,this.float32[C+1]=u,this.float32[C+2]=p,this.int16[T+6]=_,this.int16[T+7]=v,o}}_n.prototype.bytesPerElement=16,Nt(_n,"StructArrayLayout2f1f2i16");class Yc extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,o,l,u,p)}emplace(o,l,u,p,_){const v=12*o,C=3*o;return this.uint8[v+0]=l,this.uint8[v+1]=u,this.float32[C+1]=p,this.float32[C+2]=_,o}}Yc.prototype.bytesPerElement=12,Nt(Yc,"StructArrayLayout2ub2f12");class fl extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,u)}emplace(o,l,u,p){const _=3*o;return this.float32[_+0]=l,this.float32[_+1]=u,this.float32[_+2]=p,o}}fl.prototype.bytesPerElement=12,Nt(fl,"StructArrayLayout3f12");class _o extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,u){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,u)}emplace(o,l,u,p){const _=3*o;return this.uint16[_+0]=l,this.uint16[_+1]=u,this.uint16[_+2]=p,o}}_o.prototype.bytesPerElement=6,Nt(_o,"StructArrayLayout3ui6");class Kr extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we){const _e=this.length;return this.resize(_e+1),this.emplace(_e,o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we)}emplace(o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we,_e){const Ve=30*o,Be=15*o,et=60*o;return this.int16[Ve+0]=l,this.int16[Ve+1]=u,this.int16[Ve+2]=p,this.float32[Be+2]=_,this.float32[Be+3]=v,this.uint16[Ve+8]=C,this.uint16[Ve+9]=T,this.uint32[Be+5]=M,this.uint32[Be+6]=k,this.uint32[Be+7]=O,this.uint16[Ve+16]=N,this.uint16[Ve+17]=B,this.uint16[Ve+18]=H,this.float32[Be+10]=Z,this.float32[Be+11]=J,this.uint8[et+48]=de,this.uint8[et+49]=ge,this.uint8[et+50]=le,this.uint32[Be+13]=fe,this.int16[Ve+28]=we,this.uint8[et+58]=_e,o}}Kr.prototype.bytesPerElement=60,Nt(Kr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Zo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we,_e,Ve,Be,et,pt,Ge,nt,st,ut){const ht=this.length;return this.resize(ht+1),this.emplace(ht,o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we,_e,Ve,Be,et,pt,Ge,nt,st,ut)}emplace(o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J,de,ge,le,fe,we,_e,Ve,Be,et,pt,Ge,nt,st,ut,ht){const We=38*o,xt=19*o;return this.int16[We+0]=l,this.int16[We+1]=u,this.int16[We+2]=p,this.float32[xt+2]=_,this.float32[xt+3]=v,this.int16[We+8]=C,this.int16[We+9]=T,this.int16[We+10]=M,this.int16[We+11]=k,this.int16[We+12]=O,this.int16[We+13]=N,this.uint16[We+14]=B,this.uint16[We+15]=H,this.uint16[We+16]=Z,this.uint16[We+17]=J,this.uint16[We+18]=de,this.uint16[We+19]=ge,this.uint16[We+20]=le,this.uint16[We+21]=fe,this.uint16[We+22]=we,this.uint16[We+23]=_e,this.uint16[We+24]=Ve,this.uint16[We+25]=Be,this.uint16[We+26]=et,this.uint16[We+27]=pt,this.uint16[We+28]=Ge,this.uint32[xt+15]=nt,this.float32[xt+16]=st,this.float32[xt+17]=ut,this.float32[xt+18]=ht,o}}Zo.prototype.bytesPerElement=76,Nt(Zo,"StructArrayLayout3i2f6i15ui1ul3f76");class Ko extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.float32[1*o+0]=l,o}}Ko.prototype.bytesPerElement=4,Nt(Ko,"StructArrayLayout1f4");class Ha extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,u,p,_){const v=this.length;return this.resize(v+1),this.emplace(v,o,l,u,p,_)}emplace(o,l,u,p,_,v){const C=5*o;return this.float32[C+0]=l,this.float32[C+1]=u,this.float32[C+2]=p,this.float32[C+3]=_,this.float32[C+4]=v,o}}Ha.prototype.bytesPerElement=20,Nt(Ha,"StructArrayLayout5f20");class Xc extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,o,l,u,p)}emplace(o,l,u,p,_){const v=6*o;return this.uint32[3*o+0]=l,this.uint16[v+2]=u,this.uint16[v+3]=p,this.uint16[v+4]=_,o}}Xc.prototype.bytesPerElement=12,Nt(Xc,"StructArrayLayout1ul3ui12");class Xs extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l){const u=this.length;return this.resize(u+1),this.emplace(u,o,l)}emplace(o,l,u){const p=2*o;return this.uint16[p+0]=l,this.uint16[p+1]=u,o}}Xs.prototype.bytesPerElement=4,Nt(Xs,"StructArrayLayout2ui4");class Jl extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint16[1*o+0]=l,o}}Jl.prototype.bytesPerElement=2,Nt(Jl,"StructArrayLayout1ui2");class X0 extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l){const u=this.length;return this.resize(u+1),this.emplace(u,o,l)}emplace(o,l,u){const p=2*o;return this.float32[p+0]=l,this.float32[p+1]=u,o}}X0.prototype.bytesPerElement=8,Nt(X0,"StructArrayLayout2f8");class ev extends jn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}ev.prototype.size=40;class At extends Nr{get(o){return new ev(this,o)}}Nt(At,"CollisionBoxArray");class oC extends jn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}oC.prototype.size=60;class sC extends Kr{get(o){return new oC(this,o)}}Nt(sC,"PlacedSymbolArray");class aC extends jn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(o){this._structArray.uint32[this._pos4+15]=o}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}aC.prototype.size=76;class lC extends Zo{get(o){return new aC(this,o)}}Nt(lC,"SymbolInstanceArray");class cC extends Ko{getoffsetX(o){return this.float32[1*o+0]}}Nt(cC,"GlyphOffsetArray");class uC extends Ei{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}Nt(uC,"SymbolLineVertexArray");class dC extends jn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}dC.prototype.size=12;class tp extends Xc{get(o){return new dC(this,o)}}Nt(tp,"FeatureIndexArray");class hC extends Xs{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}Nt(hC,"FillExtrusionCentroidArray");const OD=Pt([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),yo=Pt([{name:"a_dash",components:4,type:"Uint16"}]);var Nu={exports:{}},tv=function(a,o){var l,u,p,_,v,C,T,M;for(u=a.length-(l=3&a.length),p=o,v=3432918353,C=461845907,M=0;M<u;)T=255&a.charCodeAt(M)|(255&a.charCodeAt(++M))<<8|(255&a.charCodeAt(++M))<<16|(255&a.charCodeAt(++M))<<24,++M,p=27492+(65535&(_=5*(65535&(p=(p^=T=(65535&(T=(T=(65535&T)*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*C+(((T>>>16)*C&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(T=0,l){case 3:T^=(255&a.charCodeAt(M+2))<<16;case 2:T^=(255&a.charCodeAt(M+1))<<8;case 1:p^=T=(65535&(T=(T=(65535&(T^=255&a.charCodeAt(M)))*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*C+(((T>>>16)*C&65535)<<16)&4294967295}return p^=a.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0},ga=function(a,o){for(var l,u=a.length,p=o^u,_=0;u>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(_)|(255&a.charCodeAt(++_))<<8|(255&a.charCodeAt(++_))<<16|(255&a.charCodeAt(++_))<<24))+((1540483477*(l>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),u-=4,++_;switch(u){case 3:p^=(255&a.charCodeAt(_+2))<<16;case 2:p^=(255&a.charCodeAt(_+1))<<8;case 1:p=1540483477*(65535&(p^=255&a.charCodeAt(_)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};Nu.exports=tv,Nu.exports.murmur3=tv,Nu.exports.murmur2=ga;class Ua{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,l,u,p){this.ids.push(Q0(o)),this.positions.push(l,u,p)}getPositions(o){const l=Q0(o);let u=0,p=this.ids.length-1;for(;u<p;){const v=u+p>>1;this.ids[v]>=l?p=v:u=v+1}const _=[];for(;this.ids[u]===l;)_.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return _}static serialize(o,l){const u=new Float64Array(o.ids),p=new Uint32Array(o.positions);return ip(u,p,0,u.length-1),l&&l.push(u.buffer,p.buffer),{ids:u,positions:p}}static deserialize(o){const l=new Ua;return l.ids=o.ids,l.positions=o.positions,l.indexed=!0,l}}function Q0(a){const o=+a;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:Nu.exports(String(a))}function ip(a,o,l,u){for(;l<u;){const p=a[l+u>>1];let _=l-1,v=u+1;for(;;){do{_++}while(a[_]<p);do{v--}while(a[v]>p);if(_>=v)break;Lu(a,_,v),Lu(o,3*_,3*v),Lu(o,3*_+1,3*v+1),Lu(o,3*_+2,3*v+2)}v-l<u-v?(ip(a,o,l,v),l=v+1):(ip(a,o,v+1,u),u=v)}}function Lu(a,o,l){const u=a[o];a[o]=a[l],a[l]=u}Nt(Ua,"FeaturePositionMap");class ec{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,l),this.initialized=!0),!!this.location}}class sg extends ec{constructor(o){super(o),this.current=0}set(o,l,u){this.fetchUniformLocation(o,l)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class nv extends ec{constructor(o){super(o),this.current=[0,0,0,0]}set(o,l,u){this.fetchUniformLocation(o,l)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class fC extends ec{constructor(o){super(o),this.current=kr.transparent}set(o,l,u){this.fetchUniformLocation(o,l)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const PD=new Float32Array(16),iv=new Float32Array(9),_a=new Float32Array(4);function Ef(a){return[Vt(255*a.r,255*a.g),Vt(255*a.b,255*a.a)]}class tc{constructor(o,l,u){this.value=o,this.uniformNames=l.map(p=>`u_${p}`),this.type=u}setUniform(o,l,u,p,_){l.set(o,_,p.constantOr(this.value))}getBinding(o,l){return"color"===this.type?new fC(o):new sg(o)}}class If{constructor(o,l){this.uniformNames=l.map(u=>`u_${u}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,l,u,p,_){const v="u_pattern"===_||"u_dash"===_?this.pattern:"u_pixel_ratio"===_?this.pixelRatio:null;v&&l.set(o,_,v)}getBinding(o,l){return"u_pattern"===l||"u_dash"===l?new nv(o):new sg(o)}}class nc{constructor(o,l,u,p){this.expression=o,this.type=u,this.maxValue=0,this.paintVertexAttributes=l.map(_=>({name:`a_${_}`,type:"Float32",components:"color"===u?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(o,l,u,p,_,v){const C=this.paintVertexArray.length,T=this.expression.evaluate(new Ie(0),l,{},_,p,v);this.paintVertexArray.resize(o),this._setPaintValue(C,o,T)}updatePaintArray(o,l,u,p,_){const v=this.expression.evaluate({zoom:0},u,p,void 0,_);this._setPaintValue(o,l,v)}_setPaintValue(o,l,u){if("color"===this.type){const p=Ef(u);for(let _=o;_<l;_++)this.paintVertexArray.emplace(_,p[0],p[1])}else{for(let p=o;p<l;p++)this.paintVertexArray.emplace(p,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ml{constructor(o,l,u,p,_,v){this.expression=o,this.uniformNames=l.map(C=>`u_${C}_t`),this.type=u,this.useIntegerZoom=p,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=l.map(C=>({name:`a_${C}`,type:"Float32",components:"color"===u?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(o,l,u,p,_,v){const C=this.expression.evaluate(new Ie(this.zoom),l,{},_,p,v),T=this.expression.evaluate(new Ie(this.zoom+1),l,{},_,p,v),M=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(M,o,C,T)}updatePaintArray(o,l,u,p,_){const v=this.expression.evaluate({zoom:this.zoom},u,p,void 0,_),C=this.expression.evaluate({zoom:this.zoom+1},u,p,void 0,_);this._setPaintValue(o,l,v,C)}_setPaintValue(o,l,u,p){if("color"===this.type){const _=Ef(u),v=Ef(p);for(let C=o;C<l;C++)this.paintVertexArray.emplace(C,_[0],_[1],v[0],v[1])}else{for(let _=o;_<l;_++)this.paintVertexArray.emplace(_,u,p);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,l,u,p,_){const v=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,C=ai(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);l.set(o,_,C)}getBinding(o,l){return new sg(o)}}class Fu{constructor(o,l,u,p,_){this.expression=o,this.layerId=_,this.paintVertexAttributes=("array"===u?yo:OD).members;for(let v=0;v<l.length;++v);this.paintVertexArray=new p}populatePaintArray(o,l,u){const p=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(p,o,l.patterns&&l.patterns[this.layerId],u)}updatePaintArray(o,l,u,p,_,v){this._setPaintValues(o,l,u.patterns&&u.patterns[this.layerId],v)}_setPaintValues(o,l,u,p){if(!p||!u)return;const _=p[u];if(!_)return;const{tl:v,br:C,pixelRatio:T}=_;for(let M=o;M<l;M++)this.paintVertexArray.emplace(M,v[0],v[1],C[0],C[1],T)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class zu{constructor(o,l,u=(()=>!0)){this.binders={},this._buffers=[];const p=[];for(const _ in o.paint._values){if(!u(_))continue;const v=o.paint.get(_);if(!(v instanceof ot&&ku(v.property.specification)))continue;const C=gC(_,o.type),T=v.value,M=v.property.specification.type,k=v.property.useIntegerZoom,O="line-dasharray"===_||_.endsWith("pattern"),N="line-dasharray"===_&&"constant"!==o.layout.get("line-cap").value.kind;if("constant"!==T.kind||N)if("source"===T.kind||N||O){const B=_C(_,M,"source");this.binders[_]=O?new Fu(T,C,M,B,o.id):new nc(T,C,M,B),p.push(`/a_${_}`)}else{const B=_C(_,M,"composite");this.binders[_]=new ml(T,C,M,k,l,B),p.push(`/z_${_}`)}else this.binders[_]=O?new If(T.value,C):new tc(T.value,C,M),p.push(`/u_${_}`)}this.cacheKey=p.sort().join("")}getMaxValue(o){const l=this.binders[o];return l instanceof nc||l instanceof ml?l.maxValue:0}populatePaintArrays(o,l,u,p,_,v){for(const C in this.binders){const T=this.binders[C];(T instanceof nc||T instanceof ml||T instanceof Fu)&&T.populatePaintArray(o,l,u,p,_,v)}}setConstantPatternPositions(o){for(const l in this.binders){const u=this.binders[l];u instanceof If&&u.setConstantPatternPositions(o)}}updatePaintArrays(o,l,u,p,_,v){let C=!1;for(const T in o){const M=l.getPositions(T);for(const k of M){const O=u.feature(k.index);for(const N in this.binders){const B=this.binders[N];if((B instanceof nc||B instanceof ml||B instanceof Fu)&&!0===B.expression.isStateDependent){const H=p.paint.get(N);B.expression=H.value,B.updatePaintArray(k.start,k.end,O,o[T],_,v),C=!0}}}}return C}defines(){const o=[];for(const l in this.binders){const u=this.binders[l];(u instanceof tc||u instanceof If)&&o.push(...u.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return o}getBinderAttributes(){const o=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof nc||u instanceof ml||u instanceof Fu)for(let p=0;p<u.paintVertexAttributes.length;p++)o.push(u.paintVertexAttributes[p].name)}return o}getBinderUniforms(){const o=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof tc||u instanceof If||u instanceof ml)for(const p of u.uniformNames)o.push(p)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const l=[];for(const u in this.binders){const p=this.binders[u];if(p instanceof tc||p instanceof If||p instanceof ml)for(const _ of p.uniformNames)l.push({name:_,property:u,binding:p.getBinding(o,_)})}return l}setUniforms(o,l,u,p,_){for(const{name:v,property:C,binding:T}of u)this.binders[C].setUniform(o,T,_,p.get(C),v)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const l=this.binders[o];(l instanceof nc||l instanceof ml||l instanceof Fu)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(o){for(const l in this.binders){const u=this.binders[l];(u instanceof nc||u instanceof ml||u instanceof Fu)&&u.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const l=this.binders[o];(l instanceof nc||l instanceof ml||l instanceof Fu)&&l.destroy()}}}class zd{constructor(o,l,u=(()=>!0)){this.programConfigurations={};for(const p of o)this.programConfigurations[p.id]=new zu(p,l,u);this.needsUpload=!1,this._featureMap=new Ua,this._bufferOffset=0}populatePaintArrays(o,l,u,p,_,v,C){for(const T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(o,l,p,_,v,C);void 0!==l.id&&this._featureMap.add(l.id,u,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,l,u,p,_){for(const v of u)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(o,this._featureMap,l,v,p,_)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const mC={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function gC(a,o){return mC[a]||[a.replace(`${o}-`,"").replace(/-/g,"_")]}const J0={"line-pattern":{source:qo,composite:qo},"fill-pattern":{source:qo,composite:qo},"fill-extrusion-pattern":{source:qo,composite:qo},"line-dasharray":{source:Is,composite:Is}},ag={color:{source:X0,composite:us},number:{source:Ko,composite:X0}};function _C(a,o,l){const u=J0[a];return u&&u[l]||ag[o][l]}Nt(tc,"ConstantBinder"),Nt(If,"PatternConstantBinder"),Nt(nc,"SourceExpressionBinder"),Nt(Fu,"PatternCompositeBinder"),Nt(ml,"CompositeExpressionBinder"),Nt(zu,"ProgramConfiguration",{omit:["_buffers"]}),Nt(zd,"ProgramConfigurationSet");const Bu="-transition";class ya extends Vs{constructor(o,l){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==o.type&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,"background"!==o.type&&"sky"!==o.type&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),l.layout&&(this._unevaluatedLayout=new Ze(l.layout)),l.paint)){this._transitionablePaint=new Je(l.paint);for(const u in o.paint)this.setPaintProperty(u,o.paint[u],{validate:!1});for(const u in o.layout)this.setLayoutProperty(u,o.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new yt(l.paint)}}getLayoutProperty(o){return"visibility"===o?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,l,u={}){null!=l&&this._validate(Fa,`layers.${this.id}.layout.${o}`,o,l,u)||("visibility"!==o?this._unevaluatedLayout.setValue(o,l):this.visibility=l)}getPaintProperty(o){return as(o,Bu)?this._transitionablePaint.getTransition(o.slice(0,-Bu.length)):this._transitionablePaint.getValue(o)}setPaintProperty(o,l,u={}){if(null!=l&&this._validate(Rd,`layers.${this.id}.paint.${o}`,o,l,u))return!1;if(as(o,Bu))return this._transitionablePaint.setTransition(o.slice(0,-Bu.length),l||void 0),!1;{const p=this._transitionablePaint._values[o],_=p.value.isDataDriven(),v=p.value;this._transitionablePaint.setValue(o,l),this._handleSpecialPaintPropertyUpdate(o);const C=this._transitionablePaint._values[o].value,T=C.isDataDriven(),M=as(o,"pattern")||"line-dasharray"===o;return T||_||M||this._handleOverridablePaintPropertyUpdate(o,v,C)}}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getProgramConfiguration(o){return null}_handleOverridablePaintPropertyUpdate(o,l,u){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||"none"===this.visibility}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,l)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Oi(o,(l,u)=>!(void 0===l||"layout"===u&&!Object.keys(l).length||"paint"===u&&!Object.keys(l).length))}_validate(o,l,u,p,_={}){return(!_||!1!==_.validate)&&Xh(this,o.call(Yh,{key:l,layerType:this.type,objectKey:u,value:p,styleSpec:tt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const l=this.paint.get(o);if(l instanceof ot&&ku(l.property.specification)&&("source"===l.value.kind||"composite"===l.value.kind)&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=qc(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const lg=Pt([{name:"a_pos",components:2,type:"Int16"}],4),yC=Pt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Vr{constructor(o=[]){this.segments=o}prepareSegment(o,l,u,p){let _=this.segments[this.segments.length-1];return o>Vr.MAX_VERTEX_ARRAY_LENGTH&&yr(`Max vertices per segment is ${Vr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!_||_.vertexLength+o>Vr.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==p)&&(_={vertexOffset:l.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},void 0!==p&&(_.sortKey=p),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const o of this.segments)for(const l in o.vaos)o.vaos[l].destroy()}static simpleSegment(o,l,u,p){return new Vr([{vertexOffset:o,primitiveOffset:l,vertexLength:u,primitiveLength:p,vaos:{},sortKey:0}])}}Vr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nt(Vr,"SegmentVector");var Mn=8192;class Qc{constructor(o,l){o&&(l?this.setSouthWest(o).setNorthEast(l):4===o.length?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof di?new di(o.lng,o.lat):di.convert(o),this}setSouthWest(o){return this._sw=o instanceof di?new di(o.lng,o.lat):di.convert(o),this}extend(o){const l=this._sw,u=this._ne;let p,_;if(o instanceof di)p=o,_=o;else{if(!(o instanceof Qc))return Array.isArray(o)?4===o.length||o.every(Array.isArray)?this.extend(Qc.convert(o)):this.extend(di.convert(o)):"object"==typeof o&&null!==o&&o.hasOwnProperty("lat")&&o.hasOwnProperty("lon")?this.extend(di.convert(o)):this;if(p=o._sw,_=o._ne,!p||!_)return this}return l||u?(l.lng=Math.min(p.lng,l.lng),l.lat=Math.min(p.lat,l.lat),u.lng=Math.max(_.lng,u.lng),u.lat=Math.max(_.lat,u.lat)):(this._sw=new di(p.lng,p.lat),this._ne=new di(_.lng,_.lat)),this}getCenter(){return new di((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new di(this.getWest(),this.getNorth())}getSouthEast(){return new di(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:l,lat:u}=di.convert(o);let p=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&p}static convert(o){return!o||o instanceof Qc?o:new Qc(o)}}const Vu=6371008.8;class di{constructor(o,l){if(isNaN(o)||isNaN(l))throw new Error(`Invalid LngLat object: (${o}, ${l})`);if(this.lng=+o,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new di(ss(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const l=Math.PI/180,u=this.lat*l,p=o.lat*l,_=Math.sin(u)*Math.sin(p)+Math.cos(u)*Math.cos(p)*Math.cos((o.lng-this.lng)*l);return Vu*Math.acos(Math.min(_,1))}toBounds(o=0){const l=360*o/40075017,u=l/Math.cos(Math.PI/180*this.lat);return new Qc(new di(this.lng-u,this.lat-l),new di(this.lng+u,this.lat+l))}static convert(o){if(o instanceof di)return o;if(Array.isArray(o)&&(2===o.length||3===o.length))return new di(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&"object"==typeof o&&null!==o)return new di(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const rv=2*Math.PI*Vu;function Ee(a){return rv*Math.cos(a*Math.PI/180)}function gl(a){return(180+a)/360}function er(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function Qs(a,o){return a/Ee(o)}function Yo(a){return 360*a-180}function No(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function ov(a,o){return a*Ee(No(o))}const ic=85.051129;function cg(a){return 1/Math.cos(a*Math.PI/180)}class rc{constructor(o,l,u=0){this.x=+o,this.y=+l,this.z=+u}static fromLngLat(o,l=0){const u=di.convert(o);return new rc(gl(u.lng),er(u.lat),Qs(l,u.lat))}toLngLat(){return new di(Yo(this.x),No(this.y))}toAltitude(){return ov(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/rv*cg(No(this.y))}}function ug(a,o,l,u,p,_,v,C,T){const M=(o+u)/2,k=(l+p)/2,O=new Fe(M,k);C(O),function(N,B,H,Z,J,de){const ge=H-J,le=Z-de;return Math.abs((Z-B)*ge-(H-N)*le)/Math.hypot(ge,le)}(O.x,O.y,_.x,_.y,v.x,v.y)>=T?(ug(a,o,l,M,k,_,O,C,T),ug(a,M,k,u,p,O,v,C,T)):a.push(v)}function rp(a,o,l){let u=a[0],p=u.x,_=u.y;o(u);const v=[u];for(let C=1;C<a.length;C++){const T=a[C],{x:M,y:k}=T;o(T),ug(v,p,_,M,k,u,T,o,l),p=M,_=k,u=T}return v}function e1(a,o,l,u){if(u(o,l)){const p=o.add(l)._mult(.5);e1(a,o,p,u),e1(a,p,l,u)}else a.push(l)}function sv(a,o){let l=a[0];const u=[l];for(let p=1;p<a.length;p++){const _=a[p];e1(u,l,_,o),l=_}return u}const Bd=Math.pow(2,14)-1,kf=-Bd-1;function av(a,o){const l=Math.round(a.x*o),u=Math.round(a.y*o);return a.x=ai(l,kf,Bd),a.y=ai(u,kf,Bd),(l<a.x||l>a.x+1||u<a.y||u>a.y+1)&&yr("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function Jc(a,o,l){const u=a.loadGeometry(),p=a.extent,_=Mn/p;if(o&&l&&l.projection.isReprojectedInTileSpace){const v=1<<o.z,{scale:C,x:T,y:M,projection:k}=l,O=N=>{const B=Yo((o.x+N.x/p)/v),H=No((o.y+N.y/p)/v),Z=k.project(B,H);N.x=(Z.x*C-T)*p,N.y=(Z.y*C-M)*p};for(let N=0;N<u.length;N++)if(1!==a.type)u[N]=rp(u[N],O,1);else{const B=[];for(const H of u[N])H.x<0||H.x>=p||H.y<0||H.y>=p||(O(H),B.push(H));u[N]=B}}for(const v of u)for(const C of v)av(C,_);return u}function Vd(a,o){return{type:a.type,id:a.id,properties:a.properties,geometry:o?Jc(a):[]}}function eu(a,o,l,u,p){a.emplaceBack(2*o+(u+1)/2,2*l+(p+1)/2)}function Hu(a,o,l){a.emplaceBack(o.x,o.y,o.z,16384*l[0],16384*l[1],16384*l[2])}class t1{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new Ei,this.indexArray=new _o,this.segments=new Vr,this.programConfigurations=new zd(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,u,p){const _=this.layers[0],v=[];let C=null;"circle"===_.type&&(C=_.layout.get("circle-sort-key"));for(const{feature:M,id:k,index:O,sourceLayerIndex:N}of o){const B=this.layers[0]._featureFilter.needGeometry,H=Vd(M,B);if(!this.layers[0]._featureFilter.filter(new Ie(this.zoom),H,u))continue;const Z=C?C.evaluate(H,{},u):void 0,J={id:k,properties:M.properties,type:M.type,sourceLayerIndex:N,index:O,geometry:B?H.geometry:Jc(M,u,p),patterns:{},sortKey:Z};v.push(J)}C&&v.sort((M,k)=>M.sortKey-k.sortKey);let T=null;"globe"===p.projection.name&&(this.globeExtVertexArray=new Vi,T=p.projection);for(const M of v){const{geometry:k,index:O,sourceLayerIndex:N}=M,B=o[O].feature;this.addFeature(M,k,O,l.availableImages,u,T),l.featureIndex.insert(B,k,O,N,this.index)}}update(o,l,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,u,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,lg.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,yC.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,l,u,p,_,v){for(const C of l)for(const T of C){const M=T.x,k=T.y;if(M<0||M>=Mn||k<0||k>=Mn)continue;if(v){const B=v.projectTilePoint(M,k,_),H=v.upVector(_,M,k),Z=this.globeExtVertexArray;Hu(Z,B,H),Hu(Z,B,H),Hu(Z,B,H),Hu(Z,B,H)}const O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),N=O.vertexLength;eu(this.layoutVertexArray,M,k,-1,-1),eu(this.layoutVertexArray,M,k,1,-1),eu(this.layoutVertexArray,M,k,1,1),eu(this.layoutVertexArray,M,k,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+2,N+3),O.vertexLength+=4,O.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,{},p,_)}}function vC(a,o){for(let l=0;l<a.length;l++)if(Hd(o,a[l]))return!0;for(let l=0;l<o.length;l++)if(Hd(a,o[l]))return!0;return!!n1(a,o)}function lv(a,o,l){return!!Hd(a,o)||!!r1(o,a,l)}function cv(a,o){if(1===a.length)return o1(o,a[0]);for(let l=0;l<o.length;l++){const u=o[l];for(let p=0;p<u.length;p++)if(Hd(a,u[p]))return!0}for(let l=0;l<a.length;l++)if(o1(o,a[l]))return!0;for(let l=0;l<o.length;l++)if(n1(a,o[l]))return!0;return!1}function RD(a,o,l){if(a.length>1){if(n1(a,o))return!0;for(let u=0;u<o.length;u++)if(r1(o[u],a,l))return!0}for(let u=0;u<a.length;u++)if(r1(a[u],o,l))return!0;return!1}function n1(a,o){if(0===a.length||0===o.length)return!1;for(let l=0;l<a.length-1;l++){const u=a[l],p=a[l+1];for(let _=0;_<o.length-1;_++)if(bC(u,p,o[_],o[_+1]))return!0}return!1}function bC(a,o,l,u){return ka(a,l,u)!==ka(o,l,u)&&ka(a,o,l)!==ka(a,o,u)}function r1(a,o,l){const u=l*l;if(1===o.length)return a.distSqr(o[0])<u;for(let p=1;p<o.length;p++)if(Af(a,o[p-1],o[p])<u)return!0;return!1}function Af(a,o,l){const u=o.distSqr(l);if(0===u)return a.distSqr(o);const p=((a.x-o.x)*(l.x-o.x)+(a.y-o.y)*(l.y-o.y))/u;return a.distSqr(p<0?o:p>1?l:l.sub(o)._mult(p)._add(o))}function o1(a,o){let l,u,p,_=!1;for(let v=0;v<a.length;v++){l=a[v];for(let C=0,T=l.length-1;C<l.length;T=C++)u=l[C],p=l[T],u.y>o.y!=p.y>o.y&&o.x<(p.x-u.x)*(o.y-u.y)/(p.y-u.y)+u.x&&(_=!_)}return _}function Hd(a,o){let l=!1;for(let u=0,p=a.length-1;u<a.length;p=u++){const _=a[u],v=a[p];_.y>o.y!=v.y>o.y&&o.x<(v.x-_.x)*(o.y-_.y)/(v.y-_.y)+_.x&&(l=!l)}return l}function s1(a,o,l,u,p){for(const v of a)if(o<=v.x&&l<=v.y&&u>=v.x&&p>=v.y)return!0;const _=[new Fe(o,l),new Fe(o,p),new Fe(u,p),new Fe(u,l)];if(a.length>2)for(const v of _)if(Hd(a,v))return!0;for(let v=0;v<a.length-1;v++)if(ND(a[v],a[v+1],_))return!0;return!1}function ND(a,o,l){const u=l[0],p=l[2];if(a.x<u.x&&o.x<u.x||a.x>p.x&&o.x>p.x||a.y<u.y&&o.y<u.y||a.y>p.y&&o.y>p.y)return!1;const _=ka(a,o,l[0]);return _!==ka(a,o,l[1])||_!==ka(a,o,l[2])||_!==ka(a,o,l[3])}function Ud(a,o,l){const u=o.paint.get(a).value;return"constant"===u.kind?u.value:l.programConfigurations.get(o.id).getMaxValue(a)}function a1(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function uv(a,o,l,u,p){if(!o[0]&&!o[1])return a;const _=Fe.convert(o)._mult(p);"viewport"===l&&_._rotate(-u);const v=[];for(let C=0;C<a.length;C++)v.push(a[C].sub(_));return v}function dv(a,o,l,u){const p=Fe.convert(a)._mult(u);return"viewport"===o&&p._rotate(-l),p}Nt(t1,"CircleBucket",{omit:["layers"]});const l1=new Ut({"circle-sort-key":new je(tt.layout_circle["circle-sort-key"])});var LD={paint:new Ut({"circle-radius":new je(tt.paint_circle["circle-radius"]),"circle-color":new je(tt.paint_circle["circle-color"]),"circle-blur":new je(tt.paint_circle["circle-blur"]),"circle-opacity":new je(tt.paint_circle["circle-opacity"]),"circle-translate":new Oe(tt.paint_circle["circle-translate"]),"circle-translate-anchor":new Oe(tt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Oe(tt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Oe(tt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new je(tt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new je(tt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new je(tt.paint_circle["circle-stroke-opacity"])}),layout:l1},c1=1e-6,ds=typeof Float32Array<"u"?Float32Array:Array;function wC(){var a=new ds(9);return ds!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function CC(a,o,l){var u=o[0],p=o[1],_=o[2],v=o[3],C=o[4],T=o[5],M=o[6],k=o[7],O=o[8],N=l[0],B=l[1],H=l[2],Z=l[3],J=l[4],de=l[5],ge=l[6],le=l[7],fe=l[8];return a[0]=N*u+B*v+H*M,a[1]=N*p+B*C+H*k,a[2]=N*_+B*T+H*O,a[3]=Z*u+J*v+de*M,a[4]=Z*p+J*C+de*k,a[5]=Z*_+J*T+de*O,a[6]=ge*u+le*v+fe*M,a[7]=ge*p+le*C+fe*k,a[8]=ge*_+le*T+fe*O,a}function oc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function hv(a,o){var l=o[0],u=o[1],p=o[2],_=o[3],v=o[4],C=o[5],T=o[6],M=o[7],k=o[8],O=o[9],N=o[10],B=o[11],H=o[12],Z=o[13],J=o[14],de=o[15],ge=l*C-u*v,le=l*T-p*v,fe=l*M-_*v,we=u*T-p*C,_e=u*M-_*C,Ve=p*M-_*T,Be=k*Z-O*H,et=k*J-N*H,pt=k*de-B*H,Ge=O*J-N*Z,nt=O*de-B*Z,st=N*de-B*J,ut=ge*st-le*nt+fe*Ge+we*pt-_e*et+Ve*Be;return ut?(a[0]=(C*st-T*nt+M*Ge)*(ut=1/ut),a[1]=(p*nt-u*st-_*Ge)*ut,a[2]=(Z*Ve-J*_e+de*we)*ut,a[3]=(N*_e-O*Ve-B*we)*ut,a[4]=(T*pt-v*st-M*et)*ut,a[5]=(l*st-p*pt+_*et)*ut,a[6]=(J*fe-H*Ve-de*le)*ut,a[7]=(k*Ve-N*fe+B*le)*ut,a[8]=(v*nt-C*pt+M*Be)*ut,a[9]=(u*pt-l*nt-_*Be)*ut,a[10]=(H*_e-Z*fe+de*ge)*ut,a[11]=(O*fe-k*_e-B*ge)*ut,a[12]=(C*et-v*Ge-T*Be)*ut,a[13]=(l*Ge-u*et+p*Be)*ut,a[14]=(Z*le-H*we-J*ge)*ut,a[15]=(k*we-O*le+N*ge)*ut,a):null}function op(a,o,l){var u=o[0],p=o[1],_=o[2],v=o[3],C=o[4],T=o[5],M=o[6],k=o[7],O=o[8],N=o[9],B=o[10],H=o[11],Z=o[12],J=o[13],de=o[14],ge=o[15],le=l[0],fe=l[1],we=l[2],_e=l[3];return a[0]=le*u+fe*C+we*O+_e*Z,a[1]=le*p+fe*T+we*N+_e*J,a[2]=le*_+fe*M+we*B+_e*de,a[3]=le*v+fe*k+we*H+_e*ge,a[4]=(le=l[4])*u+(fe=l[5])*C+(we=l[6])*O+(_e=l[7])*Z,a[5]=le*p+fe*T+we*N+_e*J,a[6]=le*_+fe*M+we*B+_e*de,a[7]=le*v+fe*k+we*H+_e*ge,a[8]=(le=l[8])*u+(fe=l[9])*C+(we=l[10])*O+(_e=l[11])*Z,a[9]=le*p+fe*T+we*N+_e*J,a[10]=le*_+fe*M+we*B+_e*de,a[11]=le*v+fe*k+we*H+_e*ge,a[12]=(le=l[12])*u+(fe=l[13])*C+(we=l[14])*O+(_e=l[15])*Z,a[13]=le*p+fe*T+we*N+_e*J,a[14]=le*_+fe*M+we*B+_e*de,a[15]=le*v+fe*k+we*H+_e*ge,a}function Of(a,o,l){var u,p,_,v,C,T,M,k,O,N,B,H,Z=l[0],J=l[1],de=l[2];return o===a?(a[12]=o[0]*Z+o[4]*J+o[8]*de+o[12],a[13]=o[1]*Z+o[5]*J+o[9]*de+o[13],a[14]=o[2]*Z+o[6]*J+o[10]*de+o[14],a[15]=o[3]*Z+o[7]*J+o[11]*de+o[15]):(p=o[1],_=o[2],v=o[3],C=o[4],T=o[5],M=o[6],k=o[7],O=o[8],N=o[9],B=o[10],H=o[11],a[0]=u=o[0],a[1]=p,a[2]=_,a[3]=v,a[4]=C,a[5]=T,a[6]=M,a[7]=k,a[8]=O,a[9]=N,a[10]=B,a[11]=H,a[12]=u*Z+C*J+O*de+o[12],a[13]=p*Z+T*J+N*de+o[13],a[14]=_*Z+M*J+B*de+o[14],a[15]=v*Z+k*J+H*de+o[15]),a}function Uu(a,o,l){var u=l[0],p=l[1],_=l[2];return a[0]=o[0]*u,a[1]=o[1]*u,a[2]=o[2]*u,a[3]=o[3]*u,a[4]=o[4]*p,a[5]=o[5]*p,a[6]=o[6]*p,a[7]=o[7]*p,a[8]=o[8]*_,a[9]=o[9]*_,a[10]=o[10]*_,a[11]=o[11]*_,a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a}function Pf(a,o,l){var u=Math.sin(l),p=Math.cos(l),_=o[4],v=o[5],C=o[6],T=o[7],M=o[8],k=o[9],O=o[10],N=o[11];return o!==a&&(a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[4]=_*p+M*u,a[5]=v*p+k*u,a[6]=C*p+O*u,a[7]=T*p+N*u,a[8]=M*p-_*u,a[9]=k*p-v*u,a[10]=O*p-C*u,a[11]=N*p-T*u,a}function Rf(a,o,l){var u=Math.sin(l),p=Math.cos(l),_=o[0],v=o[1],C=o[2],T=o[3],M=o[8],k=o[9],O=o[10],N=o[11];return o!==a&&(a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=_*p-M*u,a[1]=v*p-k*u,a[2]=C*p-O*u,a[3]=T*p-N*u,a[8]=_*u+M*p,a[9]=v*u+k*p,a[10]=C*u+O*p,a[11]=T*u+N*p,a}function u1(a,o){return a[0]=o[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function d1(a,o,l){var u,p,_,v=l[0],C=l[1],T=l[2],M=Math.hypot(v,C,T);return M<c1?null:(v*=M=1/M,C*=M,T*=M,u=Math.sin(o),p=Math.cos(o),a[0]=v*v*(_=1-p)+p,a[1]=C*v*_+T*u,a[2]=T*v*_-C*u,a[3]=0,a[4]=v*C*_-T*u,a[5]=C*C*_+p,a[6]=T*C*_+v*u,a[7]=0,a[8]=v*T*_+C*u,a[9]=C*T*_-v*u,a[10]=T*T*_+p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,o=arguments.length;o--;)a+=arguments[o]*arguments[o];return Math.sqrt(a)});var Js=op;function h1(){var a=new ds(3);return ds!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function pv(a){var o=new ds(3);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o}function Nf(a){return Math.hypot(a[0],a[1],a[2])}function jd(a,o,l){var u=new ds(3);return u[0]=a,u[1]=o,u[2]=l,u}function _l(a,o,l){return a[0]=o[0]+l[0],a[1]=o[1]+l[1],a[2]=o[2]+l[2],a}function p1(a,o,l){return a[0]=o[0]-l[0],a[1]=o[1]-l[1],a[2]=o[2]-l[2],a}function fv(a,o,l){return a[0]=o[0]*l[0],a[1]=o[1]*l[1],a[2]=o[2]*l[2],a}function Lf(a,o,l){return a[0]=Math.min(o[0],l[0]),a[1]=Math.min(o[1],l[1]),a[2]=Math.min(o[2],l[2]),a}function sp(a,o,l){return a[0]=Math.max(o[0],l[0]),a[1]=Math.max(o[1],l[1]),a[2]=Math.max(o[2],l[2]),a}function va(a,o,l){return a[0]=o[0]*l,a[1]=o[1]*l,a[2]=o[2]*l,a}function Ff(a,o,l,u){return a[0]=o[0]+l[0]*u,a[1]=o[1]+l[1]*u,a[2]=o[2]+l[2]*u,a}function ar(a,o){var l=o[0],u=o[1],p=o[2],_=l*l+u*u+p*p;return _>0&&(_=1/Math.sqrt(_)),a[0]=o[0]*_,a[1]=o[1]*_,a[2]=o[2]*_,a}function ea(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]}function dg(a,o,l){var u=o[0],p=o[1],_=o[2],v=l[0],C=l[1],T=l[2];return a[0]=p*T-_*C,a[1]=_*v-u*T,a[2]=u*C-p*v,a}function Tr(a,o,l){var u=o[0],p=o[1],_=o[2],v=l[3]*u+l[7]*p+l[11]*_+l[15];return a[0]=(l[0]*u+l[4]*p+l[8]*_+l[12])/(v=v||1),a[1]=(l[1]*u+l[5]*p+l[9]*_+l[13])/v,a[2]=(l[2]*u+l[6]*p+l[10]*_+l[14])/v,a}function Xo(a,o,l){var u=l[0],p=l[1],_=l[2],v=o[0],C=o[1],T=o[2],M=p*T-_*C,k=_*v-u*T,O=u*C-p*v,N=p*O-_*k,B=_*M-u*O,H=u*k-p*M,Z=2*l[3];return k*=Z,O*=Z,B*=2,H*=2,a[0]=v+(M*=Z)+(N*=2),a[1]=C+k+B,a[2]=T+O+H,a}var tu,ja=p1,xC=fv,SC=Nf;function f1(a,o,l){return a[0]=o[0]*l,a[1]=o[1]*l,a[2]=o[2]*l,a[3]=o[3]*l,a}function mv(a,o){var l=o[0],u=o[1],p=o[2],_=o[3],v=l*l+u*u+p*p+_*_;return v>0&&(v=1/Math.sqrt(v)),a[0]=l*v,a[1]=u*v,a[2]=p*v,a[3]=_*v,a}function ju(a,o,l){var u=o[0],p=o[1],_=o[2],v=o[3];return a[0]=l[0]*u+l[4]*p+l[8]*_+l[12]*v,a[1]=l[1]*u+l[5]*p+l[9]*_+l[13]*v,a[2]=l[2]*u+l[6]*p+l[10]*_+l[14]*v,a[3]=l[3]*u+l[7]*p+l[11]*_+l[15]*v,a}function gv(){var a=new ds(4);return ds!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function m1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function _v(a,o,l){l*=.5;var u=o[0],p=o[1],_=o[2],v=o[3],C=Math.sin(l),T=Math.cos(l);return a[0]=u*T+v*C,a[1]=p*T+_*C,a[2]=_*T-p*C,a[3]=v*T-u*C,a}function yv(a,o,l){l*=.5;var u=o[0],p=o[1],_=o[2],v=o[3],C=Math.sin(l),T=Math.cos(l);return a[0]=u*T-_*C,a[1]=p*T+v*C,a[2]=_*T+u*C,a[3]=v*T-p*C,a}h1(),tu=new ds(4),ds!=Float32Array&&(tu[0]=0,tu[1]=0,tu[2]=0,tu[3]=0);var g1=mv;h1(),jd(1,0,0),jd(0,1,0),gv(),gv(),wC();class zf{constructor(o,l){this.pos=o,this.dir=l}intersectsPlane(o,l,u){const p=ea(l,this.dir);if(Math.abs(p)<1e-6)return!1;const _=((o[0]-this.pos[0])*l[0]+(o[1]-this.pos[1])*l[1]+(o[2]-this.pos[2])*l[2])/p;return u[0]=this.pos[0]+this.dir[0]*_,u[1]=this.pos[1]+this.dir[1]*_,u[2]=this.pos[2]+this.dir[2]*_,!0}closestPointOnSphere(o,l,u){if(Z=(B=this.pos)[0],J=B[1],de=B[2],ge=(H=o)[0],le=H[1],fe=H[2],Math.abs(Z-ge)<=c1*Math.max(1,Math.abs(Z),Math.abs(ge))&&Math.abs(J-le)<=c1*Math.max(1,Math.abs(J),Math.abs(le))&&Math.abs(de-fe)<=c1*Math.max(1,Math.abs(de),Math.abs(fe))||0===l)return u[0]=u[1]=u[2]=0,!1;var B,H,Z,J,de,ge,le,fe;const[p,_,v]=this.dir,C=this.pos[0]-o[0],T=this.pos[1]-o[1],M=this.pos[2]-o[2],k=p*p+_*_+v*v,O=2*(C*p+T*_+M*v),N=O*O-4*k*(C*C+T*T+M*M-l*l);if(N<0){const B=Math.max(-O/2,0),H=C+p*B,Z=T+_*B,J=M+v*B,de=Math.hypot(H,Z,J);return u[0]=H*l/de,u[1]=Z*l/de,u[2]=J*l/de,!1}{const B=(-O-Math.sqrt(N))/(2*k);if(B<0){const H=Math.hypot(C,T,M);return u[0]=C*l/H,u[1]=T*l/H,u[2]=M*l/H,!1}return u[0]=C+p*B,u[1]=T+_*B,u[2]=M+v*B,!0}}}class _1{constructor(o,l,u,p,_){this.TL=o,this.TR=l,this.BR=u,this.BL=p,this.horizon=_}static fromInvProjectionMatrix(o,l,u){const p=[-1,1,1],_=[1,1,1],v=[1,-1,1],C=[-1,-1,1],T=Tr(p,p,o),M=Tr(_,_,o),k=Tr(v,v,o),O=Tr(C,C,o);return new _1(T,M,k,O,l/u)}}class hg{constructor(o,l){this.points=o,this.planes=l}static fromInvProjectionMatrix(o,l,u,p){const _=Math.pow(2,u),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(T=>{const M=ju([],T,o),k=1/M[3]/l*_;return(O=M)[0]=(N=M)[0]*(B=[k,k,p?1/M[3]:k,k])[0],O[1]=N[1]*B[1],O[2]=N[2]*B[2],O[3]=N[3]*B[3],O;var O,N,B}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(T=>{const M=ar([],dg([],ja([],v[T[0]],v[T[1]]),ja([],v[T[2]],v[T[1]]))),k=-ea(M,v[T[1]]);return M.concat(k)});return new hg(v,C)}}class hs{static fromPoints(o){const l=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const p of o)Lf(l,l,p),sp(u,u,p);return new hs(l,u)}static applyTransform(o,l){const u=o.getCorners();for(let p=0;p<u.length;++p)Tr(u[p],u[p],l);return hs.fromPoints(u)}constructor(o,l){this.min=o,this.max=l,this.center=va([],_l([],this.min,this.max),.5)}quadrant(o){const l=[o%2==0,o<2],u=pv(this.min),p=pv(this.max);for(let _=0;_<l.length;_++)u[_]=l[_]?this.min[_]:this.center[_],p[_]=l[_]?this.center[_]:this.max[_];return p[2]=this.max[2],new hs(u,p)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,l=this.max;return[[o[0],o[1],o[2]],[l[0],o[1],o[2]],[l[0],l[1],o[2]],[o[0],l[1],o[2]],[o[0],o[1],l[2]],[l[0],o[1],l[2]],[l[0],l[1],l[2]],[o[0],l[1],l[2]]]}intersects(o){const l=this.getCorners();let u=!0;for(let p=0;p<o.planes.length;p++){const _=o.planes[p];let v=0;for(let C=0;C<l.length;C++)v+=ea(_,l[C])+_[3]>=0;if(0===v)return 0;v!==l.length&&(u=!1)}if(u)return 2;for(let p=0;p<3;p++){let _=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let C=0;C<o.points.length;C++){const T=o.points[C][p]-this.min[p];_=Math.min(_,T),v=Math.max(v,T)}if(v<0||_>this.max[p]-this.min[p])return 0}return 1}}function ap(a,o,l,u,p,_,v,C,T){if(_&&a.queryGeometry.isAboveHorizon)return!1;_&&(T*=a.pixelToTileUnitsFactor);const M=a.tileID.canonical,k=l.projection.upVectorScale(M,l.center.lat,l.worldSize).metersToTile;for(const O of o)for(const N of O){const B=N.add(C),H=p&&l.elevation?l.elevation.exaggeration()*p.getElevationAt(B.x,B.y,!0):0,Z=l.projection.projectTilePoint(B.x,B.y,M);if(H>0){const le=l.projection.upVector(M,B.x,B.y);Z.x+=le[0]*k*H,Z.y+=le[1]*k*H,Z.z+=le[2]*k*H}const J=_?B:TC(Z.x,Z.y,Z.z,u),de=_?a.tilespaceRays.map(le=>v1(le,H)):a.queryGeometry.screenGeometry,ge=ju([],[Z.x,Z.y,Z.z,1],u);if(!v&&_?T*=ge[3]/l.cameraToCenterDistance:v&&!_&&(T*=l.cameraToCenterDistance/ge[3]),_){const le=No((N.y/Mn+M.y)/(1<<M.z));T/=l.projection.pixelsPerMeter(le,1)/Qs(1,le)}if(lv(de,J,T))return!0}return!1}function TC(a,o,l,u){const p=ju([],[a,o,l,1],u);return new Fe(p[0]/p[3],p[1]/p[3])}const vv=jd(0,0,0),y1=jd(0,0,1);function v1(a,o){const l=h1();return vv[2]=o,a.intersectsPlane(vv,y1,l),new Fe(l[0],l[1])}class b1 extends t1{}function MC(a,{width:o,height:l},u,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==o*l*u)throw new RangeError("mismatched image size")}else p=new Uint8Array(o*l*u);return a.width=o,a.height=l,a.data=p,a}function $d(a,o,l){const{width:u,height:p}=o;u===a.width&&p===a.height||(Bf(a,o,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,u),height:Math.min(a.height,p)},l),a.width=u,a.height=p,a.data=o.data)}function Bf(a,o,l,u,p,_){if(0===p.width||0===p.height)return o;if(p.width>a.width||p.height>a.height||l.x>a.width-p.width||l.y>a.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>o.width||p.height>o.height||u.x>o.width-p.width||u.y>o.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const v=a.data,C=o.data;for(let T=0;T<p.height;T++){const M=((l.y+T)*a.width+l.x)*_,k=((u.y+T)*o.width+u.x)*_;for(let O=0;O<p.width*_;O++)C[k+O]=v[M+O]}return o}Nt(b1,"HeatmapBucket",{omit:["layers"]});class sc{constructor(o,l){MC(this,o,1,l)}resize(o){$d(this,new sc(o),1)}clone(){return new sc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,u,p,_){Bf(o,l,u,p,_,1)}}class ta{constructor(o,l){MC(this,o,4,l)}resize(o){$d(this,new ta(o),4)}replace(o,l){l?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new ta({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,u,p,_){Bf(o,l,u,p,_,4)}}Nt(sc,"AlphaImage"),Nt(ta,"RGBAImage");var w1={paint:new Ut({"heatmap-radius":new je(tt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new je(tt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Oe(tt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Bt(tt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Oe(tt.paint_heatmap["heatmap-opacity"])})};function C1(a){const o={},l=a.resolution||256,u=a.clips?a.clips.length:1,p=a.image||new ta({width:l,height:u}),_=(v,C,T)=>{o[a.evaluationKey]=T;const M=a.expression.evaluate(o);p.data[v+C+0]=Math.floor(255*M.r/M.a),p.data[v+C+1]=Math.floor(255*M.g/M.a),p.data[v+C+2]=Math.floor(255*M.b/M.a),p.data[v+C+3]=Math.floor(255*M.a)};if(a.clips)for(let v=0,C=0;v<u;++v,C+=4*l)for(let T=0,M=0;T<l;T++,M+=4){const k=T/(l-1),{start:O,end:N}=a.clips[v];_(C,M,O*(1-k)+N*k)}else for(let v=0,C=0;v<l;v++,C+=4)_(0,C,v/(l-1));return p}var DC={paint:new Ut({"hillshade-illumination-direction":new Oe(tt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Oe(tt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Oe(tt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Oe(tt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Oe(tt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Oe(tt.paint_hillshade["hillshade-accent-color"])})};const EC=Pt([{name:"a_pos",components:2,type:"Int16"}],4),{members:IC}=EC;var Vf={exports:{}};function pg(a,o,l){l=l||2;var u,p,_,v,C,T,M,k=o&&o.length,O=k?o[0]*l:a.length,N=x1(a,0,O,l,!0),B=[];if(!N||N.next===N.prev)return B;if(k&&(N=function(Z,J,de,ge){var le,fe,we,_e=[];for(le=0,fe=J.length;le<fe;le++)(we=x1(Z,J[le]*ge,le<fe-1?J[le+1]*ge:Z.length,ge,!1))===we.next&&(we.steiner=!0),_e.push(OC(we));for(_e.sort(wv),le=0;le<_e.length;le++)de=Gd(_e[le],de);return de}(a,o,N,l)),a.length>80*l){u=_=a[0],p=v=a[1];for(var H=l;H<O;H+=l)(C=a[H])<u&&(u=C),(T=a[H+1])<p&&(p=T),C>_&&(_=C),T>v&&(v=T);M=0!==(M=Math.max(_-u,v-p))?32767/M:0}return lp(N,B,l,u,p,M,0),B}function x1(a,o,l,u,p){var _,v;if(p===qf(a,o,l,u)>0)for(_=o;_<l;_+=u)v=Gf(_,a[_],a[_+1],v);else for(_=l-u;_>=o;_-=u)v=Gf(_,a[_],a[_+1],v);return v&&Uf(v,v.next)&&(dp(v),v=v.next),v}function nu(a,o){if(!a)return a;o||(o=a);var l,u=a;do{if(l=!1,u.steiner||!Uf(u,u.next)&&0!==Lr(u.prev,u,u.next))u=u.next;else{if(dp(u),(u=o=u.prev)===u.next)break;l=!0}}while(l||u!==o);return o}function lp(a,o,l,u,p,_,v){if(a){!v&&_&&function(k,O,N,B){var H=k;do{0===H.z&&(H.z=fg(H.x,H.y,O,N,B)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next}while(H!==k);H.prevZ.nextZ=null,H.prevZ=null,function(Z){var J,de,ge,le,fe,we,_e,Ve,Be=1;do{for(de=Z,Z=null,fe=null,we=0;de;){for(we++,ge=de,_e=0,J=0;J<Be&&(_e++,ge=ge.nextZ);J++);for(Ve=Be;_e>0||Ve>0&&ge;)0!==_e&&(0===Ve||!ge||de.z<=ge.z)?(le=de,de=de.nextZ,_e--):(le=ge,ge=ge.nextZ,Ve--),fe?fe.nextZ=le:Z=le,le.prevZ=fe,fe=le;de=ge}fe.nextZ=null,Be*=2}while(we>1)}(H)}(a,u,p,_);for(var C,T,M=a;a.prev!==a.next;)if(C=a.prev,T=a.next,_?kC(a,u,p,_):S1(a))o.push(C.i/l|0),o.push(a.i/l|0),o.push(T.i/l|0),dp(a),a=T.next,M=T.next;else if((a=T)===M){v?1===v?lp(a=AC(nu(a),o,l),o,l,u,p,_,2):2===v&&bv(a,o,l,u,p,_):lp(nu(a),o,l,u,p,_,1);break}}}function S1(a){var o=a.prev,l=a,u=a.next;if(Lr(o,l,u)>=0)return!1;for(var p=o.x,_=l.x,v=u.x,C=o.y,T=l.y,M=u.y,k=p<_?p<v?p:v:_<v?_:v,O=C<T?C<M?C:M:T<M?T:M,N=p>_?p>v?p:v:_>v?_:v,B=C>T?C>M?C:M:T>M?T:M,H=u.next;H!==o;){if(H.x>=k&&H.x<=N&&H.y>=O&&H.y<=B&&Hf(p,C,_,T,v,M,H.x,H.y)&&Lr(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function kC(a,o,l,u){var p=a.prev,_=a,v=a.next;if(Lr(p,_,v)>=0)return!1;for(var C=p.x,T=_.x,M=v.x,k=p.y,O=_.y,N=v.y,B=C<T?C<M?C:M:T<M?T:M,H=k<O?k<N?k:N:O<N?O:N,Z=C>T?C>M?C:M:T>M?T:M,J=k>O?k>N?k:N:O>N?O:N,de=fg(B,H,o,l,u),ge=fg(Z,J,o,l,u),le=a.prevZ,fe=a.nextZ;le&&le.z>=de&&fe&&fe.z<=ge;){if(le.x>=B&&le.x<=Z&&le.y>=H&&le.y<=J&&le!==p&&le!==v&&Hf(C,k,T,O,M,N,le.x,le.y)&&Lr(le.prev,le,le.next)>=0||(le=le.prevZ,fe.x>=B&&fe.x<=Z&&fe.y>=H&&fe.y<=J&&fe!==p&&fe!==v&&Hf(C,k,T,O,M,N,fe.x,fe.y)&&Lr(fe.prev,fe,fe.next)>=0))return!1;fe=fe.nextZ}for(;le&&le.z>=de;){if(le.x>=B&&le.x<=Z&&le.y>=H&&le.y<=J&&le!==p&&le!==v&&Hf(C,k,T,O,M,N,le.x,le.y)&&Lr(le.prev,le,le.next)>=0)return!1;le=le.prevZ}for(;fe&&fe.z<=ge;){if(fe.x>=B&&fe.x<=Z&&fe.y>=H&&fe.y<=J&&fe!==p&&fe!==v&&Hf(C,k,T,O,M,N,fe.x,fe.y)&&Lr(fe.prev,fe,fe.next)>=0)return!1;fe=fe.nextZ}return!0}function AC(a,o,l){var u=a;do{var p=u.prev,_=u.next.next;!Uf(p,_)&&T1(p,u,u.next,_)&&up(p,_)&&up(_,p)&&(o.push(p.i/l|0),o.push(u.i/l|0),o.push(_.i/l|0),dp(u),dp(u.next),u=a=_),u=u.next}while(u!==a);return nu(u)}function bv(a,o,l,u,p,_){var v=a;do{for(var C=v.next.next;C!==v.prev;){if(v.i!==C.i&&mg(v,C)){var T=$f(v,C);return v=nu(v,v.next),T=nu(T,T.next),lp(v,o,l,u,p,_,0),void lp(T,o,l,u,p,_,0)}C=C.next}v=v.next}while(v!==a)}function wv(a,o){return a.x-o.x}function Gd(a,o){var l=function(p,_){var v,C=_,T=p.x,M=p.y,k=-1/0;do{if(M<=C.y&&M>=C.next.y&&C.next.y!==C.y){var O=C.x+(M-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(O<=T&&O>k&&(k=O,v=C.x<C.next.x?C:C.next,O===T))return v}C=C.next}while(C!==_);if(!v)return null;var N,B=v,H=v.x,Z=v.y,J=1/0;C=v;do{T>=C.x&&C.x>=H&&T!==C.x&&Hf(M<Z?T:k,M,H,Z,M<Z?k:T,M,C.x,C.y)&&(N=Math.abs(M-C.y)/(T-C.x),up(C,p)&&(N<J||N===J&&(C.x>v.x||C.x===v.x&&Cv(v,C)))&&(v=C,J=N)),C=C.next}while(C!==B);return v}(a,o);if(!l)return o;var u=$f(l,a);return nu(u,u.next),nu(l,l.next)}function Cv(a,o){return Lr(a.prev,a,o.prev)<0&&Lr(o.next,a,a.next)<0}function fg(a,o,l,u,p){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*p|0)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-u)*p|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function OC(a){var o=a,l=a;do{(o.x<l.x||o.x===l.x&&o.y<l.y)&&(l=o),o=o.next}while(o!==a);return l}function Hf(a,o,l,u,p,_,v,C){return(p-v)*(o-C)>=(a-v)*(_-C)&&(a-v)*(u-C)>=(l-v)*(o-C)&&(l-v)*(_-C)>=(p-v)*(u-C)}function mg(a,o){return a.next.i!==o.i&&a.prev.i!==o.i&&!function(l,u){var p=l;do{if(p.i!==l.i&&p.next.i!==l.i&&p.i!==u.i&&p.next.i!==u.i&&T1(p,p.next,l,u))return!0;p=p.next}while(p!==l);return!1}(a,o)&&(up(a,o)&&up(o,a)&&function(l,u){var p=l,_=!1,v=(l.x+u.x)/2,C=(l.y+u.y)/2;do{p.y>C!=p.next.y>C&&p.next.y!==p.y&&v<(p.next.x-p.x)*(C-p.y)/(p.next.y-p.y)+p.x&&(_=!_),p=p.next}while(p!==l);return _}(a,o)&&(Lr(a.prev,a,o.prev)||Lr(a,o.prev,o))||Uf(a,o)&&Lr(a.prev,a,a.next)>0&&Lr(o.prev,o,o.next)>0)}function Lr(a,o,l){return(o.y-a.y)*(l.x-o.x)-(o.x-a.x)*(l.y-o.y)}function Uf(a,o){return a.x===o.x&&a.y===o.y}function T1(a,o,l,u){var p=cp(Lr(a,o,l)),_=cp(Lr(a,o,u)),v=cp(Lr(l,u,a)),C=cp(Lr(l,u,o));return p!==_&&v!==C||!(0!==p||!jf(a,l,o))||!(0!==_||!jf(a,u,o))||!(0!==v||!jf(l,a,u))||!(0!==C||!jf(l,o,u))}function jf(a,o,l){return o.x<=Math.max(a.x,l.x)&&o.x>=Math.min(a.x,l.x)&&o.y<=Math.max(a.y,l.y)&&o.y>=Math.min(a.y,l.y)}function cp(a){return a>0?1:a<0?-1:0}function up(a,o){return Lr(a.prev,a,a.next)<0?Lr(a,o,a.next)>=0&&Lr(a,a.prev,o)>=0:Lr(a,o,a.prev)<0||Lr(a,a.next,o)<0}function $f(a,o){var l=new Wf(a.i,a.x,a.y),u=new Wf(o.i,o.x,o.y),p=a.next,_=o.prev;return a.next=o,o.prev=a,l.next=p,p.prev=l,u.next=l,l.prev=u,_.next=u,u.prev=_,u}function Gf(a,o,l,u){var p=new Wf(a,o,l);return u?(p.next=u.next,p.prev=u,u.next.prev=p,u.next=p):(p.prev=p,p.next=p),p}function dp(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Wf(a,o,l){this.i=a,this.x=o,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qf(a,o,l,u){for(var p=0,_=o,v=l-u;_<l;_+=u)p+=(a[v]-a[_])*(a[_+1]+a[v+1]),v=_;return p}function M1(a,o,l,u,p){hp(a,o,l||0,u||a.length-1,p||xv)}function hp(a,o,l,u,p){for(;u>l;){if(u-l>600){var _=u-l+1,v=o-l+1,C=Math.log(_),T=.5*Math.exp(2*C/3),M=.5*Math.sqrt(C*T*(_-T)/_)*(v-_/2<0?-1:1);hp(a,o,Math.max(l,Math.floor(o-v*T/_+M)),Math.min(u,Math.floor(o+(_-v)*T/_+M)),p)}var k=a[o],O=l,N=u;for(Zf(a,l,o),p(a[u],k)>0&&Zf(a,l,u);O<N;){for(Zf(a,O,N),O++,N--;p(a[O],k)<0;)O++;for(;p(a[N],k)>0;)N--}0===p(a[l],k)?Zf(a,l,N):Zf(a,++N,u),N<=o&&(l=N+1),o<=N&&(u=N-1)}}function Zf(a,o,l){var u=a[o];a[o]=a[l],a[l]=u}function xv(a,o){return a<o?-1:a>o?1:0}function D1(a,o){const l=a.length;if(l<=1)return[a];const u=[];let p,_;for(let v=0;v<l;v++){const C=gi(a[v]);0!==C&&(a[v].area=Math.abs(C),void 0===_&&(_=C<0),_===C<0?(p&&u.push(p),p=[a[v]]):p.push(a[v]))}if(p&&u.push(p),o>1)for(let v=0;v<u.length;v++)u[v].length<=o||(M1(u[v],o,1,u[v].length-1,PC),u[v]=u[v].slice(0,o));return u}function PC(a,o){return o.area-a.area}function gg(a,o,l){const u=l.patternDependencies;let p=!1;for(const _ of o){const v=_.paint.get(`${a}-pattern`);v.isConstant()||(p=!0);const C=v.constantOr(null);C&&(p=!0,u[C]=!0)}return p}function Kf(a,o,l,u,p){const _=p.patternDependencies;for(const v of o){const C=v.paint.get(`${a}-pattern`).value;if("constant"!==C.kind){let T=C.evaluate({zoom:u},l,{},p.availableImages);T=T&&T.name?T.name:T,_[T]=!0,l.patterns[v.id]=T}}return l}Vf.exports=pg,Vf.exports.default=pg,pg.deviation=function(a,o,l,u){var p=o&&o.length,_=Math.abs(qf(a,0,p?o[0]*l:a.length,l));if(p)for(var v=0,C=o.length;v<C;v++)_-=Math.abs(qf(a,o[v]*l,v<C-1?o[v+1]*l:a.length,l));var T=0;for(v=0;v<u.length;v+=3){var M=u[v]*l,k=u[v+1]*l,O=u[v+2]*l;T+=Math.abs((a[M]-a[O])*(a[k+1]-a[M+1])-(a[M]-a[k])*(a[O+1]-a[M+1]))}return 0===_&&0===T?0:Math.abs((T-_)/_)},pg.flatten=function(a){for(var o=a[0][0].length,l={vertices:[],holes:[],dimensions:o},u=0,p=0;p<a.length;p++){for(var _=0;_<a[p].length;_++)for(var v=0;v<o;v++)l.vertices.push(a[p][_][v]);p>0&&l.holes.push(u+=a[p-1].length)}return l};class Wd{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ei,this.indexArray=new _o,this.indexArray2=new Xs,this.programConfigurations=new zd(o.layers,o.zoom),this.segments=new Vr,this.segments2=new Vr,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=o.projection}populate(o,l,u,p){this.hasPattern=gg("fill",this.layers,l);const _=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:C,id:T,index:M,sourceLayerIndex:k}of o){const O=this.layers[0]._featureFilter.needGeometry,N=Vd(C,O);if(!this.layers[0]._featureFilter.filter(new Ie(this.zoom),N,u))continue;const B=_?_.evaluate(N,{},u,l.availableImages):void 0,H={id:T,properties:C.properties,type:C.type,sourceLayerIndex:k,index:M,geometry:O?N.geometry:Jc(C,u,p),patterns:{},sortKey:B};v.push(H)}_&&v.sort((C,T)=>C.sortKey-T.sortKey);for(const C of v){const{geometry:T,index:M,sourceLayerIndex:k}=C;if(this.hasPattern){const O=Kf("fill",this.layers,C,this.zoom,l);this.patternFeatures.push(O)}else this.addFeature(C,T,M,u,{},l.availableImages);l.featureIndex.insert(o[M].feature,T,M,k,this.index)}}update(o,l,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,u,p)}addFeatures(o,l,u,p,_){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,u,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,IC),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,l,u,p,_,v=[]){for(const C of D1(l,500)){let T=0;for(const H of C)T+=H.length;const M=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray),k=M.vertexLength,O=[],N=[];for(const H of C){if(0===H.length)continue;H!==C[0]&&N.push(O.length/2);const Z=this.segments2.prepareSegment(H.length,this.layoutVertexArray,this.indexArray2),J=Z.vertexLength;this.layoutVertexArray.emplaceBack(H[0].x,H[0].y),this.indexArray2.emplaceBack(J+H.length-1,J),O.push(H[0].x),O.push(H[0].y);for(let de=1;de<H.length;de++)this.layoutVertexArray.emplaceBack(H[de].x,H[de].y),this.indexArray2.emplaceBack(J+de-1,J+de),O.push(H[de].x),O.push(H[de].y);Z.vertexLength+=H.length,Z.primitiveLength+=H.length}const B=Vf.exports(O,N);for(let H=0;H<B.length;H+=3)this.indexArray.emplaceBack(k+B[H],k+B[H+1],k+B[H+2]);M.vertexLength+=T,M.primitiveLength+=B.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,v,p)}}Nt(Wd,"FillBucket",{omit:["layers","patternFeatures"]});const E1=new Ut({"fill-sort-key":new je(tt.layout_fill["fill-sort-key"])});var qd={paint:new Ut({"fill-antialias":new Oe(tt.paint_fill["fill-antialias"]),"fill-opacity":new je(tt.paint_fill["fill-opacity"]),"fill-color":new je(tt.paint_fill["fill-color"]),"fill-outline-color":new je(tt.paint_fill["fill-outline-color"]),"fill-translate":new Oe(tt.paint_fill["fill-translate"]),"fill-translate-anchor":new Oe(tt.paint_fill["fill-translate-anchor"]),"fill-pattern":new je(tt.paint_fill["fill-pattern"])}),layout:E1};const RC=Pt([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),NC=Pt([{name:"a_centroid_pos",components:2,type:"Uint16"}]),FD=Pt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:LC}=RC;var pp={},FC=Fe,I1=iu;function iu(a,o,l,u,p){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=u,this._values=p,a.readFields(k1,this,o)}function k1(a,o,l){1==a?o.id=l.readVarint():2==a?function(u,p){for(var _=u.readVarint()+u.pos;u.pos<_;){var v=p._keys[u.readVarint()],C=p._values[u.readVarint()];p.properties[v]=C}}(l,o):3==a?o.type=l.readVarint():4==a&&(o._geometry=l.pos)}function Sv(a){for(var o,l,u=0,p=0,_=a.length,v=_-1;p<_;v=p++)u+=((l=a[v]).x-(o=a[p]).x)*(o.y+l.y);return u}iu.types=["Unknown","Point","LineString","Polygon"],iu.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var o,l=a.readVarint()+a.pos,u=1,p=0,_=0,v=0,C=[];a.pos<l;){if(p<=0){var T=a.readVarint();u=7&T,p=T>>3}if(p--,1===u||2===u)_+=a.readSVarint(),v+=a.readSVarint(),1===u&&(o&&C.push(o),o=[]),o.push(new FC(_,v));else{if(7!==u)throw new Error("unknown command "+u);o&&o.push(o[0].clone())}}return o&&C.push(o),C},iu.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var o=a.readVarint()+a.pos,l=1,u=0,p=0,_=0,v=1/0,C=-1/0,T=1/0,M=-1/0;a.pos<o;){if(u<=0){var k=a.readVarint();l=7&k,u=k>>3}if(u--,1===l||2===l)(p+=a.readSVarint())<v&&(v=p),p>C&&(C=p),(_+=a.readSVarint())<T&&(T=_),_>M&&(M=_);else if(7!==l)throw new Error("unknown command "+l)}return[v,T,C,M]},iu.prototype.toGeoJSON=function(a,o,l){var u,p,_=this.extent*Math.pow(2,l),v=this.extent*a,C=this.extent*o,T=this.loadGeometry(),M=iu.types[this.type];function k(B){for(var H=0;H<B.length;H++){var Z=B[H];B[H]=[360*(Z.x+v)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(Z.y+C)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var O=[];for(u=0;u<T.length;u++)O[u]=T[u][0];k(T=O);break;case 2:for(u=0;u<T.length;u++)k(T[u]);break;case 3:for(T=function(B){var H=B.length;if(H<=1)return[B];for(var Z,J,de=[],ge=0;ge<H;ge++){var le=Sv(B[ge]);0!==le&&(void 0===J&&(J=le<0),J===le<0?(Z&&de.push(Z),Z=[B[ge]]):Z.push(B[ge]))}return Z&&de.push(Z),de}(T),u=0;u<T.length;u++)for(p=0;p<T[u].length;p++)k(T[u][p])}1===T.length?T=T[0]:M="Multi"+M;var N={type:"Feature",geometry:{type:M,coordinates:T},properties:this.properties};return"id"in this&&(N.id=this.id),N};var Tv=I1,A1=$u;function $u(a,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(zC,this,o),this.length=this._features.length}function zC(a,o,l){15===a?o.version=l.readVarint():1===a?o.name=l.readString():5===a?o.extent=l.readVarint():2===a?o._features.push(l.pos):3===a?o._keys.push(l.readString()):4===a&&o._values.push(function(u){for(var p=null,_=u.readVarint()+u.pos;u.pos<_;){var v=u.readVarint()>>3;p=1===v?u.readString():2===v?u.readFloat():3===v?u.readDouble():4===v?u.readVarint64():5===v?u.readVarint():6===v?u.readSVarint():7===v?u.readBoolean():null}return p}(l))}$u.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var o=this._pbf.readVarint()+this._pbf.pos;return new Tv(this._pbf,o,this.extent,this._keys,this._values)};var BC=A1;function VC(a,o,l){if(3===a){var u=new BC(l,l.readVarint()+l.pos);u.length&&(o[u.name]=u)}}var O1=pp.VectorTile=function(a,o){this.layers=a.readFields(VC,{},o)},_g=pp.VectorTileFeature=I1;function ps(a,o,l,u){const p=[],_=0===u?(v,C,T,M,k,O)=>{v.push(new Fe(O,T+(O-C)/(M-C)*(k-T)))}:(v,C,T,M,k,O)=>{v.push(new Fe(C+(O-T)/(k-T)*(M-C),O))};for(const v of a){const C=[];for(const T of v){if(T.length<=2)continue;const M=[];for(let N=0;N<T.length-1;N++){const B=T[N].x,H=T[N].y,Z=T[N+1].x,J=T[N+1].y,de=0===u?B:H,ge=0===u?Z:J;de<o?ge>o&&_(M,B,H,Z,J,o):de>l?ge<l&&_(M,B,H,Z,J,l):M.push(T[N]),ge<o&&de>=o&&_(M,B,H,Z,J,o),ge>l&&de<=l&&_(M,B,H,Z,J,l)}let k=T[T.length-1];const O=0===u?k.x:k.y;O>=o&&O<=l&&M.push(k),M.length&&(k=M[M.length-1],M[0].x===k.x&&M[0].y===k.y||M.push(M[0]),C.push(M))}C.length&&p.push(C)}return p}pp.VectorTileLayer=A1;const ac=_g.types,HC=Math.pow(2,13);function Yf(a,o,l,u,p,_,v,C){a.emplaceBack((o<<1)+v,(l<<1)+_,(Math.floor(u*HC)<<1)+p,Math.round(C))}function Xf(a,o,l){a.emplaceBack(o.x,o.y,o.z,16384*l[0],16384*l[1],16384*l[2])}class Mv{constructor(){this.acc=new Fe(0,0),this.polyCount=[]}startRing(o){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Fe(o.x,o.y),this.max=new Fe(o.x,o.y))}append(o,l){this.currentPolyCount.edges++,this.acc._add(o);const u=this.min,p=this.max;o.x<u.x?u.x=o.x:o.x>p.x&&(p.x=o.x),o.y<u.y?u.y=o.y:o.y>p.y&&(p.y=o.y),((0===o.x||o.x===Mn)&&o.x===l.x)!=((0===o.y||o.y===Mn)&&o.y===l.y)&&this.processBorderOverlap(o,l),l.x<0!=o.x<0&&this.addBorderIntersection(0,qe(l.y,o.y,(0-l.x)/(o.x-l.x))),l.x>Mn!=o.x>Mn&&this.addBorderIntersection(1,qe(l.y,o.y,(Mn-l.x)/(o.x-l.x))),l.y<0!=o.y<0&&this.addBorderIntersection(2,qe(l.x,o.x,(0-l.y)/(o.y-l.y))),l.y>Mn!=o.y>Mn&&this.addBorderIntersection(3,qe(l.x,o.x,(Mn-l.y)/(o.y-l.y)))}addBorderIntersection(o,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[o];l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)}processBorderOverlap(o,l){if(o.x===l.x){if(o.y===l.y)return;const u=0===o.x?0:1;this.addBorderIntersection(u,l.y),this.addBorderIntersection(u,o.y)}else{const u=0===o.y?2:3;this.addBorderIntersection(u,l.x),this.addBorderIntersection(u,o.x)}}centroid(){const o=this.polyCount.reduce((l,u)=>l+u.edges,0);return 0!==o?this.acc.div(o)._round():new Fe(0,0)}span(){return new Fe(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((o,l)=>o+ +(l[0]!==Number.MAX_VALUE),0)}}class Qf{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.layoutVertexArray=new Bi,this.centroidVertexArray=new hC,this.indexArray=new _o,this.programConfigurations=new zd(o.layers,o.zoom),this.segments=new Vr,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=o.enableTerrain}populate(o,l,u,p){this.features=[],this.hasPattern=gg("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(_){const v=Math.exp(Math.PI*(1-_.y/(1<<_.z)*2));return 80150034*v/(v*v+1)/Mn/(1<<_.z)}(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:_,id:v,index:C,sourceLayerIndex:T}of o){const M=this.layers[0]._featureFilter.needGeometry,k=Vd(_,M);if(!this.layers[0]._featureFilter.filter(new Ie(this.zoom),k,u))continue;const O={id:v,sourceLayerIndex:T,index:C,geometry:M?k.geometry:Jc(_,u,p),properties:_.properties,type:_.type,patterns:{}},N=this.layoutVertexArray.length;this.hasPattern?this.features.push(Kf("fill-extrusion",this.layers,O,this.zoom,l)):this.addFeature(O,O.geometry,C,u,{},l.availableImages,p),l.featureIndex.insert(_,O.geometry,C,T,this.index,N)}this.sortBorders()}addFeatures(o,l,u,p,_){for(const v of this.features){const{geometry:C}=v;this.addFeature(v,C,v.index,l,u,p,_)}this.sortBorders()}update(o,l,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,u,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,LC),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,FD.members,!0))),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,NC.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,l,u,p,_,v,C){const T=[new Fe(0,0),new Fe(Mn,Mn)],M=C.projection,k="globe"===M.name,O=this.enableTerrain&&!k?new Mv:null,N="Polygon"===ac[o.type];k&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Vi);const B=D1(l,500);for(let de=B.length-1;de>=0;de--){const ge=B[de];(0===ge.length||(H=ge[0]).every(le=>le.x<=0)||H.every(le=>le.x>=Mn)||H.every(le=>le.y<=0)||H.every(le=>le.y>=Mn))&&B.splice(de,1)}var H;let Z;if(k)Z=lc(B,T,p);else{Z=[];for(const de of B)Z.push({polygon:de,bounds:T})}const J=N?this.edgeRadius:0;for(const{polygon:de,bounds:ge}of Z){let le=0,fe=0;for(const _e of de)N&&!_e[0].equals(_e[_e.length-1])&&_e.push(_e[0]),fe+=N?_e.length-1:_e.length;const we=this.segments.prepareSegment((N?5:4)*fe,this.layoutVertexArray,this.indexArray);if(N){const _e=[],Ve=[];le=we.vertexLength;for(const et of de){let pt,Ge;et.length&&et!==de[0]&&Ve.push(_e.length/2),pt=et[1].sub(et[0])._perp()._unit();for(let nt=1;nt<et.length;nt++){const st=et[nt],ut=et[nt===et.length-1?1:nt+1];let{x:ht,y:We}=st;if(J){Ge=ut.sub(st)._perp()._unit();const xt=pt.add(Ge)._unit(),bn=J*Math.min(4,1/(pt.x*xt.x+pt.y*xt.y));ht+=bn*xt.x,We+=bn*xt.y,pt=Ge}Yf(this.layoutVertexArray,ht,We,0,0,1,1,0),we.vertexLength++,_e.push(st.x,st.y),k&&Xf(this.layoutVertexExtArray,M.projectTilePoint(ht,We,p),M.upVector(p,ht,We))}}const Be=Vf.exports(_e,Ve);for(let et=0;et<Be.length;et+=3)this.indexArray.emplaceBack(le+Be[et],le+Be[et+2],le+Be[et+1]),we.primitiveLength++}for(const _e of de){O&&_e.length&&O.startRing(_e[0]);let Ve,Be,et,pt=_e.length>4&&Av(_e[_e.length-2],_e[0],_e[1]),Ge=J?Ev(_e[_e.length-2],_e[0],_e[1],J):0;Be=_e[1].sub(_e[0])._perp()._unit();let nt=!0;for(let st=1,ut=0;st<_e.length;st++){let ht=_e[st-1],We=_e[st];const xt=_e[st===_e.length-1?1:st+1];if(O&&N&&O.currentPolyCount.top++,kv(We,ht,ge)){J&&(Be=xt.sub(We)._perp()._unit(),nt=!nt);continue}O&&O.append(We,ht);const bn=We.sub(ht)._perp(),Et=bn.x/(Math.abs(bn.x)+Math.abs(bn.y)),jt=bn.y>0?1:0,Mt=ht.dist(We);if(ut+Mt>32768&&(ut=0),J){et=xt.sub(We)._perp()._unit();let Kn=Iv(ht,We,xt,Dv(Be,et),J);isNaN(Kn)&&(Kn=0);const on=We.sub(ht)._unit();ht=ht.add(on.mult(Ge))._round(),We=We.add(on.mult(-Kn))._round(),Ge=Kn,Be=et}const wn=we.vertexLength,oi=_e.length>4&&Av(ht,We,xt);let ii=Ov(ut,pt,nt);if(Yf(this.layoutVertexArray,ht.x,ht.y,Et,jt,0,0,ii),Yf(this.layoutVertexArray,ht.x,ht.y,Et,jt,0,1,ii),ut+=Mt,ii=Ov(ut,oi,!nt),pt=oi,Yf(this.layoutVertexArray,We.x,We.y,Et,jt,0,0,ii),Yf(this.layoutVertexArray,We.x,We.y,Et,jt,0,1,ii),we.vertexLength+=4,this.indexArray.emplaceBack(wn+0,wn+1,wn+2),this.indexArray.emplaceBack(wn+1,wn+3,wn+2),we.primitiveLength+=2,J){const Kn=le+(1===st?_e.length-2:st-2),on=1===st?le:Kn+1;if(this.indexArray.emplaceBack(wn+1,Kn,wn+3),this.indexArray.emplaceBack(Kn,on,wn+3),we.primitiveLength+=2,void 0===Ve&&(Ve=wn),!kv(xt,_e[st],ge)){const Ii=st===_e.length-1?Ve:we.vertexLength;this.indexArray.emplaceBack(wn+2,wn+3,Ii),this.indexArray.emplaceBack(wn+3,Ii+1,Ii),this.indexArray.emplaceBack(wn+3,on,Ii+1),we.primitiveLength+=3}nt=!nt}if(k){const Kn=this.layoutVertexExtArray,on=M.projectTilePoint(ht.x,ht.y,p),Ii=M.projectTilePoint(We.x,We.y,p),kn=M.upVector(p,ht.x,ht.y),Yn=M.upVector(p,We.x,We.y);Xf(Kn,on,kn),Xf(Kn,on,kn),Xf(Kn,Ii,Yn),Xf(Kn,Ii,Yn)}}N&&(le+=_e.length-1)}}if(O&&O.polyCount.length>0){if(O.borders){O.vertexArrayOffset=this.centroidVertexArray.length;const de=O.borders,ge=this.featuresOnBorder.push(O)-1;for(let le=0;le<4;le++)de[le][0]!==Number.MAX_VALUE&&this.borders[le].push(ge)}this.encodeCentroid(O.borders?void 0:O.centroid(),O)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,v,p)}sortBorders(){for(let o=0;o<4;o++)this.borders[o].sort((l,u)=>this.featuresOnBorder[l].borders[o][0]-this.featuresOnBorder[u].borders[o][0])}encodeCentroid(o,l,u=!0){let p,_;if(o)if(0!==o.y){const C=l.span()._mult(this.tileToMeter);p=(Math.max(o.x,1)<<3)+Math.min(7,Math.round(C.x/10)),_=(Math.max(o.y,1)<<3)+Math.min(7,Math.round(C.y/10))}else p=Math.ceil(7*(o.x+450)),_=0;else p=0,_=+u;let v=u?this.centroidVertexArray.length:l.vertexArrayOffset;for(const C of l.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*C.edges+C.top);for(let T=0;T<C.top;T++)this.centroidVertexArray.emplace(v++,p,_);for(let T=0;T<2*C.edges;T++)this.centroidVertexArray.emplace(v++,0,_),this.centroidVertexArray.emplace(v++,p,_)}}}function Dv(a,o){const l=a.add(o)._unit();return a.x*l.x+a.y*l.y}function Ev(a,o,l,u){const p=o.sub(a)._perp()._unit(),_=l.sub(o)._perp()._unit();return Iv(a,o,l,Dv(p,_),u)}function Iv(a,o,l,u,p){const _=Math.sqrt(1-u*u);return Math.min(a.dist(o)/3,o.dist(l)/3,p*_/u)}function kv(a,o,l){return a.x<l[0].x&&o.x<l[0].x||a.x>l[1].x&&o.x>l[1].x||a.y<l[0].y&&o.y<l[0].y||a.y>l[1].y&&o.y>l[1].y}function Av(a,o,l){if(a.x<0||a.x>=Mn||o.x<0||o.x>=Mn||l.x<0||l.x>=Mn)return!1;const u=l.sub(o),p=u.perp(),_=a.sub(o);return(u.x*_.x+u.y*_.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(_.x*_.x+_.y*_.y))>-.866&&p.x*_.x+p.y*_.y<0}function Ov(a,o,l){const u=o?2|a:-3&a;return l?1|u:-2&u}function Jf(){const a=Math.PI/32,o=Math.tan(a),l=Vu;return l*Math.sqrt(1+2*o*o)-l}function lc(a,o,l){const u=1<<l.z,p=Yo(l.x/u),_=Yo((l.x+1)/u),v=No(l.y/u),C=No((l.y+1)/u);return function(T,M,k,O,N=0,B){const H=[];if(!T.length||!k||!O)return H;const Z=(_e,Ve)=>{for(const Be of _e)H.push({polygon:Be,bounds:Ve})},J=Math.ceil(Math.log2(k)),de=Math.ceil(Math.log2(O)),ge=J-de,le=[];for(let _e=0;_e<Math.abs(ge);_e++)le.push(ge>0?0:1);for(let _e=0;_e<Math.min(J,de);_e++)le.push(0),le.push(1);let fe=T;if(fe=ps(fe,M[0].y-N,M[1].y+N,1),fe=ps(fe,M[0].x-N,M[1].x+N,0),!fe.length)return H;const we=[];for(le.length?we.push({polygons:fe,bounds:M,depth:0}):Z(fe,M);we.length;){const _e=we.pop(),Ve=_e.depth,Be=le[Ve],et=_e.bounds[0],pt=_e.bounds[1],Ge=0===Be?et.x:et.y,nt=0===Be?pt.x:pt.y,st=B?B(Be,Ge,nt):.5*(Ge+nt),ut=ps(_e.polygons,Ge-N,st+N,Be),ht=ps(_e.polygons,st-N,nt+N,Be);if(ut.length){const We=[et,new Fe(0===Be?st:pt.x,1===Be?st:pt.y)];le.length>Ve+1?we.push({polygons:ut,bounds:We,depth:Ve+1}):Z(ut,We)}if(ht.length){const We=[new Fe(0===Be?st:et.x,1===Be?st:et.y),pt];le.length>Ve+1?we.push({polygons:ht,bounds:We,depth:Ve+1}):Z(ht,We)}}return H}(a,o,Math.ceil((_-p)/11.25),Math.ceil((v-C)/11.25),1,(T,M,k)=>{if(0===T)return.5*(M+k);{const O=No((l.y+M/Mn)/u);return(er(.5*(No((l.y+k/Mn)/u)+O))*u-l.y)*Mn}})}Nt(Qf,"FillExtrusionBucket",{omit:["layers","features"]}),Nt(Mv,"PartMetadata");const em=new Ut({"fill-extrusion-edge-radius":new Oe(tt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Pv={paint:new Ut({"fill-extrusion-opacity":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new je(tt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new je(tt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new je(tt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new je(tt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Oe(tt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:em};function P1(a,o,l){var u=2*Math.PI*6378137/256/Math.pow(2,l);return[a*u-2*Math.PI*6378137/2,o*u-2*Math.PI*6378137/2]}class tm{constructor(o,l,u){this.z=o,this.x=l,this.y=u,this.key=yg(0,o,o,l,u)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,l){const u=(v=this.y,C=this.z,T=P1(256*(_=this.x),256*(v=Math.pow(2,C)-v-1),C),M=P1(256*(_+1),256*(v+1),C),T[0]+","+T[1]+","+M[0]+","+M[1]),p=function(_,v,C){let T,M="";for(let k=_;k>0;k--)T=1<<k-1,M+=(v&T?1:0)+(C&T?2:0);return M}(this.z,this.x,this.y);var _,v,C,T,M;return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===l?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class UC{constructor(o,l){this.wrap=o,this.canonical=l,this.key=yg(o,l.z,l.z,l.x,l.y)}}class ks{constructor(o,l,u,p,_){this.overscaledZ=o,this.wrap=l,this.canonical=new tm(u,+p,+_),this.key=0===l&&o===u?this.canonical.key:yg(l,o,u,p,_)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const l=this.canonical.z-o;return o>this.canonical.z?new ks(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ks(o,this.wrap,o,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(o,l=!0){if(this.overscaledZ===o&&l)return this.key;if(o>this.canonical.z)return yg(this.wrap*+l,o,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-o;return yg(this.wrap*+l,o,o,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const l=this.canonical.z-o.canonical.z;return 0===o.overscaledZ||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>l&&o.canonical.y===this.canonical.y>>l}children(o){if(this.overscaledZ>=o)return[new ks(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,u=2*this.canonical.x,p=2*this.canonical.y;return[new ks(l,this.wrap,l,u,p),new ks(l,this.wrap,l,u+1,p),new ks(l,this.wrap,l,u,p+1),new ks(l,this.wrap,l,u+1,p+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new ks(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new ks(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new UC(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function yg(a,o,l,u,p){const _=1<<Math.min(l,22);let v=_*(p%_)+u%_;return a&&l<22&&(v+=_*_*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*v+l)+(o-l)}Nt(tm,"CanonicalTileID"),Nt(ks,"OverscaledTileID",{omit:["projMatrix"]});class Gu extends Fe{constructor(o,l,u){super(o,l),this.z=u}}function Zd(a,o){return a.x*o.x+a.y*o.y}function jC(a,o){if(1===a.length){let l=0;const u=o[l++];let p;for(;!p||u.equals(p);)if(p=o[l++],!p)return 1/0;for(;l<o.length;l++){const _=o[l],v=a[0],C=p.sub(u),T=_.sub(u),M=v.sub(u),k=Zd(C,C),O=Zd(C,T),N=Zd(T,T),B=Zd(M,C),H=Zd(M,T),Z=k*N-O*O,J=(N*B-O*H)/Z,de=(k*H-O*B)/Z,ge=u.z*(1-J-de)+p.z*J+_.z*de;if(isFinite(ge))return ge}return 1/0}{let l=1/0;for(const u of o)l=Math.min(l,u.z);return l}}function $C(a,o,l,u,p,_,v,C){const T=v*p.getElevationAt(a,o,!0,!0),M=0!==_[0],k=M?0===_[1]?v*(_[0]/7-450):v*function(O,N,B){const H=Math.floor(N[0]/8),Z=Math.floor(N[1]/8),J=10*(N[0]-8*H),de=10*(N[1]-8*Z),ge=O.getElevationAt(H,Z,!0,!0),le=O.getMeterToDEM(B),fe=Math.floor(.5*(J*le-1)),we=Math.floor(.5*(de*le-1)),_e=O.tileCoordToPixel(H,Z),Ve=2*fe+1,Be=2*we+1,et=(bn=Ve,Et=Be,[(ht=O).getElevationAtPixel(We=_e.x-fe,xt=_e.y-we,!0),ht.getElevationAtPixel(We+Et,xt,!0),ht.getElevationAtPixel(We,xt+Et,!0),ht.getElevationAtPixel(We+bn,xt+Et,!0)]),pt=Math.abs(et[0]-et[1]),Ge=Math.abs(et[2]-et[3]),nt=Math.abs(et[0]-et[2])+Math.abs(et[1]-et[3]),st=Math.min(.25,.5*le*(pt+Ge)/Ve),ut=Math.min(.25,.5*le*nt/Be);var ht,We,xt,bn,Et;return ge+Math.max(st*J,ut*de)}(p,_,C):T;return{base:T+(0===l)?-1:l,top:M?Math.max(k+u,T+l+2):T+u}}const Rv=Pt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:GC}=Rv,WC=Pt([{name:"a_packed",components:4,type:"Float32"}]),{members:qC}=WC,ZC=_g.types,Nv=Math.cos(Math.PI/180*37.5);class Kd{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Wo,this.layoutVertexArray2=new us,this.indexArray=new _o,this.programConfigurations=new zd(o.layers,o.zoom),this.segments=new Vr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,u,p){this.hasPattern=gg("line",this.layers,l);const _=this.layers[0].layout.get("line-sort-key"),v=[];for(const{feature:k,id:O,index:N,sourceLayerIndex:B}of o){const H=this.layers[0]._featureFilter.needGeometry,Z=Vd(k,H);if(!this.layers[0]._featureFilter.filter(new Ie(this.zoom),Z,u))continue;const J=_?_.evaluate(Z,{},u):void 0,de={id:O,properties:k.properties,type:k.type,sourceLayerIndex:B,index:N,geometry:H?Z.geometry:Jc(k,u,p),patterns:{},sortKey:J};v.push(de)}_&&v.sort((k,O)=>k.sortKey-O.sortKey);const{lineAtlas:C,featureIndex:T}=l,M=this.addConstantDashes(C);for(const k of v){const{geometry:O,index:N,sourceLayerIndex:B}=k;if(M&&this.addFeatureDashes(k,C),this.hasPattern){const H=Kf("line",this.layers,k,this.zoom,l);this.patternFeatures.push(H)}else this.addFeature(k,O,N,u,C.positions,l.availableImages);T.insert(o[N].feature,O,N,B,this.index)}}addConstantDashes(o){let l=!1;for(const u of this.layers){const p=u.paint.get("line-dasharray").value,_=u.layout.get("line-cap").value;if("constant"!==p.kind||"constant"!==_.kind)l=!0;else{const v=_.value,C=p.value;if(!C)continue;o.addDash(C,v)}}return l}addFeatureDashes(o,l){const u=this.zoom;for(const p of this.layers){const _=p.paint.get("line-dasharray").value,v=p.layout.get("line-cap").value;if("constant"===_.kind&&"constant"===v.kind)continue;let C,T;if("constant"===_.kind){if(C=_.value,!C)continue}else C=_.evaluate({zoom:u},o);T="constant"===v.kind?v.value:v.evaluate({zoom:u},o),l.addDash(C,T),o.patterns[p.id]=l.getKey(C,T)}}update(o,l,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,u,p)}addFeatures(o,l,u,p,_){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,u,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,qC)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,GC),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,l,u,p,_,v){const C=this.layers[0].layout,T=C.get("line-join").evaluate(o,{}),M=C.get("line-cap").evaluate(o,{}),k=C.get("line-miter-limit"),O=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const N of l)this.addLine(N,o,T,M,k,O);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,v,p)}addLine(o,l,u,p,_,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let de=0;de<o.length-1;de++)this.totalDistance+=o[de].dist(o[de+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const C="Polygon"===ZC[l.type];let T=o.length;for(;T>=2&&o[T-1].equals(o[T-2]);)T--;let M=0;for(;M<T-1&&o[M].equals(o[M+1]);)M++;if(T<(C?3:2))return;"bevel"===u&&(_=1.05);const k=this.overscaling<=16?122880/(512*this.overscaling):0,O=this.segments.prepareSegment(10*T,this.layoutVertexArray,this.indexArray);let N,B,H,Z,J;this.e1=this.e2=-1,C&&(N=o[T-2],J=o[M].sub(N)._unit()._perp());for(let de=M;de<T;de++){if(H=de===T-1?C?o[M+1]:void 0:o[de+1],H&&o[de].equals(H))continue;J&&(Z=J),N&&(B=N),N=o[de],J=H?H.sub(N)._unit()._perp():Z,Z=Z||J;let ge=Z.add(J);0===ge.x&&0===ge.y||ge._unit();const le=Z.x*J.x+Z.y*J.y,fe=ge.x*J.x+ge.y*J.y,we=0!==fe?1/fe:1/0,_e=2*Math.sqrt(2-2*fe),Ve=fe<Nv&&B&&H,Be=Z.x*J.y-Z.y*J.x>0;if(Ve&&de>M){const Ge=N.dist(B);if(Ge>2*k){const nt=N.sub(N.sub(B)._mult(k/Ge)._round());this.updateDistance(B,nt),this.addCurrentVertex(nt,Z,0,0,O),B=nt}}const et=B&&H;let pt=et?u:C?"butt":p;if(et&&"round"===pt&&(we<v?pt="miter":we<=2&&(pt="fakeround")),"miter"===pt&&we>_&&(pt="bevel"),"bevel"===pt&&(we>2&&(pt="flipbevel"),we<_&&(pt="miter")),B&&this.updateDistance(B,N),"miter"===pt)ge._mult(we),this.addCurrentVertex(N,ge,0,0,O);else if("flipbevel"===pt){if(we>100)ge=J.mult(-1);else{const Ge=we*Z.add(J).mag()/Z.sub(J).mag();ge._perp()._mult(Ge*(Be?-1:1))}this.addCurrentVertex(N,ge,0,0,O),this.addCurrentVertex(N,ge.mult(-1),0,0,O)}else if("bevel"===pt||"fakeround"===pt){const Ge=-Math.sqrt(we*we-1),nt=Be?Ge:0,st=Be?0:Ge;if(B&&this.addCurrentVertex(N,Z,nt,st,O),"fakeround"===pt){const ut=Math.round(180*_e/Math.PI/20);for(let ht=1;ht<ut;ht++){let We=ht/ut;if(.5!==We){const bn=We-.5;We+=We*bn*(We-1)*((1.0904+le*(le*(3.55645-1.43519*le)-3.2452))*bn*bn+(.848013+le*(.215638*le-1.06021)))}const xt=J.sub(Z)._mult(We)._add(Z)._unit()._mult(Be?-1:1);this.addHalfVertex(N,xt.x,xt.y,!1,Be,0,O)}}H&&this.addCurrentVertex(N,J,-nt,-st,O)}else if("butt"===pt)this.addCurrentVertex(N,ge,0,0,O);else if("square"===pt){const Ge=B?1:-1;B||this.addCurrentVertex(N,ge,Ge,Ge,O),this.addCurrentVertex(N,ge,0,0,O),B&&this.addCurrentVertex(N,ge,Ge,Ge,O)}else"round"===pt&&(B&&(this.addCurrentVertex(N,Z,0,0,O),this.addCurrentVertex(N,Z,1,1,O,!0)),H&&(this.addCurrentVertex(N,J,-1,-1,O,!0),this.addCurrentVertex(N,J,0,0,O)));if(Ve&&de<T-1){const Ge=N.dist(H);if(Ge>2*k){const nt=N.add(H.sub(N)._mult(k/Ge)._round());this.updateDistance(N,nt),this.addCurrentVertex(nt,J,0,0,O),N=nt}}}}addCurrentVertex(o,l,u,p,_,v=!1){const C=l.y*p-l.x,T=-l.y-l.x*p;this.addHalfVertex(o,l.x+l.y*u,l.y-l.x*u,v,!1,u,_),this.addHalfVertex(o,C,T,v,!0,-p,_)}addHalfVertex({x:o,y:l},u,p,_,v,C,T){this.layoutVertexArray.emplaceBack((o<<1)+(_?1:0),(l<<1)+(v?1:0),Math.round(63*u)+128,Math.round(63*p)+128,1+(0===C?0:C<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const M=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,M),T.primitiveLength++),v?this.e2=M:this.e1=M}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,l){this.distance+=o.dist(l),this.updateScaledDistance()}}Nt(Kd,"LineBucket",{omit:["layers","patternFeatures"]});const Lv=new Ut({"line-cap":new je(tt.layout_line["line-cap"]),"line-join":new je(tt.layout_line["line-join"]),"line-miter-limit":new Oe(tt.layout_line["line-miter-limit"]),"line-round-limit":new Oe(tt.layout_line["line-round-limit"]),"line-sort-key":new je(tt.layout_line["line-sort-key"])});var vg={paint:new Ut({"line-opacity":new je(tt.paint_line["line-opacity"]),"line-color":new je(tt.paint_line["line-color"]),"line-translate":new Oe(tt.paint_line["line-translate"]),"line-translate-anchor":new Oe(tt.paint_line["line-translate-anchor"]),"line-width":new je(tt.paint_line["line-width"]),"line-gap-width":new je(tt.paint_line["line-gap-width"]),"line-offset":new je(tt.paint_line["line-offset"]),"line-blur":new je(tt.paint_line["line-blur"]),"line-dasharray":new je(tt.paint_line["line-dasharray"]),"line-pattern":new je(tt.paint_line["line-pattern"]),"line-gradient":new Bt(tt.paint_line["line-gradient"]),"line-trim-offset":new Oe(tt.paint_line["line-trim-offset"])}),layout:Lv};const Fv=new class extends je{possiblyEvaluate(a,o){return o=new Ie(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(a,o)}evaluate(a,o,l,u){return o=zn({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(a,o,l,u)}}(vg.paint.properties["line-width"].specification);function Cr(a,o){return o>0?o+2*a:a}Fv.useIntegerZoom=!0;const nm=Pt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),KC=Pt([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),ru=Pt([{name:"a_projected_pos",components:4,type:"Float32"}],4);Pt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const zv=Pt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),YC=Pt([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Pt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Bv=Pt([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),XC=Pt([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Pt([{name:"triangle",components:3,type:"Uint16"}]),Pt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Pt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Pt([{type:"Float32",name:"offsetX"}]),Pt([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);const cc=128;function Vv(a,o){const{expression:l}=o;if("constant"===l.kind)return{kind:"constant",layoutSize:l.evaluate(new Ie(a+1))};if("source"===l.kind)return{kind:"source"};{const{zoomStops:u,interpolationType:p}=l;let _=0;for(;_<u.length&&u[_]<=a;)_++;_=Math.max(0,_-1);let v=_;for(;v<u.length&&u[v]<a+1;)v++;v=Math.min(u.length-1,v);const C=u[_],T=u[v];return"composite"===l.kind?{kind:"composite",minZoom:C,maxZoom:T,interpolationType:p}:{kind:"camera",minZoom:C,maxZoom:T,minSize:l.evaluate(new Ie(C)),maxSize:l.evaluate(new Ie(T)),interpolationType:p}}}function R1(a,{uSize:o,uSizeT:l},{lowerSize:u,upperSize:p}){return"source"===a.kind?u/cc:"composite"===a.kind?qe(u/cc,p/cc,l):o}function uc(a,o){let l=0,u=0;if("constant"===a.kind)u=a.layoutSize;else if("source"!==a.kind){const{interpolationType:p,minZoom:_,maxZoom:v}=a,C=p?ai(qs.interpolationFactor(p,o,_,v),0,1):0;"camera"===a.kind?u=qe(a.minSize,a.maxSize,C):l=C}return{uSizeT:l,uSize:u}}var N1=Object.freeze({__proto__:null,getSizeData:Vv,evaluateSizeForFeature:R1,evaluateSizeForZoom:uc,SIZE_PACK_FACTOR:cc});function Hv(a,o,l){return a.sections.forEach(u=>{u.text=function(p,_,v){const C=_.layout.get("text-transform").evaluate(v,{});return"uppercase"===C?p=p.toLocaleUpperCase():"lowercase"===C&&(p=p.toLocaleLowerCase()),ze.applyArabicShaping&&(p=ze.applyArabicShaping(p)),p}(u.text,o,l)}),a}const fp={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Uv(a){return"\ufe36"===a||"\ufe48"===a||"\ufe38"===a||"\ufe44"===a||"\ufe42"===a||"\ufe3e"===a||"\ufe3c"===a||"\ufe3a"===a||"\ufe18"===a||"\ufe40"===a||"\ufe10"===a||"\ufe13"===a||"\ufe14"===a||"\uff40"===a||"\uffe3"===a||"\ufe11"===a||"\ufe12"===a}function QC(a){return"\ufe35"===a||"\ufe47"===a||"\ufe37"===a||"\ufe43"===a||"\ufe41"===a||"\ufe3d"===a||"\ufe3b"===a||"\ufe39"===a||"\ufe17"===a||"\ufe3f"===a}var mp=lr,L1=function(a,o,l,u,p){var _,v,C=8*p-u-1,T=(1<<C)-1,M=T>>1,k=-7,O=l?p-1:0,N=l?-1:1,B=a[o+O];for(O+=N,_=B&(1<<-k)-1,B>>=-k,k+=C;k>0;_=256*_+a[o+O],O+=N,k-=8);for(v=_&(1<<-k)-1,_>>=-k,k+=u;k>0;v=256*v+a[o+O],O+=N,k-=8);if(0===_)_=1-M;else{if(_===T)return v?NaN:1/0*(B?-1:1);v+=Math.pow(2,u),_-=M}return(B?-1:1)*v*Math.pow(2,_-u)},bg=function(a,o,l,u,p,_){var v,C,T,M=8*_-p-1,k=(1<<M)-1,O=k>>1,N=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,B=u?0:_-1,H=u?1:-1,Z=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(C=isNaN(o)?1:0,v=k):(v=Math.floor(Math.log(o)/Math.LN2),o*(T=Math.pow(2,-v))<1&&(v--,T*=2),(o+=v+O>=1?N/T:N*Math.pow(2,1-O))*T>=2&&(v++,T/=2),v+O>=k?(C=0,v=k):v+O>=1?(C=(o*T-1)*Math.pow(2,p),v+=O):(C=o*Math.pow(2,O-1)*Math.pow(2,p),v=0));p>=8;a[l+B]=255&C,B+=H,C/=256,p-=8);for(v=v<<p|C,M+=p;M>0;a[l+B]=255&v,B+=H,v/=256,M-=8);a[l+B-H]|=128*Z};function lr(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}lr.Varint=0,lr.Fixed64=1,lr.Bytes=2,lr.Fixed32=5;var F1=4294967296,wg=1/F1,z1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function dc(a){return a.type===lr.Bytes?a.readVarint()+a.pos:a.pos+1}function jv(a,o,l){var u=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));l.realloc(u);for(var p=l.pos-1;p>=a;p--)l.buf[p+u]=l.buf[p]}function B1(a,o){for(var l=0;l<a.length;l++)o.writeVarint(a[l])}function Cg(a,o){for(var l=0;l<a.length;l++)o.writeSVarint(a[l])}function JC(a,o){for(var l=0;l<a.length;l++)o.writeFloat(a[l])}function V1(a,o){for(var l=0;l<a.length;l++)o.writeDouble(a[l])}function xg(a,o){for(var l=0;l<a.length;l++)o.writeBoolean(a[l])}function Wu(a,o){for(var l=0;l<a.length;l++)o.writeFixed32(a[l])}function $v(a,o){for(var l=0;l<a.length;l++)o.writeSFixed32(a[l])}function H1(a,o){for(var l=0;l<a.length;l++)o.writeFixed64(a[l])}function ex(a,o){for(var l=0;l<a.length;l++)o.writeSFixed64(a[l])}function Sg(a,o){return(a[o]|a[o+1]<<8|a[o+2]<<16)+16777216*a[o+3]}function Yd(a,o,l){a[l]=o,a[l+1]=o>>>8,a[l+2]=o>>>16,a[l+3]=o>>>24}function Xd(a,o){return(a[o]|a[o+1]<<8|a[o+2]<<16)+(a[o+3]<<24)}function tx(a,o,l){o.glyphs=[],1===a&&l.readMessage(nx,o)}function nx(a,o,l){if(3===a){const{id:u,bitmap:p,width:_,height:v,left:C,top:T,advance:M}=l.readMessage(ix,{});o.glyphs.push({id:u,bitmap:new sc({width:_+6,height:v+6},p),metrics:{width:_,height:v,left:C,top:T,advance:M}})}else 4===a?o.ascender=l.readSVarint():5===a&&(o.descender=l.readSVarint())}function ix(a,o,l){1===a?o.id=l.readVarint():2===a?o.bitmap=l.readBytes():3===a?o.width=l.readVarint():4===a?o.height=l.readVarint():5===a?o.left=l.readSVarint():6===a?o.top=l.readSVarint():7===a&&(o.advance=l.readVarint())}function U1(a){let o=0,l=0;for(const v of a)o+=v.w*v.h,l=Math.max(l,v.w);a.sort((v,C)=>C.h-v.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),l),h:1/0}];let p=0,_=0;for(const v of a)for(let C=u.length-1;C>=0;C--){const T=u[C];if(!(v.w>T.w||v.h>T.h)){if(v.x=T.x,v.y=T.y,_=Math.max(_,v.y+v.h),p=Math.max(p,v.x+v.w),v.w===T.w&&v.h===T.h){const M=u.pop();C<u.length&&(u[C]=M)}else v.h===T.h?(T.x+=v.w,T.w-=v.w):v.w===T.w?(T.y+=v.h,T.h-=v.h):(u.push({x:T.x+v.w,y:T.y,w:T.w-v.w,h:v.h}),T.y+=v.h,T.h-=v.h);break}}return{w:p,h:_,fill:o/(p*_)||0}}lr.prototype={destroy:function(){this.buf=null},readFields:function(a,o,l){for(l=l||this.length;this.pos<l;){var u=this.readVarint(),p=u>>3,_=this.pos;this.type=7&u,a(p,o,this),this.pos===_&&this.skip(u)}return o},readMessage:function(a,o){return this.readFields(a,o,this.readVarint()+this.pos)},readFixed32:function(){var a=Sg(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=Xd(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Sg(this.buf,this.pos)+Sg(this.buf,this.pos+4)*F1;return this.pos+=8,a},readSFixed64:function(){var a=Sg(this.buf,this.pos)+Xd(this.buf,this.pos+4)*F1;return this.pos+=8,a},readFloat:function(){var a=L1(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=L1(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var o,l,u=this.buf;return o=127&(l=u[this.pos++]),l<128?o:(o|=(127&(l=u[this.pos++]))<<7,l<128?o:(o|=(127&(l=u[this.pos++]))<<14,l<128?o:(o|=(127&(l=u[this.pos++]))<<21,l<128?o:function(p,_,v){var C,T,M=v.buf;if(C=(112&(T=M[v.pos++]))>>4,T<128||(C|=(127&(T=M[v.pos++]))<<3,T<128)||(C|=(127&(T=M[v.pos++]))<<10,T<128)||(C|=(127&(T=M[v.pos++]))<<17,T<128)||(C|=(127&(T=M[v.pos++]))<<24,T<128)||(C|=(1&(T=M[v.pos++]))<<31,T<128))return function $a(a,o,l){return l?4294967296*o+(a>>>0):4294967296*(o>>>0)+(a>>>0)}(p,C,_);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(l=u[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,o=this.pos;return this.pos=a,a-o>=12&&z1?z1.decode(this.buf.subarray(o,a)):function(l,u,p){for(var _="",v=u;v<p;){var C,T,M,k=l[v],O=null,N=k>239?4:k>223?3:k>191?2:1;if(v+N>p)break;1===N?k<128&&(O=k):2===N?128==(192&(C=l[v+1]))&&(O=(31&k)<<6|63&C)<=127&&(O=null):3===N?(T=l[v+2],128==(192&(C=l[v+1]))&&128==(192&T)&&((O=(15&k)<<12|(63&C)<<6|63&T)<=2047||O>=55296&&O<=57343)&&(O=null)):4===N&&(T=l[v+2],M=l[v+3],128==(192&(C=l[v+1]))&&128==(192&T)&&128==(192&M)&&((O=(15&k)<<18|(63&C)<<12|(63&T)<<6|63&M)<=65535||O>=1114112)&&(O=null)),null===O?(O=65533,N=1):O>65535&&(O-=65536,_+=String.fromCharCode(O>>>10&1023|55296),O=56320|1023&O),_+=String.fromCharCode(O),v+=N}return _}(this.buf,o,a)},readBytes:function(){var a=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,a);return this.pos=a,o},readPackedVarint:function(a,o){if(this.type!==lr.Bytes)return a.push(this.readVarint(o));var l=dc(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(o));return a},readPackedSVarint:function(a){if(this.type!==lr.Bytes)return a.push(this.readSVarint());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==lr.Bytes)return a.push(this.readBoolean());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==lr.Bytes)return a.push(this.readFloat());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==lr.Bytes)return a.push(this.readDouble());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==lr.Bytes)return a.push(this.readFixed32());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==lr.Bytes)return a.push(this.readSFixed32());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==lr.Bytes)return a.push(this.readFixed64());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==lr.Bytes)return a.push(this.readSFixed64());var o=dc(this);for(a=a||[];this.pos<o;)a.push(this.readSFixed64());return a},skip:function(a){var o=7&a;if(o===lr.Varint)for(;this.buf[this.pos++]>127;);else if(o===lr.Bytes)this.pos=this.readVarint()+this.pos;else if(o===lr.Fixed32)this.pos+=4;else{if(o!==lr.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(a,o){this.writeVarint(a<<3|o)},realloc:function(a){for(var o=this.length||16;o<this.pos+a;)o*=2;if(o!==this.length){var l=new Uint8Array(o);l.set(this.buf),this.buf=l,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),Yd(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),Yd(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),Yd(this.buf,-1&a,this.pos),Yd(this.buf,Math.floor(a*wg),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),Yd(this.buf,-1&a,this.pos),Yd(this.buf,Math.floor(a*wg),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(o,l){var u,p,_,C;if(o>=0?(u=o%4294967296|0,p=o/4294967296|0):(p=~(-o/4294967296),4294967295^(u=~(-o%4294967296))?u=u+1|0:(u=0,p=p+1|0)),o>=0x10000000000000000||o<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),_=u,(C=l).buf[C.pos++]=127&_|128,_>>>=7,C.buf[C.pos++]=127&_|128,_>>>=7,C.buf[C.pos++]=127&_|128,_>>>=7,C.buf[C.pos++]=127&_|128,C.buf[C.pos]=127&(_>>>=7),function(_,v){var C=(7&_)<<4;v.buf[v.pos++]|=C|((_>>>=3)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_|((_>>>=7)?128:0),_&&(v.buf[v.pos++]=127&_)))))}(p,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var o=this.pos;this.pos=function(u,p,_){for(var v,C,T=0;T<p.length;T++){if((v=p.charCodeAt(T))>55295&&v<57344){if(!C){v>56319||T+1===p.length?(u[_++]=239,u[_++]=191,u[_++]=189):C=v;continue}if(v<56320){u[_++]=239,u[_++]=191,u[_++]=189,C=v;continue}v=C-55296<<10|v-56320|65536,C=null}else C&&(u[_++]=239,u[_++]=191,u[_++]=189,C=null);v<128?u[_++]=v:(v<2048?u[_++]=v>>6|192:(v<65536?u[_++]=v>>12|224:(u[_++]=v>>18|240,u[_++]=v>>12&63|128),u[_++]=v>>6&63|128),u[_++]=63&v|128)}return _}(this.buf,a,this.pos);var l=this.pos-o;l>=128&&jv(o,l,this),this.pos=o-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),bg(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),bg(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var o=a.length;this.writeVarint(o),this.realloc(o);for(var l=0;l<o;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,o){this.pos++;var l=this.pos;a(o,this);var u=this.pos-l;u>=128&&jv(l,u,this),this.pos=l-1,this.writeVarint(u),this.pos+=u},writeMessage:function(a,o,l){this.writeTag(a,lr.Bytes),this.writeRawMessage(o,l)},writePackedVarint:function(a,o){o.length&&this.writeMessage(a,B1,o)},writePackedSVarint:function(a,o){o.length&&this.writeMessage(a,Cg,o)},writePackedBoolean:function(a,o){o.length&&this.writeMessage(a,xg,o)},writePackedFloat:function(a,o){o.length&&this.writeMessage(a,JC,o)},writePackedDouble:function(a,o){o.length&&this.writeMessage(a,V1,o)},writePackedFixed32:function(a,o){o.length&&this.writeMessage(a,Wu,o)},writePackedSFixed32:function(a,o){o.length&&this.writeMessage(a,$v,o)},writePackedFixed64:function(a,o){o.length&&this.writeMessage(a,H1,o)},writePackedSFixed64:function(a,o){o.length&&this.writeMessage(a,ex,o)},writeBytesField:function(a,o){this.writeTag(a,lr.Bytes),this.writeBytes(o)},writeFixed32Field:function(a,o){this.writeTag(a,lr.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(a,o){this.writeTag(a,lr.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(a,o){this.writeTag(a,lr.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(a,o){this.writeTag(a,lr.Fixed64),this.writeSFixed64(o)},writeVarintField:function(a,o){this.writeTag(a,lr.Varint),this.writeVarint(o)},writeSVarintField:function(a,o){this.writeTag(a,lr.Varint),this.writeSVarint(o)},writeStringField:function(a,o){this.writeTag(a,lr.Bytes),this.writeString(o)},writeFloatField:function(a,o){this.writeTag(a,lr.Fixed32),this.writeFloat(o)},writeDoubleField:function(a,o){this.writeTag(a,lr.Fixed64),this.writeDouble(o)},writeBooleanField:function(a,o){this.writeVarintField(a,Boolean(o))}};class im{constructor(o,{pixelRatio:l,version:u,stretchX:p,stretchY:_,content:v}){this.paddedRect=o,this.pixelRatio=l,this.stretchX=p,this.stretchY=_,this.content=v,this.version=u}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Gv{constructor(o,l){const u={},p={};this.haveRenderCallbacks=[];const _=[];this.addImages(o,u,_),this.addImages(l,p,_);const{w:v,h:C}=U1(_),T=new ta({width:v||1,height:C||1});for(const M in o){const k=o[M],O=u[M].paddedRect;ta.copy(k.data,T,{x:0,y:0},{x:O.x+1,y:O.y+1},k.data)}for(const M in l){const k=l[M],O=p[M].paddedRect,N=O.x+1,B=O.y+1,H=k.data.width,Z=k.data.height;ta.copy(k.data,T,{x:0,y:0},{x:N,y:B},k.data),ta.copy(k.data,T,{x:0,y:Z-1},{x:N,y:B-1},{width:H,height:1}),ta.copy(k.data,T,{x:0,y:0},{x:N,y:B+Z},{width:H,height:1}),ta.copy(k.data,T,{x:H-1,y:0},{x:N-1,y:B},{width:1,height:Z}),ta.copy(k.data,T,{x:0,y:0},{x:N+H,y:B},{width:1,height:Z})}this.image=T,this.iconPositions=u,this.patternPositions=p}addImages(o,l,u){for(const p in o){const _=o[p],v={x:0,y:0,w:_.data.width+2,h:_.data.height+2};u.push(v),l[p]=new im(v,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(o,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(u=>o.hasImage(u)),o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in o.updatedImages)this.patchUpdatedImage(this.iconPositions[u],o.getImage(u),l),this.patchUpdatedImage(this.patternPositions[u],o.getImage(u),l)}patchUpdatedImage(o,l,u){if(!o||!l||o.version===l.version)return;o.version=l.version;const[p,_]=o.tl;u.update(l.data,void 0,{x:p,y:_})}}Nt(im,"ImagePosition"),Nt(Gv,"ImageAtlas");const na={horizontal:1,vertical:2,horizontalOnly:3};class rm{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,l){const u=new rm;return u.scale=o||1,u.fontStack=l,u}static forImage(o){const l=new rm;return l.imageName=o,l}}class Qd{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,l){const u=new Qd;for(let p=0;p<o.sections.length;p++){const _=o.sections[p];_.image?u.addImageSection(_):u.addTextSection(_,l)}return u}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(o){this.text=function(l,u){let p="";for(let _=0;_<l.length;_++){const v=l.charCodeAt(_+1)||null,C=l.charCodeAt(_-1)||null;p+=!u&&(v&&L(v)&&!fp[l[_+1]]||C&&L(C)&&!fp[l[_-1]])||!fp[l[_]]?l[_]:fp[l[_]]}return p}(this.text,o)}trim(){let o=0;for(let u=0;u<this.text.length&&Tg[this.text.charCodeAt(u)];u++)o++;let l=this.text.length;for(let u=this.text.length-1;u>=0&&u>=o&&Tg[this.text.charCodeAt(u)];u--)l--;this.text=this.text.substring(o,l),this.sectionIndex=this.sectionIndex.slice(o,l)}substring(o,l){const u=new Qd;return u.text=this.text.substring(o,l),u.sectionIndex=this.sectionIndex.slice(o,l),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,l)=>Math.max(o,this.sections[l].scale),0)}addTextSection(o,l){this.text+=o.text,this.sections.push(rm.forText(o.scale,o.fontStack||l));const u=this.sections.length-1;for(let p=0;p<o.text.length;++p)this.sectionIndex.push(u)}addImageSection(o){const l=o.image?o.image.name:"";if(0===l.length)return void yr("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(rm.forImage(l)),this.sectionIndex.push(this.sections.length-1)):yr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Wv(a,o,l,u,p,_,v,C,T,M,k,O,N,B,H){const Z=Qd.fromFeature(a,p);O===na.vertical&&Z.verticalizePunctuation(N);let J=[];const de=function(_e,Ve,Be,et,pt,Ge){if(!_e)return[];const nt=[],st=function(xt,bn,Et,jt,Mt,wn){let oi=0;for(let ii=0;ii<xt.length();ii++){const Kn=xt.getSection(ii);oi+=qv(xt.getCharCode(ii),Kn,jt,Mt,bn,wn)}return oi/Math.max(1,Math.ceil(oi/Et))}(_e,Ve,Be,et,pt,Ge),ut=_e.text.indexOf("\u200b")>=0;let ht=0;for(let xt=0;xt<_e.length();xt++){const bn=_e.getSection(xt),Et=_e.getCharCode(xt);if(Tg[Et]||(ht+=qv(Et,bn,et,pt,Ve,Ge)),xt<_e.length()-1){const jt=!((We=Et)<11904||!(Jh(We)||ig(We)||h(We)||Ys(We)||Mf(We)||Cf(We)||ep(We)||Ql(We)||Df(We)||Fd(We)||Tf(We)||x(We)||Pu(We)||Ld(We)||xf(We)||Sf(We)||Ru(We)||c(We)||og(We)||rg(We)));(yl[Et]||jt||bn.imageName)&&nt.push(Zv(xt+1,ht,st,nt,Yt(Et,_e.getCharCode(xt+1),jt&&ut),!1))}}var We;return rx(Zv(_e.length(),ht,st,nt,0,!0))}(Z,M,_,o,u,B),{processBidirectionalText:ge,processStyledBidirectionalText:le}=ze;if(ge&&1===Z.sections.length){const _e=ge(Z.toString(),de);for(const Ve of _e){const Be=new Qd;Be.text=Ve,Be.sections=Z.sections;for(let et=0;et<Ve.length;et++)Be.sectionIndex.push(0);J.push(Be)}}else if(le){const _e=le(Z.text,Z.sectionIndex,de);for(const Ve of _e){const Be=new Qd;Be.text=Ve[0],Be.sectionIndex=Ve[1],Be.sections=Z.sections,J.push(Be)}}else J=function(_e,Ve){const Be=[],et=_e.text;let pt=0;for(const Ge of Ve)Be.push(_e.substring(pt,Ge)),pt=Ge;return pt<et.length&&Be.push(_e.substring(pt,et.length)),Be}(Z,de);const fe=[],we={positionedLines:fe,text:Z.toString(),top:k[1],bottom:k[1],left:k[0],right:k[0],writingMode:O,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(_e,Ve,Be,et,pt,Ge,nt,st,ut,ht,We,xt){let bn=0,Et=0,jt=0;const Mt="right"===st?1:"left"===st?0:.5;let wn=!1;for(const kn of pt){const Yn=kn.getSections();for(const qi of Yn){if(qi.imageName)continue;const Xi=Ve[qi.fontStack];if(Xi&&(wn=void 0!==Xi.ascender&&void 0!==Xi.descender,!wn))break}if(!wn)break}let oi=0;for(const kn of pt){kn.trim();const Yn=kn.getMaxScale(),qi=24*(Yn-1),Xi={positionedGlyphs:[],lineOffset:0};_e.positionedLines[oi]=Xi;const Qi=Xi.positionedGlyphs;let ur=0;if(!kn.length()){Et+=Ge,++oi;continue}let mr=0,gr=0;for(let Zi=0;Zi<kn.length();Zi++){const Hr=kn.getSection(Zi),Ur=kn.getSectionIndex(Zi),xi=kn.getCharCode(Zi);let xr=Hr.scale,Yr=null,Hi=null,wt=null,Qo=24,Xr=0;const bo=!(ut===na.horizontal||!We&&!F(xi)||We&&(Tg[xi]||(ii=xi,ma(ii)||ng(ii)||Qh(ii)||g(ii)||w(ii))));if(Hr.imageName){const fs=et[Hr.imageName];if(!fs)continue;wt=Hr.imageName,_e.iconsInText=_e.iconsInText||!0,Hi=fs.paddedRect;const wo=fs.displaySize;xr=24*xr/xt,Yr={width:wo[0],height:wo[1],left:1,top:-3,advance:bo?wo[1]:wo[0],localGlyph:!1},Xr=wn?-Yr.height*xr:24*Yn-17-wo[1]*xr,Qo=Yr.advance;const du=(bo?wo[0]:wo[1])*xr-24*Yn;du>0&&du>ur&&(ur=du)}else{const fs=Be[Hr.fontStack];if(!fs)continue;fs[xi]&&(Hi=fs[xi]);const wo=Ve[Hr.fontStack];if(!wo)continue;const du=wo.glyphs[xi];if(!du)continue;if(Yr=du.metrics,Qo=8203!==xi?24:0,wn){const Pp=void 0!==wo.ascender?Math.abs(wo.ascender):0,hm=void 0!==wo.descender?Math.abs(wo.descender):0,Yu=(Pp+hm)*xr;mr<Yu&&(mr=Yu,gr=(Pp-hm)/2*xr),Xr=-Pp*xr}else Xr=24*(Yn-xr)-17}bo?(_e.verticalizable=!0,Qi.push({glyph:xi,imageName:wt,x:bn,y:Et+Xr,vertical:bo,scale:xr,localGlyph:Yr.localGlyph,fontStack:Hr.fontStack,sectionIndex:Ur,metrics:Yr,rect:Hi}),bn+=Qo*xr+ht):(Qi.push({glyph:xi,imageName:wt,x:bn,y:Et+Xr,vertical:bo,scale:xr,localGlyph:Yr.localGlyph,fontStack:Hr.fontStack,sectionIndex:Ur,metrics:Yr,rect:Hi}),bn+=Yr.advance*xr+ht)}0!==Qi.length&&(jt=Math.max(bn-ht,jt),wn?cr(Qi,Mt,ur,gr,Ge*Yn/2):cr(Qi,Mt,ur,0,Ge/2)),bn=0;const vo=Ge*Yn+ur;Xi.lineOffset=Math.max(ur,qi),Et+=vo,++oi}var ii;const Kn=Et,{horizontalAlign:on,verticalAlign:Ii}=eh(nt);(function(kn,Yn,qi,Xi,Qi,ur){const mr=(Yn-qi)*Qi,gr=-ur*Xi;for(const vo of kn)for(const Zi of vo.positionedGlyphs)Zi.x+=mr,Zi.y+=gr})(_e.positionedLines,Mt,on,Ii,jt,Kn),_e.top+=-Ii*Kn,_e.bottom=_e.top+Kn,_e.left+=-on*jt,_e.right=_e.left+jt,_e.hasBaseline=wn}(we,o,l,u,J,v,C,T,O,M,N,H),!function(_e){for(const Ve of _e)if(0!==Ve.positionedGlyphs.length)return!1;return!0}(fe)&&we}const Tg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function qv(a,o,l,u,p,_){if(o.imageName){const v=u[o.imageName];return v?v.displaySize[0]*o.scale*24/_+p:0}{const v=l[o.fontStack],C=v&&v.glyphs[a];return C?C.metrics.advance*o.scale+p:0}}function Jd(a,o,l,u){const p=Math.pow(a-o,2);return u?a<o?p/2:2*p:p+Math.abs(l)*l}function Yt(a,o,l){let u=0;return 10===a&&(u-=1e4),l&&(u+=150),40!==a&&65288!==a||(u+=50),41!==o&&65289!==o||(u+=50),u}function Zv(a,o,l,u,p,_){let v=null,C=Jd(o,l,p,_);for(const T of u){const M=Jd(o-T.x,l,p,_)+T.badness;M<=C&&(v=T,C=M)}return{index:a,x:o,priorBreak:v,badness:C}}function rx(a){return a?rx(a.priorBreak).concat(a.index):[]}function eh(a){let o=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:o,verticalAlign:l}}function cr(a,o,l,u,p){if(!(o||l||u||p))return;const _=a.length-1,v=a[_],C=(v.x+v.metrics.advance*v.scale)*o;for(let T=0;T<=_;T++)a[T].x-=C,a[T].y+=l+u+p}function ox(a,o,l){const{horizontalAlign:u,verticalAlign:p}=eh(l),_=o[0]-a.displaySize[0]*u,v=o[1]-a.displaySize[1]*p;return{image:a,top:v,bottom:v+a.displaySize[1],left:_,right:_+a.displaySize[0]}}function Kv(a,o,l,u,p,_){const v=a.image;let C;if(v.content){const J=v.content,de=v.pixelRatio||1;C=[J[0]/de,J[1]/de,v.displaySize[0]-J[2]/de,v.displaySize[1]-J[3]/de]}const T=o.left*_,M=o.right*_;let k,O,N,B;"width"===l||"both"===l?(B=p[0]+T-u[3],O=p[0]+M+u[1]):(B=p[0]+(T+M-v.displaySize[0])/2,O=B+v.displaySize[0]);const H=o.top*_,Z=o.bottom*_;return"height"===l||"both"===l?(k=p[1]+H-u[0],N=p[1]+Z+u[2]):(k=p[1]+(H+Z-v.displaySize[1])/2,N=k+v.displaySize[1]),{image:v,top:k,right:O,bottom:N,left:B,collisionPadding:C}}class ba extends Fe{constructor(o,l,u,p,_){super(o,l),this.angle=p,this.z=u,void 0!==_&&(this.segment=_)}clone(){return new ba(this.x,this.y,this.z,this.angle,this.segment)}}function Yv(a,o,l,u,p){if(void 0===o.segment)return!0;let _=o,v=o.segment+1,C=0;for(;C>-l/2;){if(v--,v<0)return!1;C-=a[v].dist(_),_=a[v]}C+=a[v].dist(a[v+1]),v++;const T=[];let M=0;for(;C<l/2;){const k=a[v],O=a[v+1];if(!O)return!1;let N=a[v-1].angleTo(k)-k.angleTo(O);for(N=Math.abs((N+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:C,angleDelta:N}),M+=N;C-T[0].distance>u;)M-=T.shift().angleDelta;if(M>p)return!1;v++,C+=k.dist(O)}return!0}function Mg(a){let o=0;for(let l=0;l<a.length-1;l++)o+=a[l].dist(a[l+1]);return o}function Dg(a,o,l){return a?.6*o*l:0}function Xv(a,o){return Math.max(a?a.right-a.left:0,o?o.right-o.left:0)}function j1(a,o,l,u,p,_){const v=Dg(l,p,_),C=Xv(l,u)*_;let T=0;const M=Mg(a)/2;for(let k=0;k<a.length-1;k++){const O=a[k],N=a[k+1],B=O.dist(N);if(T+B>M){const H=(M-T)/B,Z=qe(O.x,N.x,H),J=qe(O.y,N.y,H),de=new ba(Z,J,0,N.angleTo(O),k);return!v||Yv(a,de,C,v,o)?de:void 0}T+=B}}function gp(a,o,l,u,p,_,v,C,T){const M=Dg(u,_,v),k=Xv(u,p),O=k*v,N=0===a[0].x||a[0].x===T||0===a[0].y||a[0].y===T;return o-O<o/4&&(o=O+o/4),Qv(a,N?o/2*C%o:(k/2+2*_)*v*C%o,o,M,l,O,N,!1,T)}function Qv(a,o,l,u,p,_,v,C,T){const M=_/2,k=Mg(a);let O=0,N=o-l,B=[];for(let H=0;H<a.length-1;H++){const Z=a[H],J=a[H+1],de=Z.dist(J),ge=J.angleTo(Z);for(;N+l<O+de;){N+=l;const le=(N-O)/de,fe=qe(Z.x,J.x,le),we=qe(Z.y,J.y,le);if(fe>=0&&fe<T&&we>=0&&we<T&&N-M>=0&&N+M<=k){const _e=new ba(fe,we,0,ge,H);_e._round(),u&&!Yv(a,_e,_,u,p)||B.push(_e)}}O+=de}return C||B.length||v||(B=Qv(a,O/2,l,u,p,_,v,!0,T)),B}function Jv(a,o,l,u,p){const _=[];for(let v=0;v<a.length;v++){const C=a[v];let T;for(let M=0;M<C.length-1;M++){let k=C[M],O=C[M+1];k.x<o&&O.x<o||(k.x<o?k=new Fe(o,k.y+(o-k.x)/(O.x-k.x)*(O.y-k.y))._round():O.x<o&&(O=new Fe(o,k.y+(o-k.x)/(O.x-k.x)*(O.y-k.y))._round()),k.y<l&&O.y<l||(k.y<l?k=new Fe(k.x+(l-k.y)/(O.y-k.y)*(O.x-k.x),l)._round():O.y<l&&(O=new Fe(k.x+(l-k.y)/(O.y-k.y)*(O.x-k.x),l)._round()),k.x>=u&&O.x>=u||(k.x>=u?k=new Fe(u,k.y+(u-k.x)/(O.x-k.x)*(O.y-k.y))._round():O.x>=u&&(O=new Fe(u,k.y+(u-k.x)/(O.x-k.x)*(O.y-k.y))._round()),k.y>=p&&O.y>=p||(k.y>=p?k=new Fe(k.x+(p-k.y)/(O.y-k.y)*(O.x-k.x),p)._round():O.y>=p&&(O=new Fe(k.x+(p-k.y)/(O.y-k.y)*(O.x-k.x),p)._round()),T&&k.equals(T[T.length-1])||(T=[k],_.push(T)),T.push(O)))))}}return _}Nt(ba,"Anchor");const om=1e20;function eb(a,o,l,u,p,_,v,C,T){for(let M=o;M<o+u;M++)Eg(a,l*_+M,_,p,v,C,T);for(let M=l;M<l+p;M++)Eg(a,M*_+o,1,u,v,C,T)}function Eg(a,o,l,u,p,_,v){_[0]=0,v[0]=-om,v[1]=om,p[0]=a[o];for(let C=1,T=0,M=0;C<u;C++){p[C]=a[o+C*l];const k=C*C;do{const O=_[T];M=(p[C]-p[O]+k-O*O)/(C-O)/2}while(M<=v[T]&&--T>-1);T++,_[T]=C,v[T]=M,v[T+1]=om}for(let C=0,T=0;C<u;C++){for(;v[T+1]<C;)T++;const M=_[T],k=C-M;a[o+C*l]=p[M]+k*k}}const $1={none:0,ideographs:1,all:2};class _p{constructor(o,l,u){this.requestManager=o,this.localGlyphMode=l,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o){this.url=o}getGlyphs(o,l){const u=[];for(const p in o)for(const _ of o[p])u.push({stack:p,id:_});Ol(u,({stack:p,id:_},v)=>{let C=this.entries[p];C||(C=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let T=C.glyphs[_];if(void 0!==T)return void v(null,{stack:p,id:_,glyph:T});if(T=this._tinySDF(C,p,_),T)return C.glyphs[_]=T,void v(null,{stack:p,id:_,glyph:T});const M=Math.floor(_/256);if(256*M>65535)return void v(new Error("glyphs > 65535 not supported"));if(C.ranges[M])return void v(null,{stack:p,id:_,glyph:T});let k=C.requests[M];k||(k=C.requests[M]=[],_p.loadGlyphRange(p,M,this.url,this.requestManager,(O,N)=>{if(N){C.ascender=N.ascender,C.descender=N.descender;for(const B in N.glyphs)this._doesCharSupportLocalGlyph(+B)||(C.glyphs[+B]=N.glyphs[+B]);C.ranges[M]=!0}for(const B of k)B(O,N);delete C.requests[M]})),k.push((O,N)=>{O?v(O):N&&v(null,{stack:p,id:_,glyph:N.glyphs[_]||null})})},(p,_)=>{if(p)l(p);else if(_){const v={};for(const{stack:C,id:T,glyph:M}of _)void 0===v[C]&&(v[C]={}),void 0===v[C].glyphs&&(v[C].glyphs={}),v[C].glyphs[T]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics},v[C].ascender=this.entries[C].ascender,v[C].descender=this.entries[C].descender;l(null,v)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==$1.none&&(this.localGlyphMode===$1.all?!!this.localFontFamily:!!this.localFontFamily&&(Fd(o)||go(o)||Pu(o)||Ru(o)||Ql(o)))}_tinySDF(o,l,u){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(u))return;let _=o.tinySDF;if(!_){let Z="400";/bold/i.test(l)?Z="900":/medium/i.test(l)?Z="500":/light/i.test(l)&&(Z="200"),_=o.tinySDF=new _p.TinySDF({fontFamily:p,fontWeight:Z,fontSize:48,buffer:6,radius:16}),_.fontWeight=Z}if(this.localGlyphs[_.fontWeight][u])return this.localGlyphs[_.fontWeight][u];const v=String.fromCharCode(u),{data:C,width:T,height:M,glyphWidth:k,glyphHeight:O,glyphLeft:N,glyphTop:B,glyphAdvance:H}=_.draw(v);return this.localGlyphs[_.fontWeight][u]={id:u,bitmap:new sc({width:T,height:M},C),metrics:{width:k/2,height:O/2,left:N/2,top:B/2-27,advance:H/2,localGlyph:!0}}}}function th(a,o,l,u){const p=[],_=a.image,v=_.pixelRatio,C=_.paddedRect.w-2,T=_.paddedRect.h-2,M=a.right-a.left,k=a.bottom-a.top,O=_.stretchX||[[0,C]],N=_.stretchY||[[0,T]],B=(Ge,nt)=>Ge+nt[1]-nt[0],H=O.reduce(B,0),Z=N.reduce(B,0),J=C-H,de=T-Z;let ge=0,le=H,fe=0,we=Z,_e=0,Ve=J,Be=0,et=de;if(_.content&&u){const Ge=_.content;ge=Ga(O,0,Ge[0]),fe=Ga(N,0,Ge[1]),le=Ga(O,Ge[0],Ge[2]),we=Ga(N,Ge[1],Ge[3]),_e=Ge[0]-ge,Be=Ge[1]-fe,Ve=Ge[2]-Ge[0]-le,et=Ge[3]-Ge[1]-we}const pt=(Ge,nt,st,ut)=>{const ht=Ig(Ge.stretch-ge,le,M,a.left),We=G1(Ge.fixed-_e,Ve,Ge.stretch,H),xt=Ig(nt.stretch-fe,we,k,a.top),bn=G1(nt.fixed-Be,et,nt.stretch,Z),Et=Ig(st.stretch-ge,le,M,a.left),jt=G1(st.fixed-_e,Ve,st.stretch,H),Mt=Ig(ut.stretch-fe,we,k,a.top),wn=G1(ut.fixed-Be,et,ut.stretch,Z),oi=new Fe(ht,xt),ii=new Fe(Et,xt),Kn=new Fe(Et,Mt),on=new Fe(ht,Mt),Ii=new Fe(We/v,bn/v),kn=new Fe(jt/v,wn/v),Yn=o*Math.PI/180;if(Yn){const Qi=Math.sin(Yn),ur=Math.cos(Yn),mr=[ur,-Qi,Qi,ur];oi._matMult(mr),ii._matMult(mr),on._matMult(mr),Kn._matMult(mr)}const qi=Ge.stretch+Ge.fixed,Xi=nt.stretch+nt.fixed;return{tl:oi,tr:ii,bl:on,br:Kn,tex:{x:_.paddedRect.x+1+qi,y:_.paddedRect.y+1+Xi,w:st.stretch+st.fixed-qi,h:ut.stretch+ut.fixed-Xi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ii,pixelOffsetBR:kn,minFontScaleX:Ve/v/M,minFontScaleY:et/v/k,isSDF:l}};if(u&&(_.stretchX||_.stretchY)){const Ge=tb(O,J,H),nt=tb(N,de,Z);for(let st=0;st<Ge.length-1;st++){const ut=Ge[st],ht=Ge[st+1];for(let We=0;We<nt.length-1;We++)p.push(pt(ut,nt[We],ht,nt[We+1]))}}else p.push(pt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:T+1}));return p}function Ga(a,o,l){let u=0;for(const p of a)u+=Math.max(o,Math.min(l,p[1]))-Math.max(o,Math.min(l,p[0]));return u}function tb(a,o,l){const u=[{fixed:-1,stretch:0}];for(const[p,_]of a){const v=u[u.length-1];u.push({fixed:p-v.stretch,stretch:v.stretch}),u.push({fixed:p-v.stretch,stretch:v.stretch+(_-p)})}return u.push({fixed:o+1,stretch:l}),u}function Ig(a,o,l,u){return a/o*l+u}function G1(a,o,l,u){return a-o*l/u}function zD(a,o,l,u){const p=o+a.positionedLines[u].lineOffset;return 0===u?l+p/2:l+(p+(o+a.positionedLines[u-1].lineOffset))/2}_p.loadGlyphRange=function(a,o,l,u,p){const _=256*o,v=_+255,C=u.transformRequest(u.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${_}-${v}`),Fs.Glyphs);Pc(C,(T,M)=>{if(T)p(T);else if(M){const k={},O=new mp(M).readFields(tx,{});for(const N of O.glyphs)k[N.id]=N;p(null,{glyphs:k,ascender:O.ascender,descender:O.descender})}})},_p.TinySDF=class{constructor({fontSize:a=24,buffer:o=3,radius:l=8,cutoff:u=.25,fontFamily:p="sans-serif",fontWeight:_="normal",fontStyle:v="normal"}={}){this.buffer=o,this.cutoff=u,this.radius=l;const C=this.size=a+4*o,T=this._createCanvas(C),M=this.ctx=T.getContext("2d",{willReadFrequently:!0});M.font=`${v} ${_} ${a}px ${p}`,M.textBaseline="alphabetic",M.textAlign="left",M.fillStyle="black",this.gridOuter=new Float64Array(C*C),this.gridInner=new Float64Array(C*C),this.f=new Float64Array(C),this.z=new Float64Array(C+1),this.v=new Uint16Array(C)}_createCanvas(a){const o=document.createElement("canvas");return o.width=o.height=a,o}draw(a){const{width:o,actualBoundingBoxAscent:l,actualBoundingBoxDescent:u,actualBoundingBoxLeft:p,actualBoundingBoxRight:_}=this.ctx.measureText(a),v=Math.ceil(l),C=Math.min(this.size-this.buffer,Math.ceil(_-p)),T=Math.min(this.size-this.buffer,v+Math.ceil(u)),M=C+2*this.buffer,k=T+2*this.buffer,O=Math.max(M*k,0),N=new Uint8ClampedArray(O),B={data:N,width:M,height:k,glyphWidth:C,glyphHeight:T,glyphTop:v,glyphLeft:0,glyphAdvance:o};if(0===C||0===T)return B;const{ctx:H,buffer:Z,gridInner:J,gridOuter:de}=this;H.clearRect(Z,Z,C,T),H.fillText(a,Z,Z+v);const ge=H.getImageData(Z,Z,C,T);de.fill(om,0,O),J.fill(0,0,O);for(let le=0;le<T;le++)for(let fe=0;fe<C;fe++){const we=ge.data[4*(le*C+fe)+3]/255;if(0===we)continue;const _e=(le+Z)*M+fe+Z;if(1===we)de[_e]=0,J[_e]=om;else{const Ve=.5-we;de[_e]=Ve>0?Ve*Ve:0,J[_e]=Ve<0?Ve*Ve:0}}eb(de,0,0,M,k,M,this.f,this.v,this.z),eb(J,Z,Z,C,T,M,this.f,this.v,this.z);for(let le=0;le<O;le++){const fe=Math.sqrt(de[le])-Math.sqrt(J[le]);N[le]=Math.round(255-255*(fe/this.radius+this.cutoff))}return B}};class nb{constructor(o=[],l=BD){if(this.data=o,this.length=this.data.length,this.compare=l,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const o=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:l,compare:u}=this,p=l[o];for(;o>0;){const _=o-1>>1,v=l[_];if(u(p,v)>=0)break;l[o]=v,o=_}l[o]=p}_down(o){const{data:l,compare:u}=this,p=this.length>>1,_=l[o];for(;o<p;){let v=1+(o<<1),C=l[v];const T=v+1;if(T<this.length&&u(l[T],C)<0&&(v=T,C=l[T]),u(C,_)>=0)break;l[o]=C,o=v}l[o]=_}}function BD(a,o){return a<o?-1:a>o?1:0}function ib(a,o=1,l=!1){let u=1/0,p=1/0,_=-1/0,v=-1/0;const C=a[0];for(let B=0;B<C.length;B++){const H=C[B];(!B||H.x<u)&&(u=H.x),(!B||H.y<p)&&(p=H.y),(!B||H.x>_)&&(_=H.x),(!B||H.y>v)&&(v=H.y)}const T=Math.min(_-u,v-p);let M=T/2;const k=new nb([],VD);if(0===T)return new Fe(u,p);for(let B=u;B<_;B+=T)for(let H=p;H<v;H+=T)k.push(new nh(B+M,H+M,M,a));let O=function(B){let H=0,Z=0,J=0;const de=B[0];for(let ge=0,le=de.length,fe=le-1;ge<le;fe=ge++){const we=de[ge],_e=de[fe],Ve=we.x*_e.y-_e.x*we.y;Z+=(we.x+_e.x)*Ve,J+=(we.y+_e.y)*Ve,H+=3*Ve}return new nh(Z/H,J/H,0,B)}(a),N=k.length;for(;k.length;){const B=k.pop();(B.d>O.d||!O.d)&&(O=B,l&&console.log("found best %d after %d probes",Math.round(1e4*B.d)/1e4,N)),B.max-O.d<=o||(M=B.h/2,k.push(new nh(B.p.x-M,B.p.y-M,M,a)),k.push(new nh(B.p.x+M,B.p.y-M,M,a)),k.push(new nh(B.p.x-M,B.p.y+M,M,a)),k.push(new nh(B.p.x+M,B.p.y+M,M,a)),N+=4)}return l&&(console.log(`num probes: ${N}`),console.log(`best distance: ${O.d}`)),O.p}function VD(a,o){return o.max-a.max}function nh(a,o,l,u){this.p=new Fe(a,o),this.h=l,this.d=function(p,_){let v=!1,C=1/0;for(let T=0;T<_.length;T++){const M=_[T];for(let k=0,O=M.length,N=O-1;k<O;N=k++){const B=M[k],H=M[N];B.y>p.y!=H.y>p.y&&p.x<(H.x-B.x)*(p.y-B.y)/(H.y-B.y)+B.x&&(v=!v),C=Math.min(C,Af(p,B,H))}}return(v?1:-1)*Math.sqrt(C)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}const W1=Number.POSITIVE_INFINITY,rb=Math.sqrt(2);function ob(a,[o,l]){let u=0,p=0;if(l===W1){o<0&&(o=0);const _=o/rb;switch(a){case"top-right":case"top-left":p=_-7;break;case"bottom-right":case"bottom-left":p=7-_;break;case"bottom":p=7-o;break;case"top":p=o-7}switch(a){case"top-right":case"bottom-right":u=-_;break;case"top-left":case"bottom-left":u=_;break;case"left":u=o;break;case"right":u=-o}}else{switch(o=Math.abs(o),l=Math.abs(l),a){case"top-right":case"top-left":case"top":p=l-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-l}switch(a){case"top-right":case"bottom-right":case"right":u=-o;break;case"top-left":case"bottom-left":case"left":u=o}}return[u,p]}function sx(a,o,l,u,p,_,v,C,T,M){a.createArrays(),a.tilePixelRatio=Mn/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const k=a.layers[0].layout,O=a.layers[0]._unevaluatedLayout._values,N={};if("composite"===a.textSizeData.kind){const{minZoom:Z,maxZoom:J}=a.textSizeData;N.compositeTextSizes=[O["text-size"].possiblyEvaluate(new Ie(Z),C),O["text-size"].possiblyEvaluate(new Ie(J),C)]}if("composite"===a.iconSizeData.kind){const{minZoom:Z,maxZoom:J}=a.iconSizeData;N.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new Ie(Z),C),O["icon-size"].possiblyEvaluate(new Ie(J),C)]}N.layoutTextSize=O["text-size"].possiblyEvaluate(new Ie(T+1),C),N.layoutIconSize=O["icon-size"].possiblyEvaluate(new Ie(T+1),C),N.textMaxSize=O["text-size"].possiblyEvaluate(new Ie(18),C);const B="map"===k.get("text-rotation-alignment")&&"point"!==k.get("symbol-placement"),H=k.get("text-size");for(const Z of a.features){const J=k.get("text-font").evaluate(Z,{},C).join(","),de=H.evaluate(Z,{},C),ge=N.layoutTextSize.evaluate(Z,{},C),le=(N.layoutIconSize.evaluate(Z,{},C),{horizontal:{},vertical:void 0}),fe=Z.text;let we,_e=[0,0];if(fe){const et=fe.toString(),pt=24*k.get("text-letter-spacing").evaluate(Z,{},C),Ge=24*k.get("text-line-height").evaluate(Z,{},C),nt=E(et)?pt:0,st=k.get("text-anchor").evaluate(Z,{},C),ut=k.get("text-variable-anchor");if(!ut){const Et=k.get("text-radial-offset").evaluate(Z,{},C);_e=Et?ob(st,[24*Et,W1]):k.get("text-offset").evaluate(Z,{},C).map(jt=>24*jt)}let ht=B?"center":k.get("text-justify").evaluate(Z,{},C);const We="point"===k.get("symbol-placement"),xt=We?24*k.get("text-max-width").evaluate(Z,{},C):1/0,bn=Et=>{a.allowVerticalPlacement&&D(et)&&(le.vertical=Wv(fe,o,l,p,J,xt,Ge,st,Et,nt,_e,na.vertical,!0,ge,de))};if(!B&&ut){const Et="auto"===ht?ut.map(Mt=>wa(Mt)):[ht];let jt=!1;for(let Mt=0;Mt<Et.length;Mt++){const wn=Et[Mt];if(!le.horizontal[wn])if(jt)le.horizontal[wn]=le.horizontal[0];else{const oi=Wv(fe,o,l,p,J,xt,Ge,"center",wn,nt,_e,na.horizontal,!1,ge,de);oi&&(le.horizontal[wn]=oi,jt=1===oi.positionedLines.length)}}bn("left")}else{if("auto"===ht&&(ht=wa(st)),We||k.get("text-writing-mode").indexOf("horizontal")>=0||!D(et)){const Et=Wv(fe,o,l,p,J,xt,Ge,st,ht,nt,_e,na.horizontal,!1,ge,de);Et&&(le.horizontal[ht]=Et)}bn(We?"left":ht)}}let Ve=!1;if(Z.icon&&Z.icon.name){const et=u[Z.icon.name];et&&(we=ox(p[Z.icon.name],k.get("icon-offset").evaluate(Z,{},C),k.get("icon-anchor").evaluate(Z,{},C)),Ve=et.sdf,void 0===a.sdfIcons?a.sdfIcons=et.sdf:a.sdfIcons!==et.sdf&&yr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(et.pixelRatio!==a.pixelRatio||0!==k.get("icon-rotate").constantOr(1))&&(a.iconsNeedLinear=!0))}const Be=ab(le.horizontal)||le.vertical;a.iconsInText||(a.iconsInText=!!Be&&Be.iconsInText),(Be||we)&&ax(a,Z,le,we,u,N,ge,0,_e,Ve,v,C,M)}_&&a.generateCollisionDebugBuffers(T,a.collisionBoxArray)}function wa(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ax(a,o,l,u,p,_,v,C,T,M,k,O,N){let B=_.textMaxSize.evaluate(o,{},O);void 0===B&&(B=v);const H=a.layers[0].layout,Z=H.get("icon-offset").evaluate(o,{},O),J=ab(l.horizontal)||l.vertical,de="globe"===N.name,ge=v/24,le=a.tilePixelRatio*B/24,fe=(nt=a.overscaling,a.zoom>18&&nt>2&&(nt>>=1),Math.max(Mn/(512*nt),1)*H.get("symbol-spacing")),we=H.get("text-padding")*a.tilePixelRatio,_e=H.get("icon-padding")*a.tilePixelRatio,Ve=Zt(H.get("text-max-angle")),Be="map"===H.get("text-rotation-alignment")&&"point"!==H.get("symbol-placement"),et="map"===H.get("icon-rotation-alignment")&&"point"!==H.get("symbol-placement"),pt=H.get("symbol-placement"),Ge=fe/2;var nt;const st=H.get("icon-text-fit");let ut;u&&"none"!==st&&(a.allowVerticalPlacement&&l.vertical&&(ut=Kv(u,l.vertical,st,H.get("icon-text-fit-padding"),Z,ge)),J&&(u=Kv(u,J,st,H.get("icon-text-fit-padding"),Z,ge)));const ht=(We,xt,bn)=>{if(xt.x<0||xt.x>=Mn||xt.y<0||xt.y>=Mn)return;let Et=null;if(de){const{x:jt,y:Mt,z:wn}=N.projectTilePoint(xt.x,xt.y,bn);Et={anchor:new ba(jt,Mt,wn,0,void 0),up:N.upVector(bn,xt.x,xt.y)}}!function(jt,Mt,wn,oi,ii,Kn,on,Ii,kn,Yn,qi,Xi,Qi,ur,mr,gr,vo,Zi,Hr,Ur,xi,xr,Yr,Hi,wt){const Qo=jt.addToLineVertexArray(Mt,oi);let Xr,bo,fs,wo,du,Pp,hm,Yu=0,Xu=0,Mx=0,Rp=0,__=-1,y_=-1;const Za={};let Ab=Nu.exports("");const ms=wn?wn.anchor:Mt;let lh=0,zo=0;if(void 0===kn._unevaluatedLayout.getValue("text-radial-offset")?[lh,zo]=kn.layout.get("text-offset").evaluate(xi,{},wt).map(dn=>24*dn):(lh=24*kn.layout.get("text-radial-offset").evaluate(xi,{},wt),zo=W1),jt.allowVerticalPlacement&&ii.vertical){const dn=ii.vertical;if(mr)Pp=q1(dn),Ii&&(hm=q1(Ii));else{const Co=kn.layout.get("text-rotate").evaluate(xi,{},wt)+90;fs=kg(Yn,ms,Mt,qi,Xi,Qi,dn,ur,Co,gr),Ii&&(wo=kg(Yn,ms,Mt,qi,Xi,Qi,Ii,Zi,Co))}}if(Kn){const dn=kn.layout.get("icon-rotate").evaluate(xi,{},wt),Co="none"!==kn.layout.get("icon-text-fit"),gc=th(Kn,dn,Yr,Co),Qu=Ii?th(Ii,dn,Yr,Co):void 0;bo=kg(Yn,ms,Mt,qi,Xi,Qi,Kn,Zi,dn),Yu=4*gc.length;const ch=jt.iconSizeData;let Ya=null;"source"===ch.kind?(Ya=[cc*kn.layout.get("icon-size").evaluate(xi,{},wt)],Ya[0]>ou&&yr(`${jt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===ch.kind&&(Ya=[cc*xr.compositeIconSizes[0].evaluate(xi,{},wt),cc*xr.compositeIconSizes[1].evaluate(xi,{},wt)],(Ya[0]>ou||Ya[1]>ou)&&yr(`${jt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),jt.addSymbols(jt.icon,gc,Ya,Ur,Hr,xi,!1,wn,Mt,Qo.lineStartIndex,Qo.lineLength,-1,Hi,wt),__=jt.icon.placedSymbolArray.length-1,Qu&&(Xu=4*Qu.length,jt.addSymbols(jt.icon,Qu,Ya,Ur,Hr,xi,na.vertical,wn,Mt,Qo.lineStartIndex,Qo.lineLength,-1,Hi,wt),y_=jt.icon.placedSymbolArray.length-1)}for(const dn in ii.horizontal){const Co=ii.horizontal[dn];Xr||(Ab=Nu.exports(Co.text),mr?du=q1(Co):Xr=kg(Yn,ms,Mt,qi,Xi,Qi,Co,ur,kn.layout.get("text-rotate").evaluate(xi,{},wt),gr));const gc=1===Co.positionedLines.length;if(Mx+=sb(jt,wn,Mt,Co,on,kn,mr,xi,gr,Qo,ii.vertical?na.horizontal:na.horizontalOnly,gc?Object.keys(ii.horizontal):[dn],Za,__,xr,Hi,wt),gc)break}ii.vertical&&(Rp+=sb(jt,wn,Mt,ii.vertical,on,kn,mr,xi,gr,Qo,na.vertical,["vertical"],Za,y_,xr,Hi,wt));let ia=-1;const Np=(dn,Co)=>dn?Math.max(dn,Co):Co;ia=Np(du,ia),ia=Np(Pp,ia),ia=Np(hm,ia);const Ka=ia>-1?1:0;jt.glyphOffsetArray.length>=pc.MAX_GLYPHS&&yr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==xi.sortKey&&jt.addToSortKeyRanges(jt.symbolInstances.length,xi.sortKey),jt.symbolInstances.emplaceBack(ms.x,ms.y,ms.z,Mt.x,Mt.y,Za.right>=0?Za.right:-1,Za.center>=0?Za.center:-1,Za.left>=0?Za.left:-1,Za.vertical>=0?Za.vertical:-1,__,y_,Ab,void 0!==Xr?Xr:jt.collisionBoxArray.length,void 0!==Xr?Xr+1:jt.collisionBoxArray.length,void 0!==fs?fs:jt.collisionBoxArray.length,void 0!==fs?fs+1:jt.collisionBoxArray.length,void 0!==bo?bo:jt.collisionBoxArray.length,void 0!==bo?bo+1:jt.collisionBoxArray.length,wo||jt.collisionBoxArray.length,wo?wo+1:jt.collisionBoxArray.length,qi,Mx,Rp,Yu,Xu,Ka,0,lh,zo,ia)}(a,xt,Et,We,l,u,p,ut,a.layers[0],a.collisionBoxArray,o.index,o.sourceLayerIndex,a.index,we,Be,T,0,_e,et,Z,o,_,M,k,O)};if("line"===pt)for(const We of Jv(o.geometry,0,0,Mn,Mn)){const xt=gp(We,fe,Ve,l.vertical||J,u,24,le,a.overscaling,Mn);for(const bn of xt){const Et=J;Et&&lb(a,Et.text,Ge,bn)||ht(We,bn,O)}}else if("line-center"===pt){for(const We of o.geometry)if(We.length>1){const xt=j1(We,Ve,l.vertical||J,u,24,le);xt&&ht(We,xt,O)}}else if("Polygon"===o.type)for(const We of D1(o.geometry,0)){const xt=ib(We,16);ht(We[0],new ba(xt.x,xt.y,0,0,void 0),O)}else if("LineString"===o.type)for(const We of o.geometry)ht(We,new ba(We[0].x,We[0].y,0,0,void 0),O);else if("Point"===o.type)for(const We of o.geometry)for(const xt of We)ht([xt],new ba(xt.x,xt.y,0,0,void 0),O)}const ou=32640;function sb(a,o,l,u,p,_,v,C,T,M,k,O,N,B,H,Z,J){const de=function(fe,we,_e,Ve,Be,et,pt,Ge){const nt=[];if(0===we.positionedLines.length)return nt;const st=Ve.layout.get("text-rotate").evaluate(et,{})*Math.PI/180,ut=function(Et){const jt=Et[0],Mt=Et[1],wn=jt*Mt;return wn>0?[jt,-Mt]:wn<0?[-jt,Mt]:0===jt?[Mt,jt]:[Mt,-jt]}(_e);let ht=Math.abs(we.top-we.bottom);for(const Et of we.positionedLines)ht-=Et.lineOffset;const We=we.positionedLines.length,xt=ht/We;let bn=we.top-_e[1];for(let Et=0;Et<We;++Et){const jt=we.positionedLines[Et];bn=zD(we,xt,bn,Et);for(const Mt of jt.positionedGlyphs){if(!Mt.rect)continue;const wn=Mt.rect||{};let oi=4,ii=!0,Kn=1,on=0;if(Mt.imageName){const Hi=pt[Mt.imageName];if(!Hi)continue;if(Hi.sdf){yr("SDF images are not supported in formatted text and will be ignored.");continue}ii=!1,Kn=Hi.pixelRatio,oi=1/Kn}const Ii=(Be||Ge)&&Mt.vertical,kn=Mt.metrics.advance*Mt.scale/2,Yn=Mt.metrics,qi=Mt.rect;if(null===qi)continue;Ge&&we.verticalizable&&(on=Mt.imageName?kn-Mt.metrics.width*Mt.scale/2:0);const Xi=Be?[Mt.x+kn,Mt.y]:[0,0];let Qi=[0,0],ur=[0,0],mr=!1;Be||(Ii?(ur=[Mt.x+kn+ut[0],Mt.y+ut[1]-on],mr=!0):Qi=[Mt.x+kn+_e[0],Mt.y+_e[1]-on]);const gr=qi.w*Mt.scale/(Kn*(Mt.localGlyph?2:1)),vo=qi.h*Mt.scale/(Kn*(Mt.localGlyph?2:1));let Zi,Hr,Ur,xi;if(Ii){const Hi=Mt.y-bn,wt=new Fe(-kn,kn-Hi),Qo=-Math.PI/2,Xr=new Fe(...ur);Zi=new Fe(-kn+Qi[0],Qi[1]),Zi._rotateAround(Qo,wt)._add(Xr),Zi.x+=-Hi+kn,Zi.y-=(Yn.left-oi)*Mt.scale;const bo=Mt.imageName?Yn.advance*Mt.scale:24*Mt.scale,fs=String.fromCharCode(Mt.glyph);Uv(fs)?Zi.x+=(1-oi)*Mt.scale:QC(fs)?Zi.x+=bo-Yn.height*Mt.scale+(-oi-1)*Mt.scale:Zi.x+=Mt.imageName||Yn.width+2*oi===qi.w&&Yn.height+2*oi===qi.h?(bo-vo)/2:(bo-(Yn.height+2*oi)*Mt.scale)/2,Hr=new Fe(Zi.x,Zi.y-gr),Ur=new Fe(Zi.x+vo,Zi.y),xi=new Fe(Zi.x+vo,Zi.y-gr)}else{const Hi=(Yn.left-oi)*Mt.scale-kn+Qi[0],wt=(-Yn.top-oi)*Mt.scale+Qi[1],Qo=Hi+gr,Xr=wt+vo;Zi=new Fe(Hi,wt),Hr=new Fe(Qo,wt),Ur=new Fe(Hi,Xr),xi=new Fe(Qo,Xr)}if(st){let Hi;Hi=Be?new Fe(0,0):mr?new Fe(ut[0],ut[1]):new Fe(_e[0],_e[1]),Zi._rotateAround(st,Hi),Hr._rotateAround(st,Hi),Ur._rotateAround(st,Hi),xi._rotateAround(st,Hi)}const xr=new Fe(0,0),Yr=new Fe(0,0);nt.push({tl:Zi,tr:Hr,bl:Ur,br:xi,tex:wn,writingMode:we.writingMode,glyphOffset:Xi,sectionIndex:Mt.sectionIndex,isSDF:ii,pixelOffsetTL:xr,pixelOffsetBR:Yr,minFontScaleX:0,minFontScaleY:0})}}return nt}(0,u,T,_,v,C,p,a.allowVerticalPlacement),ge=a.textSizeData;let le=null;"source"===ge.kind?(le=[cc*_.layout.get("text-size").evaluate(C,{},J)],le[0]>ou&&yr(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===ge.kind&&(le=[cc*H.compositeTextSizes[0].evaluate(C,{},J),cc*H.compositeTextSizes[1].evaluate(C,{},J)],(le[0]>ou||le[1]>ou)&&yr(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,de,le,T,v,C,k,o,l,M.lineStartIndex,M.lineLength,B,Z,J);for(const fe of O)N[fe]=a.text.placedSymbolArray.length-1;return 4*de.length}function ab(a){for(const o in a)return a[o];return null}function kg(a,o,l,u,p,_,v,C,T,M){let k=v.top,O=v.bottom,N=v.left,B=v.right;const H=v.collisionPadding;if(H&&(N-=H[0],k-=H[1],B+=H[2],O+=H[3]),T){const Z=new Fe(N,k),J=new Fe(B,k),de=new Fe(N,O),ge=new Fe(B,O),le=Zt(T);let fe=new Fe(0,0);M&&(fe=new Fe(M[0],M[1])),Z._rotateAround(le,fe),J._rotateAround(le,fe),de._rotateAround(le,fe),ge._rotateAround(le,fe),N=Math.min(Z.x,J.x,de.x,ge.x),B=Math.max(Z.x,J.x,de.x,ge.x),k=Math.min(Z.y,J.y,de.y,ge.y),O=Math.max(Z.y,J.y,de.y,ge.y)}return a.emplaceBack(o.x,o.y,o.z,l.x,l.y,N,k,B,O,C,u,p,_),a.length-1}function q1(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const o=a.bottom-a.top;return o>0?Math.max(10,o):null}function lb(a,o,l,u){const p=a.compareText;if(o in p){const _=p[o];for(let v=_.length-1;v>=0;v--)if(u.dist(_[v])<l)return!0}else p[o]=[];return p[o].push(u),!1}const lx=Pt([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:cb}=lx,ub=Pt([{name:"a_pos_3",components:3,type:"Int16"}]);var Zn=Pt([{name:"a_pos",type:"Int16",components:2}]);const V=Mn/Math.PI/2,Ag=2*Qs(1,0)*V*Math.PI,yp=[64,32,16],Wa=-V,Ca=V,cx=[new hs([Wa,Wa,Wa],[Ca,Ca,Ca]),new hs([Wa,Wa,Wa],[0,0,Ca]),new hs([0,Wa,Wa],[Ca,0,Ca]),new hs([Wa,0,Wa],[0,Ca,Ca]),new hs([0,0,Wa],[Ca,Ca,Ca])];function Z1(a,o,l,u=!0){const p=va([],a._camera.position,a.worldSize),_=[o,l,1,1];ju(_,_,a.pixelMatrixInverse),f1(_,_,1/_[3]);const v=ar([],ja([],_,p)),C=a.globeMatrix,T=[C[12],C[13],C[14]],M=ja([],T,p),k=Nf(M),O=ar([],M),N=a.worldSize/(2*Math.PI),B=ea(O,v),H=Math.asin(N/k);if(H<Math.acos(B)){if(!u)return null;const pt=[],Ge=[];va(pt,v,k/B),ar(Ge,ja(Ge,pt,M)),ar(v,_l(v,M,va(v,Ge,Math.tan(H)*k)))}const Z=[];new zf(p,v).closestPointOnSphere(T,N,Z);const J=ar([],Ac(C,0)),de=ar([],Ac(C,1)),ge=ar([],Ac(C,2)),le=ea(J,Z),fe=ea(de,Z),we=ea(ge,Z),_e=Xn(Math.asin(-fe/N));let Ve=Xn(Math.atan2(le,we));Ve=a.center.lng+function(pt,Ge){const nt=(Ge-pt+180)%360-180;return nt<-180?nt+360:nt}(a.center.lng,Ve);const Be=gl(Ve),et=ai(er(_e),0,1);return new rc(Be,et)}class ux{constructor(o,l,u){this.a=ja([],o,u),this.b=ja([],l,u),this.center=u;const p=ar([],this.a),_=ar([],this.b);this.angle=Math.acos(ea(p,_))}}function K1(a,o){if(0===a.angle)return null;let l;return l=0===a.a[o]?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[o]/a.a[o]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(u,p,_,v){const C=Math.sin(_);return u*(Math.sin((1-v)*_)/C)+p*(Math.sin(v*_)/C)}(a.a[o],a.b[o],a.angle,ai(l,0,1))+a.center[o]}function su(a){if(a.z<=1)return cx[a.z+2*a.y+a.x];const o=sm(vp(a));return hs.fromPoints(o)}function qu(a,o,l){return va(a,a,1-l),Ff(a,a,o,l)}function Y1(a,o){const l=vl(o.zoom);if(0===l)return su(a);const u=vp(a),p=sm(u),_=gl(u.getWest())*o.worldSize,v=gl(u.getEast())*o.worldSize,C=er(u.getNorth())*o.worldSize,T=er(u.getSouth())*o.worldSize,M=[_,C,0],k=[v,C,0],O=[_,T,0],N=[v,T,0],B=hv([],o.globeMatrix);return Tr(M,M,B),Tr(k,k,B),Tr(O,O,B),Tr(N,N,B),p[0]=qu(p[0],O,l),p[1]=qu(p[1],N,l),p[2]=qu(p[2],k,l),p[3]=qu(p[3],M,l),hs.fromPoints(p)}function Fo(a,o,l){for(const u of a)Tr(u,u,o),va(u,u,l)}function vp({x:a,y:o,z:l}){const u=1/(1<<l),p=new di(Yo(a*u),No((o+1)*u)),_=new di(Yo((a+1)*u),No(o*u));return new Qc(p,_)}function sm(a){const o=Zt(a.getNorth()),l=Zt(a.getSouth()),u=Math.cos(o),p=Math.cos(l),_=Math.sin(o),v=Math.sin(l),C=a.getWest(),T=a.getEast();return[bp(p,v,C),bp(p,v,T),bp(u,_,T),bp(u,_,C)]}function bp(a,o,l,u=V){return l=Zt(l),[a*Math.sin(l)*u,-o*u,a*Math.cos(l)*u]}function Og(a,o,l){return bp(Math.cos(Zt(a)),Math.sin(Zt(a)),o,l)}function Pg(a,o,l,u){const p=1<<l.z,_=(a/Mn+l.x)/p;return Og(No((o/Mn+l.y)/p),Yo(_),u)}function X1({min:a,max:o}){return 16383/Math.max(o[0]-a[0],o[1]-a[1],o[2]-a[2])}const db=new Float64Array(16);function wp(a){const o=X1(a),l=u1(db,[o,o,o]);return Of(l,l,((u=[])[0]=-(p=a.min)[0],u[1]=-p[1],u[2]=-p[2],u));var u,p}function hb(a){const o=(u=a.min,(l=db)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l);var l,u;const p=1/X1(a);return Uu(o,o,[p,p,p])}function pb(a,o,l,u,p){const _=function(T){const M=Mn/(2*Math.PI);return T/(2*Math.PI)/M}(l),v=[a,o,-l/(2*Math.PI)],C=oc(new Float64Array(16));return Of(C,C,v),Uu(C,C,[_,_,_]),Pf(C,C,Zt(-p)),Rf(C,C,Zt(-u)),C}function vl(a){return Ic(5,6,a)}function fb(a,o){const l=Og(o.lat,o.lng);return v=(p=p1([],function(H){const Z=Og(H._center.lat,H._center.lng);let J=dg([],jd(0,1,0),Z);const de=d1([],-H.angle,Z);J=Tr(J,J,de),d1(de,-H._pitch,J);const ge=ar([],Z);return va(ge,ge,H.cameraToCenterDistance/H.pixelsPerMeter*Ag),Tr(ge,ge,de),_l([],Z,ge)}(a),l))[0],C=p[1],T=p[2],M=(_=l)[0],k=_[1],O=_[2],B=(N=Math.sqrt(v*v+C*C+T*T)*Math.sqrt(M*M+k*k+O*O))&&ea(p,_)/N,Math.acos(Math.min(Math.max(B,-1),1));var p,_,v,C,T,M,k,O,N,B}function Rg(a,o){return fb(a,o)>Math.PI/2*1.01}const am=Zt(85),hx=Math.cos(am),mb=Math.sin(am);function gb(a,o){const l=a.fovAboveCenter,u=a.elevation?a.elevation.getMinElevationBelowMSL()*o:0,p=(a._camera.position[2]*a.worldSize-u)/Math.cos(a._pitch),_=Math.sin(l)*p/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),v=Math.sin(a._pitch)*_+p;return Math.min(1.01*v,p*(1/a._horizonShift))}function rh(a,o){if(!o.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:o};const l=Math.pow(2,-a.z),u=a.x*l,p=(a.x+1)*l,_=a.y*l,v=(a.y+1)*l,C=Yo(u),T=Yo(p),M=No(_),k=No(v),O=o.project(C,M),N=o.project(T,M),B=o.project(T,k),H=o.project(C,k);let Z=Math.min(O.x,N.x,B.x,H.x),J=Math.min(O.y,N.y,B.y,H.y),de=Math.max(O.x,N.x,B.x,H.x),ge=Math.max(O.y,N.y,B.y,H.y);const le=l/16;function fe(_e,Ve,Be,et,pt,Ge){const nt=(Be+pt)/2,st=(et+Ge)/2,ut=o.project(Yo(nt),No(st)),ht=Math.max(0,Z-ut.x,J-ut.y,ut.x-de,ut.y-ge);Z=Math.min(Z,ut.x),de=Math.max(de,ut.x),J=Math.min(J,ut.y),ge=Math.max(ge,ut.y),ht>le&&(fe(_e,ut,Be,et,nt,st),fe(ut,Ve,nt,st,pt,Ge))}fe(O,N,u,_,p,_),fe(N,B,p,_,p,v),fe(B,H,p,v,u,v),fe(H,O,u,v,u,_),Z-=le,J-=le,de+=le,ge+=le;const we=1/Math.max(de-Z,ge-J);return{scale:we,x:Z*we,y:J*we,x2:de*we,y2:ge*we,projection:o}}const px=oc(new Float32Array(16));class Zu{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,l){return{x:0,y:0,z:0}}unproject(o,l){return new di(0,0)}projectTilePoint(o,l,u){return{x:o,y:l,z:0}}locationPoint(o,l,u=!0){return o._coordinatePoint(o.locationCoordinate(l),u)}pixelsPerMeter(o,l){return Qs(1,o)*l}pixelSpaceConversion(o,l,u){return 1}farthestPixelDistance(o){return gb(o,o.pixelsPerMeter)}pointCoordinate(o,l,u,p){const _=o.horizonLineFromTop(!1),v=new Fe(l,Math.max(_,u));return o.rayIntersectionCoordinate(o.pointRayIntersection(v,p))}pointCoordinate3D(o,l,u){const p=new Fe(l,u);if(o.elevation)return o.elevation.pointCoordinate(p);{const _=this.pointCoordinate(o,p.x,p.y,0);return[_.x,_.y,_.z]}}isPointAboveHorizon(o,l){if(o.elevation)return!this.pointCoordinate3D(o,l.x,l.y);const u=o.horizonLineFromTop();return l.y<u}createInversionMatrix(o,l){return px}createTileMatrix(o,l,u){let p,_,v;const C=u.canonical,T=oc(new Float64Array(16));if(this.isReprojectedInTileSpace){const M=rh(C,this);p=1,_=M.x+u.wrap*M.scale,v=M.y,Uu(T,T,[p/M.scale,p/M.scale,o.pixelsPerMeter/l])}else p=l/o.zoomScale(C.z),_=(C.x+Math.pow(2,C.z)*u.wrap)*p,v=C.y*p;return Of(T,T,[_,v,0]),Uu(T,T,[p/Mn,p/Mn,1]),T}upVector(o,l,u){return[0,0,1]}upVectorScale(o,l,u){return{metersToTile:1}}}class fx extends Zu{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[l,u]=this.parallels=o.parallels||[29.5,45.5],p=Math.sin(Zt(l));this.n=(p+Math.sin(Zt(u)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(o,l){const{n:u,c:p,r0:_}=this,v=Zt(o-this.center[0]),C=Zt(l),T=Math.sqrt(p-2*u*Math.sin(C))/u;return{x:T*Math.sin(v*u),y:T*Math.cos(v*u)-_,z:0}}unproject(o,l){const{n:u,c:p,r0:_}=this,v=_+l;let C=Math.atan2(o,Math.abs(v))*Math.sign(v);v*u<0&&(C-=Math.PI*Math.sign(o)*Math.sign(v));const T=Zt(this.center[0])*u;C=ss(C,-Math.PI-T,Math.PI-T);const M=ai(Xn(C/u)+this.center[0],-180,180),k=Math.asin(ai((p-(o*o+v*v)*u*u)/(2*u),-1,1)),O=ai(Xn(k),-85.051129,ic);return new di(M,O)}}const Cp=1.340264,lm=-.081106,xp=893e-6,Sp=.003796,Tp=Math.sqrt(3)/2;class HD extends Zu{project(o,l){l=l/180*Math.PI,o=o/180*Math.PI;const u=Math.asin(Tp*Math.sin(l)),p=u*u,_=p*p*p;return{x:.5*(o*Math.cos(u)/(Tp*(Cp+3*lm*p+_*(7*xp+9*Sp*p)))/Math.PI+.5),y:1-.5*(u*(Cp+lm*p+_*(xp+Sp*p))/Math.PI+1),z:0}}unproject(o,l){o=(2*o-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,p=u*u,_=p*p*p;for(let k,O,N,B=0;B<12&&(O=u*(Cp+lm*p+_*(xp+Sp*p))-l,N=Cp+3*lm*p+_*(7*xp+9*Sp*p),k=O/N,u=ai(u-k,-Math.PI/3,Math.PI/3),p=u*u,_=p*p*p,!(Math.abs(k)<1e-12));++B);const v=Tp*o*(Cp+3*lm*p+_*(7*xp+9*Sp*p))/Math.cos(u),C=Math.asin(Math.sin(u)/Tp),T=ai(180*v/Math.PI,-180,180),M=ai(180*C/Math.PI,-85.051129,ic);return new di(T,M)}}class Q1 extends Zu{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,l){return{x:.5+o/360,y:.5-l/360,z:0}}unproject(o,l){const u=360*(o-.5),p=ai(360*(.5-l),-85.051129,ic);return new di(u,p)}}const Mp=Math.PI/2;function J1(a){return Math.tan((Mp+a)/2)}class U extends Zu{constructor(o){super(o),this.center=o.center||[0,30];const[l,u]=this.parallels=o.parallels||[30,30];let p=Zt(l),_=Zt(u);this.southernCenter=p+_<0,this.southernCenter&&(p=-p,_=-_);const v=Math.cos(p),C=J1(p);this.n=p===_?Math.sin(p):Math.log(v/Math.cos(_))/Math.log(J1(_)/C),this.f=v*Math.pow(J1(p),this.n)/this.n}project(o,l){l=Zt(l),this.southernCenter&&(l=-l),o=Zt(o-this.center[0]);const u=1e-6,{n:p,f:_}=this;_>0?l<-Mp+u&&(l=-Mp+u):l>Mp-u&&(l=Mp-u);const v=_/Math.pow(J1(l),p);let C=v*Math.sin(p*o),T=_-v*Math.cos(p*o);return C=.5*(C/Math.PI+.5),T=.5*(T/Math.PI+.5),{x:C,y:this.southernCenter?T:1-T,z:0}}unproject(o,l){o=(2*o-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:u,f:p}=this,_=p-l,v=Math.sign(_),C=Math.sign(u)*Math.sqrt(o*o+_*_);let T=Math.atan2(o,Math.abs(_))*v;_*u<0&&(T-=Math.PI*Math.sign(o)*v);const M=ai(Xn(T/u)+this.center[0],-180,180),k=ai(Xn(2*Math.atan(Math.pow(p/C,1/u))-Mp),-85.051129,ic);return new di(M,this.southernCenter?-k:k)}}class Ng extends Zu{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,l){return{x:gl(o),y:er(l),z:0}}unproject(o,l){const u=Yo(o),p=No(l);return new di(u,p)}}const e_=Zt(ic);class Lg extends Zu{project(o,l){const u=(l=Zt(l))*l,p=u*u;return{x:.5*((o=Zt(o))*(.8707-.131979*u+p*(p*(.003971*u-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+u*(.015085+p*(.028874*u-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(o,l){o=(2*o-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,p=25,_=0,v=u*u;do{v=u*u;const M=v*v;_=(u*(1.007226+v*(.015085+M*(.028874*v-.044475-.005916*M)))-l)/(1.007226+v*(.045255+M*(.259866*v-.311325-.005916*11*M))),u=ai(u-_,-e_,e_)}while(Math.abs(_)>1e-6&&--p>0);v=u*u;const C=ai(Xn(o/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),T=Xn(u);return new di(C,T)}}const qa=Zt(ic);class _b extends Zu{project(o,l){l=Zt(l),o=Zt(o);const u=Math.cos(l),p=2/Math.PI,_=Math.acos(u*Math.cos(o/2)),v=Math.sin(_)/_,C=.5*(o*p+2*u*Math.sin(o/2)/v)||0,T=.5*(l+Math.sin(l)/v)||0;return{x:.5*(C/Math.PI+.5),y:1-.5*(T/Math.PI+1),z:0}}unproject(o,l){let u=o=(2*o-.5)*Math.PI,p=l=(2*(1-l)-1)*Math.PI,_=25;const v=1e-6;let C=0,T=0;do{const M=Math.cos(p),k=Math.sin(p),O=2*k*M,N=k*k,B=M*M,H=Math.cos(u/2),Z=Math.sin(u/2),J=2*H*Z,de=Z*Z,ge=1-B*H*H,le=ge?1/ge:0,fe=ge?Math.acos(M*H)*Math.sqrt(1/ge):0,we=.5*(2*fe*M*Z+2*u/Math.PI)-o,_e=.5*(fe*k+p)-l,Ve=.5*le*(B*de+fe*M*H*N)+1/Math.PI,Be=le*(J*O/4-fe*k*Z),et=.125*le*(O*Z-fe*k*B*J),pt=.5*le*(N*H+fe*de*M)+.5,Ge=Be*et-pt*Ve;C=(_e*Be-we*pt)/Ge,T=(we*et-_e*Ve)/Ge,u=ai(u-C,-Math.PI,Math.PI),p=ai(p-T,-qa,qa)}while((Math.abs(C)>v||Math.abs(T)>v)&&--_>0);return new di(Xn(u),Xn(p))}}class yb extends Zu{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Zt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,l){const{scale:u,cosPhi:p}=this;return{x:Zt(o)*p*u+.5,y:-Math.sin(Zt(l))/p*u+.5,z:0}}unproject(o,l){const{scale:u,cosPhi:p}=this,_=-(l-.5)/u,v=ai(Xn((o-.5)/u)/p,-180,180),C=Math.asin(ai(_*p,-1,1)),T=ai(Xn(C),-85.051129,ic);return new di(v,T)}}class t_ extends Ng{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(o,l,u){const p=Pg(o,l,u);return Tr(p,p,wp(su(u))),{x:p[0],y:p[1],z:p[2]}}locationPoint(o,l){const u=Og(l.lat,l.lng),p=ar([],u),_=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(l),o._centerAltitude):o._centerAltitude;Ff(u,u,p,Qs(1,0)*Mn*_);const v=oc(new Float64Array(16));return op(v,o.pixelMatrix,o.globeMatrix),Tr(u,u,v),new Fe(u[0],u[1])}pixelsPerMeter(o,l){return Qs(1,0)*l}pixelSpaceConversion(o,l,u){const p=Qs(1,o)*l,_=qe(Qs(1,45)*l,p,u);return this.pixelsPerMeter(o,l)/_}createTileMatrix(o,l,u){const p=hb(su(u.canonical));return op(new Float64Array(16),o.globeMatrix,p)}createInversionMatrix(o,l){const{center:u}=o,p=wp(su(l));return Rf(p,p,Zt(u.lng)),Pf(p,p,Zt(u.lat)),Uu(p,p,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(o,l,u,p){return Z1(o,l,u,!0)||new rc(0,0)}pointCoordinate3D(o,l,u){const p=this.pointCoordinate(o,l,u,0);return[p.x,p.y,p.z]}isPointAboveHorizon(o,l){return!Z1(o,l.x,l.y,!1)}farthestPixelDistance(o){const l=function(p,_){const v=p.cameraToCenterDistance,C=p._centerAltitude*_,T=p._camera,M=p._camera.forward(),k=_l([],va([],M,-v),[0,0,C]),O=p.worldSize/(2*Math.PI),N=[0,0,-O],B=p.width/p.height,H=Math.tan(p.fovAboveCenter),Z=va([],T.up(),H),J=va([],T.right(),H*B),de=ar([],_l([],_l([],M,Z),J)),ge=[];let le;if(new zf(k,de).closestPointOnSphere(N,O,ge)){const fe=_l([],ge,N),we=ja([],fe,k);le=Math.cos(p.fovAboveCenter)*Nf(we)}else{const fe=ja([],k,N),we=ja([],N,k);ar(we,we);const _e=Nf(fe)-O;le=Math.sqrt(_e*(_e+2*O));const Ve=Math.acos(le/(O+_e))-Math.acos(ea(M,we));le*=Math.cos(Ve)}return 1.01*le}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),u=vl(o.zoom);if(u>0){const p=gb(o,Qs(1,o.center.lat)*o.worldSize),_=o.worldSize/(2*Math.PI),v=Math.max(o.width,o.height)/o.worldSize*Math.PI;return qe(l,p+_*(1-Math.cos(v)),Math.pow(u,10))}return l}upVector(o,l,u){return Pg(l,u,o,1)}upVectorScale(o){return{metersToTile:Ag*X1(su(o))}}}function hc(a){const o=a.parallels,l=!!o&&Math.abs(o[0]+o[1])<.01;switch(a.name){case"mercator":return new Ng(a);case"equirectangular":return new Q1(a);case"naturalEarth":return new Lg(a);case"equalEarth":return new HD(a);case"winkelTripel":return new _b(a);case"albers":return l?new yb(a):new fx(a);case"lambertConformalConic":return l?new yb(a):new U(a);case"globe":return new t_(a)}throw new Error(`Invalid projection name: ${a.name}`)}const n_=_g.types,vb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Dp(a,o,l,u,p,_,v,C,T,M,k,O,N){const B=C?Math.min(ou,Math.round(C[0])):0,H=C?Math.min(ou,Math.round(C[1])):0;a.emplaceBack(o,l,Math.round(32*u),Math.round(32*p),_,v,(B<<1)+(T?1:0),H,16*M,16*k,256*O,256*N)}function i_(a,o,l,u,p,_,v){a.emplaceBack(o,l,u,p,_,v)}function cm(a,o,l,u,p){a.emplaceBack(o,l,u,p),a.emplaceBack(o,l,u,p),a.emplaceBack(o,l,u,p),a.emplaceBack(o,l,u,p)}function UD(a){for(const o of a.sections)if(re(o.text))return!0;return!1}class Ep{constructor(o){this.layoutVertexArray=new Yi,this.indexArray=new _o,this.programConfigurations=o,this.segments=new Vr,this.dynamicLayoutVertexArray=new us,this.opacityVertexArray=new Dr,this.placedSymbolArray=new sC,this.globeExtVertexArray=new yi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(o,l,u,p){this.isEmpty()||(u&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,nm.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,ru.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,vb,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,KC.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||p)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Nt(Ep,"SymbolBuffers");class Ip{constructor(o,l,u){this.layoutVertexArray=new o,this.layoutAttributes=l,this.indexArray=new u,this.segments=new Vr,this.collisionVertexArray=new Yc,this.collisionVertexArrayExt=new fl}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,zv.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,YC.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Nt(Ip,"CollisionBuffers");class pc{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(v=>v.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=oc([]),this.placementViewportMatrix=oc([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vv(this.zoom,l["text-size"]),this.iconSizeData=Vv(this.zoom,l["icon-size"]);const u=this.layers[0].layout,p=u.get("symbol-sort-key"),_=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==_&&void 0!==p.constantOr(1),this.sortFeaturesByY=("viewport-y"===_||"auto"===_&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map(v=>na[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=o.sourceID,this.projection=o.projection}createArrays(){this.text=new Ep(new zd(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new Ep(new zd(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new cC,this.lineVertexArray=new uC,this.symbolInstances=new lC}calculateGlyphDependencies(o,l,u,p,_){for(let v=0;v<o.length;v++)if(l[o.charCodeAt(v)]=!0,p&&_){const C=fp[o.charAt(v)];C&&(l[C.charCodeAt(0)]=!0)}}populate(o,l,u,p){const _=this.layers[0],v=_.layout,C="globe"===this.projection.name,T=v.get("text-font"),M=v.get("text-field"),k=v.get("icon-image"),O=("constant"!==M.value.kind||M.value.value instanceof Eo&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&("constant"!==T.value.kind||T.value.value.length>0),N="constant"!==k.value.kind||!!k.value.value||Object.keys(k.parameters).length>0,B=v.get("symbol-sort-key");if(this.features=[],!O&&!N)return;const H=l.iconDependencies,Z=l.glyphDependencies,J=l.availableImages,de=new Ie(this.zoom);for(const{feature:ge,id:le,index:fe,sourceLayerIndex:we}of o){const _e=_._featureFilter.needGeometry,Ve=Vd(ge,_e);if(!_._featureFilter.filter(de,Ve,u))continue;if(_e||(Ve.geometry=Jc(ge,u,p)),C&&1!==ge.type&&u.z<=5){const Ge=Ve.geometry,nt=.98078528056,st=(ut,ht)=>ea(Pg(ut.x,ut.y,u,1),Pg(ht.x,ht.y,u,1))<nt;for(let ut=0;ut<Ge.length;ut++)Ge[ut]=sv(Ge[ut],st)}let Be,et;if(O){const Ge=_.getValueAndResolveTokens("text-field",Ve,u,J),nt=Eo.factory(Ge);UD(nt)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Te()||this.hasRTLText&&ze.isParsed())&&(Be=Hv(nt,_,Ve))}if(N){const Ge=_.getValueAndResolveTokens("icon-image",Ve,u,J);et=Ge instanceof Us?Ge:Us.fromString(Ge)}if(!Be&&!et)continue;const pt=this.sortFeaturesByKey?B.evaluate(Ve,{},u):void 0;if(this.features.push({id:le,text:Be,icon:et,index:fe,sourceLayerIndex:we,geometry:Ve.geometry,properties:ge.properties,type:n_[ge.type],sortKey:pt}),et&&(H[et.name]=!0),Be){const Ge=T.evaluate(Ve,{},u).join(","),nt="map"===v.get("text-rotation-alignment")&&"point"!==v.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(na.vertical)>=0;for(const st of Be.sections)if(st.image)H[st.image.name]=!0;else{const ut=D(Be.toString()),ht=st.fontStack||Ge,We=Z[ht]=Z[ht]||{};this.calculateGlyphDependencies(st.text,We,nt,this.allowVerticalPlacement,ut)}}}"line"===v.get("symbol-placement")&&(this.features=function(ge){const le={},fe={},we=[];let _e=0;function Ve(Ge){we.push(ge[Ge]),_e++}function Be(Ge,nt,st){const ut=fe[Ge];return delete fe[Ge],fe[nt]=ut,we[ut].geometry[0].pop(),we[ut].geometry[0]=we[ut].geometry[0].concat(st[0]),ut}function et(Ge,nt,st){const ut=le[nt];return delete le[nt],le[Ge]=ut,we[ut].geometry[0].shift(),we[ut].geometry[0]=st[0].concat(we[ut].geometry[0]),ut}function pt(Ge,nt,st){const ut=st?nt[0][nt[0].length-1]:nt[0][0];return`${Ge}:${ut.x}:${ut.y}`}for(let Ge=0;Ge<ge.length;Ge++){const nt=ge[Ge],st=nt.geometry,ut=nt.text?nt.text.toString():null;if(!ut){Ve(Ge);continue}const ht=pt(ut,st),We=pt(ut,st,!0);if(ht in fe&&We in le&&fe[ht]!==le[We]){const xt=et(ht,We,st),bn=Be(ht,We,we[xt].geometry);delete le[ht],delete fe[We],fe[pt(ut,we[bn].geometry,!0)]=bn,we[xt].geometry=null}else ht in fe?Be(ht,We,st):We in le?et(ht,We,st):(Ve(Ge),le[ht]=_e-1,fe[We]=_e-1)}return we.filter(Ge=>Ge.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ge,le)=>ge.sortKey-le.sortKey)}update(o,l,u,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,l,this.layers,u,p),this.icon.programConfigurations.updatePaintArrays(o,l,this.layers,u,p))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=hc(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,l){const u=this.lineVertexArray.length;if(void 0!==o.segment)for(const{x:p,y:_}of l)this.lineVertexArray.emplaceBack(p,_);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(o,l,u,p,_,v,C,T,M,k,O,N,B,H){const Z=o.indexArray,J=o.layoutVertexArray,de=o.globeExtVertexArray,ge=o.segments.prepareSegment(4*l.length,J,Z,this.canOverlap?v.sortKey:void 0),le=this.glyphOffsetArray.length,fe=ge.vertexLength,we=this.allowVerticalPlacement&&C===na.vertical?Math.PI/2:0,_e=v.text&&v.text.sections;for(let Be=0;Be<l.length;Be++){const{tl:et,tr:pt,bl:Ge,br:nt,tex:st,pixelOffsetTL:ut,pixelOffsetBR:ht,minFontScaleX:We,minFontScaleY:xt,glyphOffset:bn,isSDF:Et,sectionIndex:jt}=l[Be],Mt=ge.vertexLength,wn=bn[1];if(Dp(J,M.x,M.y,et.x,wn+et.y,st.x,st.y,u,Et,ut.x,ut.y,We,xt),Dp(J,M.x,M.y,pt.x,wn+pt.y,st.x+st.w,st.y,u,Et,ht.x,ut.y,We,xt),Dp(J,M.x,M.y,Ge.x,wn+Ge.y,st.x,st.y+st.h,u,Et,ut.x,ht.y,We,xt),Dp(J,M.x,M.y,nt.x,wn+nt.y,st.x+st.w,st.y+st.h,u,Et,ht.x,ht.y,We,xt),T){const{x:oi,y:ii,z:Kn}=T.anchor,[on,Ii,kn]=T.up;i_(de,oi,ii,Kn,on,Ii,kn),i_(de,oi,ii,Kn,on,Ii,kn),i_(de,oi,ii,Kn,on,Ii,kn),i_(de,oi,ii,Kn,on,Ii,kn),cm(o.dynamicLayoutVertexArray,oi,ii,Kn,we)}else cm(o.dynamicLayoutVertexArray,M.x,M.y,M.z,we);Z.emplaceBack(Mt,Mt+1,Mt+2),Z.emplaceBack(Mt+1,Mt+2,Mt+3),ge.vertexLength+=4,ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(bn[0]),Be!==l.length-1&&jt===l[Be+1].sectionIndex||o.programConfigurations.populatePaintArrays(J.length,v,v.index,{},B,H,_e&&_e[jt])}const Ve=T?T.anchor:M;o.placedSymbolArray.emplaceBack(Ve.x,Ve.y,Ve.z,M.x,M.y,le,this.glyphOffsetArray.length-le,fe,k,O,M.segment,u?u[0]:0,u?u[1]:0,p[0],p[1],C,0,!1,0,N,0)}_commitLayoutVertex(o,l,u,p,_,v,C){o.emplaceBack(l,u,p,_,v,Math.round(C.x),Math.round(C.y))}_addCollisionDebugVertices(o,l,u,p,_,v,C){const T=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),M=T.vertexLength,k=C.tileAnchorX,O=C.tileAnchorY;for(let B=0;B<4;B++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(l,-o.padding,-o.padding),u.collisionVertexArrayExt.emplaceBack(l,o.padding,-o.padding),u.collisionVertexArrayExt.emplaceBack(l,o.padding,o.padding),u.collisionVertexArrayExt.emplaceBack(l,-o.padding,o.padding),this._commitLayoutVertex(u.layoutVertexArray,p,_,v,k,O,new Fe(o.x1,o.y1)),this._commitLayoutVertex(u.layoutVertexArray,p,_,v,k,O,new Fe(o.x2,o.y1)),this._commitLayoutVertex(u.layoutVertexArray,p,_,v,k,O,new Fe(o.x2,o.y2)),this._commitLayoutVertex(u.layoutVertexArray,p,_,v,k,O,new Fe(o.x1,o.y2)),T.vertexLength+=4;const N=u.indexArray;N.emplaceBack(M,M+1),N.emplaceBack(M+1,M+2),N.emplaceBack(M+2,M+3),N.emplaceBack(M+3,M),T.primitiveLength+=4}_addTextDebugCollisionBoxes(o,l,u,p,_,v){for(let C=p;C<_;C++){const T=u.get(C),M=this.getSymbolInstanceTextSize(o,v,l,C);this._addCollisionDebugVertices(T,M,this.textCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(o,l,u,p,_,v){for(let C=p;C<_;C++){const T=u.get(C),M=this.getSymbolInstanceIconSize(o,l,v.placedIconSymbolIndex);this._addCollisionDebugVertices(T,M,this.iconCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}generateCollisionDebugBuffers(o,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ip(Ji,Bv.members,Xs),this.iconCollisionBox=new Ip(Ji,Bv.members,Xs);const u=uc(this.iconSizeData,o),p=uc(this.textSizeData,o);for(let _=0;_<this.symbolInstances.length;_++){const v=this.symbolInstances.get(_);this._addTextDebugCollisionBoxes(p,o,l,v.textBoxStartIndex,v.textBoxEndIndex,v),this._addTextDebugCollisionBoxes(p,o,l,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._addIconDebugCollisionBoxes(u,o,l,v.iconBoxStartIndex,v.iconBoxEndIndex,v),this._addIconDebugCollisionBoxes(u,o,l,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v)}}getSymbolInstanceTextSize(o,l,u,p){const _=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:p),v=R1(this.textSizeData,o,_)/24;return this.tilePixelRatio*v}getSymbolInstanceIconSize(o,l,u){const p=this.icon.placedSymbolArray.get(u),_=R1(this.iconSizeData,o,p);return this.tilePixelRatio*_}_commitDebugCollisionVertexUpdate(o,l,u){o.emplaceBack(l,-u,-u),o.emplaceBack(l,u,-u),o.emplaceBack(l,u,u),o.emplaceBack(l,-u,u)}_updateTextDebugCollisionBoxes(o,l,u,p,_,v){for(let C=p;C<_;C++){const T=u.get(C),M=this.getSymbolInstanceTextSize(o,v,l,C);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,M,T.padding)}}_updateIconDebugCollisionBoxes(o,l,u,p,_,v){for(let C=p;C<_;C++){const T=u.get(C),M=this.getSymbolInstanceIconSize(o,l,v);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,M,T.padding)}}updateCollisionDebugBuffers(o,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=uc(this.iconSizeData,o),p=uc(this.textSizeData,o);for(let _=0;_<this.symbolInstances.length;_++){const v=this.symbolInstances.get(_);this._updateTextDebugCollisionBoxes(p,o,l,v.textBoxStartIndex,v.textBoxEndIndex,v),this._updateTextDebugCollisionBoxes(p,o,l,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._updateIconDebugCollisionBoxes(u,o,l,v.iconBoxStartIndex,v.iconBoxEndIndex,v.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,o,l,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,l,u,p,_,v,C,T,M){const k={};if(l<u){const{x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe,featureIndex:we}=o.get(l);k.textBox={x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe},k.textFeatureIndex=we}if(p<_){const{x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe,featureIndex:we}=o.get(p);k.verticalTextBox={x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe},k.verticalTextFeatureIndex=we}if(v<C){const{x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe,featureIndex:we}=o.get(v);k.iconBox={x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe},k.iconFeatureIndex=we}if(T<M){const{x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe,featureIndex:we}=o.get(T);k.verticalIconBox={x1:O,y1:N,x2:B,y2:H,padding:Z,projectedAnchorX:J,projectedAnchorY:de,projectedAnchorZ:ge,tileAnchorX:le,tileAnchorY:fe},k.verticalIconFeatureIndex=we}return k}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const u=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,l){const u=o.placedSymbolArray.get(l),p=u.vertexStartIndex+4*u.numGlyphs;for(let _=u.vertexStartIndex;_<p;_+=4)o.indexArray.emplaceBack(_,_+1,_+2),o.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const l=Math.sin(o),u=Math.cos(o),p=[],_=[],v=[];for(let C=0;C<this.symbolInstances.length;++C){v.push(C);const T=this.symbolInstances.get(C);p.push(0|Math.round(l*T.tileAnchorX+u*T.tileAnchorY)),_.push(T.featureIndex)}return v.sort((C,T)=>p[C]-p[T]||_[T]-_[C]),v}addToSortKeyRanges(o,l){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===l?u.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const u=this.symbolInstances.get(l);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:_,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:C,placedIconSymbolIndex:T,verticalPlacedIconSymbolIndex:M}=u;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),_>=0&&_!==p&&this.addIndicesForPlacedSymbol(this.text,_),v>=0&&v!==_&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),C>=0&&this.addIndicesForPlacedSymbol(this.text,C),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Nt(pc,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),pc.MAX_GLYPHS=65535,pc.addDynamicAttributes=cm;const r_=new Ut({"symbol-placement":new Oe(tt.layout_symbol["symbol-placement"]),"symbol-spacing":new Oe(tt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Oe(tt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new je(tt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Oe(tt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Oe(tt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Oe(tt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Oe(tt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Oe(tt.layout_symbol["icon-rotation-alignment"]),"icon-size":new je(tt.layout_symbol["icon-size"]),"icon-text-fit":new Oe(tt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Oe(tt.layout_symbol["icon-text-fit-padding"]),"icon-image":new je(tt.layout_symbol["icon-image"]),"icon-rotate":new je(tt.layout_symbol["icon-rotate"]),"icon-padding":new Oe(tt.layout_symbol["icon-padding"]),"icon-keep-upright":new Oe(tt.layout_symbol["icon-keep-upright"]),"icon-offset":new je(tt.layout_symbol["icon-offset"]),"icon-anchor":new je(tt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Oe(tt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Oe(tt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Oe(tt.layout_symbol["text-rotation-alignment"]),"text-field":new je(tt.layout_symbol["text-field"]),"text-font":new je(tt.layout_symbol["text-font"]),"text-size":new je(tt.layout_symbol["text-size"]),"text-max-width":new je(tt.layout_symbol["text-max-width"]),"text-line-height":new je(tt.layout_symbol["text-line-height"]),"text-letter-spacing":new je(tt.layout_symbol["text-letter-spacing"]),"text-justify":new je(tt.layout_symbol["text-justify"]),"text-radial-offset":new je(tt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Oe(tt.layout_symbol["text-variable-anchor"]),"text-anchor":new je(tt.layout_symbol["text-anchor"]),"text-max-angle":new Oe(tt.layout_symbol["text-max-angle"]),"text-writing-mode":new Oe(tt.layout_symbol["text-writing-mode"]),"text-rotate":new je(tt.layout_symbol["text-rotate"]),"text-padding":new Oe(tt.layout_symbol["text-padding"]),"text-keep-upright":new Oe(tt.layout_symbol["text-keep-upright"]),"text-transform":new je(tt.layout_symbol["text-transform"]),"text-offset":new je(tt.layout_symbol["text-offset"]),"text-allow-overlap":new Oe(tt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Oe(tt.layout_symbol["text-ignore-placement"]),"text-optional":new Oe(tt.layout_symbol["text-optional"])});var um={paint:new Ut({"icon-opacity":new je(tt.paint_symbol["icon-opacity"]),"icon-color":new je(tt.paint_symbol["icon-color"]),"icon-halo-color":new je(tt.paint_symbol["icon-halo-color"]),"icon-halo-width":new je(tt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new je(tt.paint_symbol["icon-halo-blur"]),"icon-translate":new Oe(tt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Oe(tt.paint_symbol["icon-translate-anchor"]),"text-opacity":new je(tt.paint_symbol["text-opacity"]),"text-color":new je(tt.paint_symbol["text-color"],{runtimeType:Bn,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new je(tt.paint_symbol["text-halo-color"]),"text-halo-width":new je(tt.paint_symbol["text-halo-width"]),"text-halo-blur":new je(tt.paint_symbol["text-halo-blur"]),"text-translate":new Oe(tt.paint_symbol["text-translate"]),"text-translate-anchor":new Oe(tt.paint_symbol["text-translate-anchor"])}),layout:r_};class mx{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:uo,this.defaultValue=o}evaluate(o){if(o.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(o.formattedSection))return l.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nt(mx,"FormatSectionOverride",{omit:["defaultValue"]});class Fg extends ya{constructor(o){super(o,um)}recalculate(o,l){super.recalculate(o,l),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const p=[];for(const _ of u)p.indexOf(_)<0&&p.push(_);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(o,l,u,p){const _=this.layout.get(o).evaluate(l,{},u,p),v=this._unevaluatedLayout._values[o];return v.isDataDriven()||pi(v.value)||!_?_:(C=l.properties,_.replace(/{([^{}]+)}/g,(M,k)=>k in C?String(C[k]):""));var C}createBucket(o){return new pc(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of um.paint.overridableProperties){if(!Fg.hasPaintOverride(this.layout,o))continue;const l=this.paint.get(o),u=new mx(l),p=new jh(u,l.property.specification);let _=null;_="constant"===l.value.kind||"source"===l.value.kind?new Kl("source",p):new $h("composite",p,l.value.zoomStops,l.value._interpolationType),this.paint._values[o]=new ot(l.property,_,l.parameters)}}_handleOverridablePaintPropertyUpdate(o,l,u){return!(!this.layout||l.isDataDriven()||u.isDataDriven())&&Fg.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,l){const u=o.get("text-field"),p=um.paint.properties[l];let _=!1;const v=C=>{for(const T of C)if(p.overrides&&p.overrides.hasOverride(T))return void(_=!0)};if("constant"===u.value.kind&&u.value.value instanceof Eo)v(u.value.value.sections);else if("source"===u.value.kind){const C=M=>{_||(M instanceof Oh&&Vn(M.value)===ct?v(M.value.sections):M instanceof xd?v(M.sections):M.eachChild(C))},T=u.value;T._styleExpression&&C(T._styleExpression.expression)}return _}getProgramConfiguration(o){return new zu(this,o)}}var gx={paint:new Ut({"background-color":new Oe(tt.paint_background["background-color"]),"background-pattern":new Oe(tt.paint_background["background-pattern"]),"background-opacity":new Oe(tt.paint_background["background-opacity"])})},_x={paint:new Ut({"raster-opacity":new Oe(tt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Oe(tt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Oe(tt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Oe(tt.paint_raster["raster-brightness-max"]),"raster-saturation":new Oe(tt.paint_raster["raster-saturation"]),"raster-contrast":new Oe(tt.paint_raster["raster-contrast"]),"raster-resampling":new Oe(tt.paint_raster["raster-resampling"]),"raster-fade-duration":new Oe(tt.paint_raster["raster-fade-duration"])})};class yx extends ya{constructor(o){super(o,{}),this.implementation=o}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}var bb={paint:new Ut({"sky-type":new Oe(tt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Oe(tt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Oe(tt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Oe(tt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Oe(tt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Bt(tt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Oe(tt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Oe(tt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Oe(tt.paint_sky["sky-opacity"])})};function wb(a,o,l){const u=[0,0,1],p=m1([]);return yv(p,p,l?-Zt(a)+Math.PI:Zt(a)),_v(p,p,-Zt(o)),Xo(u,u,p),ar(u,u)}const vx={circle:class extends ya{constructor(a){super(a,LD)}createBucket(a){return new t1(a)}queryRadius(a){const o=a;return Ud("circle-radius",this,o)+Ud("circle-stroke-width",this,o)+a1(this.paint.get("circle-translate"))}queryIntersectsFeature(a,o,l,u,p,_,v,C){const T=dv(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,a.pixelToTileUnitsFactor),M=this.paint.get("circle-radius").evaluate(o,l)+this.paint.get("circle-stroke-width").evaluate(o,l);return ap(a,u,_,v,C,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),T,M)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new zu(this,a)}},heatmap:class extends ya{createBucket(a){return new b1(a)}constructor(a){super(a,w1),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){"heatmap-color"===a&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=C1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return Ud("heatmap-radius",this,a)}queryIntersectsFeature(a,o,l,u,p,_,v,C){const T=this.paint.get("heatmap-radius").evaluate(o,l);return ap(a,u,_,v,C,!0,!0,new Fe(0,0),T)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new zu(this,a)}},hillshade:class extends ya{constructor(a){super(a,DC)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ya{constructor(a){super(a,qd)}getProgramIds(){const a=this.paint.get("fill-pattern"),o=a&&a.constantOr(1),l=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new zu(this,a)}recalculate(a,o){super.recalculate(a,o);const l=this.paint._values["fill-outline-color"];"constant"===l.value.kind&&void 0===l.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Wd(a)}queryRadius(){return a1(this.paint.get("fill-translate"))}queryIntersectsFeature(a,o,l,u,p,_){return!a.queryGeometry.isAboveHorizon&&cv(uv(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,a.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends ya{constructor(a){super(a,Pv)}createBucket(a){return new Qf(a)}queryRadius(){return a1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new zu(this,a)}queryIntersectsFeature(a,o,l,u,p,_,v,C,T){const M=dv(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,a.pixelToTileUnitsFactor),k=this.paint.get("fill-extrusion-height").evaluate(o,l),O=this.paint.get("fill-extrusion-base").evaluate(o,l),N=[0,0],B=C&&_.elevation,H=_.elevation?_.elevation.exaggeration():1,Z=a.tile.getBucket(this);if(B&&Z instanceof Qf){const fe=Z.centroidVertexArray,we=T+1;we<fe.length&&(N[0]=fe.geta_centroid_pos0(we),N[1]=fe.geta_centroid_pos1(we))}if(0===N[0]&&1===N[1])return!1;"globe"===_.projection.name&&(u=lc([u],[new Fe(0,0),new Fe(Mn,Mn)],a.tileID.canonical).map(fe=>fe.polygon).flat());const J=B?C:null,[de,ge]=(we=u,_e=O,Ve=k,Be=M,et=v,pt=J,Ge=N,nt=H,st=_.center.lat,"globe"===(fe=_).projection.name?function(ht,We,xt,bn,Et,jt,Mt,wn,oi,ii,Kn){const on=[],Ii=[],kn=ht.projection.upVectorScale(Kn,ht.center.lat,ht.worldSize).metersToTile,Yn=[0,0,0,1],qi=[0,0,0,1],Xi=(ur,mr,gr,vo)=>{ur[0]=mr,ur[1]=gr,ur[2]=vo,ur[3]=1},Qi=Jf();xt>0&&(xt+=Qi),bn+=Qi;for(const ur of We){const mr=[],gr=[];for(const vo of ur){const Zi=vo.x+Et.x,Hr=vo.y+Et.y,Ur=ht.projection.projectTilePoint(Zi,Hr,Kn),xi=ht.projection.upVector(Kn,vo.x,vo.y);let xr=xt,Yr=bn;if(Mt){const Hi=$C(Zi,Hr,xt,bn,Mt,wn,oi,ii);xr+=Hi.base,Yr+=Hi.top}0!==xt?Xi(Yn,Ur.x+xi[0]*kn*xr,Ur.y+xi[1]*kn*xr,Ur.z+xi[2]*kn*xr):Xi(Yn,Ur.x,Ur.y,Ur.z),Xi(qi,Ur.x+xi[0]*kn*Yr,Ur.y+xi[1]*kn*Yr,Ur.z+xi[2]*kn*Yr),Tr(Yn,Yn,jt),Tr(qi,qi,jt),mr.push(new Gu(Yn[0],Yn[1],Yn[2])),gr.push(new Gu(qi[0],qi[1],qi[2]))}on.push(mr),Ii.push(gr)}return[on,Ii]}(fe,we,_e,Ve,Be,et,pt,Ge,nt,st,a.tileID.canonical):pt?function(ht,We,xt,bn,Et,jt,Mt,wn,oi){const ii=[],Kn=[],on=[0,0,0,1];for(const Ii of ht){const kn=[],Yn=[];for(const qi of Ii){const Xi=qi.x+bn.x,Qi=qi.y+bn.y,ur=$C(Xi,Qi,We,xt,jt,Mt,wn,oi);on[0]=Xi,on[1]=Qi,on[2]=ur.base,on[3]=1,ju(on,on,Et),on[3]=Math.max(on[3],1e-5);const mr=new Gu(on[0]/on[3],on[1]/on[3],on[2]/on[3]);on[0]=Xi,on[1]=Qi,on[2]=ur.top,on[3]=1,ju(on,on,Et),on[3]=Math.max(on[3],1e-5);const gr=new Gu(on[0]/on[3],on[1]/on[3],on[2]/on[3]);kn.push(mr),Yn.push(gr)}ii.push(kn),Kn.push(Yn)}return[ii,Kn]}(we,_e,Ve,Be,et,pt,Ge,nt,st):function(ht,We,xt,bn,Et){const jt=[],Mt=[],wn=Et[8]*We,oi=Et[9]*We,ii=Et[10]*We,Kn=Et[11]*We,on=Et[8]*xt,Ii=Et[9]*xt,kn=Et[10]*xt,Yn=Et[11]*xt;for(const qi of ht){const Xi=[],Qi=[];for(const ur of qi){const mr=ur.x+bn.x,gr=ur.y+bn.y,vo=Et[0]*mr+Et[4]*gr+Et[12],Zi=Et[1]*mr+Et[5]*gr+Et[13],Hr=Et[2]*mr+Et[6]*gr+Et[14],Ur=Et[3]*mr+Et[7]*gr+Et[15],xi=vo+wn,xr=Zi+oi,Yr=Hr+ii,Hi=Math.max(Ur+Kn,1e-5),wt=vo+on,Qo=Zi+Ii,Xr=Hr+kn,bo=Math.max(Ur+Yn,1e-5);Xi.push(new Gu(xi/Hi,xr/Hi,Yr/Hi)),Qi.push(new Gu(wt/bo,Qo/bo,Xr/bo))}jt.push(Xi),Mt.push(Qi)}return[jt,Mt]}(we,_e,Ve,Be,et)),le=a.queryGeometry;var fe,we,_e,Ve,Be,et,pt,Ge,nt,st;return function(fe,we,_e){let Ve=1/0;cv(_e,we)&&(Ve=jC(_e,we[0]));for(let Be=0;Be<we.length;Be++){const et=we[Be],pt=fe[Be];for(let Ge=0;Ge<et.length-1;Ge++){const nt=et[Ge],st=[nt,et[Ge+1],pt[Ge+1],pt[Ge],nt];vC(_e,st)&&(Ve=Math.min(Ve,jC(_e,st)))}}return Ve!==1/0&&Ve}(de,ge,le.isPointQuery()?le.screenBounds:le.screenGeometry)}},line:class extends ya{constructor(a){super(a,vg),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if("line-gradient"===a){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof Ed,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,o){super.recalculate(a,o),this.paint._values["line-floorwidth"]=Fv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Kd(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new zu(this,a)}queryRadius(a){const o=a,l=Cr(Ud("line-width",this,o),Ud("line-gap-width",this,o)),u=Ud("line-offset",this,o);return l/2+Math.abs(u)+a1(this.paint.get("line-translate"))}queryIntersectsFeature(a,o,l,u,p,_){if(a.queryGeometry.isAboveHorizon)return!1;const v=uv(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,a.pixelToTileUnitsFactor),C=a.pixelToTileUnitsFactor/2*Cr(this.paint.get("line-width").evaluate(o,l),this.paint.get("line-gap-width").evaluate(o,l)),T=this.paint.get("line-offset").evaluate(o,l);return T&&(u=function(M,k){const O=[],N=new Fe(0,0);for(let B=0;B<M.length;B++){const H=M[B],Z=[];for(let J=0;J<H.length;J++){const de=H[J-1],ge=H[J],le=H[J+1],fe=0===J?N:ge.sub(de)._unit()._perp(),we=J===H.length-1?N:le.sub(ge)._unit()._perp(),_e=fe._add(we)._unit();_e._mult(1/(_e.x*we.x+_e.y*we.y)),Z.push(_e._mult(k)._add(ge))}O.push(Z)}return O}(u,T*a.pixelToTileUnitsFactor)),function(M,k,O){for(let N=0;N<k.length;N++){const B=k[N];if(M.length>=3)for(let H=0;H<B.length;H++)if(Hd(M,B[H]))return!0;if(RD(M,B,O))return!0}return!1}(v,u,C)}isTileClipped(){return!0}},symbol:Fg,background:class extends ya{constructor(a){super(a,gx)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ya{constructor(a){super(a,_x)}getProgramIds(){return["raster"]}},sky:class extends ya{constructor(a){super(a,bb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){"sky-gradient"===a?this._updateColorRamp():"sky-atmosphere-sun"!==a&&"sky-atmosphere-halo-color"!==a&&"sky-atmosphere-color"!==a&&"sky-atmosphere-sun-intensity"!==a||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=C1({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(a,o){if("atmosphere"===this.paint.get("sky-type")){const u=this.paint.get("sky-atmosphere-sun"),p=!u,_=a.style.light,v=_.properties.get("position");return p&&"viewport"===_.properties.get("anchor")&&yr("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?wb(v.azimuthal,90-v.polar,o):wb(u[0],90-u[1],o)}const l=this.paint.get("sky-gradient-center");return wb(l[0],90-l[1],o)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return"atmosphere"===a?["skyboxCapture","skybox"]:"gradient"===a?["skyboxGradient"]:null}}};class zg{constructor(o,l,u,p){this.context=o,this.format=u,this.texture=o.gl.createTexture(),this.update(l,p)}update(o,l,u){const{width:p,height:_}=o,{context:v}=this,{gl:C}=v,{HTMLImageElement:T,HTMLCanvasElement:M,HTMLVideoElement:k,ImageData:O,ImageBitmap:N}=He;if(C.bindTexture(C.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===C.RGBA&&(!l||!1!==l.premultiply)),u||this.size&&this.size[0]===p&&this.size[1]===_){const{x:B,y:H}=u||{x:0,y:0};o instanceof T||o instanceof M||o instanceof k||o instanceof O||N&&o instanceof N?C.texSubImage2D(C.TEXTURE_2D,0,B,H,C.RGBA,C.UNSIGNED_BYTE,o):C.texSubImage2D(C.TEXTURE_2D,0,B,H,p,_,C.RGBA,C.UNSIGNED_BYTE,o.data)}else this.size=[p,_],o instanceof T||o instanceof M||o instanceof k||o instanceof O||N&&o instanceof N?C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,C.UNSIGNED_BYTE,o):C.texImage2D(C.TEXTURE_2D,0,this.format,p,_,0,this.format,C.UNSIGNED_BYTE,o.data);this.useMipmap=Boolean(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&C.generateMipmap(C.TEXTURE_2D)}bind(o,l){const{context:u}=this,{gl:p}=u;p.bindTexture(p.TEXTURE_2D,this.texture),o!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?o===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:o),this.filter=o),l!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,l),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class Cb{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class xb{constructor(){this.tasks={},this.taskQueue=[],Rl(["process"],this),this.invoker=new Cb(this.process),this.nextId=0}add(o,l){const u=this.nextId++,p=function({type:_,isSymbolTile:v,zoom:C}){return C=C||0,"message"===_?0:"maybePrepare"!==_||v?"parseTile"!==_||v?"parseTile"===_&&v?300-C:"maybePrepare"===_&&v?400-C:500:200-C:100-C}(l);if(0===p){Aa();try{o()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:o,metadata:l,priority:p,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){Aa();try{if(this.taskQueue=this.taskQueue.filter(u=>!!this.tasks[u]),!this.taskQueue.length)return;const o=this.pick();if(null===o)return;const l=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let o=null,l=1/0;for(let p=0;p<this.taskQueue.length;p++){const _=this.tasks[this.taskQueue[p]];_.priority<l&&(l=_.priority,o=p)}if(null===o)return null;const u=this.taskQueue[o];return this.taskQueue.splice(o,1),u}remove(){this.invoker.remove()}}class Sb{constructor(o){this._stringToNumber={},this._numberToString=[];for(let l=0;l<o.length;l++){const u=o[l];this._stringToNumber[u]=l,this._numberToString[l]=u}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}const o_=["tile","layer","source","sourceLayer","state"];class bx{constructor(o,l,u,p,_){this.type="Feature",this._vectorTileFeature=o,this._z=l,this._x=u,this._y=p,this.properties=o.properties,this.id=_}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(o.id=this.id);for(const l of o_)void 0!==this[l]&&(o[l]=this[l]);return o}}const oh=new Uint16Array(8184);for(let a=0;a<2046;a++){let o=a+2,l=0,u=0,p=0,_=0,v=0,C=0;for(1&o?p=_=v=32:l=u=C=32;(o>>=1)>1;){const M=l+p>>1,k=u+_>>1;1&o?(p=l,_=u,l=v,u=C):(l=p,u=_,p=v,_=C),v=M,C=k}const T=4*a;oh[T+0]=l,oh[T+1]=u,oh[T+2]=p,oh[T+3]=_}const lu=new Uint16Array(2178),sh=new Uint8Array(1089),s_=new Uint16Array(1089);function wx(a){return 0===a?-.03125:32===a?.03125:0}var Cx=Pt([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const xx={type:2,extent:Mn,loadGeometry:()=>[[new Fe(0,0),new Fe(8193,0),new Fe(8193,8193),new Fe(0,8193),new Fe(0,0)]]};class fc{constructor(o,l,u,p,_){this.tileID=o,this.uid=hd(),this.uses=0,this.tileSize=l,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=_,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(o){const l=o+this.timeAdded;l<en.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=rh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(o,l,u){if(this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(p,_){const v={};if(!_)return v;for(const C of p){const T=C.layerIds.map(M=>_.getLayer(M)).filter(Boolean);if(0!==T.length){C.layers=T,C.stateDependentLayerIds&&(C.stateDependentLayers=C.stateDependentLayerIds.map(M=>T.filter(k=>k.id===M)[0]));for(const M of T)v[M.id]=C}}return v}(o.buckets,l.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const _=this.buckets[p];if(_ instanceof pc){if(this.hasSymbolBuckets=!0,!u)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const _=this.buckets[p];if(_ instanceof pc&&_.hasRTLText){this.hasRTLText=!0,ze.isLoading()||ze.isLoaded()||"deferred"!==Te()||Ue();break}}this.queryPadding=0;for(const p in this.buckets){const _=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(p).queryRadius(_))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage),o.lineAtlas&&(this.lineAtlas=o.lineAtlas)}else this.collisionBoxArray=new At}unloadVectorData(){if(this.hasData()){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(o){return this.buckets[o.id]}upload(o){for(const u in this.buckets){const p=this.buckets[u];p.uploadPending()&&p.upload(o)}const l=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new zg(o,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new zg(o,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new zg(o,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,l,u,p,_,v,C,T){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:C,transform:v,params:_,tileTransform:this.tileTransform},o,l,u):{}}querySourceFeatures(o,l){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const p=u.loadVTLayers(),_=l?l.sourceLayer:"",v=p._geojsonTileLayer||p[_];if(!v)return;const C=qc(l&&l.filter),{z:T,x:M,y:k}=this.tileID.canonical,O={z:T,x:M,y:k};for(let N=0;N<v.length;N++){const B=v.feature(N);if(C.needGeometry){const J=Vd(B,!0);if(!C.filter(new Ie(this.tileID.overscaledZ),J,this.tileID.canonical))continue}else if(!C.filter(new Ie(this.tileID.overscaledZ),B))continue;const H=u.getId(B,_),Z=new bx(B,T,M,k,H);Z.tile=O,o.push(Z)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const l=this.expirationTime;if(o.cacheControl){const u=Sh(o.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const u=Date.now();let p=!1;if(this.expirationTime>u)p=!1;else if(l)if(this.expirationTime<l)p=!0;else{const _=this.expirationTime-l;_?this.expirationTime=u+Math.max(_,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(o,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(o).length||!l)return;const u=this.latestFeatureIndex.loadVTLayers(),p=l.style.listImages();for(const _ in this.buckets){if(!l.style.hasLayer(_))continue;const v=this.buckets[_],C=v.layers[0].sourceLayer||"_geojsonTileLayer",T=u[C],M=o[C];if(!T||!M||0===Object.keys(M).length)continue;if(v.update(M,T,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),v instanceof Kd||v instanceof Wd){const O=l.style._getSourceCache(v.layers[0].source);l._terrain&&l._terrain.enabled&&O&&v.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(O.id,this.tileID)}const k=l&&l.style&&l.style.getLayer(_);k&&(this.queryPadding=Math.max(this.queryPadding,k.queryRadius(v)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<en.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=en.now()+o}setTexture(o,l){const u=l.context,p=u.gl;this.texture=this.texture||l.getTileTexture(o.width),this.texture?this.texture.update(o,{useMipmap:!0}):(this.texture=new zg(u,o,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),u.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax))}setDependencies(o,l){const u={};for(const p of l)u[p]=!0;this.dependencies[o]=u}hasDependency(o,l){for(const u of o){const p=this.dependencies[u];if(p)for(const _ of l)if(p[_])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(o,l){if(!l||"mercator"===l.name||this._tileDebugBuffer)return;const u=Jc(xx,this.tileID.canonical,this.tileTransform)[0],p=new Ei,_=new Jl;for(let v=0;v<u.length;v++){const{x:C,y:T}=u[v];p.emplaceBack(C,T),_.emplaceBack(v)}_.emplaceBack(0),this._tileDebugIndexBuffer=o.createIndexBuffer(_),this._tileDebugBuffer=o.createVertexBuffer(p,Zn.members),this._tileDebugSegments=Vr.simpleSegment(0,0,p.length,_.length)}_makeTileBoundsBuffers(o,l){if(this._tileBoundsBuffer||!l||"mercator"===l.name)return;const u=Jc(xx,this.tileID.canonical,this.tileTransform)[0];let p,_;if(this.isRaster){const v=function(C,T){const M=rh(C,T),k=Math.pow(2,C.z);for(let J=0;J<33;J++)for(let de=0;de<33;de++){const ge=Yo((C.x+(de+wx(de))/32)/k),le=No((C.y+(J+wx(J))/32)/k),fe=T.project(ge,le),we=33*J+de;lu[2*we+0]=Math.round((fe.x*M.scale-M.x)*Mn),lu[2*we+1]=Math.round((fe.y*M.scale-M.y)*Mn)}sh.fill(0),s_.fill(0);for(let J=2045;J>=0;J--){const de=4*J,ge=oh[de+0],le=oh[de+1],fe=oh[de+2],we=oh[de+3],_e=ge+fe>>1,Ve=le+we>>1,Be=_e+Ve-le,et=Ve+ge-_e,pt=33*le+ge,Ge=33*we+fe,nt=33*Ve+_e,st=Math.hypot((lu[2*pt+0]+lu[2*Ge+0])/2-lu[2*nt+0],(lu[2*pt+1]+lu[2*Ge+1])/2-lu[2*nt+1])>=16;if(sh[nt]=sh[nt]||(st?1:0),J<1022){const ut=33*(le+et>>1)+(ge+Be>>1),ht=33*(we+et>>1)+(fe+Be>>1);sh[nt]=sh[nt]||sh[ut]||sh[ht]}}const O=new Bi,N=new _o;let B=0;function H(J,de){const ge=33*de+J;return 0===s_[ge]&&(O.emplaceBack(lu[2*ge+0],lu[2*ge+1],J*Mn/32,de*Mn/32),s_[ge]=++B),s_[ge]-1}function Z(J,de,ge,le,fe,we){const _e=J+ge>>1,Ve=de+le>>1;if(Math.abs(J-fe)+Math.abs(de-we)>1&&sh[33*Ve+_e])Z(fe,we,J,de,_e,Ve),Z(ge,le,fe,we,_e,Ve);else{const Be=H(J,de),et=H(ge,le),pt=H(fe,we);N.emplaceBack(Be,et,pt)}}return Z(0,0,32,32,32,0),Z(32,32,0,0,0,32),{vertices:O,indices:N}}(this.tileID.canonical,l);p=v.vertices,_=v.indices}else{p=new Bi,_=new _o;for(const{x:C,y:T}of u)p.emplaceBack(C,T,0,0);const v=Vf.exports(p.int16,void 0,4);for(let C=0;C<v.length;C+=3)_.emplaceBack(v[C],v[C+1],v[C+2])}this._tileBoundsBuffer=o.createVertexBuffer(p,Cx.members),this._tileBoundsIndexBuffer=o.createIndexBuffer(_),this._tileBoundsSegments=Vr.simpleSegment(0,0,p.length,_.length)}_makeGlobeTileDebugBuffers(o,l){const u=l.projection;if(!u||"globe"!==u.name||l.freezeTileCoverage)return;const p=this.tileID.canonical,_=wp(Y1(p,l)),v=vl(l.zoom);let C;v>0&&(C=hv(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(o,p,l,_,C,v),this._makeGlobeTileDebugTextBuffer(o,p,l,_,C,v)}_globePoint(o,l,u,p,_,v,C){let T=Pg(o,l,u);if(v){const M=1<<u.z,k=gl(p.center.lng),O=er(p.center.lat),N=(u.x+.5)/M-k;let B=0;N>.5?B=-1:N<-.5&&(B=1);let H=(o/Mn+u.x)/M+B,Z=(l/Mn+u.y)/M;H=(H-k)*p._pixelsPerMercatorPixel+k,Z=(Z-O)*p._pixelsPerMercatorPixel+O;const J=[H*p.worldSize,Z*p.worldSize,0];Tr(J,J,v),T=qu(T,J,C)}return Tr(T,T,_)}_makeGlobeTileDebugBorderBuffer(o,l,u,p,_,v){const C=new Ei,T=new Jl,M=new Wi,k=(N,B,H,Z,J)=>{const de=(H-N)/(J-1),ge=(Z-B)/(J-1),le=C.length;for(let fe=0;fe<J;fe++){const we=N+fe*de,_e=B+fe*ge;C.emplaceBack(we,_e);const Ve=this._globePoint(we,_e,l,u,p,_,v);M.emplaceBack(Ve[0],Ve[1],Ve[2]),T.emplaceBack(le+fe)}},O=Mn;k(0,0,O,0,16),k(O,0,O,O,16),k(O,O,0,O,16),k(0,O,0,0,16),this._tileDebugIndexBuffer=o.createIndexBuffer(T),this._tileDebugBuffer=o.createVertexBuffer(C,Zn.members),this._globeTileDebugBorderBuffer=o.createVertexBuffer(M,ub.members),this._tileDebugSegments=Vr.simpleSegment(0,0,C.length,T.length)}_makeGlobeTileDebugTextBuffer(o,l,u,p,_,v){const C=new Ei,T=new _o,M=new Wi,k=25;T.reserve(32),C.reserve(k),M.reserve(k);const O=(N,B)=>k*N+B;for(let N=0;N<k;N++){const B=2048*N;for(let H=0;H<k;H++){const Z=2048*H;C.emplaceBack(Z,B);const J=this._globePoint(Z,B,l,u,p,_,v);M.emplaceBack(J[0],J[1],J[2])}}for(let N=0;N<4;N++)for(let B=0;B<4;B++){const H=O(N,B),Z=O(N,B+1),J=O(N+1,B),de=O(N+1,B+1);T.emplaceBack(H,Z,J),T.emplaceBack(J,Z,de)}this._tileDebugTextIndexBuffer=o.createIndexBuffer(T),this._tileDebugTextBuffer=o.createVertexBuffer(C,Zn.members),this._globeTileDebugTextBuffer=o.createVertexBuffer(M,ub.members),this._tileDebugTextSegments=Vr.simpleSegment(0,0,k,32)}}class a_{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,l,u){const p=String(l);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][p]=this.stateChanges[o][p]||{},zn(this.stateChanges[o][p],u),null===this.deletedStates[o]){this.deletedStates[o]={};for(const _ in this.state[o])_!==p&&(this.deletedStates[o][_]=null)}else if(this.deletedStates[o]&&null===this.deletedStates[o][p]){this.deletedStates[o][p]={};for(const _ in this.state[o][p])u[_]||(this.deletedStates[o][p][_]=null)}else for(const _ in u)this.deletedStates[o]&&this.deletedStates[o][p]&&null===this.deletedStates[o][p][_]&&delete this.deletedStates[o][p][_]}removeFeatureState(o,l,u){if(null===this.deletedStates[o])return;const p=String(l);if(this.deletedStates[o]=this.deletedStates[o]||{},u&&void 0!==l)null!==this.deletedStates[o][p]&&(this.deletedStates[o][p]=this.deletedStates[o][p]||{},this.deletedStates[o][p][u]=null);else if(void 0!==l)if(this.stateChanges[o]&&this.stateChanges[o][p])for(u in this.deletedStates[o][p]={},this.stateChanges[o][p])this.deletedStates[o][p][u]=null;else this.deletedStates[o][p]=null;else this.deletedStates[o]=null}getState(o,l){const u=String(l),p=zn({},(this.state[o]||{})[u],(this.stateChanges[o]||{})[u]);if(null===this.deletedStates[o])return{};if(this.deletedStates[o]){const _=this.deletedStates[o][l];if(null===_)return{};for(const v in _)delete p[v]}return p}initializeTileState(o,l){o.setFeatureState(this.state,l)}coalesceChanges(o,l){const u={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const _={};for(const v in this.stateChanges[p])this.state[p][v]||(this.state[p][v]={}),zn(this.state[p][v],this.stateChanges[p][v]),_[v]=this.state[p][v];u[p]=_}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const _={};if(null===this.deletedStates[p])for(const v in this.state[p])_[v]={},this.state[p][v]={};else for(const v in this.deletedStates[p]){if(null===this.deletedStates[p][v])this.state[p][v]={};else for(const C of Object.keys(this.deletedStates[p][v]))delete this.state[p][v][C];_[v]=this.state[p][v]}u[p]=u[p]||{},zn(u[p],_)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(u).length)for(const p in o)o[p].setFeatureState(u,l)}}class Tb{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,l){const u=this.toIdx(o,l);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(o,l){return this.leaves[this.toIdx(o,l)]}toIdx(o,l){return l*this.size+o}}function l_(a,o,l,u){let p=0,_=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(u[v])<1e-15){if(l[v]<a[v]||l[v]>o[v])return null}else{const C=1/u[v];let T=(a[v]-l[v])*C,M=(o[v]-l[v])*C;if(T>M){const k=T;T=M,M=k}if(T>p&&(p=T),M<_&&(_=M),p>_)return null}return p}function Bg(a,o,l,u,p,_,v,C,T,M,k){const O=u-a,N=p-o,B=_-l,H=v-a,Z=C-o,J=T-l,de=k[1]*J-k[2]*Z,ge=k[2]*H-k[0]*J,le=k[0]*Z-k[1]*H,fe=O*de+N*ge+B*le;if(Math.abs(fe)<1e-15)return null;const we=1/fe,_e=M[0]-a,Ve=M[1]-o,Be=M[2]-l,et=(_e*de+Ve*ge+Be*le)*we;if(et<0||et>1)return null;const pt=Ve*B-Be*N,Ge=Be*O-_e*B,nt=_e*N-Ve*O,st=(k[0]*pt+k[1]*Ge+k[2]*nt)*we;return st<0||et+st>1?null:(H*pt+Z*Ge+J*nt)*we}function c_(a,o,l){return(a-o)/(l-o)}function Vg(a,o,l,u,p,_,v,C,T){const M=1<<l,k=_-u,O=v-p,N=(a+1)/M*k+u,B=(o+0)/M*O+p,H=(o+1)/M*O+p;C[0]=(a+0)/M*k+u,C[1]=B,T[0]=N,T[1]=H}class Mb{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(_){const v=Math.ceil(Math.log2(_.dim/8)),C=[];let T=Math.ceil(Math.pow(2,v));const M=1/T,k=(B,H,Z,J,de)=>{const ge=J?1:0,le=(B+1)*Z-ge,fe=H*Z,we=(H+1)*Z-ge;de[0]=B*Z,de[1]=fe,de[2]=le,de[3]=we};let O=new Tb(T);const N=[];for(let B=0;B<T*T;B++){k(B%T,Math.floor(B/T),M,!1,N);const H=uu(N[0],N[1],_),Z=uu(N[2],N[1],_),J=uu(N[2],N[3],_),de=uu(N[0],N[3],_);O.minimums.push(Math.min(H,Z,J,de)),O.maximums.push(Math.max(H,Z,J,de)),O.leaves.push(1)}for(C.push(O),T/=2;T>=1;T/=2){const B=C[C.length-1];O=new Tb(T);for(let H=0;H<T*T;H++){k(H%T,Math.floor(H/T),2,!0,N);const Z=B.getElevation(N[0],N[1]),J=B.getElevation(N[2],N[1]),de=B.getElevation(N[2],N[3]),ge=B.getElevation(N[0],N[3]),le=B.isLeaf(N[0],N[1]),fe=B.isLeaf(N[2],N[1]),we=B.isLeaf(N[2],N[3]),_e=B.isLeaf(N[0],N[3]),Ve=Math.min(Z.min,J.min,de.min,ge.min),Be=Math.max(Z.max,J.max,de.max,ge.max),et=le&&fe&&we&&_e;O.maximums.push(Be),O.minimums.push(Ve),O.leaves.push(Be-Ve<=5&&et?1:0)}C.push(O)}return C}(this.dem),u=l.length-1,p=l[u];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(l,0,0,u,0)}raycastRoot(o,l,u,p,_,v,C=1){return l_([o,l,-100],[u,p,this.maximums[0]*C],_,v)}raycast(o,l,u,p,_,v,C=1){if(!this.nodeCount)return null;const T=this.raycastRoot(o,l,u,p,_,v,C);if(null==T)return null;const M=[],k=[],O=[],N=[],B=[{idx:0,t:T,nodex:0,nodey:0,depth:0}];for(;B.length>0;){const{idx:H,t:Z,nodex:J,nodey:de,depth:ge}=B.pop();if(this.leaves[H]){Vg(J,de,ge,o,l,u,p,O,N);const fe=1<<ge,we=(J+0)/fe,_e=(J+1)/fe,Ve=(de+0)/fe,Be=(de+1)/fe,et=uu(we,Ve,this.dem)*C,pt=uu(_e,Ve,this.dem)*C,Ge=uu(_e,Be,this.dem)*C,nt=uu(we,Be,this.dem)*C,st=Bg(O[0],O[1],et,N[0],O[1],pt,N[0],N[1],Ge,_,v),ut=Bg(N[0],N[1],Ge,O[0],N[1],nt,O[0],O[1],et,_,v),ht=Math.min(null!==st?st:Number.MAX_VALUE,null!==ut?ut:Number.MAX_VALUE);if(ht!==Number.MAX_VALUE)return ht;{const We=Ff([],_,v,Z);if(cu(et,pt,nt,Ge,c_(We[0],O[0],N[0]),c_(We[1],O[1],N[1]))>=We[2])return Z}continue}let le=0;for(let fe=0;fe<this._siblingOffset.length;fe++){Vg((J<<1)+this._siblingOffset[fe][0],(de<<1)+this._siblingOffset[fe][1],ge+1,o,l,u,p,O,N),O[2]=-100,N[2]=this.maximums[this.childOffsets[H]+fe]*C;const we=l_(O,N,_,v);if(null!=we){const _e=we;M[fe]=_e;let Ve=!1;for(let Be=0;Be<le&&!Ve;Be++)_e>=M[k[Be]]&&(k.splice(Be,0,fe),Ve=!0);Ve||(k[le]=fe),le++}}for(let fe=0;fe<le;fe++){const we=k[fe];B.push({idx:this.childOffsets[H]+we,t:M[we],nodex:(J<<1)+this._siblingOffset[we][0],nodey:(de<<1)+this._siblingOffset[we][1],depth:ge+1})}}return null}_addNode(o,l,u){return this.minimums.push(o),this.maximums.push(l),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(o,l,u,p,_){if(1===o[p].isLeaf(l,u))return;this.childOffsets[_]||(this.childOffsets[_]=this.nodeCount);const v=p-1,C=o[v];let T=0,M=0;for(let k=0;k<this._siblingOffset.length;k++){const O=2*l+this._siblingOffset[k][0],N=2*u+this._siblingOffset[k][1],B=C.getElevation(O,N),H=C.isLeaf(O,N),Z=this._addNode(B.min,B.max,H);H&&(T|=1<<k),M||(M=Z)}for(let k=0;k<this._siblingOffset.length;k++)T&1<<k||this._construct(o,2*l+this._siblingOffset[k][0],2*u+this._siblingOffset[k][1],v,M+k)}}function cu(a,o,l,u,p,_){return qe(qe(a,l,_),qe(o,u,_),p)}function uu(a,o,l){const u=l.dim,p=ai(a*u-.5,0,u-1),_=ai(o*u-.5,0,u-1),v=Math.floor(p),C=Math.floor(_),T=Math.min(v+1,u-1),M=Math.min(C+1,u-1);return cu(l.get(v,C),l.get(T,C),l.get(v,M),l.get(T,M),p-v,_-C)}const Db={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Hg{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,l,u,p=!1,_=!1){if(this.uid=o,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(u&&"mapbox"!==u&&"terrarium"!==u)return yr(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const v=this.dim=l.height-2,C=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=u||"mapbox",this.borderReady=p,!p){for(let T=0;T<v;T++)C[this._idx(-1,T)]=C[this._idx(0,T)],C[this._idx(v,T)]=C[this._idx(v-1,T)],C[this._idx(T,-1)]=C[this._idx(T,0)],C[this._idx(T,v)]=C[this._idx(T,v-1)];C[this._idx(-1,-1)]=C[this._idx(0,0)],C[this._idx(v,-1)]=C[this._idx(v-1,0)],C[this._idx(-1,v)]=C[this._idx(0,v-1)],C[this._idx(v,v)]=C[this._idx(v-1,v-1)],_&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Mb(this)}get(o,l,u=!1){u&&(o=ai(o,-1,this.dim),l=ai(l,-1,this.dim));const p=4*this._idx(o,l);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(o){return Db[o]}get unpackVector(){return Db[this.encoding]}_idx(o,l){if(o<-1||o>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(o+1)}_unpackMapbox(o,l,u){return(256*o*256+256*l+u)/10-1e4}_unpackTerrarium(o,l,u){return 256*o+l+u/256-32768}static pack(o,l){const u=[0,0,0,0],p=Hg.getUnpackVector(l);let _=Math.floor((o+p[3])/p[2]);return u[2]=_%256,_=Math.floor(_/256),u[1]=_%256,_=Math.floor(_/256),u[0]=_,u}getPixels(){return new ta({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,l,u){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let p=l*this.dim,_=l*this.dim+this.dim,v=u*this.dim,C=u*this.dim+this.dim;switch(l){case-1:p=_-1;break;case 1:_=p+1}switch(u){case-1:v=C-1;break;case 1:C=v+1}const T=-l*this.dim,M=-u*this.dim;for(let k=v;k<C;k++)for(let O=p;O<_;O++){const N=4*this._idx(O,k),B=4*this._idx(O+T,k+M);this.pixels[N+0]=o.pixels[B+0],this.pixels[N+1]=o.pixels[B+1],this.pixels[N+2]=o.pixels[B+2],this.pixels[N+3]=o.pixels[B+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Nt(Hg,"DEMData"),Nt(Mb,"DemMinMaxQuadTree",{omit:["dem"]});class Eb{constructor(o,l){this.max=o,this.onRemove=l,this.reset()}reset(){for(const o in this.data)for(const l of this.data[o])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(o,l,u){const p=o.wrapped().key;void 0===this.data[p]&&(this.data[p]=[]);const _={value:l,timeout:void 0};if(void 0!==u&&(_.timeout=setTimeout(()=>{this.remove(o,_)},u)),this.data[p].push(_),this.order.push(p),this.order.length>this.max){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const l=this.data[o].shift();return l.timeout&&clearTimeout(l.timeout),0===this.data[o].length&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),l.value}getByKey(o){const l=this.data[o];return l?l[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,l){if(!this.has(o))return this;const u=o.wrapped().key,p=void 0===l?0:this.data[u].indexOf(l),_=this.data[u][p];return this.data[u].splice(p,1),_.timeout&&clearTimeout(_.timeout),0===this.data[u].length&&delete this.data[u],this.onRemove(_.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(o){const l=[];for(const u in this.data)for(const p of this.data[u])o(p.value)||l.push(p);for(const u of l)this.remove(u.value.tileID,u)}}class kp{constructor(o,l,u){this.func=o,this.mask=l,this.range=u}}kp.ReadOnly=!1,kp.ReadWrite=!0,kp.disabled=new kp(519,kp.ReadOnly,[0,1]);class Ap{constructor(o,l,u,p,_,v){this.test=o,this.ref=l,this.mask=u,this.fail=p,this.depthFail=_,this.pass=v}}Ap.disabled=new Ap({func:519,mask:0},0,0,7680,7680,7680);class As{constructor(o,l,u){this.blendFunction=o,this.blendColor=l,this.mask=u}}As.Replace=[1,0],As.disabled=new As(As.Replace,kr.transparent,[!1,!1,!1,!1]),As.unblended=new As(As.Replace,kr.transparent,[!0,!0,!0,!0]),As.alphaBlended=new As([1,771],kr.transparent,[!0,!0,!0,!0]);class xa{constructor(o,l,u){this.enable=o,this.mode=l,this.frontFace=u}}xa.disabled=new xa(!1,1029,2305),xa.backCCW=new xa(!0,1029,2305),xa.backCW=new xa(!0,1029,2304),xa.frontCW=new xa(!0,1028,2304),xa.frontCCW=new xa(!0,1028,2305);class mc extends Vs{constructor(o,l,u){super(),this.id=o,this._onlySymbols=u,l.on("data",p=>{"source"===p.dataType&&"metadata"===p.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===p.dataType&&"content"===p.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new Eb(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new a_,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(o){this.map=o,this._minTileCacheSize=void 0===this._minTileCacheSize&&o?o._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&o?o._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const o in this._tiles){const l=this._tiles[o];if("loaded"!==l.state&&"errored"!==l.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(o,l){return o.isSymbolTile=this._onlySymbols,this._source.loadTile(o,l)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){if(this._source.abortTile)return this._source.abortTile(o,()=>{})}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const u=this._tiles[l];u.upload(o),u.prepare(this.map.style.imageManager)}}getIds(){return Pl(this._tiles).map(o=>o.tileID).sort(d_).map(o=>o.key)}getRenderableIds(o){const l=[];for(const u in this._tiles)this._isIdRenderable(+u,o)&&l.push(this._tiles[u]);return o?l.sort((u,p)=>{const _=u.tileID,v=p.tileID,C=new Fe(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),T=new Fe(v.canonical.x,v.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-v.overscaledZ||T.y-C.y||T.x-C.x}).map(u=>u.tileID.key):l.map(u=>u.tileID).sort(d_).map(u=>u.key)}hasRenderableParent(o){const l=this.findLoadedParent(o,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(o,l){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(l||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)"errored"!==this._tiles[o].state&&this._reloadTile(+o,"reloading")}}_reloadTile(o,l){const u=this._tiles[o];u&&("loading"!==u.state&&(u.state=l),this._loadTile(u,this._tileLoaded.bind(this,u,o,l)))}_tileLoaded(o,l,u,p){if(p)if(o.state="errored",404!==p.status)this._source.fire(new Bl(p,{tile:o}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const _=this.map.painter.terrain;this.update(this.transform,_.getScaledDemTileSize(),!0),_.resetTileLookupCache(this.id)}else this.update(this.transform);else o.timeAdded=en.now(),"expired"===u&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(l,o),"raster-dem"===this._source.type&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new Oa("data",{dataType:"source",tile:o,coord:o.tileID,sourceCacheId:this.id}))}_backfillDEM(o){const l=this.getRenderableIds();for(let p=0;p<l.length;p++){const _=l[p];if(o.neighboringTiles&&o.neighboringTiles[_]){const v=this.getTileByID(_);u(o,v),u(v,o)}}function u(p,_){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let v=_.tileID.canonical.x-p.tileID.canonical.x;const C=_.tileID.canonical.y-p.tileID.canonical.y,T=Math.pow(2,p.tileID.canonical.z),M=_.tileID.key;0===v&&0===C||Math.abs(C)>1||(Math.abs(v)>1&&(1===Math.abs(v+T)?v+=T:1===Math.abs(v-T)&&(v-=T)),_.dem&&p.dem&&(p.dem.backfillBorder(_.dem,v,C),p.neighboringTiles&&p.neighboringTiles[M]&&(p.neighboringTiles[M].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,l,u,p){for(const _ in this._tiles){let v=this._tiles[_];if(p[_]||!v.hasData()||v.tileID.overscaledZ<=l||v.tileID.overscaledZ>u)continue;let C=v.tileID;for(;v&&v.tileID.overscaledZ>l+1;){const M=v.tileID.scaledTo(v.tileID.overscaledZ-1);v=this._tiles[M.key],v&&v.hasData()&&(C=M)}let T=C;for(;T.overscaledZ>l;)if(T=T.scaledTo(T.overscaledZ-1),o[T.key]){p[C.key]=C;break}}}findLoadedParent(o,l){if(o.key in this._loadedParentTiles){const u=this._loadedParentTiles[o.key];return u&&u.tileID.overscaledZ>=l?u:null}for(let u=o.overscaledZ-1;u>=l;u--){const p=o.scaledTo(u),_=this._getLoadedTile(p);if(_)return _}}_getLoadedTile(o){const l=this._tiles[o.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?o.wrapped().key:o.canonical.key)}updateCacheSize(o,l){l=l||this._source.tileSize;const u=Math.ceil(o.width/l)+1,p=Math.ceil(o.height/l)+1,_=Math.floor(u*p*5),v="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,_):_,C="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(C)}handleWrapJump(o){const l=Math.round((o-(void 0===this._prevLng?o:this._prevLng))/360);if(this._prevLng=o,l){const u={};for(const p in this._tiles){const _=this._tiles[p];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+l),u[_.tileID.key]=_}this._tiles=u;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(o,l,u){if(this.transform=o,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let p;this.updateCacheSize(o,l),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(C=>new ks(C.canonical.z,C.wrap,C.canonical.z,C.canonical.x,C.canonical.y)):(p=o.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(C=>this._source.hasTile(C)))):p=[];const _=this._updateRetainedTiles(p);if(h_(this._source.type)&&0!==p.length){const C={},T={},M=Object.keys(_);for(const O of M){const N=_[O],B=this._tiles[O];if(!B||B.fadeEndTime&&B.fadeEndTime<=en.now())continue;const H=this.findLoadedParent(N,Math.max(N.overscaledZ-mc.maxOverzooming,this._source.minzoom));H&&(this._addTile(H.tileID),C[H.tileID.key]=H.tileID),T[O]=N}const k=p[p.length-1].overscaledZ;for(const O in this._tiles){const N=this._tiles[O];if(_[O]||!N.hasData())continue;let B=N.tileID;for(;B.overscaledZ>k;){B=B.scaledTo(B.overscaledZ-1);const H=this._tiles[B.key];if(H&&H.hasData()&&T[B.key]){_[O]=N.tileID;break}}}for(const O in C)_[O]||(this._coveredTiles[O]=!0,_[O]=C[O])}for(const C in _)this._tiles[C].clearFadeHold();const v=function(C,T){const M=[];for(const k in C)k in T||M.push(k);return M}(this._tiles,_);for(const C of v){const T=this._tiles[C];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+C)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(+o)}_updateRetainedTiles(o){const l={};if(0===o.length)return l;const u={},p=o.reduce((M,k)=>Math.min(M,k.overscaledZ),1/0),_=o[0].overscaledZ,v=Math.max(_-mc.maxOverzooming,this._source.minzoom),C=Math.max(_+mc.maxUnderzooming,this._source.minzoom),T={};for(const M of o){const k=this._addTile(M);l[M.key]=M,k.hasData()||p<this._source.maxzoom&&(T[M.key]=M)}this._retainLoadedChildren(T,p,C,l);for(const M of o){let k=this._tiles[M.key];if(k.hasData())continue;if(M.canonical.z>=this._source.maxzoom){const N=M.children(this._source.maxzoom)[0],B=this.getTile(N);if(B&&B.hasData()){l[N.key]=N;continue}}else{const N=M.children(this._source.maxzoom);if(l[N[0].key]&&l[N[1].key]&&l[N[2].key]&&l[N[3].key])continue}let O=k.wasRequested();for(let N=M.overscaledZ-1;N>=v;--N){const B=M.scaledTo(N);if(u[B.key]||(u[B.key]=!0,k=this.getTile(B),!k&&O&&(k=this._addTile(B)),k&&(l[B.key]=B,O=k.wasRequested(),k.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const l=[];let u,p=this._tiles[o].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){u=this._loadedParentTiles[p.key];break}l.push(p.key);const _=p.scaledTo(p.overscaledZ-1);if(u=this._getLoadedTile(_),u)break;p=_}for(const _ of l)this._loadedParentTiles[_]=u}}_addTile(o){let l=this._tiles[o.key];if(l)return l;l=this._cache.getAndRemove(o),l&&(this._setTileReloadTimer(o.key,l),l.tileID=o,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,l)));const u=Boolean(l);if(!u){const p=this.map?this.map.painter:null;l=new fc(o,this._source.tileSize*o.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,o.key,l.state))}return l?(l.uses++,this._tiles[o.key]=l,u||this._source.fire(new Oa("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(o,l){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const u=l.getExpiryTimeout();u&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},u))}_removeTile(o){const l=this._tiles[o];l&&(l.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),l.uses>0||(l.hasData()&&"reloading"!==l.state?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(+o);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(o,l,u){const p=[],_=this.transform;if(!_)return p;const v="globe"===_.projection.name,C=gl(_.center.lng);for(const T in this._tiles){const M=this._tiles[T];if(u&&M.clearQueryDebugViz(),M.holdingForFade())continue;let k;if(v){const O=M.tileID.canonical;if(0===O.z){const N=[Math.abs(ai(C,...ah(O,-1))-C),Math.abs(ai(C,...ah(O,1))-C)];k=[0,2*N.indexOf(Math.min(...N))-1]}else{const N=[Math.abs(ai(C,...ah(O,-1))-C),Math.abs(ai(C,...ah(O,0))-C),Math.abs(ai(C,...ah(O,1))-C)];k=[N.indexOf(Math.min(...N))-1]}}else k=[0];for(const O of k){const N=o.containsTile(M,_,l,O);N&&p.push(N)}}return p}getVisibleCoordinates(o){const l=this.getRenderableIds(o).map(u=>this._tiles[u].tileID);for(const u of l)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(h_(this._source.type))for(const o in this._tiles){const l=this._tiles[o];if(void 0!==l.fadeEndTime&&l.fadeEndTime>=en.now())return!0}return!1}setFeatureState(o,l,u){this._state.updateState(o=o||"_geojsonTileLayer",l,u)}removeFeatureState(o,l,u){this._state.removeFeatureState(o=o||"_geojsonTileLayer",l,u)}getFeatureState(o,l){return this._state.getState(o=o||"_geojsonTileLayer",l)}setDependencies(o,l,u){const p=this._tiles[o];p&&p.setDependencies(l,u)}reloadTilesForDependencies(o,l){for(const u in this._tiles)this._tiles[u].hasDependency(o,l)&&this._reloadTile(+u,"reloading");this._cache.filter(u=>!u.hasDependency(o,l))}_preloadTiles(o,l){const u=new Map,p=Array.isArray(o)?o:[o],_=this.map.painter.terrain,v=this.usedForTerrain&&_?_.getScaledDemTileSize():this._source.tileSize;for(const C of p){const T=C.coveringTiles({tileSize:v,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const M of T)u.set(M.key,M);this.usedForTerrain&&C.updateElevation(!1)}Ol(Array.from(u.values()),(C,T)=>{const M=new fc(C,this._source.tileSize*C.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(M,k=>{"raster-dem"===this._source.type&&M.dem&&this._backfillDEM(M),T(k,M)})},l)}}function d_(a,o){const l=Math.abs(2*a.wrap)-+(a.wrap<0),u=Math.abs(2*o.wrap)-+(o.wrap<0);return a.overscaledZ-o.overscaledZ||u-l||o.canonical.y-a.canonical.y||o.canonical.x-a.canonical.x}function h_(a){return"raster"===a||"image"===a||"video"===a||"custom"===a}function ah(a,o){const l=1<<a.z;return[a.x/l+o,(a.x+1)/l+o]}mc.maxOverzooming=10,mc.maxUnderzooming=3;class Op{constructor(o,l,u){this._demTile=o,this._dem=this._demTile.dem,this._scale=l,this._offset=u}static create(o,l,u){const p=u||o.findDEMTileFor(l);if(!p||!p.dem)return;const _=p.dem,v=p.tileID,C=1<<l.canonical.z-v.canonical.z;return new Op(p,p.tileSize/Mn/C,[(l.canonical.x/C-v.canonical.x)*_.dim,(l.canonical.y/C-v.canonical.y)*_.dim])}tileCoordToPixel(o,l){const u=l*this._scale+this._offset[1],p=Math.floor(o*this._scale+this._offset[0]),_=Math.floor(u);return new Fe(p,_)}getElevationAt(o,l,u,p){const _=o*this._scale+this._offset[0],v=l*this._scale+this._offset[1],C=Math.floor(_),T=Math.floor(v),M=this._dem;return p=!!p,u?qe(qe(M.get(C,T,p),M.get(C,T+1,p),v-T),qe(M.get(C+1,T,p),M.get(C+1,T+1,p),v-T),_-C):M.get(C,T,p)}getElevationAtPixel(o,l,u){return this._dem.get(o,l,!!u)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*Qs(1,o)*this._dem.stride}}class p_{constructor(o,l){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Nd(Mn,16,0),this.featureIndexArray=new tp,this.promoteId=l}insert(o,l,u,p,_,v=0){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,p,_,v);const T=this.grid;for(let M=0;M<l.length;M++){const k=l[M],O=[1/0,1/0,-1/0,-1/0];for(let N=0;N<k.length;N++){const B=k[N];O[0]=Math.min(O[0],B.x),O[1]=Math.min(O[1],B.y),O[2]=Math.max(O[2],B.x),O[3]=Math.max(O[3],B.y)}O[0]<Mn&&O[1]<Mn&&O[2]>=0&&O[3]>=0&&T.insert(C,O[0],O[1],O[2],O[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new O1(new mp(this.rawTileData)).layers,this.sourceLayerCoder=new Sb(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,l,u,p){this.loadVTLayers();const _=o.params||{},v=qc(_.filter),C=o.tileResult,T=o.transform,M=C.bufferedTilespaceBounds,k=this.grid.query(M.min.x,M.min.y,M.max.x,M.max.y,(H,Z,J,de)=>s1(C.bufferedTilespaceGeometry,H,Z,J,de));k.sort(Sx);let O=null;T.elevation&&k.length>0&&(O=Op.create(T.elevation,this.tileID));const N={};let B;for(let H=0;H<k.length;H++){const Z=k[H];if(Z===B)continue;B=Z;const J=this.featureIndexArray.get(Z);let de=null;this.loadMatchingFeature(N,J,v,_.layers,_.availableImages,l,u,p,(ge,le,fe,we=0)=>(de||(de=Jc(ge,this.tileID.canonical,o.tileTransform)),le.queryIntersectsFeature(C,ge,fe,de,this.z,o.transform,o.pixelPosMatrix,O,we)))}return N}loadMatchingFeature(o,l,u,p,_,v,C,T,M){const{featureIndex:k,bucketIndex:O,sourceLayerIndex:N,layoutVertexArrayOffset:B}=l,H=this.bucketLayerIDs[O];if(p&&!function(ge,le){for(let fe=0;fe<ge.length;fe++)if(le.indexOf(ge[fe])>=0)return!0;return!1}(p,H))return;const Z=this.sourceLayerCoder.decode(N),J=this.vtLayers[Z].feature(k);if(u.needGeometry){const ge=Vd(J,!0);if(!u.filter(new Ie(this.tileID.overscaledZ),ge,this.tileID.canonical))return}else if(!u.filter(new Ie(this.tileID.overscaledZ),J))return;const de=this.getId(J,Z);for(let ge=0;ge<H.length;ge++){const le=H[ge];if(p&&p.indexOf(le)<0)continue;const fe=v[le];if(!fe)continue;let we={};void 0!==de&&T&&(we=T.getState(fe.sourceLayer||"_geojsonTileLayer",de));const _e=zn({},C[le]);_e.paint=Ug(_e.paint,fe.paint,J,we,_),_e.layout=Ug(_e.layout,fe.layout,J,we,_);const Ve=!M||M(J,fe,we,B);if(!Ve)continue;const Be=new bx(J,this.z,this.x,this.y,de);Be.layer=_e;let et=o[le];void 0===et&&(et=o[le]=[]),et.push({featureIndex:k,feature:Be,intersectionZ:Ve})}}lookupSymbolFeatures(o,l,u,p,_,v,C,T){const M={};this.loadVTLayers();const k=qc(_);for(const O of o)this.loadMatchingFeature(M,{bucketIndex:u,sourceLayerIndex:p,featureIndex:O,layoutVertexArrayOffset:0},k,v,C,T,l);return M}loadFeature(o){const{featureIndex:l,sourceLayerIndex:u}=o;this.loadVTLayers();const p=this.sourceLayerCoder.decode(u),_=this.vtFeatures[p];if(_[l])return _[l];const v=this.vtLayers[p].feature(l);return _[l]=v,v}hasLayer(o){for(const l of this.bucketLayerIDs)for(const u of l)if(o===u)return!0;return!1}getId(o,l){let u=o.id;if(this.promoteId){const p="string"==typeof this.promoteId?this.promoteId:this.promoteId[l];null!=p&&(u=o.properties[p]),"boolean"==typeof u&&(u=Number(u))}return u}}function Ug(a,o,l,u,p){return Ai(a,(_,v)=>{const C=o instanceof yt?o.get(v):null;return C&&C.evaluate?C.evaluate(l,u,p):C})}function Sx(a,o){return o-a}Nt(p_,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Tx{constructor(o,l){this.width=o,this.height=l,this.nextRow=0,this.image=new sc({width:o,height:l}),this.positions={},this.uploaded=!1}getDash(o,l){const u=this.getKey(o,l);return this.positions[u]}trim(){const o=this.width,l=this.height=Ia(this.nextRow);this.image.resize({width:o,height:l})}getKey(o,l){return o.join(",")+l}getDashRanges(o,l,u){const p=[];let _=o.length%2==1?-o[o.length-1]*u:0,v=o[0]*u,C=!0;p.push({left:_,right:v,isDash:C,zeroLength:0===o[0]});let T=o[0];for(let M=1;M<o.length;M++){C=!C;const k=o[M];_=T*u,T+=k,v=T*u,p.push({left:_,right:v,isDash:C,zeroLength:0===k})}return p}addRoundDash(o,l,u){const p=l/2;for(let _=-u;_<=u;_++){const v=this.width*(this.nextRow+u+_);let C=0,T=o[C];for(let M=0;M<this.width;M++){M/T.right>1&&(T=o[++C]);const k=Math.abs(M-T.left),O=Math.abs(M-T.right),N=Math.min(k,O);let B;const H=_/u*(p+1);if(T.isDash){const Z=p-Math.abs(H);B=Math.sqrt(N*N+Z*Z)}else B=p-Math.sqrt(N*N+H*H);this.image.data[v+M]=Math.max(0,Math.min(255,B+128))}}}addRegularDash(o,l){for(let T=o.length-1;T>=0;--T){const M=o[T],k=o[T+1];M.zeroLength?o.splice(T,1):k&&k.isDash===M.isDash&&(k.left=M.left,o.splice(T,1))}const u=o[0],p=o[o.length-1];u.isDash===p.isDash&&(u.left=p.left-this.width,p.right=u.right+this.width);const _=this.width*this.nextRow;let v=0,C=o[v];for(let T=0;T<this.width;T++){T/C.right>1&&(C=o[++v]);const M=Math.abs(T-C.left),k=Math.abs(T-C.right),O=Math.min(M,k);this.image.data[_+T]=Math.max(0,Math.min(255,(C.isDash?O:-O)+l+128))}}addDash(o,l){const u=this.getKey(o,l);if(this.positions[u])return this.positions[u];const p="round"===l,_=p?7:0,v=2*_+1;if(this.nextRow+v>this.height)return yr("LineAtlas out of space"),null;0===o.length&&o.push(1);let C=0;for(let k=0;k<o.length;k++)o[k]<0&&(yr("Negative value is found in line dasharray, replacing values with 0"),o[k]=0),C+=o[k];if(0!==C){const k=this.width/C,O=this.getDashRanges(o,this.width,k);p?this.addRoundDash(O,k,_):this.addRegularDash(O,"square"===l?.5*k:0)}const T=this.nextRow+_;this.nextRow+=v;const M={tl:[T,_],br:[C,0]};return this.positions[u]=M,M}}Nt(Tx,"LineAtlas");class Ib{constructor(o){const l={},u=[];for(const C in o){const T=o[C],M=l[C]={};for(const k in T.glyphs){const O=T.glyphs[+k];if(!O||0===O.bitmap.width||0===O.bitmap.height)continue;const N=O.metrics.localGlyph?2:1,B={x:0,y:0,w:O.bitmap.width+2*N,h:O.bitmap.height+2*N};u.push(B),M[k]=B}}const{w:p,h:_}=U1(u),v=new sc({width:p||1,height:_||1});for(const C in o){const T=o[C];for(const M in T.glyphs){const k=T.glyphs[+M];if(!k||0===k.bitmap.width||0===k.bitmap.height)continue;const O=l[C][M],N=k.metrics.localGlyph?2:1;sc.copy(k.bitmap,v,{x:0,y:0},{x:O.x+N,y:O.y+N},k.bitmap)}}this.image=v,this.positions=l}}Nt(Ib,"GlyphAtlas");class kb{constructor(o){this.tileID=new ks(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),this.tileZoom=o.tileZoom,this.uid=o.uid,this.zoom=o.zoom,this.canonical=o.tileID.canonical,this.pixelRatio=o.pixelRatio,this.tileSize=o.tileSize,this.source=o.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=o.showCollisionBoxes,this.collectResourceTiming=!!o.collectResourceTiming,this.returnDependencies=!!o.returnDependencies,this.promoteId=o.promoteId,this.enableTerrain=!!o.enableTerrain,this.isSymbolTile=o.isSymbolTile,this.tileTransform=rh(o.tileID.canonical,o.projection),this.projection=o.projection}parse(o,l,u,p,_){this.status="parsing",this.data=o,this.collisionBoxArray=new At;const v=new Sb(Object.keys(o.layers).sort()),C=new p_(this.tileID,this.promoteId);C.bucketLayerIDs=[];const T={},M=new Tx(256,256),k={featureIndex:C,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:M,availableImages:u},O=l.familiesBySource[this.source];for(const we in O){const _e=o.layers[we];if(!_e)continue;let Ve=!1,Be=!1;for(const Ge of O[we])"symbol"===Ge[0].type?Ve=!0:Be=!0;if(!0===this.isSymbolTile&&!Ve||!1===this.isSymbolTile&&!Be)continue;1===_e.version&&yr(`Vector tile source "${this.source}" layer "${we}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const et=v.encode(we),pt=[];for(let Ge=0;Ge<_e.length;Ge++){const nt=_e.feature(Ge),st=C.getId(nt,we);pt.push({feature:nt,id:st,index:Ge,sourceLayerIndex:et})}for(const Ge of O[we]){const nt=Ge[0];void 0!==this.isSymbolTile&&"symbol"===nt.type!==this.isSymbolTile||nt.minzoom&&this.zoom<Math.floor(nt.minzoom)||nt.maxzoom&&this.zoom>=nt.maxzoom||"none"!==nt.visibility&&(f_(Ge,this.zoom,u),(T[nt.id]=nt.createBucket({index:C.bucketLayerIDs.length,layers:Ge,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:et,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(pt,k,this.tileID.canonical,this.tileTransform),C.bucketLayerIDs.push(Ge.map(st=>st.id)))}}let N,B,H,Z;M.trim();const J={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},de=Ai(k.glyphDependencies,we=>Object.keys(we).map(Number));Object.keys(de).length?p.send("getGlyphs",{uid:this.uid,stacks:de},(we,_e)=>{N||(N=we,B=_e,fe.call(this))},void 0,!1,J):B={};const ge=Object.keys(k.iconDependencies);ge.length?p.send("getImages",{icons:ge,source:this.source,tileID:this.tileID,type:"icons"},(we,_e)=>{N||(N=we,H=_e,fe.call(this))},void 0,!1,J):H={};const le=Object.keys(k.patternDependencies);function fe(){if(N)return _(N);if(B&&H&&Z){const we=new Ib(B),_e=new Gv(H,Z);for(const Ve in T){const Be=T[Ve];Be instanceof pc?(f_(Be.layers,this.zoom,u),sx(Be,B,we.positions,H,_e.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):Be.hasPattern&&(Be instanceof Kd||Be instanceof Wd||Be instanceof Qf)&&(f_(Be.layers,this.zoom,u),Be.addFeatures(k,this.tileID.canonical,_e.patternPositions,u,this.tileTransform))}this.status="done",_(null,{buckets:Pl(T).filter(Ve=>!Ve.isEmpty()),featureIndex:C,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:we.image,lineAtlas:M,imageAtlas:_e,glyphMap:this.returnDependencies?B:null,iconMap:this.returnDependencies?H:null,glyphPositions:this.returnDependencies?we.positions:null})}}le.length?p.send("getImages",{icons:le,source:this.source,tileID:this.tileID,type:"patterns"},(we,_e)=>{N||(N=we,Z=_e,fe.call(this))},void 0,!1,J):Z={},fe.call(this)}}function f_(a,o,l){const u=new Ie(o);for(const p of a)p.recalculate(u,l)}class m_{constructor(o){this.entries={},this.scheduler=o}request(o,l,u,p){const _=this.entries[o]=this.entries[o]||{callbacks:[]};if(_.result){const[v,C]=_.result;return this.scheduler?this.scheduler.add(()=>{p(v,C)},l):p(v,C),()=>{}}return _.callbacks.push(p),_.cancel||(_.cancel=u((v,C)=>{_.result=[v,C];for(const T of _.callbacks)this.scheduler?this.scheduler.add(()=>{T(v,C)},l):T(v,C);setTimeout(()=>delete this.entries[o],3e3)})),()=>{_.result||(_.callbacks=_.callbacks.filter(v=>v!==p),_.callbacks.length||(_.cancel(),delete this.entries[o]))}}}function g_(a,o,l){const u=JSON.stringify(a.request);return a.data&&(this.deduped.entries[u]={result:[null,a.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},p=>{const _=Pc(a.request,(v,C,T,M)=>{v?p(v):C&&p(null,{vectorTile:l?void 0:new O1(new mp(C)),rawData:C,cacheControl:T,expires:M})});return()=>{_.cancel(),p()}},o)}f.ARRAY_TYPE=ds,f.AUTH_ERR_MSG=Nc,f.Aabb=hs,f.Actor=class{constructor(a,o,l){this.target=a,this.parent=o,this.mapId=l,this.callbacks={},this.cancelCallbacks={},Rl(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Aa()?a:He,this.scheduler=new xb}send(a,o,l,u,p=!1,_){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=_,this.callbacks[v]=l);const C=pd(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:a,hasCallback:!!l,targetMapId:u,mustQueue:p,sourceMapId:this.mapId,data:pl(o,C)},C),{cancel:()=>{l&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(a){const o=a.data,l=o.id;if(l&&(!o.targetMapId||this.mapId===o.targetMapId))if("<cancel>"===o.type){const u=this.cancelCallbacks[l];delete this.cancelCallbacks[l],u&&u.cancel()}else if(o.mustQueue||Aa()){const u=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,o),u&&u.metadata||{type:"message"})}else this.processTask(l,o)}processTask(a,o){if("<response>"===o.type){const l=this.callbacks[a];delete this.callbacks[a],l&&(o.error?l(Va(o.error)):l(null,Va(o.data)))}else{const l=pd(this.globalScope)?void 0:[],u=o.hasCallback?(_,v)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:_?pl(_):null,data:pl(v,l)},l)}:_=>{},p=Va(o.data);if(this.parent[o.type])this.parent[o.type](o.sourceMapId,p,u);else if(this.parent.getWorkerSource){const _=o.type.split(".");this.parent.getWorkerSource(o.sourceMapId,_[0],p.source)[_[1]](p,u)}else u(new Error(`Could not find function ${o.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},f.CanonicalTileID=tm,f.Color=kr,f.ColorMode=As,f.CullFaceMode=xa,f.DEMData=Hg,f.DataConstantProperty=Oe,f.DedupedRequest=m_,f.DepthMode=kp,f.EXTENT=Mn,f.Elevation=class{isDataAvailableAtPoint(a){const o=this._source();if(this.isUsingMockSource()||!o||a.y<0||a.y>1)return!1;const l=o.getSource().maxzoom,u=1<<l,p=Math.floor(a.x),_=Math.floor((a.x-p)*u),v=Math.floor(a.y*u),C=this.findDEMTileFor(new ks(l,p,l,_,v));return!(!C||!C.dem)}getAtPointOrZero(a,o=0){return this.getAtPoint(a,o)||0}getAtPoint(a,o,l=!0){if(this.isUsingMockSource())return null;null==o&&(o=null);const u=this._source();if(!u||a.y<0||a.y>1)return o;const p=u.getSource().maxzoom,_=1<<p,v=Math.floor(a.x),C=a.x-v,T=new ks(p,v,p,Math.floor(C*_),Math.floor(a.y*_)),M=this.findDEMTileFor(T);if(!M||!M.dem)return o;const k=M.dem,O=1<<M.tileID.canonical.z,N=(C*O-M.tileID.canonical.x)*k.dim,B=(a.y*O-M.tileID.canonical.y)*k.dim,H=Math.floor(N),Z=Math.floor(B);return(l?this.exaggeration():1)*qe(qe(k.get(H,Z),k.get(H,Z+1),B-Z),qe(k.get(H+1,Z),k.get(H+1,Z+1),B-Z),N-H)}getAtTileOffset(a,o,l){const u=1<<a.canonical.z;return this.getAtPointOrZero(new rc(a.wrap+(a.canonical.x+o/Mn)/u,(a.canonical.y+l/Mn)/u))}getAtTileOffsetFunc(a,o,l,u){return p=>{const _=this.getAtTileOffset(a,p.x,p.y),v=u.upVector(a.canonical,p.x,p.y);return va(v,v,_*u.upVectorScale(a.canonical,o,l).metersToTile),v}}getForTilePoints(a,o,l,u){if(this.isUsingMockSource())return!1;const p=Op.create(this,a,u);return!!p&&(o.forEach(_=>{_[2]=this.exaggeration()*p.getElevationAt(_[0],_[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(a);if(!o||!o.dem)return null;const l=o.dem.tree,u=o.tileID,p=1<<a.canonical.z-u.canonical.z;let _=a.canonical.x/p-u.canonical.x,v=a.canonical.y/p-u.canonical.y,C=0;for(let T=0;T<a.canonical.z-u.canonical.z&&!l.leaves[C];T++){_*=2,v*=2;const M=2*Math.floor(v)+Math.floor(_);C=l.childOffsets[C]+M,_%=1,v%=1}return{min:this.exaggeration()*l.minimums[C],max:this.exaggeration()*l.maximums[C]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,o,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},f.ErrorEvent=Bl,f.EvaluationParameters=Ie,f.Event=Oa,f.Evented=Vs,f.FillExtrusionBucket=Qf,f.Frustum=hg,f.FrustumCorners=_1,f.GLOBE_METERS_TO_ECEF=Ag,f.GLOBE_RADIUS=V,f.GLOBE_SCALE_MATCH_LATITUDE=45,f.GLOBE_ZOOM_THRESHOLD_MAX=6,f.GLOBE_ZOOM_THRESHOLD_MIN=5,f.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const o=new Ei,l=new _o,u=65;for(let p=0;p<u;p++)for(let _=0;_<u;_++)o.emplaceBack(_,p);this._gridSegments=[];for(let p=0,_=0;p<yp.length;p++){const v=yp[p];for(let T=0;T<v;T++)for(let M=0;M<64;M++){const k=T*u+M;l.emplaceBack(k+1,k,k+u),l.emplaceBack(k+u,k+u+1,k+1)}const C=64*v*2;this._gridSegments.push(Vr.simpleSegment(0,_,(v+1)*u,C)),_+=C}this._gridBuffer=a.createVertexBuffer(o,Zn.members),this._gridIndexBuffer=a.createIndexBuffer(l,!0)}_createPoles(a){const o=new _o;for(let p=0;p<=64;p++)o.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=a.createIndexBuffer(o,!0);const l=new Ha,u=new Ha;this._poleSegments=[];for(let p=0,_=0;p<5;p++){const v=360/(1<<p);l.emplaceBack(0,-V,0,.5,0),u.emplaceBack(0,-V,0,.5,1);for(let C=0;C<=64;C++){const T=C/64,M=qe(0,v,T),[k,O,N]=bp(hx,mb,M,V);l.emplaceBack(k,O,N,T,0),u.emplaceBack(k,O,N,T,1)}this._poleSegments.push(Vr.simpleSegment(_,0,66,64)),_+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,cb,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(u,cb,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,o){if(!this._wireframeSegments){const l=new Xs,u=64,p=u+1;this._wireframeSegments=[];for(let _=0,v=0;_<yp.length;_++){const C=yp[_];for(let M=0;M<C;M++)for(let k=0;k<u;k++){const O=M*p+k;l.emplaceBack(O,O+1),l.emplaceBack(O,O+p),l.emplaceBack(O,O+p+1)}const T=C*u*3;this._wireframeSegments.push(Vr.simpleSegment(0,v,(C+1)*p,T)),v+=T}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[o]]}},f.GlyphManager=_p,f.ImagePosition=im,f.LivePerformanceUtils=vt,f.LngLat=di,f.LngLatBounds=Qc,f.LocalGlyphMode=$1,f.MAX_MERCATOR_LATITUDE=ic,f.MercatorCoordinate=rc,f.ONE_EM=24,f.OverscaledTileID=ks,f.PerformanceMarkers=rt,f.Properties=Ut,f.RGBAImage=ta,f.Ray=zf,f.RequestManager=class{constructor(a,o,l){this._transformRequestFn=a,this._customAccessToken=o,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let o="";for(let l=0;l<10;l++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fi,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,o){return this._transformRequestFn&&this._transformRequestFn(a,o)||{url:a}}normalizeStyleURL(a,o){if(!zs(a))return a;const l=Bs(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||o)}normalizeGlyphsURL(a,o){if(!zs(a))return a;const l=Bs(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||o)}normalizeSourceURL(a,o,l,u){if(!zs(a))return a;const p=Bs(a);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),l&&p.params.push(`language=${l}`),u&&p.params.push(`worldview=${u}`),this._makeAPIURL(p,this._customAccessToken||o)}normalizeSpriteURL(a,o,l,u){const p=Bs(a);return zs(a)?(p.path=`/styles/v1${p.path}/sprite${o}${l}`,this._makeAPIURL(p,this._customAccessToken||u)):(p.path+=`${o}${l}`,il(p))}normalizeTileURL(a,o,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!zs(a))return a;const u=Bs(a);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||l&&"raster"!==u.authority&&512===l?"@2x":""}${mn.supported?".webp":"$1"}`),"raster"===u.authority?u.path=`/${$t.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${$t.TILE_URL_VERSION}${u.path}`);const p=this._customAccessToken||function(_){for(const v of _){const C=v.match(/^access_token=(.*)$/);if(C)return C[1]}return null}(u.params)||$t.ACCESS_TOKEN;return $t.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,p)}canonicalizeTileURL(a,o){const l=Bs(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let u="mapbox://";l.path.match(/^\/raster\/v1\//)?u+=`raster/${l.path.replace(`/${$t.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${l.path.replace(`/${$t.TILE_URL_VERSION}/`,"")}`;let p=l.params;return o&&(p=p.filter(_=>!_.match(/^access_token=/))),p.length&&(u+=`?${p.join("&")}`),u}canonicalizeTileset(a,o){const l=!!o&&zs(o),u=[];for(const p of a.tiles||[])Lc(p)?u.push(this.canonicalizeTileURL(p,l)):u.push(p);return u}_makeAPIURL(a,o){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=Bs($t.API_URL);if(a.protocol=u.protocol,a.authority=u.authority,"http"===a.protocol){const p=a.params.indexOf("secure");p>=0&&a.params.splice(p,1)}if("/"!==u.path&&(a.path=`${u.path}${a.path}`),!$t.REQUIRE_ACCESS_TOKEN)return il(a);if(o=o||$t.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if("s"===o[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(p=>-1===p.indexOf("access_token")),a.params.push(`access_token=${o||""}`),il(a)}},f.ResourceType=Fs,f.SegmentVector=Vr,f.SourceCache=mc,f.StencilMode=Ap,f.StructArrayLayout1ui2=Jl,f.StructArrayLayout2f1f2i16=_n,f.StructArrayLayout2i4=Ei,f.StructArrayLayout2ui4=Xs,f.StructArrayLayout3f12=fl,f.StructArrayLayout3ui6=_o,f.StructArrayLayout4i8=Bi,f.StructArrayLayout5f20=Ha,f.Texture=zg,f.Tile=fc,f.Transitionable=Je,f.Uniform1f=sg,f.Uniform1i=class extends ec{constructor(a){super(a),this.current=0}set(a,o,l){this.fetchUniformLocation(a,o)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},f.Uniform2f=class extends ec{constructor(a){super(a),this.current=[0,0]}set(a,o,l){this.fetchUniformLocation(a,o)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},f.Uniform3f=class extends ec{constructor(a){super(a),this.current=[0,0,0]}set(a,o,l){this.fetchUniformLocation(a,o)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},f.Uniform4f=nv,f.UniformColor=fC,f.UniformMatrix2f=class extends ec{constructor(a){super(a),this.current=_a}set(a,o,l){if(this.fetchUniformLocation(a,o))for(let u=0;u<4;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}},f.UniformMatrix3f=class extends ec{constructor(a){super(a),this.current=iv}set(a,o,l){if(this.fetchUniformLocation(a,o))for(let u=0;u<9;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}},f.UniformMatrix4f=class extends ec{constructor(a){super(a),this.current=PD}set(a,o,l){if(this.fetchUniformLocation(a,o)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let u=1;u<16;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},f.UnwrappedTileID=UC,f.ValidationError=Ot,f.VectorTileFeature=_g,f.VectorTileWorkerSource=class extends Vs{constructor(a,o,l,u,p){super(),this.actor=a,this.layerIndex=o,this.availableImages=l,this.loadVectorData=p||g_,this.loading={},this.loaded={},this.deduped=new m_(a.scheduler),this.isSpriteLoaded=u,this.scheduler=a.scheduler}loadTile(a,o){const l=a.uid,u=a&&a.request,p=u&&u.collectResourceTiming,_=this.loading[l]=new kb(a);_.abort=this.loadVectorData(a,(v,C)=>{const T=!this.loading[l];if(delete this.loading[l],T||v||!C)return _.status="done",T||(this.loaded[l]=_),o(v);const M=C.rawData,k={};C.expires&&(k.expires=C.expires),C.cacheControl&&(k.cacheControl=C.cacheControl),_.vectorTile=C.vectorTile||new O1(new mp(M));const O=()=>{_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,(N,B)=>{if(N||!B)return o(N);const H={};if(p){const Z=cn(u);Z.length>0&&(H.resourceTiming=JSON.parse(JSON.stringify(Z)))}o(null,zn({rawTileData:M.slice(0)},B,k,H))})};this.isSpriteLoaded?O():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(O,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):O()}),this.loaded=this.loaded||{},this.loaded[l]=_})}reloadTile(a,o){const l=this.loaded,u=a.uid,p=this;if(l&&l[u]){const _=l[u];_.showCollisionBoxes=a.showCollisionBoxes,_.enableTerrain=!!a.enableTerrain,_.projection=a.projection,_.tileTransform=rh(a.tileID.canonical,a.projection);const v=(C,T)=>{const M=_.reloadCallback;M&&(delete _.reloadCallback,_.parse(_.vectorTile,p.layerIndex,this.availableImages,p.actor,M)),o(C,T)};"parsing"===_.status?_.reloadCallback=v:"done"===_.status&&(_.vectorTile?_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,v):v())}}abortTile(a,o){const l=a.uid,u=this.loading[l];u&&(u.abort&&u.abort(),delete this.loading[l]),o()}removeTile(a,o){const l=this.loaded,u=a.uid;l&&l[u]&&delete l[u],o()}},f.WritingMode=na,f.add=_l,f.addDynamicAttributes=cm,f.adjoint=function(a,o){var l=o[0],u=o[1],p=o[2],_=o[3],v=o[4],C=o[5],T=o[6],M=o[7],k=o[8];return a[0]=v*k-C*M,a[1]=p*M-u*k,a[2]=u*C-p*v,a[3]=C*T-_*k,a[4]=l*k-p*T,a[5]=p*_-l*C,a[6]=_*M-v*T,a[7]=u*T-l*M,a[8]=l*v-u*_,a},f.asyncAll=Ol,f.bezier=el,f.bindAll=Rl,f.boundsAttributes=Cx,f.bufferConvexPolygon=function(a,o){const l=[];for(let u=0;u<a.length;u++){const p=ss(u-1,-1,a.length-1),_=ss(u+1,-1,a.length-1),v=a[u],C=a[_],T=a[p].sub(v).unit(),M=C.sub(v).unit(),k=M.angleWithSep(T.x,T.y),O=T.add(M).unit().mult(-1*o/Math.sin(k/2));l.push(v.add(O))}return l},f.cacheEntryPossiblyAdded=function(a){Tu++,Tu>Th&&(a.getActor().send("enforceCacheSizeLimit",Su),Tu=0)},f.calculateGlobeLabelMatrix=function(a,o){const{x:l,y:u}=a.point,p=pb(l,u,a.worldSize/a._pixelsPerMercatorPixel,0,0);return op(p,p,hb(su(o)))},f.calculateGlobeMatrix=function(a){const{x:o,y:l}=a.point,{lng:u,lat:p}=a._center;return pb(o,l,a.worldSize,u,p)},f.calculateGlobeMercatorMatrix=function(a){const o=a.pixelsPerMeter,l=o/Qs(1,a.center.lat),u=oc(new Float64Array(16));return Of(u,u,[a.point.x,a.point.y,0]),Uu(u,u,[l,l,o]),Float32Array.from(u)},f.circumferenceAtLatitude=Ee,f.clamp=ai,f.clearTileCache=function(a){if(!gd())return;const o=He.caches.delete(md);a&&o.catch(a).then(()=>a())},f.clipLine=Jv,f.clone=function(a){var o=new ds(16);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],o},f.clone$1=xs,f.collisionCircleLayout=XC,f.config=$t,f.conjugate=function(a,o){return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=o[3],a},f.create=function(){var a=new ds(16);return ds!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},f.create$1=wC,f.createExpression=dl,f.createLayout=Pt,f.createStyleLayer=function(a){return"custom"===a.type?new yx(a):new vx[a.type](a)},f.cross=dg,f.degToRad=Zt,f.distance=function(a,o){return Math.hypot(o[0]-a[0],o[1]-a[1],o[2]-a[2])},f.div=function(a,o,l){return a[0]=o[0]/l[0],a[1]=o[1]/l[1],a[2]=o[2]/l[2],a},f.dot=ea,f.earthRadius=Vu,f.ease=Ec,f.easeCubicInOut=os,f.ecefToLatLng=function([a,o,l]){const u=Math.hypot(a,o,l),p=Math.atan2(a,l),_=.5*Math.PI-Math.acos(-o/u);return new di(Xn(p),Xn(_))},f.emitValidationErrors=Xh,f.endsWith=as,f.enforceCacheSizeLimit=function(a){Oc(),ls&&ls.then(o=>{o.keys().then(l=>{for(let u=0;u<l.length-a;u++)o.delete(l[u])})})},f.evaluateSizeForFeature=R1,f.evaluateSizeForZoom=uc,f.evaluateVariableOffset=ob,f.evented=be,f.exactEquals=function(a,o){return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]&&a[3]===o[3]},f.exactEquals$1=function(a,o){return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]},f.exported=en,f.exported$1=mn,f.extend=zn,f.extend$1=rl,f.fillExtrusionHeightLift=Jf,f.filterObject=Oi,f.fromMat4=function(a,o){return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[4],a[4]=o[5],a[5]=o[6],a[6]=o[8],a[7]=o[9],a[8]=o[10],a},f.fromQuat=function(a,o){var l=o[0],u=o[1],p=o[2],_=o[3],v=l+l,C=u+u,T=p+p,M=l*v,k=u*v,O=u*C,N=p*v,B=p*C,H=p*T,Z=_*v,J=_*C,de=_*T;return a[0]=1-O-H,a[1]=k+de,a[2]=N-J,a[3]=0,a[4]=k-de,a[5]=1-M-H,a[6]=B+Z,a[7]=0,a[8]=N+J,a[9]=B-Z,a[10]=1-M-O,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},f.fromRotation=function(a,o){var l=Math.sin(o),u=Math.cos(o);return a[0]=u,a[1]=l,a[2]=0,a[3]=-l,a[4]=u,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},f.fromScaling=u1,f.furthestTileCorner=function(a){const o=Math.round((a+45+360)%360/90)%4;return Cs[o]},f.getAABBPointSquareDist=function(a,o,l){let u=0;for(let p=0;p<2;++p){const _=l?l[p]:0;a[p]>_&&(u+=(a[p]-_)*(a[p]-_)),o[p]<_&&(u+=(_-o[p])*(_-o[p]))}return u},f.getAnchorAlignment=eh,f.getAnchorJustification=wa,f.getBounds=function(a){let o=1/0,l=1/0,u=-1/0,p=-1/0;for(const _ of a)o=Math.min(o,_.x),l=Math.min(l,_.y),u=Math.max(u,_.x),p=Math.max(p,_.y);return{min:new Fe(o,l),max:new Fe(u,p)}},f.getColumn=Ac,f.getGridMatrix=function(a,o,l,u){const p=o.getNorth(),_=o.getSouth(),v=o.getWest(),C=o.getEast(),T=1<<a.z,M=C-v,k=p-_,O=M/64,N=-k/yp[l],B=[0,O,0,N,0,0,p,v,0];if(a.z>0){const H=180/u;CC(B,B,[H/M+1,0,0,0,H/k+1,0,-.5*H/O,.5*H/N,1])}return B[2]=T,B[5]=a.x,B[8]=a.y,B},f.getImage=Fl,f.getJSON=function(a,o){return Ll(zn(a,{type:"json"}),o)},f.getLatitudinalLod=function(a){const o=80.051129;a=ai(a,-80.051129,o)/o*90;const l=Math.pow(Math.abs(Math.sin(Zt(a))),3);return Math.round(l*(yp.length-1))},f.getMapSessionAPI=Se,f.getPerformanceMeasurement=cn,f.getProjection=hc,f.getRTLTextPluginStatus=Te,f.getReferrer=yd,f.getTilePoint=function(a,{x:o,y:l},u=0){return new Fe(((o-u)*a.scale-a.x)*Mn,(l*a.scale-a.y)*Mn)},f.getTileVec3=function(a,o,l=0){return jd(((o.x-l)*a.scale-a.x)*Mn,(o.y*a.scale-a.y)*Mn,ov(o.z,o.y))},f.getVideo=function(a,o){const l=He.document.createElement("video");l.muted=!0,l.onloadstart=function(){o(null,l)};for(let u=0;u<a.length;u++){const p=He.document.createElement("source");Mh(a[u])||(l.crossOrigin="Anonymous"),p.src=a[u],l.appendChild(p)}return{cancel:()=>{}}},f.globeCenterToScreenPoint=function(a){const o=[0,0,0],l=oc(new Float64Array(16));return op(l,a.pixelMatrix,a.globeMatrix),Tr(o,o,l),new Fe(o[0],o[1])},f.globeDenormalizeECEF=hb,f.globeECEFOrigin=function(a,o){const l=[0,0,0];return Tr(l,l,wp(su(o.canonical))),Tr(l,l,a),l},f.globeNormalizeECEF=wp,f.globePixelsToTileUnits=function(a,o){return Mn/(512*Math.pow(2,a))*X1(su(o))},f.globePoleMatrixForTile=function(a,o,l){const u=oc(new Float64Array(16)),p=(o/(1<<a)-.5)*Math.PI*2;return Rf(u,l.globeMatrix,p),Float32Array.from(u)},f.globeTileBounds=su,f.globeTiltAtLngLat=fb,f.globeToMercatorTransition=vl,f.globeUseCustomAntiAliasing=function(a,o,l){const u=vl(l.zoom),p=a.style.map._antialias,_=!!o.extStandardDerivatives,v=o.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return 0===u&&!p&&!v&&_},f.identity=oc,f.identity$1=m1,f.invert=hv,f.isFullscreen=function(){return!!He.document.fullscreenElement||!!He.document.webkitFullscreenElement},f.isLngLatBehindGlobe=Rg,f.isMapAuthenticated=function(a){return Ae.has(a)},f.isMapboxURL=zs,f.isSafariWithAntialiasingBug=function(a){const o=a.navigator?a.navigator.userAgent:null;return!!pd(a)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},f.latFromMercatorY=No,f.latLngToECEF=Og,f.len=SC,f.length=Nf,f.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},f.lngFromMercatorX=Yo,f.loadVectorTile=g_,f.makeRequest=Ll,f.mapValue=function(a,o,l,u,p){return ai((a-o)/(l-o)*(p-u)+u,u,p)},f.mercatorScale=cg,f.mercatorXfromLng=gl,f.mercatorYfromLat=er,f.mercatorZfromAltitude=Qs,f.mul=Js,f.mul$1=xC,f.multiply=op,f.multiply$1=CC,f.multiply$2=fv,f.nextPowerOfTwo=Ia,f.normalize=ar,f.normalize$1=g1,f.normalize$2=mv,f.number=qe,f.ortho=function(a,o,l,u,p,_,v){var C=1/(o-l),T=1/(u-p),M=1/(_-v);return a[0]=-2*C,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*T,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*M,a[11]=0,a[12]=(o+l)*C,a[13]=(p+u)*T,a[14]=(v+_)*M,a[15]=1,a},f.pbf=mp,f.perspective=function(a,o,l,u,p){var _,v=1/Math.tan(o/2);return a[0]=v/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=v,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=p&&p!==1/0?(a[10]=(p+u)*(_=1/(u-p)),a[14]=2*p*u*_):(a[10]=-1,a[14]=-2*u),a},f.pick=function(a,o){const l={};for(let u=0;u<o.length;u++){const p=o[u];p in a&&(l[p]=a[p])}return l},f.plugin=ze,f.pointGeometry=Fe,f.polesInViewport=function(a){const o=oc(new Float64Array(16));op(o,a.pixelMatrix,a.globeMatrix);const l=[0,Wa,0],u=[0,Ca,0];return Tr(l,l,o),Tr(u,u,o),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!Rg(a,new di(a.center.lat,90)),u[0]>0&&u[0]<=a.width&&u[1]>0&&u[1]<=a.height&&!Rg(a,new di(a.center.lat,-90))]},f.polygonContainsPoint=Hd,f.polygonIntersectsBox=s1,f.polygonIntersectsPolygon=vC,f.polygonizeBounds=function(a,o,l=0,u=!0){const p=new Fe(l,l),_=a.sub(p),v=o.add(p),C=[_,new Fe(v.x,_.y),v,new Fe(_.x,v.y)];return u&&C.push(_.clone()),C},f.posAttributes=Zn,f.postMapLoadEvent=he,f.postPerformanceEvent=Re,f.postTurnstileEvent=Y,f.potpack=U1,f.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},f.radToDeg=Xn,f.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],f.registerForPluginStateChange=function(a){return a({pluginStatus:ue,pluginURL:se}),be.on("pluginStateChange",a),a},f.removeAuthState=function(a){Ae.delete(a)},f.renderColorRamp=C1,f.resample=rp,f.rotateX=Pf,f.rotateX$1=_v,f.rotateY=Rf,f.rotateY$1=yv,f.rotateZ=function(a,o,l){var u=Math.sin(l),p=Math.cos(l),_=o[0],v=o[1],C=o[2],T=o[3],M=o[4],k=o[5],O=o[6],N=o[7];return o!==a&&(a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=_*p+M*u,a[1]=v*p+k*u,a[2]=C*p+O*u,a[3]=T*p+N*u,a[4]=M*p-_*u,a[5]=k*p-v*u,a[6]=O*p-C*u,a[7]=N*p-T*u,a},f.rotateZ$1=function(a,o,l){l*=.5;var u=o[0],p=o[1],_=o[2],v=o[3],C=Math.sin(l),T=Math.cos(l);return a[0]=u*T+p*C,a[1]=p*T-u*C,a[2]=_*T+v*C,a[3]=v*T-_*C,a},f.scale=Uu,f.scale$1=f1,f.scale$2=va,f.scaleAndAdd=Ff,f.set=function(a,o,l,u){return a[0]=o,a[1]=l,a[2]=u,a},f.setCacheLimits=function(a,o){Su=a,Th=o},f.setColumn=function(a,o,l){a[4*o+0]=l[0],a[4*o+1]=l[1],a[4*o+2]=l[2],a[4*o+3]=l[3]},f.setRTLTextPlugin=function(a,o,l=!1){if(ue===ne||ue===oe||ue===ee)throw new Error("setRTLTextPlugin cannot be called multiple times.");se=en.resolveURL(a),ue=ne,te=o,Ce(),l||Ue()},f.smoothstep=Ic,f.spec=tt,f.squaredLength=function(a){var o=a[0],l=a[1],u=a[2];return o*o+l*l+u*u},f.storeAuthState=function(a,o){o?Ae.add(a):Ae.delete(a)},f.sub=ja,f.subtract=p1,f.symbolSize=N1,f.tileAABB=function(a,o,l,u,p,_,v,C,T){if("globe"===T.name)return function dx(a,o,l){const u=o/a.worldSize,p=a.globeMatrix;if(l.z<=1){const Be=su(l).getCorners();return Fo(Be,p,u),hs.fromPoints(Be)}const _=vp(l),v=sm(_);Fo(v,p,u);const C=Number.MAX_VALUE,T=[-C,-C,-C],M=[C,C,C];if(_.contains(a.center)){for(const pt of v)Lf(M,M,pt),sp(T,T,pt);T[2]=0;const Be=a.point,et=[Be.x*u,Be.y*u,0];return Lf(M,M,et),sp(T,T,et),new hs(M,T)}const k=[p[12]*u,p[13]*u,p[14]*u],O=_.getCenter(),N=ai(a.center.lat,-85.051129,ic),B=ai(O.lat,-85.051129,ic),H=gl(a.center.lng),Z=er(N);let J=H-gl(O.lng);const de=Z-er(B);J>.5?J-=1:J<-.5&&(J+=1);let ge=0;Math.abs(J)>Math.abs(de)?ge=J>=0?1:3:(ge=de>=0?0:2,Ff(k,k,[p[4]*u,p[5]*u,p[6]*u],-Math.sin(Zt(de>=0?_.getSouth():_.getNorth()))*V));const le=v[ge],fe=v[(ge+1)%4],we=new ux(le,fe,k),_e=[K1(we,0)||le[0],K1(we,1)||le[1],K1(we,2)||le[2]],Ve=vl(a.zoom);if(Ve>0){const Be=function({x:pt,y:Ge,z:nt},st,ut,ht,We){const xt=1/(1<<nt);let bn=pt*xt,Et=bn+xt,jt=Ge*xt,Mt=jt+xt,wn=0;const oi=(bn+Et)/2-ht;return oi>.5?wn=-1:oi<-.5&&(wn=1),bn=((bn+wn)*st-(ht*=st))*ut+ht,Et=((Et+wn)*st-ht)*ut+ht,jt=(jt*st-(We*=st))*ut+We,Mt=(Mt*st-We)*ut+We,[[bn,Mt,0],[Et,Mt,0],[Et,jt,0],[bn,jt,0]]}(l,o,a._pixelsPerMercatorPixel,H,Z);for(let pt=0;pt<v.length;pt++)qu(v[pt],Be[pt],Ve);const et=_l([],Be[ge],Be[(ge+1)%4]);va(et,et,.5),qu(_e,et,Ve)}for(const Be of v)Lf(M,M,Be),sp(T,T,Be);return M[2]=Math.min(le[2],fe[2]),Lf(M,M,_e),sp(T,T,_e),new hs(M,T)}(a,o,new tm(l,u,p));const M=rh({z:l,x:u,y:p},T);return new hs([(_+M.x/M.scale)*o,o*(M.y/M.scale),v],[(_+M.x2/M.scale)*o,o*(M.y2/M.scale),C])},f.tileCornersToBounds=vp,f.tileTransform=rh,f.transformMat3=function(a,o,l){var u=o[0],p=o[1],_=o[2];return a[0]=u*l[0]+p*l[3]+_*l[6],a[1]=u*l[1]+p*l[4]+_*l[7],a[2]=u*l[2]+p*l[5]+_*l[8],a},f.transformMat4=Tr,f.transformMat4$1=ju,f.transformQuat=Xo,f.transitionTileAABBinECEF=Y1,f.translate=Of,f.transpose=function(a,o){if(a===o){var l=o[1],u=o[2],p=o[5];a[1]=o[3],a[2]=o[6],a[3]=l,a[5]=o[7],a[6]=u,a[7]=p}else a[0]=o[0],a[1]=o[3],a[2]=o[6],a[3]=o[1],a[4]=o[4],a[5]=o[7],a[6]=o[2],a[7]=o[5],a[8]=o[8];return a},f.triggerPluginCompletionEvent=pe,f.uniqueId=hd,f.updateGlobeVertexNormal=function(a,o,l,u,p){const _=5*o+2;a.float32[_+0]=l,a.float32[_+1]=u,a.float32[_+2]=p},f.validateCustomStyleLayer=function(a){const o=[],l=a.id;return void 0===l&&o.push({message:`layers.${l}: missing required property "id"`}),void 0===a.render&&o.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&"2d"!==a.renderingMode&&"3d"!==a.renderingMode&&o.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),o},f.validateFilter=a=>fa(Ou(a)),f.validateFog=a=>fa(Mi(a)),f.validateLayer=a=>fa(Kh(a)),f.validateLight=a=>fa(tg(a)),f.validateSource=a=>fa(bf(a)),f.validateStyle=Yh,f.validateTerrain=a=>fa(_t(a)),f.values=Pl,f.vectorTile=pp,f.version=$n,f.warnOnce=yr,f.window=He,f.wrap=ss}),Rn(0,function(f){function He(ce){if("number"==typeof ce||"boolean"==typeof ce||"string"==typeof ce||null==ce)return JSON.stringify(ce);if(Array.isArray(ce)){let Y="[";for(const ae of ce)Y+=`${He(ae)},`;return`${Y}]`}let j="{";for(const Y of Object.keys(ce).sort())j+=`${Y}:${He(ce[Y])},`;return`${j}}`}function $n(ce){let j="";for(const Y of f.refProperties)j+=`/${He(ce[Y])}`;return j}class Ti{constructor(j){this.keyCache={},j&&this.replace(j)}replace(j){this._layerConfigs={},this._layers={},this.update(j,[])}update(j,Y){for(const he of j)this._layerConfigs[he.id]=he,(this._layers[he.id]=f.createStyleLayer(he)).compileFilter(),this.keyCache[he.id]&&delete this.keyCache[he.id];for(const he of Y)delete this.keyCache[he],delete this._layerConfigs[he],delete this._layers[he];this.familiesBySource={};const ae=function(he,xe){const Re={};for(let Se=0;Se<he.length;Se++){const Ae=xe&&xe[he[Se].id]||$n(he[Se]);xe&&(xe[he[Se].id]=Ae);let rt=Re[Ae];rt||(rt=Re[Ae]=[]),rt.push(he[Se])}const ke=[];for(const Se in Re)ke.push(Re[Se]);return ke}(f.values(this._layerConfigs),this.keyCache);for(const he of ae){const xe=he.map(vt=>this._layers[vt.id]),Re=xe[0];if("none"===Re.visibility)continue;const ke=Re.source||"";let Se=this.familiesBySource[ke];Se||(Se=this.familiesBySource[ke]={});const Ae=Re.sourceLayer||"_geojsonTileLayer";let rt=Se[Ae];rt||(rt=Se[Ae]=[]),rt.push(xe)}}}class $t{loadTile(j,Y){const{uid:ae,encoding:he,rawImageData:xe,padding:Re,buildQuadTree:ke}=j,Se=f.window.ImageBitmap&&xe instanceof f.window.ImageBitmap?this.getImageData(xe,Re):xe;Y(null,new f.DEMData(ae,Se,he,Re<1,ke))}getImageData(j,Y){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(j.width,j.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=j.width,this.offscreenCanvas.height=j.height,this.offscreenCanvasContext.drawImage(j,0,0,j.width,j.height);const ae=this.offscreenCanvasContext.getImageData(-Y,-Y,j.width+2*Y,j.height+2*Y);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ae}}var mn=function ce(j,Y){var ae,he=j&&j.type;if("FeatureCollection"===he)for(ae=0;ae<j.features.length;ae++)ce(j.features[ae],Y);else if("GeometryCollection"===he)for(ae=0;ae<j.geometries.length;ae++)ce(j.geometries[ae],Y);else if("Feature"===he)ce(j.geometry,Y);else if("Polygon"===he)Ci(j.coordinates,Y);else if("MultiPolygon"===he)for(ae=0;ae<j.coordinates.length;ae++)Ci(j.coordinates[ae],Y);return j};function Ci(ce,j){if(0!==ce.length){_r(ce[0],j);for(var Y=1;Y<ce.length;Y++)_r(ce[Y],!j)}}function _r(ce,j){for(var Y=0,ae=0,he=0,xe=ce.length,Re=xe-1;he<xe;Re=he++){var ke=(ce[he][0]-ce[Re][0])*(ce[Re][1]+ce[he][1]),Se=Y+ke;ae+=Math.abs(Y)>=Math.abs(ke)?Y-Se+ke:ke-Se+Y,Y=Se}Y+ae>=0!=!!j&&ce.reverse()}const zr=f.VectorTileFeature.prototype.toGeoJSON;class rs{constructor(j){this._feature=j,this.extent=f.EXTENT,this.type=j.type,this.properties=j.tags,"id"in j&&!isNaN(j.id)&&(this.id=parseInt(j.id,10))}loadGeometry(){if(1===this._feature.type){const j=[];for(const Y of this._feature.geometry)j.push([new f.pointGeometry(Y[0],Y[1])]);return j}{const j=[];for(const Y of this._feature.geometry){const ae=[];for(const he of Y)ae.push(new f.pointGeometry(he[0],he[1]));j.push(ae)}return j}}toGeoJSON(j,Y,ae){return zr.call(this,j,Y,ae)}}class rr{constructor(j){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.EXTENT,this.length=j.length,this._features=j}feature(j){return new rs(this._features[j])}}var fi={exports:{}},Jt=f.pointGeometry,xn=f.vectorTile.VectorTileFeature,Fe=Wt;function Wt(ce,j){this.options=j||{},this.features=ce,this.length=ce.length}function yn(ce,j){this.id="number"==typeof ce.id?ce.id:void 0,this.type=ce.type,this.rawGeometry=1===ce.type?[ce.geometry]:ce.geometry,this.properties=ce.tags,this.extent=j||4096}Wt.prototype.feature=function(ce){return new yn(this.features[ce],this.options.extent)},yn.prototype.loadGeometry=function(){var ce=this.rawGeometry;this.geometry=[];for(var j=0;j<ce.length;j++){for(var Y=ce[j],ae=[],he=0;he<Y.length;he++)ae.push(new Jt(Y[he][0],Y[he][1]));this.geometry.push(ae)}return this.geometry},yn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ce=this.geometry,j=1/0,Y=-1/0,ae=1/0,he=-1/0,xe=0;xe<ce.length;xe++)for(var Re=ce[xe],ke=0;ke<Re.length;ke++){var Se=Re[ke];j=Math.min(j,Se.x),Y=Math.max(Y,Se.x),ae=Math.min(ae,Se.y),he=Math.max(he,Se.y)}return[j,ae,Y,he]},yn.prototype.toGeoJSON=xn.prototype.toGeoJSON;var hi=f.pbf,Zt=Fe;function Xn(ce){var j=new hi;return function(Y,ae){for(var he in Y.layers)ae.writeMessage(3,Cs,Y.layers[he])}(ce,j),j.finish()}function Cs(ce,j){var Y;j.writeVarintField(15,ce.version||1),j.writeStringField(1,ce.name||""),j.writeVarintField(5,ce.extent||4096);var ae={keys:[],values:[],keycache:{},valuecache:{}};for(Y=0;Y<ce.length;Y++)ae.feature=ce.feature(Y),j.writeMessage(2,os,ae);var he=ae.keys;for(Y=0;Y<he.length;Y++)j.writeStringField(3,he[Y]);var xe=ae.values;for(Y=0;Y<xe.length;Y++)j.writeMessage(4,ss,xe[Y])}function os(ce,j){var Y=ce.feature;void 0!==Y.id&&j.writeVarintField(1,Y.id),j.writeMessage(2,el,ce),j.writeVarintField(3,Y.type),j.writeMessage(4,Ic,Y)}function el(ce,j){var Y=ce.feature,ae=ce.keys,he=ce.values,xe=ce.keycache,Re=ce.valuecache;for(var ke in Y.properties){var Se=Y.properties[ke],Ae=xe[ke];if(null!==Se){void 0===Ae&&(ae.push(ke),xe[ke]=Ae=ae.length-1),j.writeVarint(Ae);var rt=typeof Se;"string"!==rt&&"boolean"!==rt&&"number"!==rt&&(Se=JSON.stringify(Se));var vt=rt+":"+Se,ft=Re[vt];void 0===ft&&(he.push(Se),Re[vt]=ft=he.length-1),j.writeVarint(ft)}}}function Ec(ce,j){return(j<<3)+(7&ce)}function ai(ce){return ce<<1^ce>>31}function Ic(ce,j){for(var Y=ce.loadGeometry(),ae=ce.type,he=0,xe=0,Re=Y.length,ke=0;ke<Re;ke++){var Se=Y[ke],Ae=1;1===ae&&(Ae=Se.length),j.writeVarint(Ec(1,Ae));for(var rt=3===ae?Se.length-1:Se.length,vt=0;vt<rt;vt++){1===vt&&1!==ae&&j.writeVarint(Ec(2,rt-1));var ft=Se[vt].x-he,gn=Se[vt].y-xe;j.writeVarint(ai(ft)),j.writeVarint(ai(gn)),he+=ft,xe+=gn}3===ae&&j.writeVarint(Ec(7,1))}}function ss(ce,j){var Y=typeof ce;"string"===Y?j.writeStringField(1,ce):"boolean"===Y?j.writeBooleanField(7,ce):"number"===Y&&(ce%1!=0?j.writeDoubleField(3,ce):ce<0?j.writeSVarintField(6,ce):j.writeVarintField(5,ce))}function Ol(ce,j,Y,ae,he,xe){if(he-ae<=Y)return;const Re=ae+he>>1;Pl(ce,j,Re,ae,he,xe%2),Ol(ce,j,Y,ae,Re-1,xe+1),Ol(ce,j,Y,Re+1,he,xe+1)}function Pl(ce,j,Y,ae,he,xe){for(;he>ae;){if(he-ae>600){const Ae=he-ae+1,rt=Y-ae+1,vt=Math.log(Ae),ft=.5*Math.exp(2*vt/3),gn=.5*Math.sqrt(vt*ft*(Ae-ft)/Ae)*(rt-Ae/2<0?-1:1);Pl(ce,j,Y,Math.max(ae,Math.floor(Y-rt*ft/Ae+gn)),Math.min(he,Math.floor(Y+(Ae-rt)*ft/Ae+gn)),xe)}const Re=j[2*Y+xe];let ke=ae,Se=he;for(zn(ce,j,ae,Y),j[2*he+xe]>Re&&zn(ce,j,ae,he);ke<Se;){for(zn(ce,j,ke,Se),ke++,Se--;j[2*ke+xe]<Re;)ke++;for(;j[2*Se+xe]>Re;)Se--}j[2*ae+xe]===Re?zn(ce,j,ae,Se):(Se++,zn(ce,j,Se,he)),Se<=Y&&(ae=Se+1),Y<=Se&&(he=Se-1)}}function zn(ce,j,Y,ae){kc(ce,Y,ae),kc(j,2*Y,2*ae),kc(j,2*Y+1,2*ae+1)}function kc(ce,j,Y){const ae=ce[j];ce[j]=ce[Y],ce[Y]=ae}function hd(ce,j,Y,ae){const he=ce-Y,xe=j-ae;return he*he+xe*xe}fi.exports=Xn,fi.exports.fromVectorTileJs=Xn,fi.exports.fromGeojsonVt=function(ce,j){j=j||{};var Y={};for(var ae in ce)Y[ae]=new Zt(ce[ae].features,j),Y[ae].name=ae,Y[ae].version=j.version,Y[ae].extent=j.extent;return Xn({layers:Y})},fi.exports.GeoJSONWrapper=Zt;const tl=ce=>ce[0],Ia=ce=>ce[1];class Ct{constructor(j,Y=tl,ae=Ia,he=64,xe=Float64Array){this.nodeSize=he,this.points=j;const Re=j.length<65536?Uint16Array:Uint32Array,ke=this.ids=new Re(j.length),Se=this.coords=new xe(2*j.length);for(let Ae=0;Ae<j.length;Ae++)ke[Ae]=Ae,Se[2*Ae]=Y(j[Ae]),Se[2*Ae+1]=ae(j[Ae]);Ol(ke,Se,he,0,ke.length-1,0)}range(j,Y,ae,he){return function(xe,Re,ke,Se,Ae,rt,vt){const ft=[0,xe.length-1,0],gn=[];let cn,Xt;for(;ft.length;){const Tn=ft.pop(),qn=ft.pop(),Pi=ft.pop();if(qn-Pi<=vt){for(let or=Pi;or<=qn;or++)cn=Re[2*or],Xt=Re[2*or+1],cn>=ke&&cn<=Ae&&Xt>=Se&&Xt<=rt&&gn.push(xe[or]);continue}const en=Math.floor((Pi+qn)/2);cn=Re[2*en],Xt=Re[2*en+1],cn>=ke&&cn<=Ae&&Xt>=Se&&Xt<=rt&&gn.push(xe[en]);const $i=(Tn+1)%2;(0===Tn?ke<=cn:Se<=Xt)&&(ft.push(Pi),ft.push(en-1),ft.push($i)),(0===Tn?Ae>=cn:rt>=Xt)&&(ft.push(en+1),ft.push(qn),ft.push($i))}return gn}(this.ids,this.coords,j,Y,ae,he,this.nodeSize)}within(j,Y,ae){return function(he,xe,Re,ke,Se,Ae){const rt=[0,he.length-1,0],vt=[],ft=Se*Se;for(;rt.length;){const gn=rt.pop(),cn=rt.pop(),Xt=rt.pop();if(cn-Xt<=Ae){for(let $i=Xt;$i<=cn;$i++)hd(xe[2*$i],xe[2*$i+1],Re,ke)<=ft&&vt.push(he[$i]);continue}const Tn=Math.floor((Xt+cn)/2),qn=xe[2*Tn],Pi=xe[2*Tn+1];hd(qn,Pi,Re,ke)<=ft&&vt.push(he[Tn]);const en=(gn+1)%2;(0===gn?Re-Se<=qn:ke-Se<=Pi)&&(rt.push(Xt),rt.push(Tn-1),rt.push(en)),(0===gn?Re+Se>=qn:ke+Se>=Pi)&&(rt.push(Tn+1),rt.push(cn),rt.push(en))}return vt}(this.ids,this.coords,j,Y,ae,this.nodeSize)}}const Rl={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ce=>ce},as=Math.fround||(Ai=new Float32Array(1),ce=>(Ai[0]=+ce,Ai[0]));var Ai;class Oi{constructor(j){this.options=Nl(Object.create(Rl),j),this.trees=new Array(this.options.maxZoom+1)}load(j){const{log:Y,minZoom:ae,maxZoom:he,nodeSize:xe}=this.options;Y&&console.time("total time");const Re=`prepare ${j.length} points`;Y&&console.time(Re),this.points=j;let ke=[];for(let Se=0;Se<j.length;Se++)j[Se].geometry&&ke.push(Kt(j[Se],Se));this.trees[he+1]=new Ct(ke,pd,fd,xe,Float32Array),Y&&console.timeEnd(Re);for(let Se=he;Se>=ae;Se--){const Ae=+Date.now();ke=this._cluster(ke,Se),this.trees[Se]=new Ct(ke,pd,fd,xe,Float32Array),Y&&console.log("z%d: %d clusters in %dms",Se,ke.length,+Date.now()-Ae)}return Y&&console.timeEnd("total time"),this}getClusters(j,Y){let ae=((j[0]+180)%360+360)%360-180;const he=Math.max(-90,Math.min(90,j[1]));let xe=180===j[2]?180:((j[2]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,j[3]));if(j[2]-j[0]>=360)ae=-180,xe=180;else if(ae>xe){const rt=this.getClusters([ae,he,180,Re],Y),vt=this.getClusters([-180,he,xe,Re],Y);return rt.concat(vt)}const ke=this.trees[this._limitZoom(Y)],Se=ke.range(gi(ae),Aa(Re),gi(xe),Aa(he)),Ae=[];for(const rt of Se){const vt=ke.points[rt];Ae.push(vt.numPoints?yr(vt):this.points[vt.index])}return Ae}getChildren(j){const Y=this._getOriginId(j),ae=this._getOriginZoom(j),he="No cluster with the specified id.",xe=this.trees[ae];if(!xe)throw new Error(he);const Re=xe.points[Y];if(!Re)throw new Error(he);const ke=this.options.radius/(this.options.extent*Math.pow(2,ae-1)),Se=xe.within(Re.x,Re.y,ke),Ae=[];for(const rt of Se){const vt=xe.points[rt];vt.parentId===j&&Ae.push(vt.numPoints?yr(vt):this.points[vt.index])}if(0===Ae.length)throw new Error(he);return Ae}getLeaves(j,Y,ae){const he=[];return this._appendLeaves(he,j,Y=Y||10,ae=ae||0,0),he}getTile(j,Y,ae){const he=this.trees[this._limitZoom(j)],xe=Math.pow(2,j),{extent:Re,radius:ke}=this.options,Se=ke/Re,Ae=(ae-Se)/xe,rt=(ae+1+Se)/xe,vt={features:[]};return this._addTileFeatures(he.range((Y-Se)/xe,Ae,(Y+1+Se)/xe,rt),he.points,Y,ae,xe,vt),0===Y&&this._addTileFeatures(he.range(1-Se/xe,Ae,1,rt),he.points,xe,ae,xe,vt),Y===xe-1&&this._addTileFeatures(he.range(0,Ae,Se/xe,rt),he.points,-1,ae,xe,vt),vt.features.length?vt:null}getClusterExpansionZoom(j){let Y=this._getOriginZoom(j)-1;for(;Y<=this.options.maxZoom;){const ae=this.getChildren(j);if(Y++,1!==ae.length)break;j=ae[0].properties.cluster_id}return Y}_appendLeaves(j,Y,ae,he,xe){const Re=this.getChildren(Y);for(const ke of Re){const Se=ke.properties;if(Se&&Se.cluster?xe+Se.point_count<=he?xe+=Se.point_count:xe=this._appendLeaves(j,Se.cluster_id,ae,he,xe):xe<he?xe++:j.push(ke),j.length===ae)break}return xe}_addTileFeatures(j,Y,ae,he,xe,Re){for(const ke of j){const Se=Y[ke],Ae=Se.numPoints;let rt,vt,ft;if(Ae)rt=ka(Se),vt=Se.x,ft=Se.y;else{const Xt=this.points[Se.index];rt=Xt.properties,vt=gi(Xt.geometry.coordinates[0]),ft=Aa(Xt.geometry.coordinates[1])}const gn={type:1,geometry:[[Math.round(this.options.extent*(vt*xe-ae)),Math.round(this.options.extent*(ft*xe-he))]],tags:rt};let cn;Ae?cn=Se.id:this.options.generateId?cn=Se.index:this.points[Se.index].id&&(cn=this.points[Se.index].id),void 0!==cn&&(gn.id=cn),Re.features.push(gn)}}_limitZoom(j){return Math.max(this.options.minZoom,Math.min(Math.floor(+j),this.options.maxZoom+1))}_cluster(j,Y){const ae=[],{radius:he,extent:xe,reduce:Re,minPoints:ke}=this.options,Se=he/(xe*Math.pow(2,Y));for(let Ae=0;Ae<j.length;Ae++){const rt=j[Ae];if(rt.zoom<=Y)continue;rt.zoom=Y;const vt=this.trees[Y+1],ft=vt.within(rt.x,rt.y,Se),gn=rt.numPoints||1;let cn=gn;for(const Xt of ft){const Tn=vt.points[Xt];Tn.zoom>Y&&(cn+=Tn.numPoints||1)}if(cn>gn&&cn>=ke){let Xt=rt.x*gn,Tn=rt.y*gn,qn=Re&&gn>1?this._map(rt,!0):null;const Pi=(Ae<<5)+(Y+1)+this.points.length;for(const en of ft){const $i=vt.points[en];if($i.zoom<=Y)continue;$i.zoom=Y;const or=$i.numPoints||1;Xt+=$i.x*or,Tn+=$i.y*or,$i.parentId=Pi,Re&&(qn||(qn=this._map(rt,!0)),Re(qn,this._map($i)))}rt.parentId=Pi,ae.push(xs(Xt/cn,Tn/cn,Pi,cn,qn))}else if(ae.push(rt),cn>1)for(const Xt of ft){const Tn=vt.points[Xt];Tn.zoom<=Y||(Tn.zoom=Y,ae.push(Tn))}}return ae}_getOriginId(j){return j-this.points.length>>5}_getOriginZoom(j){return(j-this.points.length)%32}_map(j,Y){if(j.numPoints)return Y?Nl({},j.properties):j.properties;const ae=this.points[j.index].properties,he=this.options.map(ae);return Y&&he===ae?Nl({},he):he}}function xs(ce,j,Y,ae,he){return{x:as(ce),y:as(j),zoom:1/0,id:Y,parentId:-1,numPoints:ae,properties:he}}function Kt(ce,j){const[Y,ae]=ce.geometry.coordinates;return{x:as(gi(Y)),y:as(Aa(ae)),zoom:1/0,index:j,parentId:-1}}function yr(ce){return{type:"Feature",id:ce.id,properties:ka(ce),geometry:{type:"Point",coordinates:[(j=ce.x,360*(j-.5)),Sh(ce.y)]}};var j}function ka(ce){const j=ce.numPoints,Y=j>=1e4?`${Math.round(j/1e3)}k`:j>=1e3?Math.round(j/100)/10+"k":j;return Nl(Nl({},ce.properties),{cluster:!0,cluster_id:ce.id,point_count:j,point_count_abbreviated:Y})}function gi(ce){return ce/360+.5}function Aa(ce){const j=Math.sin(ce*Math.PI/180),Y=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return Y<0?0:Y>1?1:Y}function Sh(ce){const j=(180-360*ce)*Math.PI/180;return 360*Math.atan(Math.exp(j))/Math.PI-90}function Nl(ce,j){for(const Y in j)ce[Y]=j[Y];return ce}function pd(ce){return ce.x}function fd(ce){return ce.y}function Ac(ce,j,Y,ae){for(var he,xe=ae,Re=Y-j>>1,ke=Y-j,Se=ce[j],Ae=ce[j+1],rt=ce[Y],vt=ce[Y+1],ft=j+3;ft<Y;ft+=3){var gn=md(ce[ft],ce[ft+1],Se,Ae,rt,vt);if(gn>xe)he=ft,xe=gn;else if(gn===xe){var cn=Math.abs(ft-Re);cn<ke&&(he=ft,ke=cn)}}xe>ae&&(he-j>3&&Ac(ce,j,he,ae),ce[he+2]=xe,Y-he>3&&Ac(ce,he,Y,ae))}function md(ce,j,Y,ae,he,xe){var Re=he-Y,ke=xe-ae;if(0!==Re||0!==ke){var Se=((ce-Y)*Re+(j-ae)*ke)/(Re*Re+ke*ke);Se>1?(Y=he,ae=xe):Se>0&&(Y+=Re*Se,ae+=ke*Se)}return(Re=ce-Y)*Re+(ke=j-ae)*ke}function ls(ce,j,Y,ae){var he={id:void 0===ce?null:ce,type:j,geometry:Y,tags:ae,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(xe){var Re=xe.geometry,ke=xe.type;if("Point"===ke||"MultiPoint"===ke||"LineString"===ke)nl(xe,Re);else if("Polygon"===ke||"MultiLineString"===ke)for(var Se=0;Se<Re.length;Se++)nl(xe,Re[Se]);else if("MultiPolygon"===ke)for(Se=0;Se<Re.length;Se++)for(var Ae=0;Ae<Re[Se].length;Ae++)nl(xe,Re[Se][Ae])}(he),he}function nl(ce,j){for(var Y=0;Y<j.length;Y+=3)ce.minX=Math.min(ce.minX,j[Y]),ce.minY=Math.min(ce.minY,j[Y+1]),ce.maxX=Math.max(ce.maxX,j[Y]),ce.maxY=Math.max(ce.maxY,j[Y+1])}function Su(ce,j,Y,ae){if(j.geometry){var he=j.geometry.coordinates,xe=j.geometry.type,Re=Math.pow(Y.tolerance/((1<<Y.maxZoom)*Y.extent),2),ke=[],Se=j.id;if(Y.promoteId?Se=j.properties[Y.promoteId]:Y.generateId&&(Se=ae||0),"Point"===xe)Th(he,ke);else if("MultiPoint"===xe)for(var Ae=0;Ae<he.length;Ae++)Th(he[Ae],ke);else if("LineString"===xe)gd(he,ke,Re,!1);else if("MultiLineString"===xe){if(Y.lineMetrics){for(Ae=0;Ae<he.length;Ae++)gd(he[Ae],ke=[],Re,!1),ce.push(ls(Se,"LineString",ke,j.properties));return}Oc(he,ke,Re,!1)}else if("Polygon"===xe)Oc(he,ke,Re,!0);else{if("MultiPolygon"!==xe){if("GeometryCollection"===xe){for(Ae=0;Ae<j.geometry.geometries.length;Ae++)Su(ce,{id:Se,geometry:j.geometry.geometries[Ae],properties:j.properties},Y,ae);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ae=0;Ae<he.length;Ae++){var rt=[];Oc(he[Ae],rt,Re,!0),ke.push(rt)}}ce.push(ls(Se,xe,ke,j.properties))}}function Th(ce,j){j.push(la(ce[0])),j.push(Tu(ce[1])),j.push(0)}function gd(ce,j,Y,ae){for(var he,xe,Re=0,ke=0;ke<ce.length;ke++){var Se=la(ce[ke][0]),Ae=Tu(ce[ke][1]);j.push(Se),j.push(Ae),j.push(0),ke>0&&(Re+=ae?(he*Ae-Se*xe)/2:Math.sqrt(Math.pow(Se-he,2)+Math.pow(Ae-xe,2))),he=Se,xe=Ae}var rt=j.length-3;j[2]=1,Ac(j,0,rt,Y),j[rt+2]=1,j.size=Math.abs(Re),j.start=0,j.end=j.size}function Oc(ce,j,Y,ae){for(var he=0;he<ce.length;he++){var xe=[];gd(ce[he],xe,Y,ae),j.push(xe)}}function la(ce){return ce/360+.5}function Tu(ce){var j=Math.sin(ce*Math.PI/180),Y=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return Y<0?0:Y>1?1:Y}function Fs(ce,j,Y,ae,he,xe,Re,ke){if(ae/=j,xe>=(Y/=j)&&Re<ae)return ce;if(Re<Y||xe>=ae)return null;for(var Se=[],Ae=0;Ae<ce.length;Ae++){var rt=ce[Ae],vt=rt.geometry,ft=rt.type,gn=0===he?rt.minX:rt.minY,cn=0===he?rt.maxX:rt.maxY;if(gn>=Y&&cn<ae)Se.push(rt);else if(!(cn<Y||gn>=ae)){var Xt=[];if("Point"===ft||"MultiPoint"===ft)_d(vt,Xt,Y,ae,he);else if("LineString"===ft)yd(vt,Xt,Y,ae,he,!1,ke.lineMetrics);else if("MultiLineString"===ft)Pc(vt,Xt,Y,ae,he,!1);else if("Polygon"===ft)Pc(vt,Xt,Y,ae,he,!0);else if("MultiPolygon"===ft)for(var Tn=0;Tn<vt.length;Tn++){var qn=[];Pc(vt[Tn],qn,Y,ae,he,!0),qn.length&&Xt.push(qn)}if(Xt.length){if(ke.lineMetrics&&"LineString"===ft){for(Tn=0;Tn<Xt.length;Tn++)Se.push(ls(rt.id,ft,Xt[Tn],rt.tags));continue}"LineString"!==ft&&"MultiLineString"!==ft||(1===Xt.length?(ft="LineString",Xt=Xt[0]):ft="MultiLineString"),"Point"!==ft&&"MultiPoint"!==ft||(ft=3===Xt.length?"Point":"MultiPoint"),Se.push(ls(rt.id,ft,Xt,rt.tags))}}}return Se.length?Se:null}function _d(ce,j,Y,ae,he){for(var xe=0;xe<ce.length;xe+=3){var Re=ce[xe+he];Re>=Y&&Re<=ae&&(j.push(ce[xe]),j.push(ce[xe+1]),j.push(ce[xe+2]))}}function yd(ce,j,Y,ae,he,xe,Re){for(var ke,Se,Ae=Ll(ce),rt=0===he?af:vd,vt=ce.start,ft=0;ft<ce.length-3;ft+=3){var gn=ce[ft],cn=ce[ft+1],Xt=ce[ft+2],Tn=ce[ft+3],qn=ce[ft+4],Pi=0===he?gn:cn,en=0===he?Tn:qn,$i=!1;Re&&(ke=Math.sqrt(Math.pow(gn-Tn,2)+Math.pow(cn-qn,2))),Pi<Y?en>Y&&(Se=rt(Ae,gn,cn,Tn,qn,Y),Re&&(Ae.start=vt+ke*Se)):Pi>ae?en<ae&&(Se=rt(Ae,gn,cn,Tn,qn,ae),Re&&(Ae.start=vt+ke*Se)):Mh(Ae,gn,cn,Xt),en<Y&&Pi>=Y&&(Se=rt(Ae,gn,cn,Tn,qn,Y),$i=!0),en>ae&&Pi<=ae&&(Se=rt(Ae,gn,cn,Tn,qn,ae),$i=!0),!xe&&$i&&(Re&&(Ae.end=vt+ke*Se),j.push(Ae),Ae=Ll(ce)),Re&&(vt+=ke)}var or=ce.length-3;gn=ce[or],cn=ce[or+1],Xt=ce[or+2],(Pi=0===he?gn:cn)>=Y&&Pi<=ae&&Mh(Ae,gn,cn,Xt),or=Ae.length-3,xe&&or>=3&&(Ae[or]!==Ae[0]||Ae[or+1]!==Ae[1])&&Mh(Ae,Ae[0],Ae[1],Ae[2]),Ae.length&&j.push(Ae)}function Ll(ce){var j=[];return j.size=ce.size,j.start=ce.start,j.end=ce.end,j}function Pc(ce,j,Y,ae,he,xe){for(var Re=0;Re<ce.length;Re++)yd(ce[Re],j,Y,ae,he,xe,!1)}function Mh(ce,j,Y,ae){ce.push(j),ce.push(Y),ce.push(ae)}function af(ce,j,Y,ae,he,xe){var Re=(xe-j)/(ae-j);return ce.push(xe),ce.push(Y+(he-Y)*Re),ce.push(1),Re}function vd(ce,j,Y,ae,he,xe){var Re=(xe-Y)/(he-Y);return ce.push(j+(ae-j)*Re),ce.push(xe),ce.push(1),Re}function Rc(ce,j){for(var Y=[],ae=0;ae<ce.length;ae++){var he,xe=ce[ae],Re=xe.type;if("Point"===Re||"MultiPoint"===Re||"LineString"===Re)he=Fl(xe.geometry,j);else if("MultiLineString"===Re||"Polygon"===Re){he=[];for(var ke=0;ke<xe.geometry.length;ke++)he.push(Fl(xe.geometry[ke],j))}else if("MultiPolygon"===Re)for(he=[],ke=0;ke<xe.geometry.length;ke++){for(var Se=[],Ae=0;Ae<xe.geometry[ke].length;Ae++)Se.push(Fl(xe.geometry[ke][Ae],j));he.push(Se)}Y.push(ls(xe.id,Re,he,xe.tags))}return Y}function Fl(ce,j){var Y=[];Y.size=ce.size,void 0!==ce.start&&(Y.start=ce.start,Y.end=ce.end);for(var ae=0;ae<ce.length;ae+=3)Y.push(ce[ae]+j,ce[ae+1],ce[ae+2]);return Y}function Nc(ce,j){if(ce.transformed)return ce;var Y,ae,he,xe=1<<ce.z,Re=ce.x,ke=ce.y;for(Y=0;Y<ce.features.length;Y++){var Se=ce.features[Y],Ae=Se.geometry,rt=Se.type;if(Se.geometry=[],1===rt)for(ae=0;ae<Ae.length;ae+=2)Se.geometry.push(zs(Ae[ae],Ae[ae+1],j,xe,Re,ke));else for(ae=0;ae<Ae.length;ae++){var vt=[];for(he=0;he<Ae[ae].length;he+=2)vt.push(zs(Ae[ae][he],Ae[ae][he+1],j,xe,Re,ke));Se.geometry.push(vt)}}return ce.transformed=!0,ce}function zs(ce,j,Y,ae,he,xe){return[Math.round(Y*(ce*ae-he)),Math.round(Y*(j*ae-xe))]}function Lc(ce,j,Y,ae,he){for(var xe=j===he.maxZoom?0:he.tolerance/((1<<j)*he.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Y,y:ae,z:j,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ke=0;ke<ce.length;ke++){Re.numFeatures++,bd(Re,ce[ke],xe,he);var Se=ce[ke].minX,Ae=ce[ke].minY,rt=ce[ke].maxX,vt=ce[ke].maxY;Se<Re.minX&&(Re.minX=Se),Ae<Re.minY&&(Re.minY=Ae),rt>Re.maxX&&(Re.maxX=rt),vt>Re.maxY&&(Re.maxY=vt)}return Re}function bd(ce,j,Y,ae){var he=j.geometry,xe=j.type,Re=[];if("Point"===xe||"MultiPoint"===xe)for(var ke=0;ke<he.length;ke+=3)Re.push(he[ke]),Re.push(he[ke+1]),ce.numPoints++,ce.numSimplified++;else if("LineString"===xe)Mu(Re,he,ce,Y,!1,!1);else if("MultiLineString"===xe||"Polygon"===xe)for(ke=0;ke<he.length;ke++)Mu(Re,he[ke],ce,Y,"Polygon"===xe,0===ke);else if("MultiPolygon"===xe)for(var Se=0;Se<he.length;Se++){var Ae=he[Se];for(ke=0;ke<Ae.length;ke++)Mu(Re,Ae[ke],ce,Y,!0,0===ke)}if(Re.length){var rt=j.tags||null;if("LineString"===xe&&ae.lineMetrics){for(var vt in rt={},j.tags)rt[vt]=j.tags[vt];rt.mapbox_clip_start=he.start/he.size,rt.mapbox_clip_end=he.end/he.size}var ft={geometry:Re,type:"Polygon"===xe||"MultiPolygon"===xe?3:"LineString"===xe||"MultiLineString"===xe?2:1,tags:rt};null!==j.id&&(ft.id=j.id),ce.features.push(ft)}}function Mu(ce,j,Y,ae,he,xe){var Re=ae*ae;if(ae>0&&j.size<(he?Re:ae))Y.numPoints+=j.length/3;else{for(var ke=[],Se=0;Se<j.length;Se+=3)(0===ae||j[Se+2]>Re)&&(Y.numSimplified++,ke.push(j[Se]),ke.push(j[Se+1])),Y.numPoints++;he&&function(Ae,rt){for(var vt=0,ft=0,gn=Ae.length,cn=gn-2;ft<gn;cn=ft,ft+=2)vt+=(Ae[ft]-Ae[cn])*(Ae[ft+1]+Ae[cn+1]);if(vt>0===rt)for(ft=0,gn=Ae.length;ft<gn/2;ft+=2){var Xt=Ae[ft],Tn=Ae[ft+1];Ae[ft]=Ae[gn-2-ft],Ae[ft+1]=Ae[gn-1-ft],Ae[gn-2-ft]=Xt,Ae[gn-1-ft]=Tn}}(ke,xe),ce.push(ke)}}function zl(ce,j){var Y=(j=this.options=function(he,xe){for(var Re in xe)he[Re]=xe[Re];return he}(Object.create(this.options),j)).debug;if(Y&&console.time("preprocess data"),j.maxZoom<0||j.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(j.promoteId&&j.generateId)throw new Error("promoteId and generateId cannot be used together.");var he,xe,Re,ke,Se,Ae,ae=function(he,xe){var Re=[];if("FeatureCollection"===he.type)for(var ke=0;ke<he.features.length;ke++)Su(Re,he.features[ke],xe,ke);else Su(Re,"Feature"===he.type?he:{geometry:he},xe);return Re}(ce,j);this.tiles={},this.tileCoords=[],Y&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",j.indexMaxZoom,j.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ke=he=ae,Se=Fs(he,1,-1-(Re=(xe=j).buffer/xe.extent),Re,0,-1,2,xe),Ae=Fs(he,1,1-Re,2+Re,0,-1,2,xe),(Se||Ae)&&(ke=Fs(he,1,-Re,1+Re,0,-1,2,xe)||[],Se&&(ke=Rc(Se,1).concat(ke)),Ae&&(ke=ke.concat(Rc(Ae,-1)))),(ae=ke).length&&this.splitTile(ae,0,0,0),Y&&(ae.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Fc(ce,j,Y){return 32*((1<<ce)*Y+j)+ce}function Bs(ce,j){const Y=ce.tileID.canonical;if(!this._geoJSONIndex)return j(null,null);const ae=this._geoJSONIndex.getTile(Y.z,Y.x,Y.y);if(!ae)return j(null,null);const he=new rr(ae.features);let xe=fi.exports(he);0===xe.byteOffset&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),j(null,{vectorTile:he,rawData:xe.buffer})}zl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},zl.prototype.splitTile=function(ce,j,Y,ae,he,xe,Re){for(var ke=[ce,j,Y,ae],Se=this.options,Ae=Se.debug;ke.length;){ae=ke.pop(),Y=ke.pop(),j=ke.pop(),ce=ke.pop();var rt=1<<j,vt=Fc(j,Y,ae),ft=this.tiles[vt];if(!ft&&(Ae>1&&console.time("creation"),ft=this.tiles[vt]=Lc(ce,j,Y,ae,Se),this.tileCoords.push({z:j,x:Y,y:ae}),Ae)){Ae>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",j,Y,ae,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var gn="z"+j;this.stats[gn]=(this.stats[gn]||0)+1,this.total++}if(ft.source=ce,he){if(j===Se.maxZoom||j===he)continue;var cn=1<<he-j;if(Y!==Math.floor(xe/cn)||ae!==Math.floor(Re/cn))continue}else if(j===Se.indexMaxZoom||ft.numPoints<=Se.indexMaxPoints)continue;if(ft.source=null,0!==ce.length){Ae>1&&console.time("clipping");var Xt,Tn,qn,Pi,en,$i,or=.5*Se.buffer/Se.extent,Oa=.5-or,Bl=.5+or,Vs=1+or;Xt=Tn=qn=Pi=null,en=Fs(ce,rt,Y-or,Y+Bl,0,ft.minX,ft.maxX,Se),$i=Fs(ce,rt,Y+Oa,Y+Vs,0,ft.minX,ft.maxX,Se),ce=null,en&&(Xt=Fs(en,rt,ae-or,ae+Bl,1,ft.minY,ft.maxY,Se),Tn=Fs(en,rt,ae+Oa,ae+Vs,1,ft.minY,ft.maxY,Se),en=null),$i&&(qn=Fs($i,rt,ae-or,ae+Bl,1,ft.minY,ft.maxY,Se),Pi=Fs($i,rt,ae+Oa,ae+Vs,1,ft.minY,ft.maxY,Se),$i=null),Ae>1&&console.timeEnd("clipping"),ke.push(Xt||[],j+1,2*Y,2*ae),ke.push(Tn||[],j+1,2*Y,2*ae+1),ke.push(qn||[],j+1,2*Y+1,2*ae),ke.push(Pi||[],j+1,2*Y+1,2*ae+1)}}},zl.prototype.getTile=function(ce,j,Y){var ae=this.options,he=ae.extent,xe=ae.debug;if(ce<0||ce>24)return null;var Re=1<<ce,ke=Fc(ce,j=(j%Re+Re)%Re,Y);if(this.tiles[ke])return Nc(this.tiles[ke],he);xe>1&&console.log("drilling down to z%d-%d-%d",ce,j,Y);for(var Se,Ae=ce,rt=j,vt=Y;!Se&&Ae>0;)Ae--,rt=Math.floor(rt/2),vt=Math.floor(vt/2),Se=this.tiles[Fc(Ae,rt,vt)];return Se&&Se.source?(xe>1&&console.log("found parent tile z%d-%d-%d",Ae,rt,vt),xe>1&&console.time("drilling down"),this.splitTile(Se.source,Ae,rt,vt,ce,j,Y),xe>1&&console.timeEnd("drilling down"),this.tiles[ke]?Nc(this.tiles[ke],he):null):null};class il extends f.VectorTileWorkerSource{constructor(j,Y,ae,he,xe){super(j,Y,ae,he,Bs),xe&&(this.loadGeoJSON=xe)}loadData(j,Y){const ae=j&&j.request,he=ae&&ae.collectResourceTiming;this.loadGeoJSON(j,(xe,Re)=>{if(xe||!Re)return Y(xe);if("object"!=typeof Re)return Y(new Error(`Input data given to '${j.source}' is not a valid GeoJSON object.`));{mn(Re,!0);try{if(j.filter){const Se=f.createExpression(j.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Se.result)throw new Error(Se.value.map(rt=>`${rt.key}: ${rt.message}`).join(", "));const Ae=Re.features.filter(rt=>Se.value.evaluate({zoom:0},rt));Re={type:"FeatureCollection",features:Ae}}this._geoJSONIndex=j.cluster?new Oi(function({superclusterOptions:Se,clusterProperties:Ae}){if(!Ae||!Se)return Se;const rt={},vt={},ft={accumulated:null,zoom:0},gn={properties:null},cn=Object.keys(Ae);for(const Xt of cn){const[Tn,qn]=Ae[Xt],Pi=f.createExpression(qn),en=f.createExpression("string"==typeof Tn?[Tn,["accumulated"],["get",Xt]]:Tn);rt[Xt]=Pi.value,vt[Xt]=en.value}return Se.map=Xt=>{gn.properties=Xt;const Tn={};for(const qn of cn)Tn[qn]=rt[qn].evaluate(ft,gn);return Tn},Se.reduce=(Xt,Tn)=>{gn.properties=Tn;for(const qn of cn)ft.accumulated=Xt[qn],Xt[qn]=vt[qn].evaluate(ft,gn)},Se}(j)).load(Re.features):new zl(Se=Re,j.geojsonVtOptions)}catch(Se){return Y(Se)}this.loaded={};const ke={};if(he){const Se=f.getPerformanceMeasurement(ae);Se&&(ke.resourceTiming={},ke.resourceTiming[j.source]=JSON.parse(JSON.stringify(Se)))}Y(null,ke)}var Se})}reloadTile(j,Y){const ae=this.loaded;return ae&&ae[j.uid]?super.reloadTile(j,Y):this.loadTile(j,Y)}loadGeoJSON(j,Y){if(j.request)f.getJSON(j.request,Y);else{if("string"!=typeof j.data)return Y(new Error(`Input data given to '${j.source}' is not a valid GeoJSON object.`));try{return Y(null,JSON.parse(j.data))}catch{return Y(new Error(`Input data given to '${j.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(j,Y){try{Y(null,this._geoJSONIndex.getClusterExpansionZoom(j.clusterId))}catch(ae){Y(ae)}}getClusterChildren(j,Y){try{Y(null,this._geoJSONIndex.getChildren(j.clusterId))}catch(ae){Y(ae)}}getClusterLeaves(j,Y){try{Y(null,this._geoJSONIndex.getLeaves(j.clusterId,j.limit,j.offset))}catch(ae){Y(ae)}}}class Rr{constructor(j){this.self=j,this.actor=new f.Actor(j,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=f.getProjection({name:"mercator"}),this.workerSourceTypes={vector:f.VectorTileWorkerSource,geojson:il},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Y,ae)=>{if(this.workerSourceTypes[Y])throw new Error(`Worker source with name "${Y}" already registered.`);this.workerSourceTypes[Y]=ae},this.self.registerRTLTextPlugin=Y=>{if(f.plugin.isParsed())throw new Error("RTL text plugin already registered.");f.plugin.applyArabicShaping=Y.applyArabicShaping,f.plugin.processBidirectionalText=Y.processBidirectionalText,f.plugin.processStyledBidirectionalText=Y.processStyledBidirectionalText}}clearCaches(j,Y,ae){delete this.layerIndexes[j],delete this.availableImages[j],delete this.workerSources[j],delete this.demWorkerSources[j],ae()}checkIfReady(j,Y,ae){ae()}setReferrer(j,Y){this.referrer=Y}spriteLoaded(j,Y){this.isSpriteLoaded[j]=Y;for(const ae in this.workerSources[j]){const he=this.workerSources[j][ae];for(const xe in he)he[xe]instanceof f.VectorTileWorkerSource&&(he[xe].isSpriteLoaded=Y,he[xe].fire(new f.Event("isSpriteLoaded")))}}setImages(j,Y,ae){this.availableImages[j]=Y;for(const he in this.workerSources[j]){const xe=this.workerSources[j][he];for(const Re in xe)xe[Re].availableImages=Y}ae()}enableTerrain(j,Y,ae){this.terrain=Y,ae()}setProjection(j,Y){this.projections[j]=f.getProjection(Y)}setLayers(j,Y,ae){this.getLayerIndex(j).replace(Y),ae()}updateLayers(j,Y,ae){this.getLayerIndex(j).update(Y.layers,Y.removedIds),ae()}loadTile(j,Y,ae){const he=this.enableTerrain?f.extend({enableTerrain:this.terrain},Y):Y;he.projection=this.projections[j]||this.defaultProjection,this.getWorkerSource(j,Y.type,Y.source).loadTile(he,ae)}loadDEMTile(j,Y,ae){const he=this.enableTerrain?f.extend({buildQuadTree:this.terrain},Y):Y;this.getDEMWorkerSource(j,Y.source).loadTile(he,ae)}reloadTile(j,Y,ae){const he=this.enableTerrain?f.extend({enableTerrain:this.terrain},Y):Y;he.projection=this.projections[j]||this.defaultProjection,this.getWorkerSource(j,Y.type,Y.source).reloadTile(he,ae)}abortTile(j,Y,ae){this.getWorkerSource(j,Y.type,Y.source).abortTile(Y,ae)}removeTile(j,Y,ae){this.getWorkerSource(j,Y.type,Y.source).removeTile(Y,ae)}removeSource(j,Y,ae){if(!this.workerSources[j]||!this.workerSources[j][Y.type]||!this.workerSources[j][Y.type][Y.source])return;const he=this.workerSources[j][Y.type][Y.source];delete this.workerSources[j][Y.type][Y.source],void 0!==he.removeSource?he.removeSource(Y,ae):ae()}loadWorkerSource(j,Y,ae){try{this.self.importScripts(Y.url),ae()}catch(he){ae(he.toString())}}syncRTLPluginState(j,Y,ae){try{f.plugin.setState(Y);const he=f.plugin.getPluginURL();if(f.plugin.isLoaded()&&!f.plugin.isParsed()&&null!=he){this.self.importScripts(he);const xe=f.plugin.isParsed();ae(xe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${he}`),xe)}}catch(he){ae(he.toString())}}getAvailableImages(j){let Y=this.availableImages[j];return Y||(Y=[]),Y}getLayerIndex(j){let Y=this.layerIndexes[j];return Y||(Y=this.layerIndexes[j]=new Ti),Y}getWorkerSource(j,Y,ae){return this.workerSources[j]||(this.workerSources[j]={}),this.workerSources[j][Y]||(this.workerSources[j][Y]={}),this.workerSources[j][Y][ae]||(this.workerSources[j][Y][ae]=new this.workerSourceTypes[Y]({send:(xe,Re,ke,Se,Ae,rt)=>{this.actor.send(xe,Re,ke,j,Ae,rt)},scheduler:this.actor.scheduler},this.getLayerIndex(j),this.getAvailableImages(j),this.isSpriteLoaded[j])),this.workerSources[j][Y][ae]}getDEMWorkerSource(j,Y){return this.demWorkerSources[j]||(this.demWorkerSources[j]={}),this.demWorkerSources[j][Y]||(this.demWorkerSources[j][Y]=new $t),this.demWorkerSources[j][Y]}enforceCacheSizeLimit(j,Y){f.enforceCacheSizeLimit(Y)}getWorkerPerformanceMetrics(j,Y,ae){ae(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Rr(self)),Rr}),Rn(0,function(f){function He(g,c){if(Array.isArray(g)){if(!Array.isArray(c)||g.length!==c.length)return!1;for(let h=0;h<g.length;h++)if(!He(g[h],c[h]))return!1;return!0}if("object"==typeof g&&null!==g&&null!==c){if("object"!=typeof c||Object.keys(g).length!==Object.keys(c).length)return!1;for(const h in g)if(!He(g[h],c[h]))return!1;return!0}return g===c}var $n=Ti;function Ti(g){return c=g,!(typeof window>"u"||typeof document>"u"||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var y,w,x=new Blob([""],{type:"text/javascript"}),D=URL.createObjectURL(x);try{w=new Worker(D),y=!0}catch{y=!1}return w&&w.terminate(),URL.revokeObjectURL(D),y}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var y=document.createElement("canvas");y.width=y.height=1;var w=y.getContext("2d");if(!w)return!1;var x=w.getImageData(0,0,1,1);return x&&x.width===y.width}()||(void 0===$t[h=c&&c.failIfMajorPerformanceCaveat]&&($t[h]=function(y){var w,D,E,A,x=(D=y,E=document.createElement("canvas"),(A=Object.create(Ti.webGLContextAttributes)).failIfMajorPerformanceCaveat=D,E.getContext("webgl",A)||E.getContext("experimental-webgl",A));if(!x)return!1;try{w=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!w||x.isContextLost())&&(x.shaderSource(w,"void main() {}"),x.compileShader(w),!0===x.getShaderParameter(w,x.COMPILE_STATUS))}(h)),!$t[h]||document.documentMode));var c,h}var $t={};function mn(g,c,h){const y=f.window.document.createElement(g);return void 0!==c&&(y.className=c),h&&h.appendChild(y),y}function Ci(g,c,h){const y=f.window.document.createElementNS("http://www.w3.org/2000/svg",g);for(const w of Object.keys(c))y.setAttributeNS(null,w,c[w]);return h&&h.appendChild(y),y}Ti.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const _r=f.window.document&&f.window.document.documentElement.style,zr=_r&&void 0!==_r.userSelect?"userSelect":"WebkitUserSelect";let rs;function rr(){_r&&zr&&(rs=_r[zr],_r[zr]="none")}function fi(){_r&&zr&&(_r[zr]=rs)}function Jt(g){g.preventDefault(),g.stopPropagation(),f.window.removeEventListener("click",Jt,!0)}function xn(){f.window.addEventListener("click",Jt,!0),f.window.setTimeout(()=>{f.window.removeEventListener("click",Jt,!0)},0)}function Fe(g,c){const h=g.getBoundingClientRect();return hi(g,h,c)}function Wt(g,c){const h=g.getBoundingClientRect(),y=[];for(let w=0;w<c.length;w++)y.push(hi(g,h,c[w]));return y}function yn(g){return void 0!==f.window.InstallTrigger&&2===g.button&&g.ctrlKey&&f.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button}function hi(g,c,h){const y=g.offsetWidth===c.width?1:g.offsetWidth/c.width;return new f.pointGeometry((h.clientX-c.left)*y,(h.clientY-c.top)*y)}function Zt(g,c){var h=c[0],y=c[1],w=c[2],x=c[3],D=h*x-w*y;return D?(g[0]=x*(D=1/D),g[1]=-y*D,g[2]=-w*D,g[3]=h*D,g):null}function Xn(g){const{userImage:c}=g;return!!(c&&c.render&&c.render())&&(g.data.replace(new Uint8Array(c.data.buffer)),!0)}class Cs extends f.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new f.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:h,callback:y}of this.requestors)this._notify(h,y);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,h){this._validate(c,h)&&(this.images[c]=h)}_validate(c,h){let y=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new f.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),y=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new f.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),y=!1),this._validateContent(h.content,h)||(this.fire(new f.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),y=!1),y}_validateStretch(c,h){if(!c)return!0;let y=0;for(const w of c){if(w[0]<y||w[1]<w[0]||h<w[1])return!1;y=w[1]}return!0}_validateContent(c,h){return!(c&&(4!==c.length||c[0]<0||h.data.width<c[0]||c[1]<0||h.data.height<c[1]||c[2]<0||h.data.width<c[2]||c[3]<0||h.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,h){h.version=this.images[c].version+1,this.images[c]=h,this.updatedImages[c]=!0}removeImage(c){const h=this.images[c];delete this.images[c],delete this.patterns[c],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,h){let y=!0;if(!this.isLoaded())for(const w of c)this.images[w]||(y=!1);this.isLoaded()||y?this._notify(c,h):this.requestors.push({ids:c,callback:h})}_notify(c,h){const y={};for(const w of c){this.images[w]||this.fire(new f.Event("styleimagemissing",{id:w}));const x=this.images[w];x?y[w]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:Boolean(x.userImage&&x.userImage.render)}:f.warnOnce(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,y)}getPixelSize(){const{width:c,height:h}=this.atlasImage;return{width:c,height:h}}getPattern(c){const h=this.patterns[c],y=this.getImage(c);if(!y)return null;if(h&&h.position.version===y.version)return h.position;if(h)h.position.version=y.version;else{const w={w:y.data.width+2,h:y.data.height+2,x:0,y:0},x=new f.ImagePosition(w,y);this.patterns[c]={bin:w,position:x}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const h=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f.Texture(c,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const x in this.patterns)c.push(this.patterns[x].bin);const{w:h,h:y}=f.potpack(c),w=this.atlasImage;w.resize({width:h||1,height:y||1});for(const x in this.patterns){const{bin:D}=this.patterns[x],E=D.x+1,A=D.y+1,F=this.images[x].data,L=F.width,$=F.height;f.RGBAImage.copy(F,w,{x:0,y:0},{x:E,y:A},{width:L,height:$}),f.RGBAImage.copy(F,w,{x:0,y:$-1},{x:E,y:A-1},{width:L,height:1}),f.RGBAImage.copy(F,w,{x:0,y:0},{x:E,y:A+$},{width:L,height:1}),f.RGBAImage.copy(F,w,{x:L-1,y:0},{x:E-1,y:A},{width:1,height:$}),f.RGBAImage.copy(F,w,{x:0,y:0},{x:E+L,y:A},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const h of c){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const y=this.images[h];Xn(y)&&this.updateImage(h,y)}}}const os=new f.Properties({anchor:new f.DataConstantProperty(f.spec.light.anchor),position:new class{constructor(){this.specification=f.spec.light.position}possiblyEvaluate(g,c){return function([h,y,w]){const x=f.degToRad(y+90),D=f.degToRad(w);return{x:h*Math.cos(x)*Math.sin(D),y:h*Math.sin(x)*Math.sin(D),z:h*Math.cos(D),azimuthal:y,polar:w}}(g.expression.evaluate(c))}interpolate(g,c,h){return{x:f.number(g.x,c.x,h),y:f.number(g.y,c.y,h),z:f.number(g.z,c.z,h),azimuthal:f.number(g.azimuthal,c.azimuthal,h),polar:f.number(g.polar,c.polar,h)}}},color:new f.DataConstantProperty(f.spec.light.color),intensity:new f.DataConstantProperty(f.spec.light.intensity)}),el="-transition";class Ec extends f.Evented{constructor(c){super(),this._transitionable=new f.Transitionable(os),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,h={}){if(!this._validate(f.validateLight,c,h))for(const y in c){const w=c[y];f.endsWith(y,el)?this._transitionable.setTransition(y.slice(0,-el.length),w):this._transitionable.setValue(y,w)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,y){return(!y||!1!==y.validate)&&f.emitValidationErrors(this,c.call(f.validateStyle,f.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:f.spec})))}}const ai=new f.Properties({source:new f.DataConstantProperty(f.spec.terrain.source),exaggeration:new f.DataConstantProperty(f.spec.terrain.exaggeration)}),Ic="-transition";class ss extends f.Evented{constructor(c,h){super(),this._transitionable=new f.Transitionable(ai),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=h}get(){return this._transitionable.serialize()}set(c){for(const h in c){const y=c[h];f.endsWith(h,Ic)?this._transitionable.setTransition(h.slice(0,-Ic.length),y):this._transitionable.setValue(h,y)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function Ol(g,c,h,y){const w=f.smoothstep(45,65,h),[x,D]=Pl(g,y),E=f.length(c);let A=1-Math.min(1,Math.exp((E-x)/(D-x)*-6));return A*=A*A,A=Math.min(1,1.00747*A),A*w*g.alpha}function Pl(g,c){const h=.5/Math.tan(.5*c);return[g.range[0]+h,g.range[1]+h]}const zn=new f.Properties({range:new f.DataConstantProperty(f.spec.fog.range),color:new f.DataConstantProperty(f.spec.fog.color),"high-color":new f.DataConstantProperty(f.spec.fog["high-color"]),"space-color":new f.DataConstantProperty(f.spec.fog["space-color"]),"horizon-blend":new f.DataConstantProperty(f.spec.fog["horizon-blend"]),"star-intensity":new f.DataConstantProperty(f.spec.fog["star-intensity"])}),kc="-transition";class hd extends f.Evented{constructor(c,h){super(),this._transitionable=new f.Transitionable(zn),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=h}get state(){const c=this._transform,h="globe"===c.projection.name,y=f.globeToMercatorTransition(c.zoom),w=this.properties.get("range"),x=[.5,3];return{range:h?[f.number(x[0],w[0],y),f.number(x[1],w[1],y)]:w,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,h={}){if(!this._validate(f.validateFog,c,h)){for(const y of Object.keys(f.spec.fog))c&&void 0===c[y]&&(c[y]=f.spec.fog[y].default);for(const y in c){const w=c[y];f.endsWith(y,kc)?this._transitionable.setTransition(y.slice(0,-kc.length),w):this._transitionable.setValue(y,w)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const h=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:f.smoothstep(45,65,c))*h.a}getOpacityAtLatLng(c,h){return this._transform.projection.supportsFog?function(y,w,x){const D=f.MercatorCoordinate.fromLngLat(w),E=x.elevation?x.elevation.getAtPointOrZero(D):0,A=[D.x,D.y,E];return f.transformMat4(A,A,x.mercatorFogMatrix),Ol(y,A,x.pitch,x._fov)}(this.state,c,h):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Pl(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,y){return(!y||!1!==y.validate)&&f.emitValidationErrors(this,c.call(f.validateStyle,f.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:f.spec})))}}class tl{constructor(c,h){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=f.uniqueId();const y=this.workerPool.acquire(this.id);for(let w=0;w<y.length;w++){const x=new tl.Actor(y[w],h,this.id);x.name=`Worker ${w}`,this.actors.push(x)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,h,y){f.asyncAll(this.actors,(w,x)=>{w.send(c,h,x)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ia(g,c,h){return c*(f.EXTENT/(g.tileSize*Math.pow(2,h-g.tileID.overscaledZ)))}tl.Actor=f.Actor;class Ct{constructor(c,h,y,w){this.screenBounds=c,this.cameraPoint=h,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=y,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,w)}static createFromScreenPoints(c,h){let y,w;if(c instanceof f.pointGeometry||"number"==typeof c[0]){const x=f.pointGeometry.convert(c);y=[x],w=h.isPointAboveHorizon(x)}else{const x=f.pointGeometry.convert(c[0]),D=f.pointGeometry.convert(c[1]);y=[x,D],w=f.polygonizeBounds(x,D).every(E=>h.isPointAboveHorizon(E))}return new Ct(y,h.getCameraPoint(),w,h)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(c){return f.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const h=this.screenBounds[0],y=1===this.screenBounds.length?this.screenBounds[0].add(new f.pointGeometry(1,1)):this.screenBounds[1],w=f.polygonizeBounds(h,y,0,!1);return this.cameraPoint.y>y.y&&(this.cameraPoint.x>h.x&&this.cameraPoint.x<y.x?w.splice(3,0,this.cameraPoint):this.cameraPoint.x>=y.x?w[2]=this.cameraPoint:this.cameraPoint.x<=h.x&&(w[3]=this.cameraPoint)),f.bufferConvexPolygon(w,c)}bufferedCameraGeometryGlobe(c){const h=this.screenBounds[0],y=1===this.screenBounds.length?this.screenBounds[0].add(new f.pointGeometry(1,1)):this.screenBounds[1],w=f.polygonizeBounds(h,y,c),x=this.cameraPoint.clone();switch(3*((x.y>h.y)+(x.y>y.y))+((x.x>h.x)+(x.x>y.x))){case 0:w[0]=x,w[4]=x.clone();break;case 1:w.splice(1,0,x);break;case 2:w[1]=x;break;case 3:w.splice(4,0,x);break;case 5:w.splice(2,0,x);break;case 6:w[3]=x;break;case 7:w.splice(3,0,x);break;case 8:w[2]=x}return w}containsTile(c,h,y,w=0){const x=c.queryPadding/h._pixelsPerMercatorPixel+1,D=y?this._bufferedCameraMercator(x,h):this._bufferedScreenMercator(x,h);let E=c.tileID.wrap+(D.unwrapped?w:0);const A=D.polygon.map(ee=>f.getTilePoint(c.tileTransform,ee,E));if(!f.polygonIntersectsBox(A,0,0,f.EXTENT,f.EXTENT))return;E=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?w:0);const F=this.screenGeometryMercator.polygon.map(ee=>f.getTileVec3(c.tileTransform,ee,E)),L=F.map(ee=>new f.pointGeometry(ee[0],ee[1])),$=h.getFreeCameraOptions().position||new f.MercatorCoordinate(0,0,0),Q=f.getTileVec3(c.tileTransform,$,E),re=F.map(ee=>{const te=f.sub(ee,ee,Q);return f.normalize(te,te),new f.Ray(Q,te)}),ne=Ia(c,1,h.zoom)*h._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:L,tilespaceRays:re,bufferedTilespaceGeometry:A,bufferedTilespaceBounds:(oe=f.getBounds(A),oe.min.x=f.clamp(oe.min.x,0,f.EXTENT),oe.min.y=f.clamp(oe.min.y,0,f.EXTENT),oe.max.x=f.clamp(oe.max.x,0,f.EXTENT),oe.max.y=f.clamp(oe.max.y,0,f.EXTENT),oe),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:ne};var oe}_bufferedScreenMercator(c,h){const y=Ai(c);if(this._screenRaycastCache[y])return this._screenRaycastCache[y];{let w;return w="globe"===h.projection.name?this._projectAndResample(this.bufferedScreenGeometry(c),h):{polygon:this.bufferedScreenGeometry(c).map(x=>h.pointCoordinate3D(x)),unwrapped:!0},this._screenRaycastCache[y]=w,w}}_bufferedCameraMercator(c,h){const y=Ai(c);if(this._cameraRaycastCache[y])return this._cameraRaycastCache[y];{let w;return w="globe"===h.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),h):{polygon:this.bufferedCameraGeometry(c).map(x=>h.pointCoordinate3D(x)),unwrapped:!0},this._cameraRaycastCache[y]=w,w}}_projectAndResample(c,h){const y=function(x,D){const E=f.multiply([],D.pixelMatrix,D.globeMatrix),A=[0,-f.GLOBE_RADIUS,0,1],F=[0,f.GLOBE_RADIUS,0,1],L=[0,0,0,1];f.transformMat4$1(A,A,E),f.transformMat4$1(F,F,E),f.transformMat4$1(L,L,E);const $=new f.pointGeometry(A[0]/A[3],A[1]/A[3]),Q=new f.pointGeometry(F[0]/F[3],F[1]/F[3]),re=f.polygonContainsPoint(x,$)&&A[3]<L[3],ne=f.polygonContainsPoint(x,Q)&&F[3]<L[3];if(!re&&!ne)return null;const oe=function(Te,Ue,ze){for(let Ie=1;Ie<Te.length;Ie++){const gt=as(Ue.pointCoordinate3D(Te[Ie-1]).x),Ne=as(Ue.pointCoordinate3D(Te[Ie]).x);if(ze<0){if(gt<Ne)return{idx:Ie,t:-gt/(Ne-1-gt)}}else if(Ne<gt)return{idx:Ie,t:(1-gt)/(Ne+1-gt)}}return null}(x,D,re?-1:1);if(!oe)return null;const{idx:ee,t:te}=oe;let ue=ee>1?Rl(x.slice(0,ee),D):[],se=ee<x.length?Rl(x.slice(ee),D):[];ue=ue.map(Te=>new f.pointGeometry(as(Te.x),Te.y)),se=se.map(Te=>new f.pointGeometry(as(Te.x),Te.y));const pe=[...ue];0===pe.length&&pe.push(se[se.length-1]);const Ce=f.number(pe[pe.length-1].y,(0===se.length?ue[0]:se[0]).y,te);let be;return be=re?[new f.pointGeometry(0,Ce),new f.pointGeometry(0,0),new f.pointGeometry(1,0),new f.pointGeometry(1,Ce)]:[new f.pointGeometry(1,Ce),new f.pointGeometry(1,1),new f.pointGeometry(0,1),new f.pointGeometry(0,Ce)],pe.push(...be),0===se.length?pe.push(ue[0]):pe.push(...se),{polygon:pe.map(Te=>new f.MercatorCoordinate(Te.x,Te.y)),unwrapped:!1}}(c,h);if(y)return y;const w=function(x,D){let E=!1,A=-1/0,F=0;for(let $=0;$<x.length-1;$++)x[$].x>A&&(A=x[$].x,F=$);for(let $=0;$<x.length-1;$++){const Q=(F+$)%(x.length-1),re=x[Q],ne=x[Q+1];Math.abs(re.x-ne.x)>.5&&(re.x<ne.x?(re.x+=1,0===Q&&(x[x.length-1].x+=1)):(ne.x+=1,Q+1===x.length-1&&(x[0].x+=1)),E=!0)}const L=f.mercatorXfromLng(D.center.lng);return E&&L<Math.abs(L-1)&&x.forEach($=>{$.x-=1}),{polygon:x,unwrapped:E}}(Rl(c,h).map(x=>new f.pointGeometry(as(x.x),x.y)),h);return{polygon:w.polygon.map(x=>new f.MercatorCoordinate(x.x,x.y)),unwrapped:w.unwrapped}}}function Rl(g,c){return f.resample(g,h=>{const y=c.pointCoordinate3D(h);h.x=y.x,h.y=y.y},1/256)}function as(g){return g<0?1+g%1:g%1}function Ai(g){return 100*g|0}function Oi(g,c,h,y,w){const x=function(D,E){if(D)return w(D);if(E){g.url&&E.tiles&&g.tiles&&delete g.tiles;const A=f.pick(f.extend(E,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);E.vector_layers&&(A.vectorLayers=E.vector_layers,A.vectorLayerIds=A.vectorLayers.map(F=>F.id)),A.tiles=c.canonicalizeTileset(A,g.url),w(null,A)}};return g.url?f.getJSON(c.transformRequest(c.normalizeSourceURL(g.url,null,h,y),f.ResourceType.Source),x):f.exported.frame(()=>x(null,g))}class xs{constructor(c,h,y){this.bounds=f.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=h||0,this.maxzoom=y||24}validateBounds(c){return Array.isArray(c)&&4===c.length?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const h=Math.pow(2,c.z),y=Math.floor(f.mercatorXfromLng(this.bounds.getWest())*h),w=Math.floor(f.mercatorYfromLat(this.bounds.getNorth())*h),x=Math.ceil(f.mercatorXfromLng(this.bounds.getEast())*h),D=Math.ceil(f.mercatorYfromLat(this.bounds.getSouth())*h);return c.x>=y&&c.x<x&&c.y>=w&&c.y<D}}class Kt{constructor(c,h,y){this.context=c;const w=c.gl;this.buffer=w.createBuffer(),this.dynamicDraw=Boolean(y),this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const yr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ka{constructor(c,h,y,w){this.length=h.length,this.attributes=y,this.itemSize=h.bytesPerElement,this.dynamicDraw=w,this.context=c;const x=c.gl;this.buffer=x.createBuffer(),c.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,h){for(let y=0;y<this.attributes.length;y++){const w=h.attributes[this.attributes[y].name];void 0!==w&&c.enableVertexAttribArray(w)}}setVertexAttribPointers(c,h,y){for(let w=0;w<this.attributes.length;w++){const x=this.attributes[w],D=h.attributes[x.name];void 0!==D&&c.vertexAttribPointer(D,x.components,c[yr[x.type]],!1,this.itemSize,x.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class gi{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Aa extends gi{getDefault(){return f.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Sh extends gi{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Nl extends gi{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class pd extends gi{getDefault(){return[!0,!0,!0,!0]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class fd extends gi{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Ac extends gi{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class md extends gi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const h=this.current;(c.func!==h.func||c.ref!==h.ref||c.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class ls extends gi{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class nl extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=c,this.dirty=!1}}class Su extends gi{getDefault(){return[0,1]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Th extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=c,this.dirty=!1}}class gd extends gi{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Oc extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.BLEND):h.disable(h.BLEND),this.current=c,this.dirty=!1}}class la extends gi{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Tu extends gi{getDefault(){return f.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Fs extends gi{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class _d extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=c,this.dirty=!1}}class yd extends gi{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class Ll extends gi{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Pc extends gi{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class Mh extends gi{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class af extends gi{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class vd extends gi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Rc extends gi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Fl extends gi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Nc extends gi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class zs extends gi{getDefault(){return null}set(c){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Lc extends gi{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class bd extends gi{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Mu extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class zl extends gi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Fc extends gi{constructor(c,h){super(c),this.context=c,this.parent=h}getDefault(){return null}}class Bs extends Fc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class il extends Fc{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,this.attachment(),h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Rr extends il{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ce{constructor(c,h,y,w){this.context=c,this.width=h,this.height=y;const x=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Bs(c,x),w&&(this.depthAttachment=new il(c,x))}destroy(){const c=this.context.gl,h=this.colorAttachment.get();if(h&&c.deleteTexture(h),this.depthAttachment){const y=this.depthAttachment.get();y&&c.deleteRenderbuffer(y)}c.deleteFramebuffer(this.framebuffer)}}class j{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Aa(this),this.clearDepth=new Sh(this),this.clearStencil=new Nl(this),this.colorMask=new pd(this),this.depthMask=new fd(this),this.stencilMask=new Ac(this),this.stencilFunc=new md(this),this.stencilOp=new ls(this),this.stencilTest=new nl(this),this.depthRange=new Su(this),this.depthTest=new Th(this),this.depthFunc=new gd(this),this.blend=new Oc(this),this.blendFunc=new la(this),this.blendColor=new Tu(this),this.blendEquation=new Fs(this),this.cullFace=new _d(this),this.cullFaceSide=new yd(this),this.frontFace=new Ll(this),this.program=new Pc(this),this.activeTexture=new Mh(this),this.viewport=new af(this),this.bindFramebuffer=new vd(this),this.bindRenderbuffer=new Rc(this),this.bindTexture=new Fl(this),this.bindVertexBuffer=new Nc(this),this.bindElementBuffer=new zs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Lc(this),this.pixelStoreUnpack=new bd(this),this.pixelStoreUnpackPremultiplyAlpha=new Mu(this),this.pixelStoreUnpackFlipY=new zl(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,h){return new Kt(this,c,h)}createVertexBuffer(c,h,y){return new ka(this,c,h,y)}createRenderbuffer(c,h,y){const w=this.gl,x=w.createRenderbuffer();return this.bindRenderbuffer.set(x),w.renderbufferStorage(w.RENDERBUFFER,c,h,y),this.bindRenderbuffer.set(null),x}createFramebuffer(c,h,y){return new ce(this,c,h,y)}clear({color:c,depth:h,stencil:y}){const w=this.gl;let x=0;c&&(x|=w.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),void 0!==h&&(x|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),void 0!==y&&(x|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),w.clear(x)}setCullFace(c){!1===c.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){He(c.blendFunction,f.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Y extends f.Evented{constructor(c,h,y,w){super(),this.id=c,this.dispatcher=y,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=f.extend({type:"raster"},h),f.extend(this,f.pick(h,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Oi(this._options,this.map._requestManager,null,null,(c,h)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new f.ErrorEvent(c)):h&&(f.extend(this,h),h.bounds&&(this.tileBounds=new xs(h.bounds,this.minzoom,this.maxzoom)),f.postTurnstileEvent(h.tiles),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return f.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,h){const y=f.exported.devicePixelRatio>=2,w=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),y,this.tileSize);c.request=f.getImage(this.map._requestManager.transformRequest(w,f.ResourceType.Tile),(x,D,E,A)=>(delete c.request,c.aborted?(c.state="unloaded",h(null)):x?(c.state="errored",h(x)):D?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:E,expires:A}),c.setTexture(D,this.map.painter),c.state="loaded",f.cacheEntryPossiblyAdded(this.dispatcher),void h(null)):h(null)))}static loadTileData(c,h,y){c.setTexture(h,y)}static unloadTileData(c,h){c.texture&&h.saveTileTexture(c.texture)}abortTile(c,h){c.request&&(c.request.cancel(),delete c.request),h()}unloadTile(c,h){c.texture&&this.map.painter.saveTileTexture(c.texture),h()}hasTransition(){return!1}}let ae;function he(g,c,h,y,w,x,D,E){const A=[g,h,w,c,y,x,1,1,1],F=[D,E,1],L=f.adjoint([],A),[$,Q,re]=f.transformMat3(F,F,f.transpose(L,L));return f.multiply$1(A,[$,0,0,0,Q,0,0,0,re],A)}class xe extends f.Evented{constructor(c,h,y,w){super(),this.id=c,this.dispatcher=y,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=h,this._dirty=!1}load(c,h){this._loaded=h||!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=f.getImage(this.map._requestManager.transformRequest(this.url,f.ResourceType.Image),(y,w)=>{if(this._imageRequest=null,this._loaded=!0,y)this.fire(new f.ErrorEvent(y));else if(w){const{HTMLImageElement:x}=f.window;this.image=w instanceof x?f.exported.getImageData(w):w,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const h=c.map(f.MercatorCoordinate.fromLngLat);return this.tileID=function(y){let w=1/0,x=1/0,D=-1/0,E=-1/0;for(const $ of y)w=Math.min(w,$.x),x=Math.min(x,$.y),D=Math.max(D,$.x),E=Math.max(E,$.y);const A=Math.max(D-w,E-x),F=Math.max(0,Math.floor(-Math.log(A)/Math.LN2)),L=Math.pow(2,F);return new f.CanonicalTileID(F,Math.floor((w+D)/2*L),Math.floor((x+E)/2*L))}(h),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const A in this.tiles){const F=this.tiles[A];"loaded"!==F.state&&(F.state="loaded",F.texture=this.texture)}if(this._boundsArray)return;const h=f.tileTransform(this.tileID,this.map.transform.projection),[y,w,x,D]=this.coordinates.map(A=>{const F=h.projection.project(A[0],A[1]);return f.getTilePoint(h,F)._round()});this.perspectiveTransform=function(A,F,L,$,Q,re,ne,oe,ee,te){const ue=he(0,0,A,0,0,F,A,F),se=he(L,$,Q,re,ne,oe,ee,te);return f.multiply$1(se,f.adjoint(ue,ue),se),[se[6]/se[8]*A/f.EXTENT,se[7]/se[8]*F/f.EXTENT]}(this.width,this.height,y.x,y.y,w.x,w.y,D.x,D.y,x.x,x.y);const E=this._boundsArray=new f.StructArrayLayout4i8;E.emplaceBack(y.x,y.y,0,0),E.emplaceBack(w.x,w.y,f.EXTENT,0),E.emplaceBack(D.x,D.y,0,f.EXTENT),E.emplaceBack(x.x,x.y,f.EXTENT,f.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(E,f.boundsAttributes.members),this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const c=this.map.painter.context,h=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new f.Texture(c,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,h){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},h(null)):(c.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Re={vector:class extends f.Evented{constructor(g,c,h,y){if(super(),this.id=g,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,f.extend(this,f.pick(c,["url","scheme","tileSize","promoteId"])),this._options=f.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y),this._tileWorkers={},this._deduped=new f.DedupedRequest}load(g){this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,h=this.map._worldview;this._tileJSONRequest=Oi(this._options,this.map._requestManager,c,h,(y,w)=>{this._tileJSONRequest=null,this._loaded=!0,y?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),h&&2!==h.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${h}`),this.fire(new f.ErrorEvent(y))):w&&(f.extend(this,w),w.bounds&&(this.tileBounds=new xs(w.bounds,this.minzoom,this.maxzoom)),f.postTurnstileEvent(w.tiles,this.map._requestManager._customAccessToken),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"}))),g&&g(y)})}loaded(){return this._loaded}hasTile(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)}onAdd(g){this.map=g,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const g=this.map.style._getSourceCaches(this.id);for(const c of g)c.clearTiles()})}setSourceProperty(g){g(),this.reload()}setTiles(g){return this._options.tiles=g,this.reload(),this}setUrl(g){return this.url=g,this._options.url=g,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return f.extend({},this._options)}loadTile(g,c){const h=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme)),y={request:this.map._requestManager.transformRequest(h,f.ResourceType.Tile),data:void 0,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,tileSize:this.tileSize*g.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:g.isSymbolTile};if(y.request.collectResourceTiming=this._collectResourceTiming,g.actor&&"expired"!==g.state)"loading"===g.state?g.reloadCallback=c:g.request=g.actor.send("reloadTile",y,w.bind(this));else if(g.actor=this._tileWorkers[h]=this._tileWorkers[h]||this.dispatcher.getActor(),this.dispatcher.ready)g.request=g.actor.send("loadTile",y,w.bind(this),void 0,!0);else{const x=f.loadVectorTile.call({deduped:this._deduped},y,(D,E)=>{D||!E?w.call(this,D):(y.data={cacheControl:E.cacheControl,expires:E.expires,rawData:E.rawData.slice(0)},g.actor&&g.actor.send("loadTile",y,w.bind(this),void 0,!0))},!0);g.request={cancel:x}}function w(x,D){return delete g.request,g.aborted?c(null):x&&404!==x.status?c(x):(D&&D.resourceTiming&&(g.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&g.setExpiryData(D),g.loadVectorData(D,this.map.painter),f.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(g.reloadCallback&&(this.loadTile(g,g.reloadCallback),g.reloadCallback=null)))}}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.actor&&g.actor.send("abortTile",{uid:g.uid,type:this.type,source:this.id})}unloadTile(g){g.unloadVectorData(),g.actor&&g.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Y,"raster-dem":class extends Y{constructor(g,c,h,y){super(g,c,h,y),this.type="raster-dem",this.maxzoom=22,this._options=f.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(g,c){const h=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function y(w,x){w&&(g.state="errored",c(w)),x&&(g.dem=x,g.dem.onDeserialize(),g.needsHillshadePrepare=!0,g.needsDEMTextureUpload=!0,g.state="loaded",c(null))}g.request=f.getImage(this.map._requestManager.transformRequest(h,f.ResourceType.Tile),function(w,x,D,E){if(delete g.request,g.aborted)g.state="unloaded",c(null);else if(w)g.state="errored",c(w);else if(x){this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:D,expires:E});const A=f.window.ImageBitmap&&x instanceof f.window.ImageBitmap&&(null==ae&&(ae=f.window.OffscreenCanvas&&new f.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof f.window.createImageBitmap),ae),F=1-(x.width-f.prevPowerOfTwo(x.width))/2;F<1||g.neighboringTiles||(g.neighboringTiles=this._getNeighboringTiles(g.tileID));const L=A?x:f.exported.getImageData(x,F),$={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:L,encoding:this.encoding,padding:F};g.actor&&"expired"!==g.state||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",$,y.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(g){const c=g.canonical,h=Math.pow(2,c.z),y=(c.x-1+h)%h,w=0===c.x?g.wrap-1:g.wrap,x=(c.x+1+h)%h,D=c.x+1===h?g.wrap+1:g.wrap,E={};return E[new f.OverscaledTileID(g.overscaledZ,w,c.z,y,c.y).key]={backfilled:!1},E[new f.OverscaledTileID(g.overscaledZ,D,c.z,x,c.y).key]={backfilled:!1},c.y>0&&(E[new f.OverscaledTileID(g.overscaledZ,w,c.z,y,c.y-1).key]={backfilled:!1},E[new f.OverscaledTileID(g.overscaledZ,g.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},E[new f.OverscaledTileID(g.overscaledZ,D,c.z,x,c.y-1).key]={backfilled:!1}),c.y+1<h&&(E[new f.OverscaledTileID(g.overscaledZ,w,c.z,y,c.y+1).key]={backfilled:!1},E[new f.OverscaledTileID(g.overscaledZ,g.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},E[new f.OverscaledTileID(g.overscaledZ,D,c.z,x,c.y+1).key]={backfilled:!1}),E}unloadTile(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded"}},geojson:class extends f.Evented{constructor(g,c,h,y){super(),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=h.getActor(),this.setEventedParent(y),this._data=c.data,this._options=f.extend({},c),this._collectResourceTiming=c.collectResourceTiming,void 0!==c.maxzoom&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const w=f.EXTENT/this.tileSize;this.workerOptions=f.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(void 0!==c.buffer?c.buffer:128)*w,tolerance:(void 0!==c.tolerance?c.tolerance:.375)*w,extent:f.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:void 0!==c.clusterMaxZoom?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:f.EXTENT,radius:(void 0!==c.clusterRadius?c.clusterRadius:50)*w,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(g){this.map=g,this.setData(this._data)}setData(g){return this._data=g,this._updateWorkerData(),this}getClusterExpansionZoom(g,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},c),this}getClusterChildren(g,c){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},c),this}getClusterLeaves(g,c,h,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:c,offset:h},y),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new f.Event("dataloading",{dataType:"source"})),this._loaded=!1;const g=f.extend({},this.workerOptions),c=this._data;"string"==typeof c?(g.request=this.map._requestManager.transformRequest(f.exported.resolveURL(c),f.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,g,(h,y)=>{if(this._loaded=!0,this._pendingLoad=null,h)this.fire(new f.ErrorEvent(h));else{const w={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&y&&y.resourceTiming&&y.resourceTiming[this.id]&&(w.resourceTiming=y.resourceTiming[this.id]),this.fire(new f.Event("data",w)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(g,c){const h=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(h,{type:this.type,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(y,w)=>(delete g.request,g.unloadVectorData(),g.aborted?c(null):y?c(y):(g.loadVectorData(w,this.map.painter,"reloadTile"===h),c(null))),void 0,"loadTile"===h)}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0}unloadTile(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return f.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends xe{constructor(g,c,h,y){super(g,c,h,y),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const g=this.options;this.urls=[];for(const c of g.urls)this.urls.push(this.map._requestManager.transformRequest(c,f.ResourceType.Source).url);f.getVideo(this.urls,(c,h)=>{this._loaded=!0,c?this.fire(new f.ErrorEvent(c)):h&&(this.video=h,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(g){if(this.video){const c=this.video.seekable;g<c.start(0)||g>c.end(0)?this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=g}}getVideo(){return this.video}onAdd(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const g=this.map.painter.context,c=g.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new f.Texture(g,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(g)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:xe,canvas:class extends xe{constructor(g,c,h,y){super(g,c,h,y),c.coordinates?Array.isArray(c.coordinates)&&4===c.coordinates.length&&!c.coordinates.some(w=>!Array.isArray(w)||2!==w.length||w.some(x=>"number"!=typeof x))||this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${g}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${g}`,null,'missing required property "coordinates"'))),c.animate&&"boolean"!=typeof c.animate&&this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${g}`,null,'optional "animate" property must be a boolean value'))),c.canvas?"string"==typeof c.canvas||c.canvas instanceof f.window.HTMLCanvasElement||this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${g}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new f.ErrorEvent(new f.ValidationError(`sources.${g}`,null,'missing required property "canvas"'))),this.options=c,this.animate=void 0===c.animate||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof f.window.HTMLCanvasElement?this.options.canvas:f.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new f.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const c=this.map.painter.context;this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const g of[this.canvas.width,this.canvas.height])if(isNaN(g)||g<=0)return!0;return!1}},custom:class extends f.Evented{constructor(g,c,h,y){super(),this.id=g,this.type="custom",this._dataType="raster",this._dispatcher=h,this._implementation=c,this.setEventedParent(y),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new f.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new f.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new xs(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),f.extend(this,f.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return f.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(g){this._map=g,this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(g),this.load()}onRemove(g){this._implementation.onRemove&&this._implementation.onRemove(g)}hasTile(g){if(this._implementation.hasTile){const{x:c,y:h,z:y}=g.canonical;return this._implementation.hasTile({x:c,y:h,z:y})}return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,c){const{x:h,y,z:w}=g.tileID.canonical,x=new f.window.AbortController;g.request=Promise.resolve(this._implementation.loadTile({x:h,y,z:w},{signal:x.signal})).then(function(D){return delete g.request,g.aborted?(g.state="unloaded",c(null)):void 0===D?(g.state="errored",c(null)):null===D?(this.loadTileData(g,{width:this.tileSize,height:this.tileSize,data:null}),g.state="loaded",c(null)):(E=D)instanceof f.window.ImageData||E instanceof f.window.HTMLCanvasElement||E instanceof f.window.ImageBitmap||E instanceof f.window.HTMLImageElement?(this.loadTileData(g,D),g.state="loaded",void c(null)):(g.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)));var E}.bind(this)).catch(D=>{20!==D.code&&(g.state="errored",c(D))}),g.request.cancel=()=>x.abort()}loadTileData(g,c){Y.loadTileData(g,c,this._map.painter)}unloadTileData(g){Y.unloadTileData(g,this._map.painter)}unloadTile(g,c){if(this.unloadTileData(g),this._implementation.unloadTile){const{x:h,y,z:w}=g.tileID.canonical;this._implementation.unloadTile({x:h,y,z:w})}c()}abortTile(g,c){g.request&&g.request.cancel&&(g.request.cancel(),delete g.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(g=>({x:g.canonical.x,y:g.canonical.y,z:g.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"}))}}},ke=function(g,c,h,y){const w=new Re[c.type](g,c,h,y);if(w.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${w.id}`);return f.bindAll(["load","abort","unload","serialize","prepare"],w),w};function Se(g,c){const h=f.identity([]);return f.scale(h,h,[.5*g.width,.5*-g.height,1]),f.translate(h,h,[1,-1,0]),f.multiply(h,h,g.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(h)}function Ae(g,c,h,y,w,x,D,E=!1){const A=g.tilesIn(y,D,E);A.sort(vt);const F=[];for(const $ of A)F.push({wrappedTileID:$.tile.tileID.wrapped().key,queryResults:$.tile.queryRenderedFeatures(c,h,g._state,$,w,x,Se(g.transform,$.tile.tileID),E)});const L=function($){const Q={},re={};for(const ne of $){const oe=ne.queryResults,ee=ne.wrappedTileID,te=re[ee]=re[ee]||{};for(const ue in oe){const se=oe[ue],pe=te[ue]=te[ue]||{},Ce=Q[ue]=Q[ue]||[];for(const be of se)pe[be.featureIndex]||(pe[be.featureIndex]=!0,Ce.push(be))}}return Q}(F);for(const $ in L)L[$].forEach(Q=>{const re=Q.feature,ne=re.layer;ne&&"background"!==ne.type&&"sky"!==ne.type&&(re.source=ne.source,ne["source-layer"]&&(re.sourceLayer=ne["source-layer"]),re.state=void 0!==re.id?g.getFeatureState(ne["source-layer"],re.id):{})});return L}function rt(g,c){const h=g.getRenderableIds().map(x=>g.getTileByID(x)),y=[],w={};for(let x=0;x<h.length;x++){const D=h[x],E=D.tileID.canonical.key;w[E]||(w[E]=!0,D.querySourceFeatures(y,c))}return y}function vt(g,c){const h=g.tileID,y=c.tileID;return h.overscaledZ-y.overscaledZ||h.canonical.y-y.canonical.y||h.wrap-y.wrap||h.canonical.x-y.canonical.x}function ft(){return null!=Ys.workerClass?new Ys.workerClass:new f.window.Worker(Ys.workerUrl)}const gn="mapboxgl_preloaded_worker_pool";class cn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<cn.workerCount;)this.workers.push(new ft);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],0===this.numActive()&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[gn]}numActive(){return Object.keys(this.active).length}}let Xt;function Tn(){return Xt||(Xt=new cn),Xt}function qn(g,c){const h={};for(const y in g)"ref"!==y&&(h[y]=g[y]);return f.refProperties.forEach(y=>{y in c&&(h[y]=c[y])}),h}function Pi(g){g=g.slice();const c=Object.create(null);for(let h=0;h<g.length;h++)c[g[h].id]=g[h];for(let h=0;h<g.length;h++)"ref"in g[h]&&(g[h]=qn(g[h],c[g[h].ref]));return g}cn.workerCount=2;const en={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function $i(g,c,h){h.push({command:en.addSource,args:[g,c[g]]})}function or(g,c,h){c.push({command:en.removeSource,args:[g]}),h[g]=!0}function Oa(g,c,h,y){or(g,h,y),$i(g,c,h)}function Bl(g,c,h){let y;for(y in g[h])if(g[h].hasOwnProperty(y)&&"data"!==y&&!He(g[h][y],c[h][y]))return!1;for(y in c[h])if(c[h].hasOwnProperty(y)&&"data"!==y&&!He(g[h][y],c[h][y]))return!1;return!0}function Vs(g,c,h,y,w,x){let D;for(D in c=c||{},g=g||{})g.hasOwnProperty(D)&&(He(g[D],c[D])||h.push({command:x,args:[y,D,c[D],w]}));for(D in c)c.hasOwnProperty(D)&&!g.hasOwnProperty(D)&&(He(g[D],c[D])||h.push({command:x,args:[y,D,c[D],w]}))}function tt(g){return g.id}function rl(g,c){return g[c.id]=c,g}class Br{constructor(c,h){this.reset(c,h)}reset(c,h){this.points=c||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(1===this.points.length)return this.points[0];c=f.clamp(c,0,1);let h=1,y=this._distances[h];const w=c*this.paddedLength+this.padding;for(;y<w&&h<this._distances.length;)y=this._distances[++h];const x=h-1,D=this._distances[x],E=y-D,A=E>0?(w-D)/E:0;return this.points[x].mult(1-A).add(this.points[h].mult(A))}}class Fi{constructor(c,h,y){const w=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(c/y),this.yCellCount=Math.ceil(h/y);for(let D=0;D<this.xCellCount*this.yCellCount;D++)w.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=h,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,h,y,w,x){this._forEachCell(h,y,w,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(h),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(x)}insertCircle(c,h,y,w){this._forEachCell(h-w,y-w,h+w,y+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(h),this.circles.push(y),this.circles.push(w)}_insertBoxCell(c,h,y,w,x,D){this.boxCells[x].push(D)}_insertCircleCell(c,h,y,w,x,D){this.circleCells[x].push(D)}_query(c,h,y,w,x,D){if(y<0||c>this.width||w<0||h>this.height)return!x&&[];const E=[];if(c<=0&&h<=0&&this.width<=y&&this.height<=w){if(x)return!0;for(let A=0;A<this.boxKeys.length;A++)E.push({key:this.boxKeys[A],x1:this.bboxes[4*A],y1:this.bboxes[4*A+1],x2:this.bboxes[4*A+2],y2:this.bboxes[4*A+3]});for(let A=0;A<this.circleKeys.length;A++){const F=this.circles[3*A],L=this.circles[3*A+1],$=this.circles[3*A+2];E.push({key:this.circleKeys[A],x1:F-$,y1:L-$,x2:F+$,y2:L+$})}return D?E.filter(D):E}return this._forEachCell(c,h,y,w,this._queryCell,E,{hitTest:x,seenUids:{box:{},circle:{}}},D),x?E.length>0:E}_queryCircle(c,h,y,w,x){const D=c-y,E=c+y,A=h-y,F=h+y;if(E<0||D>this.width||F<0||A>this.height)return!w&&[];const L=[];return this._forEachCell(D,A,E,F,this._queryCellCircle,L,{hitTest:w,circle:{x:c,y:h,radius:y},seenUids:{box:{},circle:{}}},x),w?L.length>0:L}query(c,h,y,w,x){return this._query(c,h,y,w,!1,x)}hitTest(c,h,y,w,x){return this._query(c,h,y,w,!0,x)}hitTestCircle(c,h,y,w){return this._queryCircle(c,h,y,!0,w)}_queryCell(c,h,y,w,x,D,E,A){const F=E.seenUids,L=this.boxCells[x];if(null!==L){const Q=this.bboxes;for(const re of L)if(!F.box[re]){F.box[re]=!0;const ne=4*re;if(c<=Q[ne+2]&&h<=Q[ne+3]&&y>=Q[ne+0]&&w>=Q[ne+1]&&(!A||A(this.boxKeys[re]))){if(E.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[re],x1:Q[ne],y1:Q[ne+1],x2:Q[ne+2],y2:Q[ne+3]})}}}const $=this.circleCells[x];if(null!==$){const Q=this.circles;for(const re of $)if(!F.circle[re]){F.circle[re]=!0;const ne=3*re;if(this._circleAndRectCollide(Q[ne],Q[ne+1],Q[ne+2],c,h,y,w)&&(!A||A(this.circleKeys[re]))){if(E.hitTest)return D.push(!0),!0;{const oe=Q[ne],ee=Q[ne+1],te=Q[ne+2];D.push({key:this.circleKeys[re],x1:oe-te,y1:ee-te,x2:oe+te,y2:ee+te})}}}}}_queryCellCircle(c,h,y,w,x,D,E,A){const F=E.circle,L=E.seenUids,$=this.boxCells[x];if(null!==$){const re=this.bboxes;for(const ne of $)if(!L.box[ne]){L.box[ne]=!0;const oe=4*ne;if(this._circleAndRectCollide(F.x,F.y,F.radius,re[oe+0],re[oe+1],re[oe+2],re[oe+3])&&(!A||A(this.boxKeys[ne])))return D.push(!0),!0}}const Q=this.circleCells[x];if(null!==Q){const re=this.circles;for(const ne of Q)if(!L.circle[ne]){L.circle[ne]=!0;const oe=3*ne;if(this._circlesCollide(re[oe],re[oe+1],re[oe+2],F.x,F.y,F.radius)&&(!A||A(this.circleKeys[ne])))return D.push(!0),!0}}}_forEachCell(c,h,y,w,x,D,E,A){const F=this._convertToXCellCoord(c),L=this._convertToYCellCoord(h),$=this._convertToXCellCoord(y),Q=this._convertToYCellCoord(w);for(let re=F;re<=$;re++)for(let ne=L;ne<=Q;ne++)if(x.call(this,c,h,y,w,this.xCellCount*ne+re,D,E,A))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,h,y,w,x,D){const E=w-c,A=x-h,F=y+D;return F*F>E*E+A*A}_circleAndRectCollide(c,h,y,w,x,D,E){const A=(D-w)/2,F=Math.abs(c-(w+A));if(F>A+y)return!1;const L=(E-x)/2,$=Math.abs(h-(x+L));if($>L+y)return!1;if(F<=A||$<=L)return!0;const Q=F-A,re=$-L;return Q*Q+re*re<=y*y}}const ro=Math.tan(85*Math.PI/180);function Ri(g,c,h,y,w,x,D){const E=f.create();if(h)if("globe"===x.name){const A=f.calculateGlobeLabelMatrix(w,c);f.multiply(E,E,A)}else{const A=Zt([],D);E[0]=A[0],E[1]=A[1],E[4]=A[2],E[5]=A[3],y||f.rotateZ(E,E,w.angle)}else f.multiply(E,w.labelPlaneMatrix,g);return E}function Du(g,c,h,y,w,x,D){const E=Ri(g,c,h,y,w,x,D);return"globe"===x.name&&h||(E[2]=E[6]=E[10]=E[14]=0),E}function sr(g,c,h,y,w,x,D){if(h){if("globe"===x.name){const E=Ri(g,c,h,y,w,x,D);return f.invert(E,E),f.multiply(E,g,E),E}{const E=f.clone(g),A=f.identity([]);return A[0]=D[0],A[1]=D[1],A[4]=D[2],A[5]=D[3],f.multiply(E,E,A),y||f.rotateZ(E,E,-w.angle),E}}return w.glCoordMatrix}function uo(g,c,h,y){const w=[g,c,h,1];h?f.transformMat4$1(w,w,y):In(w,w,y);const x=w[3];return w[0]/=x,w[1]/=x,w[2]/=x,w}function mt(g,c){return Math.min(.5+g/c*.5,1.5)}function li(g,c){const h=g[0]/g[3],y=g[1]/g[3];return h>=-c[0]&&h<=c[0]&&y>=-c[1]&&y<=c[1]}function ci(g,c,h,y,w,x,D,E,A,F){const L=h.transform,$=y?g.textSizeData:g.iconSizeData,Q=f.evaluateSizeForZoom($,h.transform.zoom),re="globe"===L.projection.name,ne=[256/h.width*2+1,256/h.height*2+1],oe=y?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;oe.clear();let ee=null;re&&(ee=y?g.text.globeExtVertexArray:g.icon.globeExtVertexArray);const te=g.lineVertexArray,ue=y?g.text.placedSymbolArray:g.icon.placedSymbolArray,se=h.transform.width/h.transform.height;let pe,Ce=!1;for(let be=0;be<ue.length;be++){const Te=ue.get(be),{numGlyphs:Ue,writingMode:ze}=Te;if(ze!==f.WritingMode.vertical||Ce||pe===f.WritingMode.horizontal||(Ce=!0),pe=ze,(Te.hidden||ze===f.WritingMode.vertical)&&!Ce){vn(Ue,oe);continue}Ce=!1;const Ie=new f.pointGeometry(Te.tileAnchorX,Te.tileAnchorY);let{x:gt,y:Ne,z:Je}=L.projection.projectTilePoint(Ie.x,Ie.y,F.canonical);if(A){const[Ut,Vt,pn]=A(Ie);gt+=Ut,Ne+=Vt,Je+=pn}const $e=[gt,Ne,Je,1];if(f.transformMat4$1($e,$e,c),!li($e,ne)){vn(Ue,oe);continue}const lt=mt(h.transform.cameraToCenterDistance,$e[3]),Ze=f.evaluateSizeForFeature($,Q,Te),ot=D?Ze/lt:Ze*lt,yt=uo(gt,Ne,Je,w);if(yt[3]<=0){vn(Ue,oe);continue}let Oe={};const je=D?null:A,Bt=Qn(Te,ot,!1,E,c,w,x,g.glyphOffsetArray,te,oe,ee,yt,Ie,Oe,se,je,L.projection,F,D);Ce=Bt.useVertical,je&&Bt.needsFlipping&&(Oe={}),(Bt.notEnoughRoom||Ce||Bt.needsFlipping&&Qn(Te,ot,!0,E,c,w,x,g.glyphOffsetArray,te,oe,ee,yt,Ie,Oe,se,je,L.projection,F,D).notEnoughRoom)&&vn(Ue,oe)}y?(g.text.dynamicLayoutVertexBuffer.updateData(oe),ee&&g.text.globeExtVertexBuffer.updateData(ee)):(g.icon.dynamicLayoutVertexBuffer.updateData(oe),ee&&g.icon.globeExtVertexBuffer.updateData(ee))}function Bn(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe){const{lineStartIndex:ee,glyphStartIndex:te,segment:ue}=E,se=te+E.numGlyphs,pe=ee+E.lineLength,Ce=c.getoffsetX(te),be=c.getoffsetX(se-1),Te=ca(g*Ce,h,y,w,x,D,ue,ee,pe,A,F,L,$,Q,!0,re,ne,oe);if(!Te)return null;const Ue=ca(g*be,h,y,w,x,D,ue,ee,pe,A,F,L,$,Q,!0,re,ne,oe);return Ue?{first:Te,last:Ue}:null}function On(g,c,h,y){return g===f.WritingMode.horizontal&&Math.abs(y)>Math.abs(h)?{useVertical:!0}:g===f.WritingMode.vertical?y>0?{needsFlipping:!0}:null:0!==c&&(0===(w=h)||Math.abs(y/w)>ro)?1===c?{needsFlipping:!0}:null:h<0?{needsFlipping:!0}:null;var w}function Qn(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe,ee,te,ue){const se=c/24,pe=g.lineOffsetX*se,Ce=g.lineOffsetY*se,{lineStartIndex:be,glyphStartIndex:Te,numGlyphs:Ue,segment:ze,writingMode:Ie,flipState:gt}=g,Ne=be+g.lineLength,Je=$e=>{if(L){const[yt,Oe,je]=$e.up,Bt=F.length;f.updateGlobeVertexNormal(L,Bt+0,yt,Oe,je),f.updateGlobeVertexNormal(L,Bt+1,yt,Oe,je),f.updateGlobeVertexNormal(L,Bt+2,yt,Oe,je),f.updateGlobeVertexNormal(L,Bt+3,yt,Oe,je)}const[lt,Ze,ot]=$e.point;f.addDynamicAttributes(F,lt,Ze,ot,$e.angle)};if(Ue>1){const $e=Bn(se,E,pe,Ce,h,$,Q,g,A,x,re,oe,!1,ee,te,ue);if(!$e)return{notEnoughRoom:!0};if(y&&!h){let[lt,Ze,ot]=$e.first.point,[yt,Oe,je]=$e.last.point;[lt,Ze]=uo(lt,Ze,ot,D),[yt,Oe]=uo(yt,Oe,je,D);const Bt=On(Ie,gt,(yt-lt)*ne,Oe-Ze);if(g.flipState=Bt&&Bt.needsFlipping?1:2,Bt)return Bt}Je($e.first);for(let lt=Te+1;lt<Te+Ue-1;lt++){const Ze=ca(se*E.getoffsetX(lt),pe,Ce,h,$,Q,ze,be,Ne,A,x,re,oe,!1,!1,ee,te,ue);if(!Ze)return F.length-=4*(lt-Te),{notEnoughRoom:!0};Je(Ze)}Je($e.last)}else{if(y&&!h){const lt=uo(Q.x,Q.y,0,w),Ze=be+ze+1,ot=new f.pointGeometry(A.getx(Ze),A.gety(Ze)),yt=uo(ot.x,ot.y,0,w),Oe=yt[3]>0?yt:ct(Q,ot,lt,1,w,void 0,ee,te.canonical),je=On(Ie,gt,(Oe[0]-lt[0])*ne,Oe[1]-lt[1]);if(g.flipState=je&&je.needsFlipping?1:2,je)return je}const $e=ca(se*E.getoffsetX(Te),pe,Ce,h,$,Q,ze,be,Ne,A,x,re,oe,!1,!1,ee,te,ue);if(!$e)return{notEnoughRoom:!0};Je($e)}return{}}function Dh(g,c,h,y,w){const{x,y:D,z:E}=y.projectTilePoint(g.x,g.y,c);if(!w)return uo(x,D,E,h);const[A,F,L]=w(g);return uo(x+A,D+F,E+L,h)}function ct(g,c,h,y,w,x,D,E){const A=Dh(g.sub(c)._unit()._add(g),E,w,D,x);return f.sub(A,h,A),f.normalize(A,A),f.scaleAndAdd(A,h,A,y)}function ca(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe,ee,te){const ue=y?g-c:g+c;let se=ue>0?1:-1,pe=0;y&&(se*=-1,pe=Math.PI),se<0&&(pe+=Math.PI);let Ce=E+D+(se>0?0:1)|0,be=w,Te=w,Ue=0,ze=0;const Ie=Math.abs(ue),gt=[],Ne=[];let Je=x,$e=Je;const lt=()=>ct($e,Je,Te,Ie-Ue+1,L,Q,oe,ee.canonical);for(;Ue+ze<=Ie;){if(Ce+=se,Ce<E||Ce>=A)return null;if(Te=be,$e=Je,gt.push(Te),re&&Ne.push($e),Je=new f.pointGeometry(F.getx(Ce),F.gety(Ce)),be=$[Ce],!be){const pn=Dh(Je,ee.canonical,L,oe,Q);be=pn[3]>0?$[Ce]=pn:lt()}Ue+=ze,ze=f.distance(Te,be)}ne&&Q&&($[Ce]&&(be=lt(),ze=f.distance(Te,be)),$[Ce]=be);const Ze=(Ie-Ue)/ze,ot=Je.sub($e)._mult(Ze)._add($e),yt=f.sub([],be,Te),Oe=f.scaleAndAdd([],Te,yt,Ze);let je=[0,0,1],Bt=yt[0],Ut=yt[1];if(te&&(je=oe.upVector(ee.canonical,ot.x,ot.y),0!==je[0]||0!==je[1]||1!==je[2])){const pn=[je[2],0,-je[0]],jn=f.cross([],je,pn);f.normalize(pn,pn),f.normalize(jn,jn),Bt=f.dot(yt,pn),Ut=f.dot(yt,jn)}if(h){const pn=f.cross([],je,yt);f.normalize(pn,pn),f.scaleAndAdd(Oe,Oe,pn,h*se)}const Vt=pe+Math.atan2(Ut,Bt);return gt.push(Oe),re&&Ne.push(ot),{point:Oe,angle:Vt,path:gt,tilePath:Ne,up:je}}function vn(g,c){const h=c.length,y=h+4*g;c.resize(y),c.float32.fill(-1/0,4*h,4*y)}function In(g,c,h){const y=c[0],w=c[1];return g[0]=h[0]*y+h[4]*w+h[12],g[1]=h[1]*y+h[5]*w+h[13],g[3]=h[3]*y+h[7]*w+h[15],g}const Pa=100;class Eh{constructor(c,h,y=new Fi(c.width+200,c.height+200,25),w=new Fi(c.width+200,c.height+200,25)){this.transform=c,this.grid=y,this.ignoredGrid=w,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Pa,this.screenBottomBoundary=c.height+Pa,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=h}placeCollisionBox(c,h,y,w,x,D,E,A){let F=y.projectedAnchorX,L=y.projectedAnchorY,$=y.projectedAnchorZ;const Q=y.elevation,re=y.tileID,ne=c.getProjection();if(Q&&re){const[be,Te,Ue]=ne.upVector(re.canonical,y.tileAnchorX,y.tileAnchorY),ze=ne.upVectorScale(re.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;F+=be*Q*ze,L+=Te*Q*ze,$+=Ue*Q*ze}const oe=this.projectAndGetPerspectiveRatio(E,F,L,$,y.tileID,"globe"===ne.name||!!Q||this.transform.pitch>0,ne),ee=D*oe.perspectiveRatio,te=(y.x1*h+w.x-y.padding)*ee+oe.point.x,ue=(y.y1*h+w.y-y.padding)*ee+oe.point.y,se=(y.x2*h+w.x+y.padding)*ee+oe.point.x,pe=(y.y2*h+w.y+y.padding)*ee+oe.point.y,Ce=oe.perspectiveRatio<=.55||oe.occluded;return!this.isInsideGrid(te,ue,se,pe)||!x&&this.grid.hitTest(te,ue,se,pe,A)||Ce?{box:[],offscreen:!1,occluded:oe.occluded}:{box:[te,ue,se,pe],offscreen:this.isOffscreen(te,ue,se,pe),occluded:!1}}placeCollisionCircles(c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe){const ee=[],te=this.transform.elevation,ue=c.getProjection(),se=te?te.getAtTileOffsetFunc(oe,this.transform.center.lat,this.transform.worldSize,ue):null,pe=new f.pointGeometry(y.tileAnchorX,y.tileAnchorY);let{x:Ce,y:be,z:Te}=ue.projectTilePoint(pe.x,pe.y,oe.canonical);if(se){const[ot,yt,Oe]=se(pe);Ce+=ot,be+=yt,Te+=Oe}const Ue="globe"===ue.name,ze=this.projectAndGetPerspectiveRatio(E,Ce,be,Te,oe,Ue||!!te||this.transform.pitch>0,ue),{perspectiveRatio:Ie}=ze,gt=($?D/Ie:D*Ie)/f.ONE_EM,Ne=uo(Ce,be,Te,A),Je=ze.signedDistanceFromCamera>0?Bn(gt,x,y.lineOffsetX*gt,y.lineOffsetY*gt,!1,Ne,pe,y,w,A,{},te&&!$?se:null,$&&!!te,ue,oe,$):null;let $e=!1,lt=!1,Ze=!0;if(Je&&!ze.occluded){const ot=.5*re*Ie+ne,yt=new f.pointGeometry(-100,-100),Oe=new f.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),je=new Br,{first:Bt,last:Ut}=Je,Vt=Bt.path.length;let pn=[];for(let Pt=Vt-1;Pt>=1;Pt--)pn.push(Bt.path[Pt]);for(let Pt=1;Pt<Ut.path.length;Pt++)pn.push(Ut.path[Pt]);const jn=2.5*ot;F&&(pn=pn.map(([Pt,Di,Ei],Wi)=>(se&&!Ue&&(Ei=se(Wi<Vt-1?Bt.tilePath[Vt-1-Wi]:Ut.tilePath[Wi-Vt+2])[2]),uo(Pt,Di,Ei,F))),pn.some(Pt=>Pt[3]<=0)&&(pn=[]));let rn=[];if(pn.length>0){let Pt=1/0,Di=-1/0,Ei=1/0,Wi=-1/0;for(const Bi of pn)Pt=Math.min(Pt,Bi[0]),Ei=Math.min(Ei,Bi[1]),Di=Math.max(Di,Bi[0]),Wi=Math.max(Wi,Bi[1]);Di>=yt.x&&Pt<=Oe.x&&Wi>=yt.y&&Ei<=Oe.y&&(rn=[pn.map(Bi=>new f.pointGeometry(Bi[0],Bi[1]))],(Pt<yt.x||Di>Oe.x||Ei<yt.y||Wi>Oe.y)&&(rn=f.clipLine(rn,yt.x,yt.y,Oe.x,Oe.y)))}for(const Pt of rn){je.reset(Pt,.25*ot);let Di=0;Di=je.length<=.5*ot?1:Math.ceil(je.paddedLength/jn)+1;for(let Ei=0;Ei<Di;Ei++){const Wi=Ei/Math.max(Di-1,1),Bi=je.lerp(Wi),Wo=Bi.x+Pa,us=Bi.y+Pa;ee.push(Wo,us,ot,0);const qo=Wo-ot,Is=us-ot,Vi=Wo+ot,Yi=us+ot;if(Ze=Ze&&this.isOffscreen(qo,Is,Vi,Yi),lt=lt||this.isInsideGrid(qo,Is,Vi,Yi),!h&&this.grid.hitTestCircle(Wo,us,ot,Q)&&($e=!0,!L))return{circles:[],offscreen:!1,collisionDetected:$e,occluded:!1}}}}return{circles:!L&&$e||!lt?[]:ee,offscreen:Ze,collisionDetected:$e,occluded:ze.occluded}}queryRenderedSymbols(c){if(0===c.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const h=[];let y=1/0,w=1/0,x=-1/0,D=-1/0;for(const L of c){const $=new f.pointGeometry(L.x+Pa,L.y+Pa);y=Math.min(y,$.x),w=Math.min(w,$.y),x=Math.max(x,$.x),D=Math.max(D,$.y),h.push($)}const E=this.grid.query(y,w,x,D).concat(this.ignoredGrid.query(y,w,x,D)),A={},F={};for(const L of E){const $=L.key;if(void 0===A[$.bucketInstanceId]&&(A[$.bucketInstanceId]={}),A[$.bucketInstanceId][$.featureIndex])continue;const Q=[new f.pointGeometry(L.x1,L.y1),new f.pointGeometry(L.x2,L.y1),new f.pointGeometry(L.x2,L.y2),new f.pointGeometry(L.x1,L.y2)];f.polygonIntersectsPolygon(h,Q)&&(A[$.bucketInstanceId][$.featureIndex]=!0,void 0===F[$.bucketInstanceId]&&(F[$.bucketInstanceId]=[]),F[$.bucketInstanceId].push($.featureIndex))}return F}insertCollisionBox(c,h,y,w,x){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:w,collisionGroupID:x},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,h,y,w,x){const D=h?this.ignoredGrid:this.grid,E={bucketInstanceId:y,featureIndex:w,collisionGroupID:x};for(let A=0;A<c.length;A+=4)D.insertCircle(E,c[A],c[A+1],c[A+2])}projectAndGetPerspectiveRatio(c,h,y,w,x,D,E){const A=[h,y,w,1];let F=!1;if(w||this.transform.pitch>0){f.transformMat4$1(A,A,c);const $="globe"===E.name;this.fogState&&x&&!$&&(F=function(re,ne,oe,ee,te,ue){const se=ue.calculateFogTileMatrix(te),pe=[ne,oe,ee];return f.transformMat4(pe,pe,se),Ol(re,pe,ue.pitch,ue._fov)}(this.fogState,h,y,w,x.toUnwrapped(),this.transform)>.9)}else In(A,A,c);const L=A[3];return{point:new f.pointGeometry((A[0]/L+1)/2*this.transform.width+Pa,(-A[1]/L+1)/2*this.transform.height+Pa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(E)/L*.5,1.5),signedDistanceFromCamera:L,occluded:D&&A[2]>L||F}}isOffscreen(c,h,y,w){return y<Pa||c>=this.screenRightBoundary||w<Pa||h>this.screenBottomBoundary}isInsideGrid(c,h,y,w){return y>=0&&c<this.gridRightBoundary&&w>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const c=f.identity([]);return f.translate(c,c,[-100,-100,0]),c}}function wd(g,c,h){const y=c.createTileMatrix(g,g.worldSize,h.toUnwrapped());return f.multiply(new Float32Array(16),g.projMatrix,y)}function Vl(g,c,h){if(c.projection.name===h.projection.name)return g.projMatrix;const y=h.clone();return y.setProjection(c.projection),wd(y,c.getProjection(),g)}function ho(g,c,h){return c.name===h.projection.name?g.projMatrix:wd(h,c,g)}class Um{constructor(c,h,y,w){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?h:-h))):w&&y?1:0,this.placed=y}isHidden(){return 0===this.opacity&&!this.placed}}class Hl{constructor(c,h,y,w,x,D=!1){this.text=new Um(c?c.text:null,h,y,x),this.icon=new Um(c?c.icon:null,h,w,x),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ih{constructor(c,h,y,w=!1){this.text=c,this.icon=h,this.skipFade=y,this.clipped=w}}class Hs{constructor(){this.invProjMatrix=f.create(),this.viewportMatrix=f.create(),this.circles=[]}}class jm{constructor(c,h,y,w,x){this.bucketInstanceId=c,this.featureIndex=h,this.sourceLayerIndex=y,this.bucketIndex=w,this.tileID=x}}class Ss{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const h=++this.maxGroupID;this.collisionGroups[c]={ID:h,predicate:y=>y.collisionGroupID===h}}return this.collisionGroups[c]}}function kr(g,c,h,y,w){const{horizontalAlign:x,verticalAlign:D}=f.getAnchorAlignment(g),E=-(x-.5)*c,A=-(D-.5)*h,F=f.evaluateVariableOffset(g,y);return new f.pointGeometry(E+F[0]*w,A+F[1]*w)}function kh(g,c,h,y,w){const x=new f.pointGeometry(g,c);return h&&x._rotate(y?w:-w),x}class lf{constructor(c,h,y,w,x){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Eh(this.transform,x),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new Ss(y),this.collisionCircleArrays={},this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,h,y,w){const x=y.getBucket(h),D=y.latestFeatureIndex;if(!x||!D||h.id!==x.layerIds[0])return;const E=x.layers[0].layout,A=y.collisionBoxArray,F=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),L=y.tileSize/f.EXTENT,$=y.tileID.toUnwrapped();this.transform.setProjection(x.projection);const Q=(re=y.tileID,ne=x.getProjection(),oe=this.transform,ne.name===this.projection?oe.calculateProjMatrix(re.toUnwrapped()):wd(oe,ne,re));var re,ne,oe;const ee="map"===E.get("text-pitch-alignment"),te="map"===E.get("text-rotation-alignment");h.compileFilter();const ue=h.dynamicFilter(),se=h.dynamicFilterNeedsFeature(),pe=this.transform.calculatePixelsToTileUnitsMatrix(y),Ce=Du(Q,y.tileID.canonical,ee,te,this.transform,x.getProjection(),pe);let be=null;if(ee){const ze=sr(Q,y.tileID.canonical,ee,te,this.transform,x.getProjection(),pe);be=f.multiply([],this.transform.labelPlaneMatrix,ze)}let Te=null;ue&&y.latestFeatureIndex&&(Te={unwrappedTileID:$,dynamicFilter:ue,dynamicFilterNeedsFeature:se,featureIndex:y.latestFeatureIndex}),this.retainedQueryData[x.bucketInstanceId]=new jm(x.bucketInstanceId,D,x.sourceLayerIndex,x.index,y.tileID);const Ue={bucket:x,layout:E,posMatrix:Q,textLabelPlaneMatrix:Ce,labelToScreenMatrix:be,clippingData:Te,scale:F,textPixelRatio:L,holdingForFade:y.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:f.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:f.evaluateSizeForZoom(x.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(w)for(const ze of x.sortKeyRanges){const{sortKey:Ie,symbolInstanceStart:gt,symbolInstanceEnd:Ne}=ze;c.push({sortKey:Ie,symbolInstanceStart:gt,symbolInstanceEnd:Ne,parameters:Ue})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Ue})}attemptAnchorPlacement(c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe,ee,te,ue){const{textOffset0:se,textOffset1:pe,crossTileID:Ce}=Q,be=[se,pe],Te=kr(c,y,w,be,x),Ue=this.collisionIndex.placeCollisionBox(ne,x,h,kh(Te.x,Te.y,D,E,this.transform.angle),$,A,F,L.predicate);if(ee){const ze=ne.getSymbolInstanceIconSize(ue,this.transform.zoom,Q.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(ne,ze,ee,kh(Te.x,Te.y,D,E,this.transform.angle),$,A,F,L.predicate).box.length)return}if(Ue.box.length>0){let ze;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ce]&&this.prevPlacement.placements[Ce]&&this.prevPlacement.placements[Ce].text&&(ze=this.prevPlacement.variableOffsets[Ce].anchor),this.variableOffsets[Ce]={textOffset:be,width:y,height:w,anchor:c,textScale:x,prevAnchor:ze},this.markUsedJustification(ne,c,Q,oe),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,oe,Q),this.placedOrientations[Ce]=oe),{shift:Te,placedGlyphBoxes:Ue}}}placeLayerBucketPart(c,h,y,w){const{bucket:x,layout:D,posMatrix:E,textLabelPlaneMatrix:A,labelToScreenMatrix:F,clippingData:L,textPixelRatio:$,holdingForFade:Q,collisionBoxArray:re,partiallyEvaluatedTextSize:ne,partiallyEvaluatedIconSize:oe,collisionGroup:ee}=c.parameters,te=D.get("text-optional"),ue=D.get("icon-optional"),se=D.get("text-allow-overlap"),pe=D.get("icon-allow-overlap"),Ce="map"===D.get("text-rotation-alignment"),be="map"===D.get("text-pitch-alignment"),Te="none"!==D.get("icon-text-fit"),Ue="viewport-y"===D.get("symbol-z-order");this.transform.setProjection(x.projection);let ze=se&&(pe||!x.hasIconData()||ue),Ie=pe&&(se||!x.hasTextData()||te);!x.collisionArrays&&re&&x.deserializeCollisionBoxes(re),y&&w&&x.updateCollisionDebugBuffers(this.transform.zoom,re);const gt=(Ne,Je,$e)=>{const{crossTileID:lt,numVerticalGlyphVertices:Ze}=Ne;if(L){const Vi={zoom:this.transform.zoom,pitch:this.transform.pitch};let Yi=null;if(L.dynamicFilterNeedsFeature){const yi=this.retainedQueryData[x.bucketInstanceId];Yi=L.featureIndex.loadFeature({featureIndex:Ne.featureIndex,bucketIndex:yi.bucketIndex,sourceLayerIndex:yi.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,L.dynamicFilter)(Vi,Yi,this.retainedQueryData[x.bucketInstanceId].tileID.canonical,new f.pointGeometry(Ne.tileAnchorX,Ne.tileAnchorY),this.transform.calculateDistanceTileData(L.unwrappedTileID)))return this.placements[lt]=new Ih(!1,!1,!1,!0),void(h[lt]=!0)}if(h[lt])return;if(Q)return void(this.placements[lt]=new Ih(!1,!1,!1));let ot=!1,yt=!1,Oe=!0,je=!1,Bt=!1,Ut=null,Vt={box:null,offscreen:null,occluded:null},pn={box:null,offscreen:null,occluded:null},jn=null,rn=null,Pt=null,Di=0,Ei=0,Wi=0;$e.textFeatureIndex?Di=$e.textFeatureIndex:Ne.useRuntimeCollisionCircles&&(Di=Ne.featureIndex),$e.verticalTextFeatureIndex&&(Ei=$e.verticalTextFeatureIndex);const Bi=Vi=>{Vi.tileID=this.retainedQueryData[x.bucketInstanceId].tileID;const Yi=this.transform.elevation;(Yi||Vi.elevation)&&(Vi.elevation=Yi?Yi.getAtTileOffset(Vi.tileID,Vi.tileAnchorX,Vi.tileAnchorY):0)},Wo=$e.textBox;if(Wo){Bi(Wo);const Vi=yi=>{let Dr=f.WritingMode.horizontal;if(x.allowVerticalPlacement&&!yi&&this.prevPlacement){const Nr=this.prevPlacement.placedOrientations[lt];Nr&&(this.placedOrientations[lt]=Nr,Dr=Nr,this.markUsedOrientation(x,Dr,Ne))}return Dr},Yi=(yi,Dr)=>{if(x.allowVerticalPlacement&&Ze>0&&$e.verticalTextBox){for(const Nr of x.writingModes)if(Nr===f.WritingMode.vertical?(Vt=Dr(),pn=Vt):Vt=yi(),Vt&&Vt.box&&Vt.box.length)break}else Vt=yi()};if(D.get("text-variable-anchor")){let yi=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[lt]){const Ji=this.prevPlacement.variableOffsets[lt];yi.indexOf(Ji.anchor)>0&&(yi=yi.filter(_n=>_n!==Ji.anchor),yi.unshift(Ji.anchor))}const Dr=(Ji,_n,Yc)=>{const fl=x.getSymbolInstanceTextSize(ne,Ne,this.transform.zoom,Je),_o=(Ji.x2-Ji.x1)*fl+2*Ji.padding,Kr=(Ji.y2-Ji.y1)*fl+2*Ji.padding,Zo=Te&&!pe?_n:null;Zo&&Bi(Zo);let Ko={box:[],offscreen:!1,occluded:!1};const Ha=se?2*yi.length:yi.length;for(let Xc=0;Xc<Ha;++Xc){const Xs=this.attemptAnchorPlacement(yi[Xc%yi.length],Ji,_o,Kr,fl,Ce,be,$,E,ee,Xc>=yi.length,Ne,Je,x,Yc,Zo,ne,oe);if(Xs&&(Ko=Xs.placedGlyphBoxes,Ko&&Ko.box&&Ko.box.length)){ot=!0,Ut=Xs.shift;break}}return Ko};Yi(()=>Dr(Wo,$e.iconBox,f.WritingMode.horizontal),()=>{const Ji=$e.verticalTextBox;return Ji&&Bi(Ji),x.allowVerticalPlacement&&!(Vt&&Vt.box&&Vt.box.length)&&Ze>0&&Ji?Dr(Ji,$e.verticalIconBox,f.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Vt&&(ot=Vt.box,Oe=Vt.offscreen,je=Vt.occluded);const Nr=Vi(Vt&&Vt.box);if(!ot&&this.prevPlacement){const Ji=this.prevPlacement.variableOffsets[lt];Ji&&(this.variableOffsets[lt]=Ji,this.markUsedJustification(x,Ji.anchor,Ne,Nr))}}else{const yi=(Dr,Nr)=>{const Ji=x.getSymbolInstanceTextSize(ne,Ne,this.transform.zoom,Je),_n=this.collisionIndex.placeCollisionBox(x,Ji,Dr,new f.pointGeometry(0,0),se,$,E,ee.predicate);return _n&&_n.box&&_n.box.length&&(this.markUsedOrientation(x,Nr,Ne),this.placedOrientations[lt]=Nr),_n};Yi(()=>yi(Wo,f.WritingMode.horizontal),()=>{const Dr=$e.verticalTextBox;return x.allowVerticalPlacement&&Ze>0&&Dr?(Bi(Dr),yi(Dr,f.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Vi(Vt&&Vt.box&&Vt.box.length)}}if(jn=Vt,ot=jn&&jn.box&&jn.box.length>0,Oe=jn&&jn.offscreen,je=jn&&jn.occluded,Ne.useRuntimeCollisionCircles){const Vi=x.text.placedSymbolArray.get(Ne.centerJustifiedTextSymbolIndex>=0?Ne.centerJustifiedTextSymbolIndex:Ne.verticalPlacedTextSymbolIndex),Yi=f.evaluateSizeForFeature(x.textSizeData,ne,Vi),yi=D.get("text-padding");rn=this.collisionIndex.placeCollisionCircles(x,se,Vi,x.lineVertexArray,x.glyphOffsetArray,Yi,E,A,F,y,be,ee.predicate,Ne.collisionCircleDiameter*Yi/f.ONE_EM,yi,this.retainedQueryData[x.bucketInstanceId].tileID),ot=se||rn.circles.length>0&&!rn.collisionDetected,Oe=Oe&&rn.offscreen,je=rn.occluded}if($e.iconFeatureIndex&&(Wi=$e.iconFeatureIndex),$e.iconBox){const Vi=Yi=>{Bi(Yi);const yi=Te&&Ut?kh(Ut.x,Ut.y,Ce,be,this.transform.angle):new f.pointGeometry(0,0),Dr=x.getSymbolInstanceIconSize(oe,this.transform.zoom,Ne.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(x,Dr,Yi,yi,pe,$,E,ee.predicate)};pn&&pn.box&&pn.box.length&&$e.verticalIconBox?(Pt=Vi($e.verticalIconBox),yt=Pt.box.length>0):(Pt=Vi($e.iconBox),yt=Pt.box.length>0),Oe=Oe&&Pt.offscreen,Bt=Pt.occluded}const us=te||0===Ne.numHorizontalGlyphVertices&&0===Ze,qo=ue||0===Ne.numIconVertices;if(us||qo?qo?us||(yt=yt&&ot):ot=yt&&ot:yt=ot=yt&&ot,ot&&jn&&jn.box&&this.collisionIndex.insertCollisionBox(jn.box,D.get("text-ignore-placement"),x.bucketInstanceId,pn&&pn.box&&Ei?Ei:Di,ee.ID),yt&&Pt&&this.collisionIndex.insertCollisionBox(Pt.box,D.get("icon-ignore-placement"),x.bucketInstanceId,Wi,ee.ID),rn&&(ot&&this.collisionIndex.insertCollisionCircles(rn.circles,D.get("text-ignore-placement"),x.bucketInstanceId,Di,ee.ID),y)){const Vi=x.bucketInstanceId;let Yi=this.collisionCircleArrays[Vi];void 0===Yi&&(Yi=this.collisionCircleArrays[Vi]=new Hs);for(let yi=0;yi<rn.circles.length;yi+=4)Yi.circles.push(rn.circles[yi+0]),Yi.circles.push(rn.circles[yi+1]),Yi.circles.push(rn.circles[yi+2]),Yi.circles.push(rn.collisionDetected?1:0)}const Is="globe"!==x.projection.name;ze=ze&&(Is||!je),Ie=Ie&&(Is||!Bt),this.placements[lt]=new Ih(ot||ze,yt||Ie,Oe||x.justReloaded),h[lt]=!0};if(Ue){const Ne=x.getSortedSymbolIndexes(this.transform.angle);for(let Je=Ne.length-1;Je>=0;--Je){const $e=Ne[Je];gt(x.symbolInstances.get($e),$e,x.collisionArrays[$e])}}else for(let Ne=c.symbolInstanceStart;Ne<c.symbolInstanceEnd;Ne++)gt(x.symbolInstances.get(Ne),Ne,x.collisionArrays[Ne]);if(y&&x.bucketInstanceId in this.collisionCircleArrays){const Ne=this.collisionCircleArrays[x.bucketInstanceId];f.invert(Ne.invProjMatrix,E),Ne.viewportMatrix=this.collisionIndex.getViewportMatrix()}x.justReloaded=!1}markUsedJustification(c,h,y,w){const{leftJustifiedTextSymbolIndex:x,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:E,verticalPlacedTextSymbolIndex:A,crossTileID:F}=y,L=f.getAnchorJustification(h),$=w===f.WritingMode.vertical?A:"left"===L?x:"center"===L?D:"right"===L?E:-1;x>=0&&(c.text.placedSymbolArray.get(x).crossTileID=$>=0&&x!==$?0:F),D>=0&&(c.text.placedSymbolArray.get(D).crossTileID=$>=0&&D!==$?0:F),E>=0&&(c.text.placedSymbolArray.get(E).crossTileID=$>=0&&E!==$?0:F),A>=0&&(c.text.placedSymbolArray.get(A).crossTileID=$>=0&&A!==$?0:F)}markUsedOrientation(c,h,y){const w=h===f.WritingMode.horizontal||h===f.WritingMode.horizontalOnly?h:0,x=h===f.WritingMode.vertical?h:0,{leftJustifiedTextSymbolIndex:D,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:A,verticalPlacedTextSymbolIndex:F}=y,L=c.text.placedSymbolArray;D>=0&&(L.get(D).placedOrientation=w),E>=0&&(L.get(E).placedOrientation=w),A>=0&&(L.get(A).placedOrientation=w),F>=0&&(L.get(F).placedOrientation=x)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let y=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const w=h?h.symbolFadeChange(c):1,x=h?h.opacities:{},D=h?h.variableOffsets:{},E=h?h.placedOrientations:{};for(const A in this.placements){const F=this.placements[A],L=x[A];L?(this.opacities[A]=new Hl(L,w,F.text,F.icon,null,F.clipped),y=y||F.text!==L.text.placed||F.icon!==L.icon.placed):(this.opacities[A]=new Hl(null,w,F.text,F.icon,F.skipFade,F.clipped),y=y||F.text||F.icon)}for(const A in x){const F=x[A];if(!this.opacities[A]){const L=new Hl(F,w,!1,!1);L.isHidden()||(this.opacities[A]=L,y=y||F.text.placed||F.icon.placed)}}for(const A in D)this.variableOffsets[A]||!this.opacities[A]||this.opacities[A].isHidden()||(this.variableOffsets[A]=D[A]);for(const A in E)this.placedOrientations[A]||!this.opacities[A]||this.opacities[A].isHidden()||(this.placedOrientations[A]=E[A]);y?this.lastPlacementChangeTime=c:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:c)}updateLayerOpacities(c,h){const y={};for(const w of h){const x=w.getBucket(c);x&&w.latestFeatureIndex&&c.id===x.layerIds[0]&&this.updateBucketOpacities(x,y,w.collisionBoxArray)}}updateBucketOpacities(c,h,y){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const w=c.layers[0].layout,x=!!c.layers[0].dynamicFilter(),D=new Hl(null,0,!1,!1,!0),E=w.get("text-allow-overlap"),A=w.get("icon-allow-overlap"),F=w.get("text-variable-anchor"),L="map"===w.get("text-rotation-alignment"),$="map"===w.get("text-pitch-alignment"),Q="none"!==w.get("icon-text-fit"),re=new Hl(null,0,E&&(A||!c.hasIconData()||w.get("icon-optional")),A&&(E||!c.hasTextData()||w.get("text-optional")),!0);!c.collisionArrays&&y&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(y);const ne=(ee,te,ue)=>{for(let se=0;se<te/4;se++)ee.opacityVertexArray.emplaceBack(ue)};let oe=0;for(let ee=0;ee<c.symbolInstances.length;ee++){const te=c.symbolInstances.get(ee),{numHorizontalGlyphVertices:ue,numVerticalGlyphVertices:se,crossTileID:pe,numIconVertices:Ce}=te;let be=this.opacities[pe];h[pe]?be=D:be||(be=re,this.opacities[pe]=be),h[pe]=!0;const Te=ue>0||se>0,Ue=Ce>0,ze=this.placedOrientations[pe],Ie=ze===f.WritingMode.vertical,gt=ze===f.WritingMode.horizontal||ze===f.WritingMode.horizontalOnly;if(!Te&&!Ue||be.isHidden()||oe++,Te){const Ne=Qe(be.text);ne(c.text,ue,Ie?Cd:Ne),ne(c.text,se,gt?Cd:Ne);const Je=be.text.isHidden(),{leftJustifiedTextSymbolIndex:$e,centerJustifiedTextSymbolIndex:lt,rightJustifiedTextSymbolIndex:Ze,verticalPlacedTextSymbolIndex:ot}=te,yt=c.text.placedSymbolArray,Oe=Je||Ie?1:0;$e>=0&&(yt.get($e).hidden=Oe),lt>=0&&(yt.get(lt).hidden=Oe),Ze>=0&&(yt.get(Ze).hidden=Oe),ot>=0&&(yt.get(ot).hidden=Je||gt?1:0);const je=this.variableOffsets[pe];je&&this.markUsedJustification(c,je.anchor,te,ze);const Bt=this.placedOrientations[pe];Bt&&(this.markUsedJustification(c,"left",te,Bt),this.markUsedOrientation(c,Bt,te))}if(Ue){const Ne=Qe(be.icon),{placedIconSymbolIndex:Je,verticalPlacedIconSymbolIndex:$e}=te,lt=c.icon.placedSymbolArray,Ze=be.icon.isHidden()?1:0;Je>=0&&(ne(c.icon,Ce,Ie?Cd:Ne),lt.get(Je).hidden=Ze),$e>=0&&(ne(c.icon,te.numVerticalIconVertices,gt?Cd:Ne),lt.get($e).hidden=Ze)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Ne=c.collisionArrays[ee];if(Ne){let Je=new f.pointGeometry(0,0),$e=!0;if(Ne.textBox||Ne.verticalTextBox){if(F){const Ze=this.variableOffsets[pe];Ze?(Je=kr(Ze.anchor,Ze.width,Ze.height,Ze.textOffset,Ze.textScale),L&&Je._rotate($?this.transform.angle:-this.transform.angle)):$e=!1}x&&($e=!be.clipped),Ne.textBox&&Eo(c.textCollisionBox.collisionVertexArray,be.text.placed,!$e||Ie,Je.x,Je.y),Ne.verticalTextBox&&Eo(c.textCollisionBox.collisionVertexArray,be.text.placed,!$e||gt,Je.x,Je.y)}const lt=$e&&Boolean(!gt&&Ne.verticalIconBox);Ne.iconBox&&Eo(c.iconCollisionBox.collisionVertexArray,be.icon.placed,lt,Q?Je.x:0,Q?Je.y:0),Ne.verticalIconBox&&Eo(c.iconCollisionBox.collisionVertexArray,be.icon.placed,!lt,Q?Je.x:0,Q?Je.y:0)}}}if(c.fullyClipped=0===oe,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const ee=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ee.invProjMatrix,c.placementViewportMatrix=ee.viewportMatrix,c.collisionCircleArray=ee.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return 0===this.fadeDuration?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,h){const y=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*y>c}setStale(){this.stale=!0}}function Eo(g,c,h,y,w){g.emplaceBack(c?1:0,h?1:0,y||0,w||0),g.emplaceBack(c?1:0,h?1:0,y||0,w||0),g.emplaceBack(c?1:0,h?1:0,y||0,w||0),g.emplaceBack(c?1:0,h?1:0,y||0,w||0)}const Us=Math.pow(2,25),V0=Math.pow(2,24),Io=Math.pow(2,17),Vn=Math.pow(2,16),Ah=Math.pow(2,9),$m=Math.pow(2,8),Oh=Math.pow(2,1);function Qe(g){if(0===g.opacity&&!g.placed)return 0;if(1===g.opacity&&g.placed)return 4294967295;const c=g.placed?1:0,h=Math.floor(127*g.opacity);return h*Us+c*V0+h*Io+c*Vn+h*Ah+c*$m+h*Oh+c}const Cd=0;class Lt{constructor(c){this._sortAcrossTiles="viewport-y"!==c.layout.get("symbol-z-order")&&void 0!==c.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,h,y,w,x){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(h.getBucketParts(D,w,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((E,A)=>E.sortKey-A.sortKey));this._currentPartIndex<D.length;){const E=D[this._currentPartIndex];if(h.placeLayerBucketPart(E,this._seenCrossTileIDs,y,0===E.symbolInstanceStart),this._currentPartIndex++,x())return!0}return!1}}class js{constructor(c,h,y,w,x,D,E,A){this.placement=new lf(c,x,D,E,A),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(c,h,y){const w=f.exported.now(),x=()=>{const D=f.exported.now()-w;return!this._forceFullPlacement&&D>2};for(;this._currentPlacementIndex>=0;){const D=h[c[this._currentPlacementIndex]],E=this.placement.collisionIndex.transform.zoom;if("symbol"===D.type&&(!D.minzoom||D.minzoom<=E)&&(!D.maxzoom||D.maxzoom>E)){if(this._inProgressLayer||(this._inProgressLayer=new Lt(D)),this._inProgressLayer.continuePlacement(y[D.source],this.placement,this._showCollisionBoxes,D,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const xd=512/f.EXTENT/2;class Sd{constructor(c,h,y){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=y;for(let w=0;w<h.length;w++){const x=h.get(w),D=x.key;this.indexedSymbolInstances[D]||(this.indexedSymbolInstances[D]=[]),this.indexedSymbolInstances[D].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,c)})}}getScaledCoordinates(c,h){const y=xd/Math.pow(2,h.canonical.z-this.tileID.canonical.z);return{x:Math.floor((h.canonical.x*f.EXTENT+c.tileAnchorX)*y),y:Math.floor((h.canonical.y*f.EXTENT+c.tileAnchorY)*y)}}findMatches(c,h,y){const w=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<c.length;x++){const D=c.get(x);if(D.crossTileID)continue;const E=this.indexedSymbolInstances[D.key];if(!E)continue;const A=this.getScaledCoordinates(D,h);for(const F of E)if(Math.abs(F.coord.x-A.x)<=w&&Math.abs(F.coord.y-A.y)<=w&&!y[F.crossTileID]){y[F.crossTileID]=!0,D.crossTileID=F.crossTileID;break}}}}class H0{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class cf{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const h=Math.round((c-this.lng)/360);if(0!==h)for(const y in this.indexes){const w=this.indexes[y],x={};for(const D in w){const E=w[D];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+h),x[E.tileID.key]=E}this.indexes[y]=x}this.lng=c}addBucket(c,h,y){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const w=this.usedCrossTileIDs[c.overscaledZ];for(const x in this.indexes){const D=this.indexes[x];if(Number(x)>c.overscaledZ)for(const E in D){const A=D[E];A.tileID.isChildOf(c)&&A.findMatches(h.symbolInstances,c,w)}else{const E=D[c.scaledTo(Number(x)).key];E&&E.findMatches(h.symbolInstances,c,w)}}for(let x=0;x<h.symbolInstances.length;x++){const D=h.symbolInstances.get(x);D.crossTileID||(D.crossTileID=y.generate(),w[D.crossTileID]=!0)}return void 0===this.indexes[c.overscaledZ]&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Sd(c,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(c,h){for(const y in h.indexedSymbolInstances)for(const w of h.indexedSymbolInstances[y])delete this.usedCrossTileIDs[c][w.crossTileID]}removeStaleBuckets(c){let h=!1;for(const y in this.indexes){const w=this.indexes[y];for(const x in w)c[w[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,w[x]),delete w[x],h=!0)}return h}}class Ul{constructor(){this.layerIndexes={},this.crossTileIDs=new H0,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,h,y,w){let x=this.layerIndexes[c.id];void 0===x&&(x=this.layerIndexes[c.id]=new cf);let D=!1;const E={};"globe"!==w.name&&x.handleWrapJump(y);for(const A of h){const F=A.getBucket(c);F&&c.id===F.layerIds[0]&&(F.bucketInstanceId||(F.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(A.tileID,F,this.crossTileIDs)&&(D=!0),E[F.bucketInstanceId]=!0)}return x.removeStaleBuckets(E)&&(D=!0),D}pruneUnusedLayers(c){const h={};c.forEach(y=>{h[y]=!0});for(const y in this.layerIndexes)h[y]||delete this.layerIndexes[y]}}const zc=(g,c)=>f.emitValidationErrors(g,c&&c.filter(h=>"source.canvas"!==h.identifier)),Ph=f.pick(en,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Bc=f.pick(en,["setCenter","setZoom","setBearing","setPitch"]),jl={version:8,layers:[],sources:{}},Nn={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Wr extends f.Evented{constructor(c,h={}){super(),this.map=c,this.dispatcher=new tl(Tn(),this),this.imageManager=new Cs,this.imageManager.setEventedParent(this),this.glyphManager=new f.GlyphManager(c._requestManager,h.localFontFamily?f.LocalGlyphMode.all:h.localIdeographFontFamily?f.LocalGlyphMode.ideographs:f.LocalGlyphMode.none,h.localFontFamily||h.localIdeographFontFamily),this.crossTileSymbolIndex=new Ul,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",f.getReferrer());const y=this;this._rtlTextPluginCallback=Wr.registerForPluginStateChange(w=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},(x,D)=>{if(f.triggerPluginCompletionEvent(x),D&&D.every(E=>E))for(const E in y._sourceCaches){const A=y._sourceCaches[E],F=A.getSource().type;"vector"!==F&&"geojson"!==F||A.reload()}})}),this.on("data",w=>{if("source"!==w.dataType||"metadata"!==w.sourceDataType)return;const x=this.getSource(w.sourceId);if(x&&x.vectorLayerIds)for(const D in this._layers){const E=this._layers[D];E.source===x.id&&this._validateLayer(E)}})}loadURL(c,h={}){this.fire(new f.Event("dataloading",{dataType:"style"}));const y="boolean"==typeof h.validate?h.validate:!f.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,h.accessToken);const w=this.map._requestManager.transformRequest(c,f.ResourceType.Style);this._request=f.getJSON(w,(x,D)=>{this._request=null,x?this.fire(new f.ErrorEvent(x)):D&&this._load(D,y)})}loadJSON(c,h={}){this.fire(new f.Event("dataloading",{dataType:"style"})),this._request=f.exported.frame(()=>{this._request=null,this._load(c,!1!==h.validate)})}loadEmpty(){this.fire(new f.Event("dataloading",{dataType:"style"})),this._load(jl,!1)}_updateLayerCount(c,h){const y=h?1:-1;c.is3D()&&(this._num3DLayers+=y),"circle"===c.type&&(this._numCircleLayers+=y),"symbol"===c.type&&(this._numSymbolLayers+=y)}_load(c,h){if(h&&zc(this,f.validateStyle(c)))return;this._loaded=!0,this.stylesheet=f.clone$1(c),this._updateMapProjection();for(const w in c.sources)this.addSource(w,c.sources[w],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const y=Pi(this.stylesheet.layers);this._order=y.map(w=>w.id),this._layers={},this._serializedLayers={};for(let w of y)w=f.createStyleLayer(w),w.setEventedParent(this,{layer:{id:w.id}}),this._layers[w.id]=w,this._serializedLayers[w.id]=w.serialize(),this._updateLayerCount(w,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ec(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new f.Event("data",{dataType:"style"})),this.fire(new f.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(h,y,w){let x,D,E;const A=f.exported.devicePixelRatio>1?"@2x":"";let F=f.getJSON(y.transformRequest(y.normalizeSpriteURL(h,A,".json"),f.ResourceType.SpriteJSON),(Q,re)=>{F=null,E||(E=Q,x=re,$())}),L=f.getImage(y.transformRequest(y.normalizeSpriteURL(h,A,".png"),f.ResourceType.SpriteImage),(Q,re)=>{L=null,E||(E=Q,D=re,$())});function $(){if(E)w(E);else if(x&&D){const Q=f.exported.getImageData(D),re={};for(const ne in x){const{width:oe,height:ee,x:te,y:ue,sdf:se,pixelRatio:pe,stretchX:Ce,stretchY:be,content:Te}=x[ne],Ue=new f.RGBAImage({width:oe,height:ee});f.RGBAImage.copy(Q,Ue,{x:te,y:ue},{x:0,y:0},{width:oe,height:ee}),re[ne]={data:Ue,pixelRatio:pe,sdf:se,stretchX:Ce,stretchY:be,content:Te}}w(null,re)}}return{cancel(){F&&(F.cancel(),F=null),L&&(L.cancel(),L=null)}}}(c,this.map._requestManager,(h,y)=>{if(this._spriteRequest=null,h)this.fire(new f.ErrorEvent(h));else if(y)for(const w in y)this.imageManager.addImage(w,y[w]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new f.Event("data",{dataType:"style"}))})}_validateLayer(c){const h=this.getSource(c.source);if(!h)return;const y=c.sourceLayer;y&&("geojson"===h.type||h.vectorLayerIds&&-1===h.vectorLayerIds.indexOf(y))&&this.fire(new f.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${h.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const h=[];for(const y of c){const w=this._layers[y];"custom"!==w.type&&h.push(w.serialize())}return h}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&Nn[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const h=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(w.length||x.length)&&this._updateWorkerLayers(w,x);for(const D in this._updatedSources){const E=this._updatedSources[D];"reload"===E?this._reloadSource(D):"clear"===E&&this._clearSource(D)}this._updateTilesForChangedImages();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const y={};for(const w in this._sourceCaches){const x=this._sourceCaches[w];y[w]=x.used,x.used=!1}for(const w of this._order){const x=this._layers[w];if(x.recalculate(c,this._availableImages),!x.isHidden(c.zoom)){const E=this._getLayerSourceCache(x);E&&(E.used=!0)}const D=this.map.painter;if(D){const E=x.getProgramIds();if(!E)continue;const A=x.getProgramConfiguration(c.zoom);for(const F of E)D.useProgram(F,A)}}for(const w in y){const x=this._sourceCaches[w];y[w]!==x.used&&x.getSource().fire(new f.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:x.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),h&&this.fire(new f.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const h in this._sourceCaches)this._sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),zc(this,f.validateStyle(c)))return!1;(c=f.clone$1(c)).layers=Pi(c.layers);const h=function(w,x){if(!w)return[{command:en.setStyle,args:[x]}];let D=[];try{if(!He(w.version,x.version))return[{command:en.setStyle,args:[x]}];He(w.center,x.center)||D.push({command:en.setCenter,args:[x.center]}),He(w.zoom,x.zoom)||D.push({command:en.setZoom,args:[x.zoom]}),He(w.bearing,x.bearing)||D.push({command:en.setBearing,args:[x.bearing]}),He(w.pitch,x.pitch)||D.push({command:en.setPitch,args:[x.pitch]}),He(w.sprite,x.sprite)||D.push({command:en.setSprite,args:[x.sprite]}),He(w.glyphs,x.glyphs)||D.push({command:en.setGlyphs,args:[x.glyphs]}),He(w.transition,x.transition)||D.push({command:en.setTransition,args:[x.transition]}),He(w.light,x.light)||D.push({command:en.setLight,args:[x.light]}),He(w.fog,x.fog)||D.push({command:en.setFog,args:[x.fog]}),He(w.projection,x.projection)||D.push({command:en.setProjection,args:[x.projection]});const E={},A=[];!function($,Q,re,ne){let oe;for(oe in Q=Q||{},$=$||{})$.hasOwnProperty(oe)&&(Q.hasOwnProperty(oe)||or(oe,re,ne));for(oe in Q)Q.hasOwnProperty(oe)&&($.hasOwnProperty(oe)?He($[oe],Q[oe])||("geojson"===$[oe].type&&"geojson"===Q[oe].type&&Bl($,Q,oe)?re.push({command:en.setGeoJSONSourceData,args:[oe,Q[oe].data]}):Oa(oe,Q,re,ne)):$i(oe,Q,re))}(w.sources,x.sources,A,E);const F=[];w.layers&&w.layers.forEach($=>{$.source&&E[$.source]?D.push({command:en.removeLayer,args:[$.id]}):F.push($)});let L=w.terrain;L&&E[L.source]&&(D.push({command:en.setTerrain,args:[void 0]}),L=void 0),D=D.concat(A),He(L,x.terrain)||D.push({command:en.setTerrain,args:[x.terrain]}),function($,Q,re){Q=Q||[];const ne=($=$||[]).map(tt),oe=Q.map(tt),ee=$.reduce(rl,{}),te=Q.reduce(rl,{}),ue=ne.slice(),se=Object.create(null);let pe,Ce,be,Te,Ue,ze,Ie;for(pe=0,Ce=0;pe<ne.length;pe++)be=ne[pe],te.hasOwnProperty(be)?Ce++:(re.push({command:en.removeLayer,args:[be]}),ue.splice(ue.indexOf(be,Ce),1));for(pe=0,Ce=0;pe<oe.length;pe++)be=oe[oe.length-1-pe],ue[ue.length-1-pe]!==be&&(ee.hasOwnProperty(be)?(re.push({command:en.removeLayer,args:[be]}),ue.splice(ue.lastIndexOf(be,ue.length-Ce),1)):Ce++,ze=ue[ue.length-pe],re.push({command:en.addLayer,args:[te[be],ze]}),ue.splice(ue.length-pe,0,be),se[be]=!0);for(pe=0;pe<oe.length;pe++)if(be=oe[pe],Te=ee[be],Ue=te[be],!se[be]&&!He(Te,Ue))if(He(Te.source,Ue.source)&&He(Te["source-layer"],Ue["source-layer"])&&He(Te.type,Ue.type)){for(Ie in Vs(Te.layout,Ue.layout,re,be,null,en.setLayoutProperty),Vs(Te.paint,Ue.paint,re,be,null,en.setPaintProperty),He(Te.filter,Ue.filter)||re.push({command:en.setFilter,args:[be,Ue.filter]}),He(Te.minzoom,Ue.minzoom)&&He(Te.maxzoom,Ue.maxzoom)||re.push({command:en.setLayerZoomRange,args:[be,Ue.minzoom,Ue.maxzoom]}),Te)Te.hasOwnProperty(Ie)&&"layout"!==Ie&&"paint"!==Ie&&"filter"!==Ie&&"metadata"!==Ie&&"minzoom"!==Ie&&"maxzoom"!==Ie&&(0===Ie.indexOf("paint.")?Vs(Te[Ie],Ue[Ie],re,be,Ie.slice(6),en.setPaintProperty):He(Te[Ie],Ue[Ie])||re.push({command:en.setLayerProperty,args:[be,Ie,Ue[Ie]]}));for(Ie in Ue)Ue.hasOwnProperty(Ie)&&!Te.hasOwnProperty(Ie)&&"layout"!==Ie&&"paint"!==Ie&&"filter"!==Ie&&"metadata"!==Ie&&"minzoom"!==Ie&&"maxzoom"!==Ie&&(0===Ie.indexOf("paint.")?Vs(Te[Ie],Ue[Ie],re,be,Ie.slice(6),en.setPaintProperty):He(Te[Ie],Ue[Ie])||re.push({command:en.setLayerProperty,args:[be,Ie,Ue[Ie]]}))}else re.push({command:en.removeLayer,args:[be]}),ze=ue[ue.lastIndexOf(be)+1],re.push({command:en.addLayer,args:[Ue,ze]})}(F,x.layers,D)}catch(E){console.warn("Unable to compute style diff:",E),D=[{command:en.setStyle,args:[x]}]}return D}(this.serialize(),c).filter(w=>!(w.command in Bc));if(0===h.length)return!1;const y=h.filter(w=>!(w.command in Ph));if(y.length>0)throw new Error(`Unimplemented: ${y.map(w=>w.command).join(", ")}.`);return h.forEach(w=>{"setTransition"!==w.command&&"setProjection"!==w.command&&this[w.command].apply(this,w.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,h){return this.getImage(c)?this.fire(new f.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,h),this._afterImageUpdated(c),this)}updateImage(c,h){this.imageManager.updateImage(c,h)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new f.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new f.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,h,y={}){if(this._checkLoaded(),void 0!==this.getSource(c))throw new Error("There is already a source with this ID");if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(f.validateSource,`sources.${c}`,h,null,y))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const w=ke(c,h,this.dispatcher,this);w.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:w.serialize(),sourceId:c}));const x=D=>{const E=(D?"symbol:":"other:")+c,A=this._sourceCaches[E]=new f.SourceCache(E,w,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[c]=A,A.style=this,A.onAdd(this.map)};x(!1),"vector"!==h.type&&"geojson"!==h.type||x(!0),w.onAdd&&w.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const h=this.getSource(c);if(!h)throw new Error("There is no source with this ID");for(const w in this._layers)if(this._layers[w].source===c)return this.fire(new f.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${w}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new f.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const y=this._getSourceCaches(c);for(const w of y)delete this._sourceCaches[w.id],delete this._updatedSources[w.id],w.fire(new f.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:w.getSource().id})),w.setEventedParent(null),w.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],h.setEventedParent(null),h.onRemove&&h.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,h){this._checkLoaded(),this.getSource(c).setData(h),this._changed=!0}getSource(c){const h=this._getSourceCache(c);return h&&h.getSource()}_getSources(){const c=[];for(const h in this._otherSourceCaches){const y=this._getSourceCache(h);y&&c.push(y.getSource())}return c}addLayer(c,h,y={}){this._checkLoaded();const w=c.id;if(this.getLayer(w))return void this.fire(new f.ErrorEvent(new Error(`Layer with id "${w}" already exists on this map`)));let x;if("custom"===c.type){if(zc(this,f.validateCustomStyleLayer(c)))return;x=f.createStyleLayer(c)}else{if("object"==typeof c.source&&(this.addSource(w,c.source),c=f.clone$1(c),c=f.extend(c,{source:w})),this._validate(f.validateLayer,`layers.${w}`,c,{arrayIndex:-1},y))return;x=f.createStyleLayer(c),this._validateLayer(x),x.setEventedParent(this,{layer:{id:w}}),this._serializedLayers[x.id]=x.serialize(),this._updateLayerCount(x,!0)}const D=h?this._order.indexOf(h):this._order.length;if(h&&-1===D)return void this.fire(new f.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`)));this._order.splice(D,0,w),this._layerOrderChanged=!0,this._layers[w]=x;const E=this._getLayerSourceCache(x);if(this._removedLayers[w]&&x.source&&E&&"custom"!==x.type){const A=this._removedLayers[w];delete this._removedLayers[w],A.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",E.pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,h){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===h)return;const y=this._order.indexOf(c);this._order.splice(y,1);const w=h?this._order.indexOf(h):this._order.length;h&&-1===w?this.fire(new f.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`))):(this._order.splice(w,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const h=this._layers[c];if(!h)return void this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));h.setEventedParent(null),this._updateLayerCount(h,!1);const y=this._order.indexOf(c);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=h,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],h.onRemove&&h.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const h in this._layers)if(this._layers[h].type===c)return!0;return!1}setLayerZoomRange(c,h,y){this._checkLoaded();const w=this.getLayer(c);w?w.minzoom===h&&w.maxzoom===y||(null!=h&&(w.minzoom=h),null!=y&&(w.maxzoom=y),this._updateLayer(w)):this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,h,y={}){this._checkLoaded();const w=this.getLayer(c);if(w){if(!He(w.filter,h))return null==h?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(f.validateFilter,`layers.${w.id}.filter`,h,{layerType:w.type},y)||(w.filter=f.clone$1(h),this._updateLayer(w)))}else this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const h=this.getLayer(c);return h&&f.clone$1(h.filter)}setLayoutProperty(c,h,y,w={}){this._checkLoaded();const x=this.getLayer(c);x?He(x.getLayoutProperty(h),y)||(x.setLayoutProperty(h,y,w),this._updateLayer(x)):this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,h){const y=this.getLayer(c);if(y)return y.getLayoutProperty(h);this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,h,y,w={}){this._checkLoaded();const x=this.getLayer(c);x?He(x.getPaintProperty(h),y)||(x.setPaintProperty(h,y,w)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new f.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,h){const y=this.getLayer(c);return y&&y.getPaintProperty(h)}setFeatureState(c,h){this._checkLoaded();const y=c.source,w=c.sourceLayer,x=this.getSource(y);if(!x)return void this.fire(new f.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const D=x.type;if("geojson"===D&&w)return void this.fire(new f.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===D&&!w)return void this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===c.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided.")));const E=this._getSourceCaches(y);for(const A of E)A.setFeatureState(w,c.id,h)}removeFeatureState(c,h){this._checkLoaded();const y=c.source,w=this.getSource(y);if(!w)return void this.fire(new f.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const x=w.type,D="vector"===x?c.sourceLayer:void 0;if("vector"===x&&!D)return void this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(h&&"string"!=typeof c.id&&"number"!=typeof c.id)return void this.fire(new f.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const E=this._getSourceCaches(y);for(const A of E)A.removeFeatureState(D,c.id,h)}getFeatureState(c){this._checkLoaded();const h=c.source,y=c.sourceLayer,w=this.getSource(h);if(w){if("vector"!==w.type||y)return void 0===c.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(h)[0].getFeatureState(y,c.id);this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return f.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const h in this._sourceCaches){const y=this._sourceCaches[h].getSource();c[y.id]||(c[y.id]=y.serialize())}return f.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},h=>void 0!==h)}_updateLayer(c){this._updatedLayers[c.id]=!0;const h=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&h&&"raster"!==h.getSource().type&&(this._updatedSources[c.source]="reload",h.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const h=D=>"fill-extrusion"===this._layers[D].type,y={},w=[];for(let D=this._order.length-1;D>=0;D--){const E=this._order[D];if(h(E)){y[E]=D;for(const A of c){const F=A[E];if(F)for(const L of F)w.push(L)}}}w.sort((D,E)=>E.intersectionZ-D.intersectionZ);const x=[];for(let D=this._order.length-1;D>=0;D--){const E=this._order[D];if(h(E))for(let A=w.length-1;A>=0;A--){const F=w[A].feature;if(y[F.layer.id]<D)break;x.push(F),w.pop()}else for(const A of c){const F=A[E];if(F)for(const L of F)x.push(L.feature)}}return x}queryRenderedFeatures(c,h,y){h&&h.filter&&this._validate(f.validateFilter,"queryRenderedFeatures.filter",h.filter,null,h);const w={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new f.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const A of h.layers){const F=this._layers[A];if(!F)return this.fire(new f.ErrorEvent(new Error(`The layer '${A}' does not exist in the map's style and cannot be queried for features.`))),[];w[F.source]=!0}}const x=[];h.availableImages=this._availableImages;const D=h&&h.layers?h.layers.some(A=>{const F=this.getLayer(A);return F&&F.is3D()}):this.has3DLayers(),E=Ct.createFromScreenPoints(c,y);for(const A in this._sourceCaches){const F=this._sourceCaches[A].getSource().id;h.layers&&!w[F]||x.push(Ae(this._sourceCaches[A],this._layers,this._serializedLayers,E,h,y,D,!!this.map._showQueryGeometry))}return this.placement&&x.push(function(A,F,L,$,Q,re,ne){const oe={},ee=re.queryRenderedSymbols($),te=[];for(const ue of Object.keys(ee).map(Number))te.push(ne[ue]);te.sort(vt);for(const ue of te){const se=ue.featureIndex.lookupSymbolFeatures(ee[ue.bucketInstanceId],F,ue.bucketIndex,ue.sourceLayerIndex,Q.filter,Q.layers,Q.availableImages,A);for(const pe in se){const Ce=oe[pe]=oe[pe]||[],be=se[pe];be.sort((Te,Ue)=>{const ze=ue.featureSortOrder;if(ze){const Ie=ze.indexOf(Te.featureIndex);return ze.indexOf(Ue.featureIndex)-Ie}return Ue.featureIndex-Te.featureIndex});for(const Te of be)Ce.push(Te)}}for(const ue in oe)oe[ue].forEach(se=>{const pe=se.feature,Ce=L(A[ue]).getFeatureState(pe.layer["source-layer"],pe.id);pe.source=pe.layer.source,pe.layer["source-layer"]&&(pe.sourceLayer=pe.layer["source-layer"]),pe.state=Ce});return oe}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),E.screenGeometry,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(c,h){h&&h.filter&&this._validate(f.validateFilter,"querySourceFeatures.filter",h.filter,null,h);const y=this._getSourceCaches(c);let w=[];for(const x of y)w=w.concat(rt(x,h));return w}addSourceType(c,h,y){return Wr.getSourceType(c)?y(new Error(`A source type called "${c}" already exists.`)):(Wr.setSourceType(c,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:h.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(c,h={}){this._checkLoaded();const y=this.light.getLight();let w=!1;for(const D in c)if(!He(c[D],y[D])){w=!0;break}if(!w)return;const x=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,h),this.light.updateTransitions(x)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,h=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===h){if("object"==typeof c.source){const y="terrain-dem-src";this.addSource(y,c.source),c=f.clone$1(c),c=f.extend(c,{source:y})}if(this._validate(f.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&h!==this.terrain.drapeRenderMode)this._createTerrain(c,h);else{const y=this.terrain,w=y.get();for(const x of Object.keys(f.spec.terrain))!c.hasOwnProperty(x)&&f.spec.terrain[x].default&&(c[x]=f.spec.terrain[x].default);for(const x in c)if(!He(c[x],w[x])){y.set(c),this.stylesheet.terrain=c;const D=this._setTransitionParameters({duration:0});y.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const h=this.fog=new hd(c,this.map.transform);this.stylesheet.fog=c;const y=this._setTransitionParameters({duration:0});h.updateTransitions(y)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const h=this.fog,y=h.get();0===Object.keys(c).length&&h.set(c);for(const w in c)if(!He(c[w],y[w])){h.set(c),this.stylesheet.fog=c;const x=this._setTransitionParameters({duration:0});h.updateTransitions(x);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:f.exported.now(),transition:f.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(y=>this.isLayerDraped(this._layers[y])),h=this._order.filter(y=>!this.isLayerDraped(this._layers[y]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...h)}_createTerrain(c,h){const y=this.terrain=new ss(c,h);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const w=this._setTransitionParameters({duration:0});y.updateTransitions(w)}_force3DLayerUpdate(){for(const c in this._layers){const h=this._layers[c];"fill-extrusion"===h.type&&this._updateLayer(h)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const h=this._layers[c];"symbol"===h.type&&this._updateLayer(h)}}_validate(c,h,y,w,x={}){return(!x||!1!==x.validate)&&zc(this,c.call(f.validateStyle,f.extend({key:h,style:this.serialize(),value:y,styleSpec:f.spec},w)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),f.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const h=this._getSourceCaches(c);for(const y of h)y.clearTiles()}_reloadSource(c){const h=this._getSourceCaches(c);for(const y of h)y.resume(),y.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const h in this._sourceCaches)this._sourceCaches[h].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const h=this._sourceCaches[c];h.resume(),h.reload()}}_updatePlacement(c,h,y,w,x=!1){let D=!1,E=!1;const A={};for(const F of this._order){const L=this._layers[F];if("symbol"!==L.type)continue;if(!A[L.source]){const Q=this._getLayerSourceCache(L);if(!Q)continue;A[L.source]=Q.getRenderableIds(!0).map(re=>Q.getTileByID(re)).sort((re,ne)=>ne.tileID.overscaledZ-re.tileID.overscaledZ||(re.tileID.isLessThan(ne.tileID)?-1:1))}const $=this.crossTileSymbolIndex.addLayer(L,A[L.source],c.center.lng,c.projection);D=D||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),x=x||this._layerOrderChanged||0===y,this._layerOrderChanged&&this.fire(new f.Event("neworder")),(x||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.exported.now(),c.zoom))&&(this.pauseablePlacement=new js(c,this._order,x,h,y,w,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,A),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.exported.now()),E=!0),D&&this.pauseablePlacement.placement.setStale()),E||D)for(const F of this._order){const L=this._layers[F];"symbol"===L.type&&this.placement.updateLayerOpacities(L,A[L.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,h,y){this.imageManager.getImages(h.icons,y),this._updateTilesForChangedImages();const w=x=>{x&&x.setDependencies(h.tileID.key,h.type,h.icons)};w(this._otherSourceCaches[h.source]),w(this._symbolSourceCaches[h.source])}getGlyphs(c,h,y){this.glyphManager.getGlyphs(h.stacks,y)}getResource(c,h,y){return f.makeRequest(h,y)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return"symbol"===c.type?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const h=[];return this._otherSourceCaches[c]&&h.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&h.push(this._symbolSourceCaches[c]),h}_isSourceCacheLoaded(c){const h=this._getSourceCaches(c);return 0===h.length?(this.fire(new f.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):h.every(y=>y.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Wr.getSourceType=function(g){return Re[g]},Wr.setSourceType=function(g,c){Re[g]=c},Wr.registerForPluginStateChange=f.registerForPluginStateChange;var Rh="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",ko="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",uf="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",U0="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",ua="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let $s={},df={};const Nh=[];Gs(Rh,Nh),Gs(uf,Nh),Gs(U0,Nh),Gs(ua,Nh),$s=un("",uf),df=un(ua,U0);const Ts=un("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),hr=Rh,Lh="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Gm={background:un("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:un("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:un("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:un("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:un("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:un("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:un("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:un("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:un("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:un("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:un("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:un("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:un("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:un("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:un("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:un("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:un("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:un("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:un("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:un("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:un("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:un("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:un("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:un("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:un("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:un("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ko),skyboxGradient:un("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ko),skyboxCapture:un("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:un("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:un("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function Gs(g,c){const h=g.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let y of h)if(y=y.trim(),"#"===y[0]&&y.includes("if")&&!y.includes("endif")){y=y.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const w=y.split(" ");for(const x of w)c.includes(x)||c.push(x)}}function un(g,c){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),w={},x=[...Nh];return Gs(g,x),Gs(c,x),{fragmentSource:g=g.replace(h,(D,E,A,F,L)=>(w[L]=!0,"define"===E?`\n#ifndef HAS_UNIFORM_u_${L}\nvarying ${A} ${F} ${L};\n#else\nuniform ${A} ${F} u_${L};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${L}\n    ${A} ${F} ${L} = u_${L};\n#endif\n`)),vertexSource:c=c.replace(h,(D,E,A,F,L)=>{const $="float"===F?"vec2":"vec4",Q=L.match(/color/)?"color":$;return w[L]?"define"===E?`\n#ifndef HAS_UNIFORM_u_${L}\nuniform lowp float u_${L}_t;\nattribute ${A} ${$} a_${L};\nvarying ${A} ${F} ${L};\n#else\nuniform ${A} ${F} u_${L};\n#endif\n`:"vec4"===Q?`\n#ifndef HAS_UNIFORM_u_${L}\n    ${L} = a_${L};\n#else\n    ${A} ${F} ${L} = u_${L};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${L}\n    ${L} = unpack_mix_${Q}(a_${L}, u_${L}_t);\n#else\n    ${A} ${F} ${L} = u_${L};\n#endif\n`:"define"===E?`\n#ifndef HAS_UNIFORM_u_${L}\nuniform lowp float u_${L}_t;\nattribute ${A} ${$} a_${L};\n#else\nuniform ${A} ${F} u_${L};\n#endif\n`:"vec4"===Q?`\n#ifndef HAS_UNIFORM_u_${L}\n    ${A} ${F} ${L} = a_${L};\n#else\n    ${A} ${F} ${L} = u_${L};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${L}\n    ${A} ${F} ${L} = unpack_mix_${Q}(a_${L}, u_${L}_t);\n#else\n    ${A} ${F} ${L} = u_${L};\n#endif\n`}),staticAttributes:y,usedDefines:x}}class Td{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,h,y,w,x,D,E){this.context=c;let A=this.boundPaintVertexBuffers.length!==w.length;for(let L=0;!A&&L<w.length;L++)this.boundPaintVertexBuffers[L]!==w[L]&&(A=!0);let F=this.boundDynamicVertexBuffers.length!==E.length;for(let L=0;!F&&L<E.length;L++)this.boundDynamicVertexBuffers[L]!==E[L]&&(F=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==y||A||F||this.boundIndexBuffer!==x||this.boundVertexOffset!==D)this.freshBind(h,y,w,x,D,E);else{c.bindVertexArrayOES.set(this.vao);for(const L of E)L&&L.bind();x&&x.dynamicDraw&&x.bind()}}freshBind(c,h,y,w,x,D){let E;const A=c.numAttributes,F=this.context,L=F.gl;if(F.extVertexArrayObject)this.vao&&this.destroy(),this.vao=F.extVertexArrayObject.createVertexArrayOES(),F.bindVertexArrayOES.set(this.vao),E=0,this.boundProgram=c,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=w,this.boundVertexOffset=x,this.boundDynamicVertexBuffers=D;else{E=F.currentNumAttributes||0;for(let $=A;$<E;$++)L.disableVertexAttribArray($)}h.enableAttributes(L,c),h.bind(),h.setVertexAttribPointers(L,c,x);for(const $ of y)$.enableAttributes(L,c),$.bind(),$.setVertexAttribPointers(L,c,x);for(const $ of D)$&&($.enableAttributes(L,c),$.bind(),$.setVertexAttribPointers(L,c,x));w&&w.bind(),F.currentNumAttributes=A}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Vc(g,c){const h=Math.pow(2,c.canonical.z),y=c.canonical.y;return[new f.MercatorCoordinate(0,y/h).toLngLat().lat,new f.MercatorCoordinate(0,(y+1)/h).toLngLat().lat]}function Md(g,c,h,y,w,x,D){const E=g.context,A=E.gl,F=h.fbo;if(!F)return;g.prepareDrawTile();const L=g.useProgram("hillshade");E.activeTexture.set(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,F.colorAttachment.get());const $=((oe,ee,te,ue)=>{const se=te.paint.get("hillshade-shadow-color"),pe=te.paint.get("hillshade-highlight-color"),Ce=te.paint.get("hillshade-accent-color");let be=te.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===te.paint.get("hillshade-illumination-anchor")&&(be-=oe.transform.angle);const Te=!oe.options.moving;return{u_matrix:ue||oe.transform.calculateProjMatrix(ee.tileID.toUnwrapped(),Te),u_image:0,u_latrange:Vc(0,ee.tileID),u_light:[te.paint.get("hillshade-exaggeration"),be],u_shadow:se,u_highlight:pe,u_accent:Ce}})(g,h,y,g.terrain?c.projMatrix:null);g.prepareDrawProgram(E,L,c.toUnwrapped());const{tileBoundsBuffer:Q,tileBoundsIndexBuffer:re,tileBoundsSegments:ne}=g.getTileBoundsBuffers(h);L.draw(E,A.TRIANGLES,w,x,D,f.CullFaceMode.disabled,$,y.id,Q,re,ne)}function Hc(g,c,h){if(!c.needsDEMTextureUpload)return;const y=g.context,w=y.gl;y.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||g.getTileTexture(h.stride);const x=h.getPixels();c.demTexture?c.demTexture.update(x,{premultiply:!1}):c.demTexture=new f.Texture(y,x,w.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function Ws(g,c,h,y,w,x){const D=g.context,E=D.gl;if(!c.dem)return;const A=c.dem;if(D.activeTexture.set(E.TEXTURE1),Hc(g,c,A),!c.demTexture)return;c.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE);const F=A.dim;D.activeTexture.set(E.TEXTURE0);let L=c.fbo;if(!L){const ne=new f.Texture(D,{width:F,height:F,data:null},E.RGBA);ne.bind(E.LINEAR,E.CLAMP_TO_EDGE),L=c.fbo=D.createFramebuffer(F,F,!0),L.colorAttachment.set(ne.texture)}D.bindFramebuffer.set(L.framebuffer),D.viewport.set([0,0,F,F]);const{tileBoundsBuffer:$,tileBoundsIndexBuffer:Q,tileBoundsSegments:re}=g.getMercatorTileBoundsBuffers();g.useProgram("hillshadePrepare").draw(D,E.TRIANGLES,y,w,x,f.CullFaceMode.disabled,((ne,oe)=>{const ee=oe.stride,te=f.create();return f.ortho(te,0,f.EXTENT,-f.EXTENT,0,0,1),f.translate(te,te,[0,-f.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[ee,ee],u_zoom:ne.overscaledZ,u_unpack:oe.unpackVector}})(c.tileID,A),h.id,$,Q,re),c.needsHillshadePrepare=!1}const ol=g=>({u_matrix:new f.UniformMatrix4f(g),u_image0:new f.Uniform1i(g),u_skirt_height:new f.Uniform1f(g)}),Fh=(g,c)=>({u_matrix:g,u_image0:0,u_skirt_height:c}),it=(g,c,h,y,w,x,D,E,A,F,L,$,Q,re)=>({u_proj_matrix:Float32Array.from(g),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(y),u_merc_matrix:h,u_zoom_transition:w,u_merc_center:x,u_image0:0,u_frustum_tl:D,u_frustum_tr:E,u_frustum_br:A,u_frustum_bl:F,u_globe_pos:L,u_globe_radius:$,u_viewport:Q,u_grid_matrix:re?Float32Array.from(re):new Float32Array(9)});function zh(g,c){return null!=g&&null!=c&&!(!g.hasData()||!c.hasData())&&null!=g.demTexture&&null!=c.demTexture&&g.tileID.key!==c.tileID.key}const $l=new class{constructor(){this.operations={}}newMorphing(g,c,h,y,w){if(g in this.operations){const x=this.operations[g];x.to.tileID.key!==h.tileID.key&&(x.queued=h)}else this.operations[g]={startTime:y,phase:0,duration:w,from:c,to:h,queued:null}}getMorphValuesForProxy(g){if(!(g in this.operations))return null;const c=this.operations[g];return{from:c.from,to:c.to,phase:c.phase}}update(g){for(const c in this.operations){const h=this.operations[c];for(h.phase=(g-h.startTime)/h.duration;h.phase>=1||!this._validOp(h);)if(!this._nextOp(h,g)){delete this.operations[c];break}}}_nextOp(g,c){return!!g.queued&&(g.from=g.to,g.to=g.queued,g.queued=null,g.phase=0,g.startTime=c,!0)}_validOp(g){return g.from.hasData()&&g.to.hasData()}},Uc={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ft(g,c){const h=1<<g.z;return!c&&(0===g.x||g.x===h-1)||0===g.y||g.y===h-1}const Dd=g=>({u_matrix:g});function Ed(g,c,h,y,w){if(w>0){const x=f.exported.now(),D=(x-g.timeAdded)/w,E=c?(x-c.timeAdded)/w:-1,A=h.getSource(),F=y.coveringZoomLevel({tileSize:A.tileSize,roundZoom:A.roundZoom}),L=!c||Math.abs(c.tileID.overscaledZ-F)>Math.abs(g.tileID.overscaledZ-F),$=L&&g.refreshedUponExpiration?1:f.clamp(L?D:1-E,0,1);return g.refreshedUponExpiration&&D>=1&&(g.refreshedUponExpiration=!1),c?{opacity:1,mix:1-$}:{opacity:$,mix:0}}return{opacity:1,mix:0}}class qe extends f.SourceCache{constructor(c){const h={type:"raster-dem",maxzoom:c.transform.maxZoom},y=new tl(Tn(),null),w=ke("mock-dem",h,y,c.style);super("mock-dem",w,!1),w.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,h){c.state="loaded",h(null)}}class po extends f.SourceCache{constructor(c){const h=ke("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new tl(Tn(),null),c.style);super("proxy",h,!1),h.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,h,y){if(c.freezeTileCoverage)return;this.transform=c;const w=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((x,D)=>{if(x[D.key]="",!this._tiles[D.key]){const E=new f.Tile(D,this._source.tileSize*D.overscaleFactor(),c.tileZoom);E.state="loaded",this._tiles[D.key]=E}return x},{});for(const x in this._tiles)x in w||(this.freeFBO(x),this._tiles[x].unloadVectorData(),delete this._tiles[x])}freeFBO(c){const h=this.proxyCachedFBO[c];if(void 0!==h){const y=Object.values(h);this.renderCachePool.push(...y),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Gi extends f.OverscaledTileID{constructor(c,h,y){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=h,this.projMatrix=y}}class Ao extends f.Elevation{constructor(c,h){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[y,w,x]=function(A){const F=new f.StructArrayLayout4i8,L=new f.StructArrayLayout3ui6,$=131;F.reserve(17161),L.reserve(33800);const Q=f.EXTENT/128,re=f.EXTENT+Q/2,ne=re+Q;for(let ee=-Q;ee<ne;ee+=Q)for(let te=-Q;te<ne;te+=Q){const ue=te<0||te>re||ee<0||ee>re?24575:0,se=f.clamp(Math.round(te),0,f.EXTENT),pe=f.clamp(Math.round(ee),0,f.EXTENT);F.emplaceBack(se+ue,pe,se,pe)}const oe=(ee,te)=>{const ue=te*$+ee;L.emplaceBack(ue+1,ue,ue+$),L.emplaceBack(ue+$,ue+$+1,ue+1)};for(let ee=1;ee<129;ee++)for(let te=1;te<129;te++)oe(te,ee);return[0,129].forEach(ee=>{for(let te=0;te<130;te++)oe(te,ee),oe(ee,te)}),[F,L,32768]}(),D=c.context;this.gridBuffer=D.createVertexBuffer(y,f.boundsAttributes.members),this.gridIndexBuffer=D.createIndexBuffer(w),this.gridSegments=f.SegmentVector.simpleSegment(0,0,y.length,w.length),this.gridNoSkirtSegments=f.SegmentVector.simpleSegment(0,0,y.length,x),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new po(h.map),this.orthoMatrix=f.create(),f.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,f.EXTENT,0,f.EXTENT,0,1);const E=D.gl;this._overlapStencilMode=new f.StencilMode({func:E.GEQUAL,mask:255},0,255,E.KEEP,E.KEEP,E.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=h,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new qe(h.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,h,y){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const w=c.terrain.properties;this.sourceCache=0===c.terrain.drapeRenderMode?this._mockSourceCache:c._getSourceCache(w.get("source")),this._exaggeration=w.get("exaggeration");const x=()=>{this.sourceCache.used&&f.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const D=this.getScaledDemTileSize();this.sourceCache.update(h,D,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,x(),this._initializing=!0),x(),h.updateElevation(!0,y),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(h),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==c.efficiency&&f.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&"source"===c.dataType?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):"style"===c.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const h=this.proxySourceCache,y=this.painter.transform;this._initializing&&(this._initializing=0===y._centerAltitude&&-1===this.getAtPointOrZero(f.MercatorCoordinate.fromLngLat(y.center),-1),this._emptyDEMTextureDirty=!this._initializing);const w=this.proxyCoords=h.getIds().map(A=>{const F=h.getTileByID(A).tileID;return F.projMatrix=y.calculateProjMatrix(F.toUnwrapped()),F});(function(A,F){const L=F.transform.pointCoordinate(F.transform.getCameraPoint()),$=new f.pointGeometry(L.x,L.y);A.sort((Q,re)=>{if(re.overscaledZ-Q.overscaledZ)return re.overscaledZ-Q.overscaledZ;const ne=new f.pointGeometry(Q.canonical.x+(1<<Q.canonical.z)*Q.wrap,Q.canonical.y),oe=new f.pointGeometry(re.canonical.x+(1<<re.canonical.z)*re.wrap,re.canonical.y),ee=$.mult(1<<Q.canonical.z);return ee.x-=.5,ee.y-=.5,ee.distSqr(ne)-ee.distSqr(oe)})})(w,this.painter),this._previousZoom=y.zoom;const x=this.proxyToSource||{};this.proxyToSource={},w.forEach(A=>{this.proxyToSource[A.key]={}}),this.terrainTileForTile={};const D=this._style._sourceCaches;for(const A in D){const F=D[A];if(!F.used||(F!==this.sourceCache&&this.resetTileLookupCache(F.id),this._setupProxiedCoordsForOrtho(F,c[A],x),F.usedForTerrain))continue;const L=c[A];F.getSource().reparseOverscaled&&this._assignTerrainTiles(L)}this.proxiedCoords[h.id]=w.map(A=>new Gi(A,A.key,this.orthoMatrix)),this._assignTerrainTiles(w),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(x),this.renderingToTexture=!1,this._updateTimestamp=f.exported.now();const E={};this._visibleDemTiles=[];for(const A of this.proxyCoords){const F=this.terrainTileForTile[A.key];if(!F)continue;const L=F.tileID.key;L in E||(this._visibleDemTiles.push(F),E[L]=L)}}_assignTerrainTiles(c){this._initializing||c.forEach(h=>{if(this.terrainTileForTile[h.key])return;const y=this._findTileCoveringTileID(h,this.sourceCache);y&&(this.terrainTileForTile[h.key]=y)})}_prepareDEMTextures(){const c=this.painter.context,h=c.gl;for(const y in this.terrainTileForTile){const w=this.terrainTileForTile[y],x=w.dem;!x||w.demTexture&&!w.needsDEMTextureUpload||(c.activeTexture.set(h.TEXTURE1),Hc(this.painter,w,x))}}_prepareDemTileUniforms(c,h,y,w){if(!h||null==h.demTexture)return!1;const x=c.tileID.canonical,D=Math.pow(2,h.tileID.canonical.z-x.z),E=w||"";return y[`u_dem_tl${E}`]=[x.x*D%1,x.y*D%1],y[`u_dem_scale${E}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,h=c.gl;if(!this._emptyDepthBufferTexture){const y=new f.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new f.Texture(c,y,h.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const h=this._visibleDemTiles.reduce((y,w)=>{if(!w.dem)return y;const x=w.dem.tree.minimums[0];return x>0&&c++,y+x},0);return c?h/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,h=c.gl;c.activeTexture.set(h.TEXTURE2);const y=this._getLoadedAreaMinimum(),w=new f.RGBAImage({width:1,height:1},new Uint8Array(f.DEMData.pack(y,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let x=this._emptyDEMTexture;return x?x.update(w,{premultiply:!1}):x=this._emptyDEMTexture=new f.Texture(c,w,h.RGBA,{premultiply:!1}),x}setupElevationDraw(c,h,y){const w=this.painter.context,x=w.gl,D=(E=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:f.DEMData.getUnpackVector(E),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var E;D.u_dem_size=this.sourceCache.getSource().tileSize,D.u_exaggeration=this.exaggeration();let A=null,F=null,L=1;if(y&&y.morphing&&this._useVertexMorphing){const $=y.morphing.srcDemTile,Q=y.morphing.dstDemTile;L=y.morphing.phase,$&&Q&&(this._prepareDemTileUniforms(c,$,D,"_prev")&&(F=$),this._prepareDemTileUniforms(c,Q,D)&&(A=Q))}if(F&&A?(w.activeTexture.set(x.TEXTURE2),A.demTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE,x.NEAREST),w.activeTexture.set(x.TEXTURE4),F.demTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE,x.NEAREST),D.u_dem_lerp=L):(A=this.terrainTileForTile[c.tileID.key],w.activeTexture.set(x.TEXTURE2),(this._prepareDemTileUniforms(c,A,D)?A.demTexture:this.emptyDEMTexture).bind(x.NEAREST,x.CLAMP_TO_EDGE)),w.activeTexture.set(x.TEXTURE3),y&&y.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),this._depthFBO&&(D.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),D.u_depth_size_inv=[1,1]),y&&y.useMeterToDem&&A){const $=(1<<A.tileID.canonical.z)*f.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=$}if(y&&y.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=y.labelPlaneMatrixInv),h.setTerrainUniformValues(w,D),"globe"===this.painter.transform.projection.name){const $=this.globeUniformValues(this.painter.transform,c.tileID.canonical,y&&y.useDenormalizedUpVectorScale);h.setGlobeUniformValues(w,$)}}globeUniformValues(c,h,y){const w=c.projection;return{u_tile_tl_up:w.upVector(h,0,0),u_tile_tr_up:w.upVector(h,f.EXTENT,0),u_tile_br_up:w.upVector(h,f.EXTENT,f.EXTENT),u_tile_bl_up:w.upVector(h,0,f.EXTENT),u_tile_up_scale:y?f.GLOBE_METERS_TO_ECEF:w.upVectorScale(h,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const h=this.painter,y=this.painter.context;0!==c.length&&(y.bindFramebuffer.set(null),y.viewport.set([0,0,h.width,h.height]),h.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(w,x,D,E,A){if("globe"===w.transform.projection.name)!function(F,L,$,Q,re){const ne=F.context,oe=ne.gl;let ee,te;const ue=F.options.showTerrainWireframe?2:0,se=F.transform,pe=f.globeUseCustomAntiAliasing(F,ne,se),Ce=(lt,Ze)=>{if(te===lt)return;const ot=[Uc[lt],"PROJECTION_GLOBE_VIEW"];pe&&ot.push("CUSTOM_ANTIALIASING"),Ze&&ot.push(Uc[ue]),ee=F.useProgram("globeRaster",null,ot),te=lt},be=F.colorModeForRenderPass(),Te=new f.DepthMode(oe.LEQUAL,f.DepthMode.ReadWrite,F.depthRangeFor3D);$l.update(re);const Ue=f.calculateGlobeMercatorMatrix(se),ze=[f.mercatorXfromLng(se.center.lng),f.mercatorYfromLat(se.center.lat)],Ie=ue?[!1,!0]:[!1],gt=F.globeSharedBuffers,Ne=[se.width*f.exported.devicePixelRatio,se.height*f.exported.devicePixelRatio],Je=Float32Array.from(se.globeMatrix),$e={useDenormalizedUpVectorScale:!0};if(Ie.forEach(lt=>{te=-1;const Ze=lt?oe.LINES:oe.TRIANGLES;for(const ot of Q){const yt=$.getTile(ot),Oe=f.StencilMode.disabled,je=L.prevTerrainTileForTile[ot.key],Bt=L.terrainTileForTile[ot.key];zh(je,Bt)&&$l.newMorphing(ot.key,je,Bt,re,250),ne.activeTexture.set(oe.TEXTURE0),yt.texture.bind(oe.LINEAR,oe.CLAMP_TO_EDGE);const Ut=$l.getMorphValuesForProxy(ot.key),Vt=Ut?1:0;Ut&&f.extend$1($e,{morphing:{srcDemTile:Ut.from,dstDemTile:Ut.to,phase:f.easeCubicInOut(Ut.phase)}});const pn=f.tileCornersToBounds(ot.canonical),jn=f.getLatitudinalLod(pn.getCenter().lat),rn=f.getGridMatrix(ot.canonical,pn,jn,se.worldSize/se._pixelsPerMercatorPixel),Pt=f.globeNormalizeECEF(f.globeTileBounds(ot.canonical)),Di=it(se.projMatrix,Je,Ue,Pt,f.globeToMercatorTransition(se.zoom),ze,se.frustumCorners.TL,se.frustumCorners.TR,se.frustumCorners.BR,se.frustumCorners.BL,se.globeCenterInViewSpace,se.globeRadius,Ne,rn);if(Ce(Vt,lt),L.setupElevationDraw(yt,ee,$e),F.prepareDrawProgram(ne,ee,ot.toUnwrapped()),gt){const[Ei,Wi,Bi]=lt?gt.getWirefameBuffers(F.context,jn):gt.getGridBuffers(jn);ee.draw(ne,Ze,Te,Oe,be,f.CullFaceMode.backCCW,Di,"globe_raster",Ei,Wi,Bi)}}}),gt){const lt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];pe&&lt.push("CUSTOM_ANTIALIASING"),ee=F.useProgram("globeRaster",null,lt);for(const Ze of Q){const{x:ot,y:yt,z:Oe}=Ze.canonical,je=0===yt,Bt=yt===(1<<Oe)-1,[Ut,Vt,pn,jn]=gt.getPoleBuffers(Oe);if(jn&&(je||Bt)){const rn=$.getTile(Ze);ne.activeTexture.set(oe.TEXTURE0),rn.texture.bind(oe.LINEAR,oe.CLAMP_TO_EDGE);let Pt=f.globePoleMatrixForTile(Oe,ot,se);const Di=f.globeNormalizeECEF(f.globeTileBounds(Ze.canonical)),Ei=(Wi,Bi)=>Wi.draw(ne,oe.TRIANGLES,Te,f.StencilMode.disabled,be,f.CullFaceMode.disabled,it(se.projMatrix,Pt,Pt,Di,0,ze,se.frustumCorners.TL,se.frustumCorners.TR,se.frustumCorners.BR,se.frustumCorners.BL,se.globeCenterInViewSpace,se.globeRadius,Ne),"globe_pole_raster",Bi,pn,jn);L.setupElevationDraw(rn,ee,$e),F.prepareDrawProgram(ne,ee,Ze.toUnwrapped()),je&&Ei(ee,Ut),Bt&&(Pt=f.scale(f.create(),Pt,[1,-1,1]),Ei(ee,Vt))}}}}(w,x,D,E,A);else{const F=w.context,L=F.gl;let $,Q;const re=w.options.showTerrainWireframe?2:0,ne=(se,pe)=>{if(Q===se)return;const Ce=[Uc[se]];pe&&Ce.push(Uc[re]),$=w.useProgram("terrainRaster",null,Ce),Q=se},oe=w.colorModeForRenderPass(),ee=new f.DepthMode(L.LEQUAL,f.DepthMode.ReadWrite,w.depthRangeFor3D);$l.update(A);const te=w.transform,ue=6*Math.pow(1.5,22-te.zoom)*x.exaggeration();(re?[!1,!0]:[!1]).forEach(se=>{Q=-1;const pe=se?L.LINES:L.TRIANGLES,[Ce,be]=se?x.getWirefameBuffer():[x.gridIndexBuffer,x.gridSegments];for(const Te of E){const Ue=D.getTile(Te),ze=f.StencilMode.disabled,Ie=x.prevTerrainTileForTile[Te.key],gt=x.terrainTileForTile[Te.key];zh(Ie,gt)&&$l.newMorphing(Te.key,Ie,gt,A,250),F.activeTexture.set(L.TEXTURE0),Ue.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);const Ne=$l.getMorphValuesForProxy(Te.key),Je=Ne?1:0;let $e;Ne&&($e={morphing:{srcDemTile:Ne.from,dstDemTile:Ne.to,phase:f.easeCubicInOut(Ne.phase)}});const lt=Fh(Te.projMatrix,Ft(Te.canonical,te.renderWorldCopies)?ue/10:ue);ne(Je,se),x.setupElevationDraw(Ue,$,$e),w.prepareDrawProgram(F,$,Te.toUnwrapped()),$.draw(F,pe,ee,ze,oe,f.CullFaceMode.backCCW,lt,"terrain_raster",x.gridBuffer,Ce,be)}})}}(h,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,h.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(0===this._drapedRenderBatches.length)return c+1;this.renderingToTexture=!0;const h=this.painter,y=this.painter.context,w=this.proxySourceCache,x=this.proxiedCoords[w.id],D=this._drapedRenderBatches.shift(),E=[],A=h.style.order;let F=0;for(const L of x){const $=w.getTileByID(L.proxyTileKey),Q=w.proxyCachedFBO[L.key]?w.proxyCachedFBO[L.key][c]:void 0,re=void 0!==Q?w.renderCache[Q]:this.pool[F++],ne=void 0!==Q;if($.texture=re.tex,ne&&!re.dirty){E.push($.tileID);continue}let oe;y.bindFramebuffer.set(re.fb.framebuffer),this.renderedToTile=!1,re.dirty&&(y.clear({color:f.Color.transparent,stencil:0}),re.dirty=!1);for(let ee=D.start;ee<=D.end;++ee){const te=h.style._layers[A[ee]];if(te.isHidden(h.transform.zoom))continue;const ue=h.style._getLayerSourceCache(te),se=ue?this.proxyToSource[L.key][ue.id]:[L];if(!se)continue;const pe=se;y.viewport.set([0,0,re.fb.width,re.fb.height]),oe!==(ue?ue.id:null)&&(this._setupStencil(re,se,te,ue),oe=ue?ue.id:null),h.renderLayer(h,ue,te,pe)}this.renderedToTile?(re.dirty=!0,E.push($.tileID)):ne||--F,5===F&&(F=0,this.renderToBackBuffer(E))}return this.renderToBackBuffer(E),this.renderingToTexture=!1,y.bindFramebuffer.set(null),y.viewport.set([0,0,h.width,h.height]),D.end+1}postRender(){}renderCacheEfficiency(c){const h=c.order.length;if(0===h)return{efficiency:100};let y,w=0,x=0,D=!1;for(let E=0;E<h;++E){const A=c._layers[c.order[E]];this._style.isLayerDraped(A)?(D&&++w,++x):D||(D=!0,y=A.id)}return 0===x?{efficiency:100}:{efficiency:100*(1-w/x),firstUndrapedLayer:y}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(h=>h.dem).forEach(h=>{c=Math.min(c,h.dem.tree.minimums[0])}),0===c?c:(c-30)*this._exaggeration}raycast(c,h,y){if(!this._visibleDemTiles)return null;const w=this._visibleDemTiles.filter(x=>x.dem).map(x=>{const D=x.tileID,E=1<<D.overscaledZ,{x:A,y:F}=D.canonical,L=A/E,$=(A+1)/E,Q=F/E,re=(F+1)/E;return{minx:L,miny:Q,maxx:$,maxy:re,t:x.dem.tree.raycastRoot(L,Q,$,re,c,h,y),tile:x}});w.sort((x,D)=>(null!==x.t?x.t:Number.MAX_VALUE)-(null!==D.t?D.t:Number.MAX_VALUE));for(const x of w){if(null==x.t)return null;const D=x.tile.dem.tree.raycast(x.minx,x.miny,x.maxx,x.maxy,c,h,y);if(null!=D)return D}return null}_createFBO(){const c=this.painter.context,h=c.gl,y=this.drapeBufferSize;c.activeTexture.set(h.TEXTURE0);const w=new f.Texture(c,{width:y[0],height:y[1],data:null},h.RGBA);w.bind(h.LINEAR,h.CLAMP_TO_EDGE);const x=c.createFramebuffer(y[0],y[1],!1);return x.colorAttachment.set(w.texture),x.depthAttachment=new Rr(c,x.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,y[0],y[1]),this._stencilRef=0,x.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):x.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&h.texParameterf(h.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:x,tex:w,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const h=this._style._layers[c],y=h.isHidden(this.painter.transform.zoom);return"custom"!==h.type&&!y&&h.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const h in this._style._sourceCaches)if(this._style._sourceCaches[h]._source instanceof Y){c=!0;break}if(c)for(let h=0;h<this._style.order.length;++h){const y=this._style._layers[this._style.order[h]],w=y.isHidden(this.painter.transform.zoom),x=this._style._getLayerSourceCache(y);if("raster"!==y.type||w||!x)continue;const D=y.paint.get("raster-fade-duration");for(const E of this.proxyCoords){const A=this.proxyToSource[E.key][x.id];if(A)for(const F of A){const L=Ed(x.getTile(F),x.findLoadedParent(F,0),x,this.painter.transform,D);(1!==L.opacity||0!==L.mix)&&this._clearRenderCacheForTile(x.id,F)}}}}_setupDrapedRenderBatches(){const c=this._style.order,h=c.length;if(0===h)return;const y=[];let w,x=0,D=this._style._layers[c[x]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++x<h;)D=this._style._layers[c[x]];for(;x<h;++x){const E=this._style._layers[c[x]];E.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(E)?void 0===w&&(w=x):void 0!==w&&(y.push({start:w,end:x-1}),w=void 0))}void 0!==w&&y.push({start:w,end:x-1}),this._drapedRenderBatches=y}_setupRenderCache(c){const h=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,h.renderCache.length>h.renderCachePool.length){const D=Object.values(h.proxyCachedFBO);h.proxyCachedFBO={};for(let E=0;E<D.length;++E){const A=Object.values(D[E]);h.renderCachePool.push(...A)}}return}this._clearRasterFadeFromRenderCache();const y=this.proxyCoords,w=this._tilesDirty;for(let D=y.length-1;D>=0;D--){const E=y[D];if(h.getTileByID(E.key),void 0!==h.proxyCachedFBO[E.key]){const A=c[E.key],F=this.proxyToSource[E.key];let L=0;for(const $ in F){const Q=F[$],re=A[$];if(!re||re.length!==Q.length||Q.some((ne,oe)=>ne!==re[oe]||w[$]&&w[$].hasOwnProperty(ne.key))){L=-1;break}++L}for(const $ in h.proxyCachedFBO[E.key])h.renderCache[h.proxyCachedFBO[E.key][$]].dirty=L<0||L!==Object.values(A).length}}const x=[...this._drapedRenderBatches];x.sort((D,E)=>E.end-E.start-(D.end-D.start));for(const D of x)for(const E of y){if(h.proxyCachedFBO[E.key])continue;let A=h.renderCachePool.pop();void 0===A&&h.renderCache.length<50&&(A=h.renderCache.length,h.renderCache.push(this._createFBO())),void 0!==A&&(h.proxyCachedFBO[E.key]={},h.proxyCachedFBO[E.key][D.start]=A,h.renderCache[A].dirty=!0)}this._tilesDirty={}}_setupStencil(c,h,y,w){if(!w||!this._sourceTilesOverlap[w.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const x=this.painter.context,D=x.gl;if(h.length<=1)return void(this._overlapStencilType=!1);let E;if(y.isTileClipped())E=h.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(h[0].overscaledZ>h[h.length-1].overscaledZ))return void(this._overlapStencilType=!1);E=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+E>255&&(x.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=E,this._overlapStencilMode.ref=this._stencilRef,y.isTileClipped()&&this._renderTileClippingMasks(h,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):f.StencilMode.disabled}_renderTileClippingMasks(c,h){const y=this.painter,w=this.painter.context,x=w.gl;y._tileClippingMaskIDs={},w.setColorMode(f.ColorMode.disabled),w.setDepthMode(f.DepthMode.disabled);const D=y.useProgram("clippingMask");for(const E of c){const A=y._tileClippingMaskIDs[E.key]=--h;D.draw(w,x.TRIANGLES,f.DepthMode.disabled,new f.StencilMode({func:x.ALWAYS,mask:0},A,255,x.KEEP,x.KEEP,x.REPLACE),f.ColorMode.disabled,f.CullFaceMode.disabled,Dd(E.projMatrix),"$clipping",y.tileExtentBuffer,y.quadTriangleIndexBuffer,y.tileExtentSegments)}}pointCoordinate(c){const h=this.painter.transform;if(c.x<0||c.x>h.width||c.y<0||c.y>h.height)return null;const y=[c.x,c.y,1,1];f.transformMat4$1(y,y,h.pixelMatrixInverse),f.scale$1(y,y,1/y[3]),y[0]/=h.worldSize,y[1]/=h.worldSize;const w=h._camera.position,x=f.mercatorZfromAltitude(1,h.center.lat),D=[w[0],w[1],w[2]/x,0],E=f.subtract([],y.slice(0,3),D);f.normalize(E,E);const A=this.raycast(D,E,this._exaggeration);return null!==A&&A?(f.scaleAndAdd(D,D,E,A),D[3]=D[2],D[2]*=x,D):null}drawDepth(){const c=this.painter,h=c.context,y=this.proxySourceCache,w=Math.ceil(c.width),x=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===w&&this._depthFBO.height===x||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const D=h.gl,E=h.createFramebuffer(w,x,!0);h.activeTexture.set(D.TEXTURE0);const A=new f.Texture(h,{width:w,height:x,data:null},D.RGBA);A.bind(D.NEAREST,D.CLAMP_TO_EDGE),E.colorAttachment.set(A.texture);const F=h.createRenderbuffer(h.gl.DEPTH_COMPONENT16,w,x);E.depthAttachment.set(F),this._depthFBO=E,this._depthTexture=A}h.bindFramebuffer.set(this._depthFBO.framebuffer),h.viewport.set([0,0,w,x]),function(D,E,A,F){if("globe"===D.transform.projection.name)return;const L=D.context,$=L.gl;L.clear({depth:1});const Q=D.useProgram("terrainDepth"),re=new f.DepthMode($.LESS,f.DepthMode.ReadWrite,D.depthRangeFor3D);for(const ne of F){const oe=A.getTile(ne),ee=Fh(ne.projMatrix,0);E.setupElevationDraw(oe,Q),Q.draw(L,$.TRIANGLES,re,f.StencilMode.disabled,f.ColorMode.unblended,f.CullFaceMode.backCCW,ee,"terrain_depth",E.gridBuffer,E.gridIndexBuffer,E.gridNoSkirtSegments)}}(c,this,y,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,h,y){if(c.getSource()instanceof xe)return this._setupProxiedCoordsForImageSource(c,h,y);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const w=this.proxiedCoords[c.id]=[],x=this.proxyCoords;for(let E=0;E<x.length;E++){const A=x[E],F=this._findTileCoveringTileID(A,c);if(F){const L=this._createProxiedId(A,F,y[A.key]&&y[A.key][c.id]);w.push(L),this.proxyToSource[A.key][c.id]=[L]}}let D=!1;for(let E=0;E<h.length;E++){const A=c.getTile(h[E]);if(!A||!A.hasData())continue;const F=this._findTileCoveringTileID(A.tileID,this.proxySourceCache);if(F&&F.tileID.canonical.z!==A.tileID.canonical.z){const L=this.proxyToSource[F.tileID.key][c.id],$=this._createProxiedId(F.tileID,A,y[F.tileID.key]&&y[F.tileID.key][c.id]);L?L.splice(L.length-1,0,$):this.proxyToSource[F.tileID.key][c.id]=[$],w.push($),D=!0}}this._sourceTilesOverlap[c.id]=D}_setupProxiedCoordsForImageSource(c,h,y){if(!c.getSource().loaded())return;const w=this.proxiedCoords[c.id]=[],x=this.proxyCoords,D=c.getSource(),E=new f.pointGeometry(D.tileID.x,D.tileID.y)._div(1<<D.tileID.z),A=D.coordinates.map(f.MercatorCoordinate.fromLngLat).reduce((L,$)=>(L.min.x=Math.min(L.min.x,$.x-E.x),L.min.y=Math.min(L.min.y,$.y-E.y),L.max.x=Math.max(L.max.x,$.x-E.x),L.max.y=Math.max(L.max.y,$.y-E.y),L),{min:new f.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new f.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),F=(L,$)=>{const Q=L.wrap+L.canonical.x/(1<<L.canonical.z),re=L.canonical.y/(1<<L.canonical.z),ne=f.EXTENT/(1<<L.canonical.z),oe=$.wrap+$.canonical.x/(1<<$.canonical.z),ee=$.canonical.y/(1<<$.canonical.z);return Q+ne<oe+A.min.x||Q>oe+A.max.x||re+ne<ee+A.min.y||re>ee+A.max.y};for(let L=0;L<x.length;L++){const $=x[L];for(let Q=0;Q<h.length;Q++){const re=c.getTile(h[Q]);if(!re||!re.hasData()||F($,re.tileID))continue;const ne=this._createProxiedId($,re,y[$.key]&&y[$.key][c.id]),oe=this.proxyToSource[$.key][c.id];oe?oe.push(ne):this.proxyToSource[$.key][c.id]=[ne],w.push(ne)}}}_createProxiedId(c,h,y){let w=this.orthoMatrix;if(y){const x=y.find(D=>D.key===h.tileID.key);if(x)return x}if(h.tileID.key!==c.key){const x=c.canonical.z-h.tileID.canonical.z;let D,E,A;w=f.create();const F=h.tileID.wrap-c.wrap<<c.overscaledZ;x>0?(D=f.EXTENT>>x,E=D*((h.tileID.canonical.x<<x)-c.canonical.x+F),A=D*((h.tileID.canonical.y<<x)-c.canonical.y)):(D=f.EXTENT<<-x,E=f.EXTENT*(h.tileID.canonical.x-(c.canonical.x+F<<-x)),A=f.EXTENT*(h.tileID.canonical.y-(c.canonical.y<<-x))),f.ortho(w,0,D,0,D,0,1),f.translate(w,w,[E,A,0])}return new Gi(h.tileID,c.key,w)}_findTileCoveringTileID(c,h){let y=h.getTile(c);if(y&&y.hasData())return y;const w=this._findCoveringTileCache[h.id],x=w[c.key];if(y=x?h.getTileByID(x):null,y&&y.hasData()||null===x)return y;let D=y?y.tileID:c,E=D.overscaledZ;const A=h.getSource().minzoom,F=[];if(!x){const $=h.getSource().maxzoom;if(c.canonical.z>=$){const Q=c.canonical.z-$;h.getSource().reparseOverscaled?(E=Math.max(c.canonical.z+2,h.transform.tileZoom),D=new f.OverscaledTileID(E,c.wrap,$,c.canonical.x>>Q,c.canonical.y>>Q)):0!==Q&&(E=$,D=new f.OverscaledTileID(E,c.wrap,$,c.canonical.x>>Q,c.canonical.y>>Q))}D.key!==c.key&&(F.push(D.key),y=h.getTile(D))}const L=$=>{F.forEach(Q=>{w[Q]=$}),F.length=0};for(E-=1;E>=A&&(!y||!y.hasData());E--){y&&L(y.tileID.key);const $=D.calculateScaledKey(E);if(y=h.getTileByID($),y&&y.hasData())break;const Q=w[$];if(null===Q)break;void 0===Q?F.push($):y=h.getTileByID(Q)}return L(y?y.tileID.key:null),y&&y.hasData()?y:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,h){let y=this._tilesDirty[c];y||(y=this._tilesDirty[c]={}),y[h.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(h){let y=0;const w=new f.StructArrayLayout2ui4,x=131;for(let D=1;D<129;D++){for(let E=1;E<129;E++)y=D*x+E,w.emplaceBack(y,y+1),w.emplaceBack(y,y+x),w.emplaceBack(y+1,y+x),128===D&&w.emplaceBack(y+x,y+x+1);w.emplaceBack(y+1,y+1+x)}return w}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=f.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class fo{static cacheKey(c,h,y,w){let x=`${h}${w?w.cacheKey:""}`;for(const D of y)c.usedDefines.includes(D)&&(x+=`/${D}`);return x}constructor(c,h,y,w,x,D){const E=c.gl;this.program=E.createProgram();const A=function(ee){const te=[];for(let ue=0;ue<ee.length;ue++){if(null===ee[ue])continue;const se=ee[ue].split(" ");te.push(se.pop())}return te}(y.staticAttributes),F=w?w.getBinderAttributes():[],L=A.concat(F);let $=w?w.defines():[];$=$.concat(D.map(ee=>`#define ${ee}`));const Q=$.concat(c.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(Lh):Lh,Lh,hr,Ts.fragmentSource,df.fragmentSource,y.fragmentSource).join("\n"),re=$.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",hr,Ts.vertexSource,df.vertexSource,$s.vertexSource,y.vertexSource).join("\n"),ne=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(ne,Q),E.compileShader(ne),E.attachShader(this.program,ne);const oe=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())this.failedToCreate=!0;else{E.shaderSource(oe,re),E.compileShader(oe),E.attachShader(this.program,oe),this.attributes={},this.numAttributes=L.length;for(let ee=0;ee<this.numAttributes;ee++)L[ee]&&(E.bindAttribLocation(this.program,ee,L[ee]),this.attributes[L[ee]]=ee);E.linkProgram(this.program),E.deleteShader(oe),E.deleteShader(ne),this.fixedUniforms=x(c),this.binderUniforms=w?w.getUniforms(c):[],D.includes("TERRAIN")&&(this.terrainUniforms={u_dem:new f.Uniform1i(ee=c),u_dem_prev:new f.Uniform1i(ee),u_dem_unpack:new f.Uniform4f(ee),u_dem_tl:new f.Uniform2f(ee),u_dem_scale:new f.Uniform1f(ee),u_dem_tl_prev:new f.Uniform2f(ee),u_dem_scale_prev:new f.Uniform1f(ee),u_dem_size:new f.Uniform1f(ee),u_dem_lerp:new f.Uniform1f(ee),u_exaggeration:new f.Uniform1f(ee),u_depth:new f.Uniform1i(ee),u_depth_size_inv:new f.Uniform2f(ee),u_meter_to_dem:new f.Uniform1f(ee),u_label_plane_matrix_inv:new f.UniformMatrix4f(ee)}),D.includes("GLOBE")&&(this.globeUniforms=(ee=>({u_tile_tl_up:new f.Uniform3f(ee),u_tile_tr_up:new f.Uniform3f(ee),u_tile_br_up:new f.Uniform3f(ee),u_tile_bl_up:new f.Uniform3f(ee),u_tile_up_scale:new f.Uniform1f(ee)}))(c)),D.includes("FOG")&&(this.fogUniforms=(ee=>({u_fog_matrix:new f.UniformMatrix4f(ee),u_fog_range:new f.Uniform2f(ee),u_fog_color:new f.Uniform4f(ee),u_fog_horizon_blend:new f.Uniform1f(ee),u_fog_temporal_offset:new f.Uniform1f(ee),u_frustum_tl:new f.Uniform3f(ee),u_frustum_tr:new f.Uniform3f(ee),u_frustum_br:new f.Uniform3f(ee),u_frustum_bl:new f.Uniform3f(ee),u_globe_pos:new f.Uniform3f(ee),u_globe_radius:new f.Uniform1f(ee),u_globe_transition:new f.Uniform1f(ee),u_is_globe:new f.Uniform1i(ee),u_viewport:new f.Uniform2f(ee)}))(c))}var ee}setTerrainUniformValues(c,h){if(!this.terrainUniforms)return;const y=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const w in h)y[w]&&y[w].set(this.program,w,h[w])}}setGlobeUniformValues(c,h){if(!this.globeUniforms)return;const y=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const w in h)y[w]&&y[w].set(this.program,w,h[w])}}setFogUniformValues(c,h){if(!this.fogUniforms)return;const y=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const w in h)y[w].set(this.program,w,h[w])}}draw(c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe){const ee=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(y),c.setStencilMode(w),c.setColorMode(x),c.setCullFace(D);for(const ue of Object.keys(this.fixedUniforms))this.fixedUniforms[ue].set(this.program,ue,E[ue]);ne&&ne.setUniforms(this.program,c,this.binderUniforms,Q,{zoom:re});const te={[ee.LINES]:2,[ee.TRIANGLES]:3,[ee.LINE_STRIP]:1}[h];for(const ue of $.get()){const se=ue.vaos||(ue.vaos={});(se[A]||(se[A]=new Td)).bind(c,this,F,ne?ne.getPaintVertexBuffers():[],L,ue.vertexOffset,oe||[]),ee.drawElements(h,ue.primitiveLength*te,ee.UNSIGNED_SHORT,ue.primitiveOffset*te*2)}}}function sl(g,c){const h=Math.pow(2,c.tileID.overscaledZ),y=c.tileSize*Math.pow(2,g.transform.tileZoom)/h,w=y*(c.tileID.canonical.x+c.tileID.wrap*h),x=y*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/Ia(c,1,g.transform.tileZoom),u_pixel_coord_upper:[w>>16,x>>16],u_pixel_coord_lower:[65535&w,65535&x]}}const cs=f.create(),Ms=(g,c,h,y,w,x,D,E,A,F,L)=>{const $=c.style.light,Q=$.properties.get("position"),re=[Q.x,Q.y,Q.z],ne=f.create$1();"viewport"===$.properties.get("anchor")&&(f.fromRotation(ne,-c.transform.angle),f.transformMat3(re,re,ne));const oe=$.properties.get("color"),ee=c.transform,te={u_matrix:g,u_lightpos:re,u_lightintensity:$.properties.get("intensity"),u_lightcolor:[oe.r,oe.g,oe.b],u_vertical_gradient:+h,u_opacity:y,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:cs,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:w,u_edge_radius:x};return"globe"===ee.projection.name&&(te.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],te.u_zoom_transition=A,te.u_inv_rot_matrix=L,te.u_merc_center=F,te.u_up_dir=ee.projection.upVector(new f.CanonicalTileID(0,0,0),F[0]*f.EXTENT,F[1]*f.EXTENT),te.u_height_lift=E),te},Ht=(g,c,h,y,w,x,D,E,A,F,L,$)=>{const Q=Ms(g,c,h,y,w,x,D,A,F,L,$),re={u_height_factor:-Math.pow(2,D.overscaledZ)/E.tileSize/8};return f.extend(Q,sl(c,E),re)},Jn=g=>({u_matrix:g}),pr=(g,c,h)=>f.extend(Jn(g),sl(c,h)),$o=(g,c)=>({u_matrix:g,u_world:c}),al=(g,c,h,y)=>f.extend(pr(g,c,h),{u_world:y}),qr=f.create(),Gl=(g,c,h,y,w,x)=>{const D=g.transform,E="globe"===D.projection.name;let A;if("map"===x.paint.get("circle-pitch-alignment"))if(E){const L=f.globePixelsToTileUnits(D.zoom,c.canonical)*D._pixelsPerMercatorPixel;A=Float32Array.from([L,0,0,L])}else A=D.calculatePixelsToTileUnitsMatrix(h);else A=new Float32Array([D.pixelsToGLUnits[0],0,0,D.pixelsToGLUnits[1]]);const F={u_camera_to_center_distance:D.cameraToCenterDistance,u_matrix:g.translatePosMatrix(c.projMatrix,h,x.paint.get("circle-translate"),x.paint.get("circle-translate-anchor")),u_device_pixel_ratio:f.exported.devicePixelRatio,u_extrude_scale:A,u_inv_rot_matrix:qr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(E){F.u_inv_rot_matrix=y,F.u_merc_center=w,F.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],F.u_zoom_transition=f.globeToMercatorTransition(D.zoom);const L=w[0]*f.EXTENT,$=w[1]*f.EXTENT;F.u_up_dir=D.projection.upVector(new f.CanonicalTileID(0,0,0),L,$)}return F},Ar=g=>{const c=[];return"map"===g.paint.get("circle-pitch-alignment")&&c.push("PITCH_WITH_MAP"),"map"===g.paint.get("circle-pitch-scale")&&c.push("SCALE_WITH_MAP"),c},ll=(g,c,h,y)=>{const w=f.EXTENT/h.tileSize;return{u_matrix:g,u_camera_to_center_distance:c.getCameraToCenterDistance(y),u_extrude_scale:[c.pixelsToGLUnits[0]/w,c.pixelsToGLUnits[1]/w]}},Ra=(g,c,h=1)=>({u_matrix:g,u_color:c,u_overlay:0,u_overlay_scale:h}),ui=f.create(),jc=(g,c,h,y,w,x,D)=>{const E=g.transform,A="globe"===E.projection.name,F=A?f.globePixelsToTileUnits(E.zoom,c.canonical)*E._pixelsPerMercatorPixel:Ia(h,1,x),L={u_matrix:c.projMatrix,u_extrude_scale:F,u_intensity:D,u_inv_rot_matrix:ui,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(A){L.u_inv_rot_matrix=y,L.u_merc_center=w,L.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],L.u_zoom_transition=f.globeToMercatorTransition(E.zoom);const $=w[0]*f.EXTENT,Q=w[1]*f.EXTENT;L.u_up_dir=E.projection.upVector(new f.CanonicalTileID(0,0,0),$,Q)}return L},Wl=(g,c,h,y,w,x,D)=>{const E=g.transform,A=E.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:oo(g,c,h,y),u_pixels_to_tile_units:A,u_device_pixel_ratio:x,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:w,u_texsize:ql(h)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Na(c,g.transform),u_alpha_discard_threshold:0,u_trim_offset:D}},qs=(g,c,h,y,w)=>{const x=g.transform;return{u_matrix:oo(g,c,h,y),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:x.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:w,u_image:0,u_tile_units_to_pixels:Na(c,x),u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Na(g,c){return 1/Ia(g,1,c.tileZoom)}function oo(g,c,h,y){return g.translatePosMatrix(y||c.tileID.projMatrix,c,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}function ql(g){const c=g.paint.get("line-dasharray").value;return c.value||"constant"!==c.kind}const $c=(g,c,h,y,w,x)=>{return{u_matrix:g,u_tl_parent:c,u_scale_parent:h,u_fade_t:y.mix,u_opacity:y.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(E=w.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(D=w.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:Ds(w.paint.get("raster-hue-rotate")),u_perspective_transform:x};var D,E};function Ds(g){g*=Math.PI/180;const c=Math.sin(g),h=Math.cos(g);return[(2*h+1)/3,(-Math.sqrt(3)*c-h+1)/3,(Math.sqrt(3)*c-h+1)/3]}const Gc=f.create(),Id=(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe)=>{const ee=w.transform,te={u_is_size_zoom_constant:+("constant"===g||"source"===g),u_is_size_feature_constant:+("constant"===g||"camera"===g),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:ee.cameraToCenterDistance,u_rotate_symbol:+h,u_aspect_ratio:ee.width/ee.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:D,u_coord_matrix:E,u_is_text:+A,u_pitch_with_map:+y,u_texsize:F,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Gc,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Gc,u_up_vector:[0,-1,0]};return"globe"===oe.name&&(te.u_tile_id=[L.canonical.x,L.canonical.y,1<<L.canonical.z],te.u_zoom_transition=$,te.u_inv_rot_matrix=re,te.u_merc_center=Q,te.u_camera_forward=ee._camera.forward(),te.u_ecef_origin=f.globeECEFOrigin(ee.globeMatrix,L.toUnwrapped()),te.u_tile_matrix=Float32Array.from(ee.globeMatrix),te.u_up_vector=ne),te},fr=(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe,ee)=>f.extend(Id(g,c,h,y,w,x,D,E,A,F,$,Q,re,ne,oe,ee),{u_gamma_scale:y?w.transform.cameraToCenterDistance*Math.cos(w.terrain?0:w.transform._pitch):1,u_device_pixel_ratio:f.exported.devicePixelRatio,u_is_halo:+L}),Bh=(g,c,h,y,w,x,D,E,A,F,L,$,Q,re,ne,oe)=>f.extend(fr(g,c,h,y,w,x,D,E,!0,A,!0,L,$,Q,re,ne,oe),{u_texsize_icon:F,u_texture_icon:1}),j0=(g,c,h)=>({u_matrix:g,u_opacity:c,u_color:h}),Eu=(g,c,h,y,w)=>f.extend(function(x,D,E){const A=D.imageManager.getPattern(x.toString()),{width:F,height:L}=D.imageManager.getPixelSize(),$=Math.pow(2,E.tileID.overscaledZ),Q=E.tileSize*Math.pow(2,D.transform.tileZoom)/$,re=Q*(E.tileID.canonical.x+E.tileID.wrap*$),ne=Q*E.tileID.canonical.y;return{u_image:0,u_pattern_tl:A.tl,u_pattern_br:A.br,u_texsize:[F,L],u_pattern_size:A.displaySize,u_tile_units_to_pixels:1/Ia(E,1,D.transform.tileZoom),u_pixel_coord_upper:[re>>16,ne>>16],u_pixel_coord_lower:[65535&re,65535&ne]}}(y,h,w),{u_matrix:g,u_opacity:c}),hf={fillExtrusion:g=>({u_matrix:new f.UniformMatrix4f(g),u_lightpos:new f.Uniform3f(g),u_lightintensity:new f.Uniform1f(g),u_lightcolor:new f.Uniform3f(g),u_vertical_gradient:new f.Uniform1f(g),u_opacity:new f.Uniform1f(g),u_edge_radius:new f.Uniform1f(g),u_ao:new f.Uniform2f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_up_dir:new f.Uniform3f(g),u_height_lift:new f.Uniform1f(g)}),fillExtrusionPattern:g=>({u_matrix:new f.UniformMatrix4f(g),u_lightpos:new f.Uniform3f(g),u_lightintensity:new f.Uniform1f(g),u_lightcolor:new f.Uniform3f(g),u_vertical_gradient:new f.Uniform1f(g),u_height_factor:new f.Uniform1f(g),u_edge_radius:new f.Uniform1f(g),u_ao:new f.Uniform2f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_up_dir:new f.Uniform3f(g),u_height_lift:new f.Uniform1f(g),u_image:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_pixel_coord_upper:new f.Uniform2f(g),u_pixel_coord_lower:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g),u_opacity:new f.Uniform1f(g)}),fill:g=>({u_matrix:new f.UniformMatrix4f(g)}),fillPattern:g=>({u_matrix:new f.UniformMatrix4f(g),u_image:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_pixel_coord_upper:new f.Uniform2f(g),u_pixel_coord_lower:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g)}),fillOutline:g=>({u_matrix:new f.UniformMatrix4f(g),u_world:new f.Uniform2f(g)}),fillOutlinePattern:g=>({u_matrix:new f.UniformMatrix4f(g),u_world:new f.Uniform2f(g),u_image:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_pixel_coord_upper:new f.Uniform2f(g),u_pixel_coord_lower:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g)}),circle:g=>({u_camera_to_center_distance:new f.Uniform1f(g),u_extrude_scale:new f.UniformMatrix2f(g),u_device_pixel_ratio:new f.Uniform1f(g),u_matrix:new f.UniformMatrix4f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_up_dir:new f.Uniform3f(g)}),collisionBox:g=>({u_matrix:new f.UniformMatrix4f(g),u_camera_to_center_distance:new f.Uniform1f(g),u_extrude_scale:new f.Uniform2f(g)}),collisionCircle:g=>({u_matrix:new f.UniformMatrix4f(g),u_inv_matrix:new f.UniformMatrix4f(g),u_camera_to_center_distance:new f.Uniform1f(g),u_viewport_size:new f.Uniform2f(g)}),debug:g=>({u_color:new f.UniformColor(g),u_matrix:new f.UniformMatrix4f(g),u_overlay:new f.Uniform1i(g),u_overlay_scale:new f.Uniform1f(g)}),clippingMask:g=>({u_matrix:new f.UniformMatrix4f(g)}),heatmap:g=>({u_extrude_scale:new f.Uniform1f(g),u_intensity:new f.Uniform1f(g),u_matrix:new f.UniformMatrix4f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_up_dir:new f.Uniform3f(g)}),heatmapTexture:g=>({u_image:new f.Uniform1i(g),u_color_ramp:new f.Uniform1i(g),u_opacity:new f.Uniform1f(g)}),hillshade:g=>({u_matrix:new f.UniformMatrix4f(g),u_image:new f.Uniform1i(g),u_latrange:new f.Uniform2f(g),u_light:new f.Uniform2f(g),u_shadow:new f.UniformColor(g),u_highlight:new f.UniformColor(g),u_accent:new f.UniformColor(g)}),hillshadePrepare:g=>({u_matrix:new f.UniformMatrix4f(g),u_image:new f.Uniform1i(g),u_dimension:new f.Uniform2f(g),u_zoom:new f.Uniform1f(g),u_unpack:new f.Uniform4f(g)}),line:g=>({u_matrix:new f.UniformMatrix4f(g),u_pixels_to_tile_units:new f.UniformMatrix2f(g),u_device_pixel_ratio:new f.Uniform1f(g),u_units_to_pixels:new f.Uniform2f(g),u_dash_image:new f.Uniform1i(g),u_gradient_image:new f.Uniform1i(g),u_image_height:new f.Uniform1f(g),u_texsize:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g),u_alpha_discard_threshold:new f.Uniform1f(g),u_trim_offset:new f.Uniform2f(g)}),linePattern:g=>({u_matrix:new f.UniformMatrix4f(g),u_texsize:new f.Uniform2f(g),u_pixels_to_tile_units:new f.UniformMatrix2f(g),u_device_pixel_ratio:new f.Uniform1f(g),u_image:new f.Uniform1i(g),u_units_to_pixels:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g),u_alpha_discard_threshold:new f.Uniform1f(g)}),raster:g=>({u_matrix:new f.UniformMatrix4f(g),u_tl_parent:new f.Uniform2f(g),u_scale_parent:new f.Uniform1f(g),u_fade_t:new f.Uniform1f(g),u_opacity:new f.Uniform1f(g),u_image0:new f.Uniform1i(g),u_image1:new f.Uniform1i(g),u_brightness_low:new f.Uniform1f(g),u_brightness_high:new f.Uniform1f(g),u_saturation_factor:new f.Uniform1f(g),u_contrast_factor:new f.Uniform1f(g),u_spin_weights:new f.Uniform3f(g),u_perspective_transform:new f.Uniform2f(g)}),symbolIcon:g=>({u_is_size_zoom_constant:new f.Uniform1i(g),u_is_size_feature_constant:new f.Uniform1i(g),u_size_t:new f.Uniform1f(g),u_size:new f.Uniform1f(g),u_camera_to_center_distance:new f.Uniform1f(g),u_rotate_symbol:new f.Uniform1i(g),u_aspect_ratio:new f.Uniform1f(g),u_fade_change:new f.Uniform1f(g),u_matrix:new f.UniformMatrix4f(g),u_label_plane_matrix:new f.UniformMatrix4f(g),u_coord_matrix:new f.UniformMatrix4f(g),u_is_text:new f.Uniform1i(g),u_pitch_with_map:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_camera_forward:new f.Uniform3f(g),u_tile_matrix:new f.UniformMatrix4f(g),u_up_vector:new f.Uniform3f(g),u_ecef_origin:new f.Uniform3f(g),u_texture:new f.Uniform1i(g)}),symbolSDF:g=>({u_is_size_zoom_constant:new f.Uniform1i(g),u_is_size_feature_constant:new f.Uniform1i(g),u_size_t:new f.Uniform1f(g),u_size:new f.Uniform1f(g),u_camera_to_center_distance:new f.Uniform1f(g),u_rotate_symbol:new f.Uniform1i(g),u_aspect_ratio:new f.Uniform1f(g),u_fade_change:new f.Uniform1f(g),u_matrix:new f.UniformMatrix4f(g),u_label_plane_matrix:new f.UniformMatrix4f(g),u_coord_matrix:new f.UniformMatrix4f(g),u_is_text:new f.Uniform1i(g),u_pitch_with_map:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_texture:new f.Uniform1i(g),u_gamma_scale:new f.Uniform1f(g),u_device_pixel_ratio:new f.Uniform1f(g),u_tile_id:new f.Uniform3f(g),u_zoom_transition:new f.Uniform1f(g),u_inv_rot_matrix:new f.UniformMatrix4f(g),u_merc_center:new f.Uniform2f(g),u_camera_forward:new f.Uniform3f(g),u_tile_matrix:new f.UniformMatrix4f(g),u_up_vector:new f.Uniform3f(g),u_ecef_origin:new f.Uniform3f(g),u_is_halo:new f.Uniform1i(g)}),symbolTextAndIcon:g=>({u_is_size_zoom_constant:new f.Uniform1i(g),u_is_size_feature_constant:new f.Uniform1i(g),u_size_t:new f.Uniform1f(g),u_size:new f.Uniform1f(g),u_camera_to_center_distance:new f.Uniform1f(g),u_rotate_symbol:new f.Uniform1i(g),u_aspect_ratio:new f.Uniform1f(g),u_fade_change:new f.Uniform1f(g),u_matrix:new f.UniformMatrix4f(g),u_label_plane_matrix:new f.UniformMatrix4f(g),u_coord_matrix:new f.UniformMatrix4f(g),u_is_text:new f.Uniform1i(g),u_pitch_with_map:new f.Uniform1i(g),u_texsize:new f.Uniform2f(g),u_texsize_icon:new f.Uniform2f(g),u_texture:new f.Uniform1i(g),u_texture_icon:new f.Uniform1i(g),u_gamma_scale:new f.Uniform1f(g),u_device_pixel_ratio:new f.Uniform1f(g),u_is_halo:new f.Uniform1i(g)}),background:g=>({u_matrix:new f.UniformMatrix4f(g),u_opacity:new f.Uniform1f(g),u_color:new f.UniformColor(g)}),backgroundPattern:g=>({u_matrix:new f.UniformMatrix4f(g),u_opacity:new f.Uniform1f(g),u_image:new f.Uniform1i(g),u_pattern_tl:new f.Uniform2f(g),u_pattern_br:new f.Uniform2f(g),u_texsize:new f.Uniform2f(g),u_pattern_size:new f.Uniform2f(g),u_pixel_coord_upper:new f.Uniform2f(g),u_pixel_coord_lower:new f.Uniform2f(g),u_tile_units_to_pixels:new f.Uniform1f(g)}),terrainRaster:ol,terrainDepth:ol,skybox:g=>({u_matrix:new f.UniformMatrix4f(g),u_sun_direction:new f.Uniform3f(g),u_cubemap:new f.Uniform1i(g),u_opacity:new f.Uniform1f(g),u_temporal_offset:new f.Uniform1f(g)}),skyboxGradient:g=>({u_matrix:new f.UniformMatrix4f(g),u_color_ramp:new f.Uniform1i(g),u_center_direction:new f.Uniform3f(g),u_radius:new f.Uniform1f(g),u_opacity:new f.Uniform1f(g),u_temporal_offset:new f.Uniform1f(g)}),skyboxCapture:g=>({u_matrix_3f:new f.UniformMatrix3f(g),u_sun_direction:new f.Uniform3f(g),u_sun_intensity:new f.Uniform1f(g),u_color_tint_r:new f.Uniform4f(g),u_color_tint_m:new f.Uniform4f(g),u_luminance:new f.Uniform1f(g)}),globeRaster:g=>({u_proj_matrix:new f.UniformMatrix4f(g),u_globe_matrix:new f.UniformMatrix4f(g),u_normalize_matrix:new f.UniformMatrix4f(g),u_merc_matrix:new f.UniformMatrix4f(g),u_zoom_transition:new f.Uniform1f(g),u_merc_center:new f.Uniform2f(g),u_image0:new f.Uniform1i(g),u_grid_matrix:new f.UniformMatrix3f(g),u_frustum_tl:new f.Uniform3f(g),u_frustum_tr:new f.Uniform3f(g),u_frustum_br:new f.Uniform3f(g),u_frustum_bl:new f.Uniform3f(g),u_globe_pos:new f.Uniform3f(g),u_globe_radius:new f.Uniform1f(g),u_viewport:new f.Uniform2f(g)}),globeAtmosphere:g=>({u_frustum_tl:new f.Uniform3f(g),u_frustum_tr:new f.Uniform3f(g),u_frustum_br:new f.Uniform3f(g),u_frustum_bl:new f.Uniform3f(g),u_horizon:new f.Uniform1f(g),u_transition:new f.Uniform1f(g),u_fadeout_range:new f.Uniform1f(g),u_color:new f.Uniform4f(g),u_high_color:new f.Uniform4f(g),u_space_color:new f.Uniform4f(g),u_star_intensity:new f.Uniform1f(g),u_star_density:new f.Uniform1f(g),u_star_size:new f.Uniform1f(g),u_temporal_offset:new f.Uniform1f(g),u_horizon_angle:new f.Uniform1f(g),u_rotation_matrix:new f.UniformMatrix4f(g)})};let La;function kd(g,c,h,y,w,x,D){const E=g.context,A=E.gl,F=g.transform,L=g.useProgram("collisionBox"),$=[];let Q=0,re=0;for(let pe=0;pe<y.length;pe++){const Ce=y[pe],be=c.getTile(Ce),Te=be.getBucket(h);if(!Te)continue;const Ue=Vl(Ce,Te,F);let ze=Ue;0===w[0]&&0===w[1]||(ze=g.translatePosMatrix(Ue,be,w,x));const Ie=D?Te.textCollisionBox:Te.iconCollisionBox,gt=Te.collisionCircleArray;if(gt.length>0){const Ne=f.create(),Je=ze;f.mul(Ne,Te.placementInvProjMatrix,F.glCoordMatrix),f.mul(Ne,Ne,Te.placementViewportMatrix),$.push({circleArray:gt,circleOffset:re,transform:Je,invTransform:Ne,projection:Te.getProjection()}),Q+=gt.length/4,re=Q}Ie&&(g.terrain&&g.terrain.setupElevationDraw(be,L),L.draw(E,A.LINES,f.DepthMode.disabled,f.StencilMode.disabled,g.colorModeForRenderPass(),f.CullFaceMode.disabled,ll(ze,F,be,Te.getProjection()),h.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,null,F.zoom,null,[Ie.collisionVertexBuffer,Ie.collisionVertexBufferExt]))}if(!D||!$.length)return;const ne=g.useProgram("collisionCircle"),oe=new f.StructArrayLayout2f1f2i16;oe.resize(4*Q),oe._trim();let ee=0;for(const pe of $)for(let Ce=0;Ce<pe.circleArray.length/4;Ce++){const be=4*Ce,Te=pe.circleArray[be+0],Ue=pe.circleArray[be+1],ze=pe.circleArray[be+2],Ie=pe.circleArray[be+3];oe.emplace(ee++,Te,Ue,ze,Ie,0),oe.emplace(ee++,Te,Ue,ze,Ie,1),oe.emplace(ee++,Te,Ue,ze,Ie,2),oe.emplace(ee++,Te,Ue,ze,Ie,3)}(!La||La.length<2*Q)&&(La=function(pe){const Ce=2*pe,be=new f.StructArrayLayout3ui6;be.resize(Ce),be._trim();for(let Te=0;Te<Ce;Te++){const Ue=6*Te;be.uint16[Ue+0]=4*Te+0,be.uint16[Ue+1]=4*Te+1,be.uint16[Ue+2]=4*Te+2,be.uint16[Ue+3]=4*Te+2,be.uint16[Ue+4]=4*Te+3,be.uint16[Ue+5]=4*Te+0}return be}(Q));const te=E.createIndexBuffer(La,!0),ue=E.createVertexBuffer(oe,f.collisionCircleLayout.members,!0);for(const pe of $){const Ce={u_matrix:pe.transform,u_inv_matrix:pe.invTransform,u_camera_to_center_distance:(se=F).getCameraToCenterDistance(pe.projection),u_viewport_size:[se.width,se.height]};ne.draw(E,A.TRIANGLES,f.DepthMode.disabled,f.StencilMode.disabled,g.colorModeForRenderPass(),f.CullFaceMode.disabled,Ce,h.id,ue,te,f.SegmentVector.simpleSegment(0,2*pe.circleOffset,pe.circleArray.length,pe.circleArray.length/2),null,F.zoom)}var se;ue.destroy(),te.destroy()}const da=f.create();function Oo({width:g,height:c,anchor:h,textOffset:y,textScale:w},x){const{horizontalAlign:D,verticalAlign:E}=f.getAnchorAlignment(h),A=-(D-.5)*g,F=-(E-.5)*c,L=f.evaluateVariableOffset(h,y);return new f.pointGeometry((A/w+L[0])*x,(F/w+L[1])*x)}function Wm(g,c,h,y,w,x,D,E,A,F,L){const $=g.text.placedSymbolArray,Q=g.text.dynamicLayoutVertexArray,re=g.icon.dynamicLayoutVertexArray,ne={},oe=g.getProjection(),ee=ho(E,oe,x),te=x.elevation,ue=oe.upVectorScale(E.canonical,x.center.lat,x.worldSize).metersToTile;Q.clear();for(let se=0;se<$.length;se++){const pe=$.get(se),{tileAnchorX:Ce,tileAnchorY:be,numGlyphs:Te}=pe,Ue=g.allowVerticalPlacement&&!pe.placedOrientation,ze=pe.hidden||!pe.crossTileID||Ue?null:y[pe.crossTileID];if(ze){let Ie=0,gt=0,Ne=0;if(te){const Bt=te?te.getAtTileOffset(E,Ce,be):0,[Ut,Vt,pn]=oe.upVector(E.canonical,Ce,be);Ie=Bt*Ut*ue,gt=Bt*Vt*ue,Ne=Bt*pn*ue}let[Je,$e,lt,Ze]=uo(pe.projectedAnchorX+Ie,pe.projectedAnchorY+gt,pe.projectedAnchorZ+Ne,h?ee:D);const ot=mt(x.getCameraToCenterDistance(oe),Ze);let yt=w.evaluateSizeForFeature(g.textSizeData,F,pe)*ot/f.ONE_EM;h&&(yt*=g.tilePixelRatio/A);const Oe=Oo(ze,yt);h?(({x:Je,y:$e,z:lt}=oe.projectTilePoint(Ce+Oe.x,be+Oe.y,E.canonical)),[Je,$e,lt]=uo(Je+Ie,$e+gt,lt+Ne,D)):(c&&Oe._rotate(-x.angle),Je+=Oe.x,$e+=Oe.y,lt=0);const je=g.allowVerticalPlacement&&pe.placedOrientation===f.WritingMode.vertical?Math.PI/2:0;for(let Bt=0;Bt<Te;Bt++)f.addDynamicAttributes(Q,Je,$e,lt,je);L&&pe.associatedIconIndex>=0&&(ne[pe.associatedIconIndex]={x:Je,y:$e,z:lt,angle:je})}else vn(Te,Q)}if(L){re.clear();const se=g.icon.placedSymbolArray;for(let pe=0;pe<se.length;pe++){const Ce=se.get(pe),{numGlyphs:be}=Ce,Te=ne[pe];if(Ce.hidden||!Te)vn(be,re);else{const{x:Ue,y:ze,z:Ie,angle:gt}=Te;for(let Ne=0;Ne<be;Ne++)f.addDynamicAttributes(re,Ue,ze,Ie,gt)}}g.icon.dynamicLayoutVertexBuffer.updateData(re)}g.text.dynamicLayoutVertexBuffer.updateData(Q)}function Go(g,c,h){return h.iconsInText&&c?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function mo(g,c,h,y,w,x,D,E,A,F,L,$){const Q=g.context,re=Q.gl,ne=g.transform,oe="map"===E,ee="map"===A,te=oe&&"point"!==h.layout.get("symbol-placement"),ue=oe&&!ee&&!te,se=void 0!==h.layout.get("symbol-sort-key").constantOr(1);let pe=!1;const Ce=g.depthModeForSublayer(0,f.DepthMode.ReadOnly),be=[f.mercatorXfromLng(ne.center.lng),f.mercatorYfromLat(ne.center.lat)],Te=h.layout.get("text-variable-anchor"),Ue="globe"===ne.projection.name,ze=[],Ie=[0,-1,0];let gt=Ie;!Ue&&!ne.mercatorFromTransition||oe||(gt=function(Ne){const Je=Ne._camera.getWorldToCamera(Ne.worldSize,1),$e=f.multiply([],Je,Ne.globeMatrix);f.invert($e,$e);const lt=[0,0,0],Ze=[0,1,0,0];return f.transformMat4$1(Ze,Ze,$e),lt[0]=Ze[0],lt[1]=Ze[1],lt[2]=Ze[2],f.normalize(lt,lt),lt}(ne));for(const Ne of y){const Je=c.getTile(Ne),$e=Je.getBucket(h);if(!$e||"mercator"===$e.projection.name&&Ue)continue;const lt=w?$e.text:$e.icon;if(!lt||$e.fullyClipped||!lt.segments.get().length)continue;const Ze=lt.programConfigurations.get(h.id),ot=w||$e.sdfIcons,yt=w?$e.textSizeData:$e.iconSizeData,Oe=ee||0!==ne.pitch,je=f.evaluateSizeForZoom(yt,ne.zoom);let Bt,Ut,Vt,pn,jn=[0,0],rn=null;if(w){if(Ut=Je.glyphAtlasTexture,Vt=re.LINEAR,Bt=Je.glyphAtlasTexture.size,$e.iconsInText){jn=Je.imageAtlasTexture.size,rn=Je.imageAtlasTexture;const Kr="composite"===yt.kind||"camera"===yt.kind;pn=Oe||g.options.rotating||g.options.zooming||Kr?re.LINEAR:re.NEAREST}}else{const Kr=1!==h.layout.get("icon-size").constantOr(0)||$e.iconsNeedLinear;Ut=Je.imageAtlasTexture,Vt=ot||g.options.rotating||g.options.zooming||Kr||Oe?re.LINEAR:re.NEAREST,Bt=Je.imageAtlasTexture.size}const Pt="globe"===$e.projection.name,Di=Pt?gt:Ie,Ei=Pt?f.globeToMercatorTransition(ne.zoom):0,Wi=ho(Ne,$e.getProjection(),ne),Bi=ne.calculatePixelsToTileUnitsMatrix(Je),Wo=Ri(Wi,Je.tileID.canonical,ee,oe,ne,$e.getProjection(),Bi),us=g.terrain&&ee&&te?f.invert(f.create(),Wo):da,qo=sr(Wi,Je.tileID.canonical,ee,oe,ne,$e.getProjection(),Bi),Is=Te&&$e.hasTextData(),Vi="none"!==h.layout.get("icon-text-fit")&&Is&&$e.hasIconData();if(te){const Kr=ne.elevation,Zo=Kr?Kr.getAtTileOffsetFunc(Ne,ne.center.lat,ne.worldSize,$e.getProjection()):null,Ko=Du(Wi,Je.tileID.canonical,ee,oe,ne,$e.getProjection(),Bi);ci($e,Wi,g,w,Ko,qo,ee,F,Zo,Ne)}const Yi=te||w&&Te||Vi,yi=g.translatePosMatrix(Wi,Je,x,D),Dr=Yi?da:Wo,Nr=g.translatePosMatrix(qo,Je,x,D,!0),Ji=$e.getProjection().createInversionMatrix(ne,Ne.canonical),_n=[];g.terrainRenderModeElevated()&&ee&&_n.push("PITCH_WITH_MAP_TERRAIN"),Pt&&_n.push("PROJECTION_GLOBE_VIEW"),Yi&&_n.push("PROJECTED_POS_ON_VIEWPORT");const Yc=ot&&0!==h.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1);let fl;fl=ot?$e.iconsInText?Bh(yt.kind,je,ue,ee,g,yi,Dr,Nr,Bt,jn,Ne,Ei,be,Ji,Di,$e.getProjection()):fr(yt.kind,je,ue,ee,g,yi,Dr,Nr,w,Bt,!0,Ne,Ei,be,Ji,Di,$e.getProjection()):Id(yt.kind,je,ue,ee,g,yi,Dr,Nr,w,Bt,Ne,Ei,be,Ji,Di,$e.getProjection());const _o={program:g.useProgram(Go(ot,w,$e),Ze,_n),buffers:lt,uniformValues:fl,atlasTexture:Ut,atlasTextureIcon:rn,atlasInterpolation:Vt,atlasInterpolationIcon:pn,isSDF:ot,hasHalo:Yc,tile:Je,labelPlaneMatrixInv:us};if(se&&$e.canOverlap){pe=!0;const Kr=lt.segments.get();for(const Zo of Kr)ze.push({segments:new f.SegmentVector([Zo]),sortKey:Zo.sortKey,state:_o})}else ze.push({segments:lt.segments,sortKey:0,state:_o})}pe&&ze.sort((Ne,Je)=>Ne.sortKey-Je.sortKey);for(const Ne of ze){const Je=Ne.state;if(g.terrain&&g.terrain.setupElevationDraw(Je.tile,Je.program,{useDepthForOcclusion:!Ue,labelPlaneMatrixInv:Je.labelPlaneMatrixInv}),Q.activeTexture.set(re.TEXTURE0),Je.atlasTexture.bind(Je.atlasInterpolation,re.CLAMP_TO_EDGE),Je.atlasTextureIcon&&(Q.activeTexture.set(re.TEXTURE1),Je.atlasTextureIcon&&Je.atlasTextureIcon.bind(Je.atlasInterpolationIcon,re.CLAMP_TO_EDGE)),Je.isSDF){const $e=Je.uniformValues;Je.hasHalo&&($e.u_is_halo=1,Vh(Je.buffers,Ne.segments,h,g,Je.program,Ce,L,$,$e)),$e.u_is_halo=0}Vh(Je.buffers,Ne.segments,h,g,Je.program,Ce,L,$,Je.uniformValues)}}function Vh(g,c,h,y,w,x,D,E,A){const F=y.context,L=[g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer,g.globeExtVertexBuffer];w.draw(F,F.gl.TRIANGLES,x,D,E,f.CullFaceMode.disabled,A,h.id,g.layoutVertexBuffer,g.indexBuffer,c,h.paint,y.transform.zoom,g.programConfigurations.get(h.id),L)}function Ad(g,c,h,y,w,x,D){const E=g.context.gl,A=h.paint.get("fill-pattern"),F=A&&A.constantOr(1);let L,$,Q,re,ne;D?($=F&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",L=E.LINES):($=F?"fillPattern":"fill",L=E.TRIANGLES);for(const oe of y){const ee=c.getTile(oe);if(F&&!ee.patternsLoaded())continue;const te=ee.getBucket(h);if(!te)continue;g.prepareDrawTile();const ue=te.programConfigurations.get(h.id),se=g.useProgram($,ue);F&&(g.context.activeTexture.set(E.TEXTURE0),ee.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),ue.updatePaintBuffers());const pe=A.constantOr(null);if(pe&&ee.imageAtlas){const be=ee.imageAtlas.patternPositions[pe.toString()];be&&ue.setConstantPatternPositions(be)}const Ce=g.translatePosMatrix(oe.projMatrix,ee,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(D){re=te.indexBuffer2,ne=te.segments2;const be=g.terrain&&g.terrain.renderingToTexture?g.terrain.drapeBufferSize:[E.drawingBufferWidth,E.drawingBufferHeight];Q="fillOutlinePattern"===$&&F?al(Ce,g,ee,be):$o(Ce,be)}else re=te.indexBuffer,ne=te.segments,Q=F?pr(Ce,g,ee):Jn(Ce);g.prepareDrawProgram(g.context,se,oe.toUnwrapped()),se.draw(g.context,L,w,g.stencilModeForClipping(oe),x,f.CullFaceMode.disabled,Q,h.id,te.layoutVertexBuffer,re,ne,h.paint,g.transform.zoom,ue)}}function Iu(g,c,h,y,w,x,D){const E=g.context,A=E.gl,F=g.transform,L=h.paint.get("fill-extrusion-pattern"),$=L.constantOr(1),Q=h.paint.get("fill-extrusion-opacity"),re=[h.paint.get("fill-extrusion-ambient-occlusion-intensity"),h.paint.get("fill-extrusion-ambient-occlusion-radius")],ne=h.layout.get("fill-extrusion-edge-radius"),oe="globe"===F.projection.name?f.fillExtrusionHeightLift():0,ee="globe"===F.projection.name,te=ee?f.globeToMercatorTransition(F.zoom):0,ue=[f.mercatorXfromLng(F.center.lng),f.mercatorYfromLat(F.center.lat)],se=[];ee&&(se.push("PROJECTION_GLOBE_VIEW"),g.style.terrainSetForDrapingOnly()&&se.push("TERRAIN")),re[0]>0&&se.push("FAUX_AO");for(const pe of y){const Ce=c.getTile(pe),be=Ce.getBucket(h);if(!be||be.projection.name!==F.projection.name)continue;const Te=be.programConfigurations.get(h.id),Ue=g.useProgram($?"fillExtrusionPattern":"fillExtrusion",Te,se);if(g.terrain){const lt=g.terrain;if(g.style.terrainSetForDrapingOnly())lt.setupElevationDraw(Ce,Ue,{useMeterToDem:!0});else{if(!be.enableTerrain)continue;if(lt.setupElevationDraw(Ce,Ue,{useMeterToDem:!0}),ha(E,c,pe,be,h,lt),!be.centroidVertexBuffer){const Ze=Ue.attributes.a_centroid_pos;void 0!==Ze&&A.vertexAttrib2f(Ze,0,0)}}}$&&(g.context.activeTexture.set(A.TEXTURE0),Ce.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),Te.updatePaintBuffers());const ze=L.constantOr(null);if(ze&&Ce.imageAtlas){const lt=Ce.imageAtlas.patternPositions[ze.toString()];lt&&Te.setConstantPatternPositions(lt)}const Ie=g.translatePosMatrix(pe.projMatrix,Ce,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),gt=F.projection.createInversionMatrix(F,pe.canonical),Ne=h.paint.get("fill-extrusion-vertical-gradient"),Je=$?Ht(Ie,g,Ne,Q,re,ne,pe,Ce,oe,te,ue,gt):Ms(Ie,g,Ne,Q,re,ne,pe,oe,te,ue,gt);g.prepareDrawProgram(E,Ue,pe.toUnwrapped());const $e=[];g.terrain&&$e.push(be.centroidVertexBuffer),ee&&$e.push(be.layoutVertexExtBuffer),Ue.draw(E,E.gl.TRIANGLES,w,x,D,f.CullFaceMode.backCCW,Je,h.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,h.paint,g.transform.zoom,Te,$e)}}function ha(g,c,h,y,w,x){const D=[te=>{let ue=te.canonical.x-1,se=te.wrap;return ue<0&&(ue=(1<<te.canonical.z)-1,se--),new f.OverscaledTileID(te.overscaledZ,se,te.canonical.z,ue,te.canonical.y)},te=>{let ue=te.canonical.x+1,se=te.wrap;return ue===1<<te.canonical.z&&(ue=0,se++),new f.OverscaledTileID(te.overscaledZ,se,te.canonical.z,ue,te.canonical.y)},te=>new f.OverscaledTileID(te.overscaledZ,te.wrap,te.canonical.z,te.canonical.x,(0===te.canonical.y?1<<te.canonical.z:te.canonical.y)-1),te=>new f.OverscaledTileID(te.overscaledZ,te.wrap,te.canonical.z,te.canonical.x,te.canonical.y===(1<<te.canonical.z)-1?0:te.canonical.y+1)],E=te=>{const ue=c.getSource().minzoom,se=Ce=>{const be=c.getTileByID(Ce);if(be&&be.hasData())return be.getBucket(w)},pe=[0,-1,1];for(const Ce of pe){if(te.overscaledZ+Ce<ue)continue;const be=se(te.calculateScaledKey(te.overscaledZ+Ce));if(be)return be}},A=[0,0,0],F=(te,ue)=>(A[0]=Math.min(te.min.y,ue.min.y),A[1]=Math.max(te.max.y,ue.max.y),A[2]=f.EXTENT-ue.min.x>te.max.x?ue.min.x-f.EXTENT:te.max.x,A),L=(te,ue)=>(A[0]=Math.min(te.min.x,ue.min.x),A[1]=Math.max(te.max.x,ue.max.x),A[2]=f.EXTENT-ue.min.y>te.max.y?ue.min.y-f.EXTENT:te.max.y,A),$=[(te,ue)=>F(te,ue),(te,ue)=>F(ue,te),(te,ue)=>L(te,ue),(te,ue)=>L(ue,te)],Q=new f.pointGeometry(0,0);let re,ne,oe;const ee=(te,ue,se,pe,Ce)=>{const be=[[pe?se:te,pe?te:se,0],[pe?se:ue,pe?ue:se,0]],Te=Ce<0?f.EXTENT+Ce:Ce,Ue=[pe?Te:(te+ue)/2,pe?(te+ue)/2:Te,0];return 0===se&&Ce<0||0!==se&&Ce>0?x.getForTilePoints(oe,[Ue],!0,ne):be.push(Ue),x.getForTilePoints(h,be,!0,re),Math.max(be[0][2],be[1][2],Ue[2])/x.exaggeration()};for(let te=0;te<4;te++){const ue=(te<2?1:5)-te,se=y.borders[te];if(0===se.length)continue;const pe=oe=D[te](h),Ce=E(pe);if(!(Ce&&Ce instanceof f.FillExtrusionBucket&&Ce.enableTerrain)||y.borderDoneWithNeighborZ[te]===Ce.canonical.z&&Ce.borderDoneWithNeighborZ[ue]===y.canonical.z||(ne=x.findDEMTileFor(pe),!ne||!ne.dem))continue;if(!re){const ze=x.findDEMTileFor(h);if(!ze||!ze.dem)return;re=ze}const be=Ce.borders[ue];let Te=0;const Ue=Ce.borderDoneWithNeighborZ[ue]!==y.canonical.z;if(y.canonical.z===Ce.canonical.z){for(let ze=0;ze<se.length;ze++){const Ie=y.featuresOnBorder[se[ze]],gt=Ie.borders[te];let Ne;for(;Te<be.length&&(Ne=Ce.featuresOnBorder[be[Te]],!(Ne.borders[ue][1]>gt[0]+3));)Ue&&Ce.encodeCentroid(void 0,Ne,!1),Te++;if(Ne&&Te<be.length){const Je=Te;let $e=0;for(;!(Ne.borders[ue][0]>gt[1]-3)&&($e++,++Te!==be.length);)Ne=Ce.featuresOnBorder[be[Te]];if(Ne=Ce.featuresOnBorder[be[Je]],Ie.intersectsCount()>1||Ne.intersectsCount()>1||1!==$e){1!==$e&&(Te=Je),y.encodeCentroid(void 0,Ie,!1),Ue&&Ce.encodeCentroid(void 0,Ne,!1);continue}const lt=$[te](Ie,Ne),Ze=te%2?f.EXTENT-1:0;Q.x=ee(lt[0],Math.min(f.EXTENT-1,lt[1]),Ze,te<2,lt[2]),Q.y=0,y.encodeCentroid(Q,Ie,!1),Ue&&Ce.encodeCentroid(Q,Ne,!1)}else y.encodeCentroid(void 0,Ie,!1)}y.borderDoneWithNeighborZ[te]=Ce.canonical.z,y.needsCentroidUpdate=!0,Ue&&(Ce.borderDoneWithNeighborZ[ue]=y.canonical.z,Ce.needsCentroidUpdate=!0)}else{for(const ze of se)y.encodeCentroid(void 0,y.featuresOnBorder[ze],!1);if(Ue){for(const ze of be)Ce.encodeCentroid(void 0,Ce.featuresOnBorder[ze],!1);Ce.borderDoneWithNeighborZ[ue]=y.canonical.z,Ce.needsCentroidUpdate=!0}y.borderDoneWithNeighborZ[te]=Ce.canonical.z,y.needsCentroidUpdate=!0}}(y.needsCentroidUpdate||!y.centroidVertexBuffer&&0!==y.centroidVertexArray.length)&&y.uploadCentroid(g)}const $0=new f.Color(1,0,0,1),Qy=new f.Color(0,1,0,1),pf=new f.Color(0,0,1,1),ff=new f.Color(1,0,1,1),G0=new f.Color(0,1,1,1);function W0(g,c,h){const y=g.context,w=g.transform,x=y.gl,D="globe"===w.projection.name,E=D?["PROJECTION_GLOBE_VIEW"]:null;let A=h.projMatrix;if(D&&f.globeToMercatorTransition(w.zoom)>0){const Ie=f.transitionTileAABBinECEF(h.canonical,w),gt=f.globeDenormalizeECEF(Ie);A=f.multiply(new Float32Array(16),w.globeMatrix,gt),f.multiply(A,w.projMatrix,A)}const F=g.useProgram("debug",null,E),L=c.getTileByID(h.key);g.terrain&&g.terrain.setupElevationDraw(L,F);const $=f.DepthMode.disabled,Q=f.StencilMode.disabled,re=g.colorModeForRenderPass();y.activeTexture.set(x.TEXTURE0),g.emptyTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),D?L._makeGlobeTileDebugBuffers(g.context,w):L._makeDebugTileBoundsBuffers(g.context,w.projection);const oe=L._tileDebugBuffer||g.debugBuffer,ee=L._tileDebugIndexBuffer||g.debugIndexBuffer,te=L._tileDebugSegments||g.debugSegments;F.draw(y,x.LINE_STRIP,$,Q,re,f.CullFaceMode.disabled,Ra(A,f.Color.red),"$debug",oe,ee,te,null,null,null,[L._globeTileDebugBorderBuffer]);const ue=L.latestRawTileData,se=Math.floor((ue&&ue.byteLength||0)/1024),pe=c.getTile(h).tileSize,Ce=512/Math.min(pe,512)*(h.overscaledZ/w.zoom)*.5;let be=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(be+=` => ${h.overscaledZ}`),be+=` ${se}kb`,function(Ie,gt){Ie.initDebugOverlayCanvas();const Ne=Ie.debugOverlayCanvas,Je=Ie.context.gl,$e=Ie.debugOverlayCanvas.getContext("2d");$e.clearRect(0,0,Ne.width,Ne.height),$e.shadowColor="white",$e.shadowBlur=2,$e.lineWidth=1.5,$e.strokeStyle="white",$e.textBaseline="top",$e.font="bold 36px Open Sans, sans-serif",$e.fillText(gt,5,5),$e.strokeText(gt,5,5),Ie.debugOverlayTexture.update(Ne),Ie.debugOverlayTexture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE)}(g,be);const Te=L._tileDebugTextBuffer||g.debugBuffer,Ue=L._tileDebugTextIndexBuffer||g.quadTriangleIndexBuffer,ze=L._tileDebugTextSegments||g.debugSegments;F.draw(y,x.TRIANGLES,$,Q,f.ColorMode.alphaBlended,f.CullFaceMode.disabled,Ra(A,f.Color.transparent,Ce),"$debug",Te,Ue,ze,null,null,null,[L._globeTileDebugTextBuffer])}function qm(g,c,h,y){cl(g,0,c+h/2,g.transform.width,h,y)}function mf(g,c,h,y){cl(g,c-h/2,0,h,g.transform.height,y)}function cl(g,c,h,y,w,x){const D=g.context,E=D.gl;E.enable(E.SCISSOR_TEST),E.scissor(c*f.exported.devicePixelRatio,h*f.exported.devicePixelRatio,y*f.exported.devicePixelRatio,w*f.exported.devicePixelRatio),D.clear({color:x}),E.disable(E.SCISSOR_TEST)}const Hh=f.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:q0}=Hh;function Zs(g,c,h,y){g.emplaceBack(c,h,y)}class ku{constructor(c){this.vertexArray=new f.StructArrayLayout3f12,this.indices=new f.StructArrayLayout3ui6,Zs(this.vertexArray,-1,-1,1),Zs(this.vertexArray,1,-1,1),Zs(this.vertexArray,-1,1,1),Zs(this.vertexArray,1,1,1),Zs(this.vertexArray,-1,-1,-1),Zs(this.vertexArray,1,-1,-1),Zs(this.vertexArray,-1,1,-1),Zs(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,q0),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=f.SegmentVector.simpleSegment(0,0,36,12)}}function Au(g,c,h,y,w,x){const D=g.gl,E=c.paint.get("sky-atmosphere-color"),A=c.paint.get("sky-atmosphere-halo-color"),F=c.paint.get("sky-atmosphere-sun-intensity"),L={u_matrix_3f:f.fromMat4(f.create$1(),y),u_sun_direction:w,u_sun_intensity:F,u_color_tint_r:[(ne=E).r,ne.g,ne.b,ne.a],u_color_tint_m:[(oe=A).r,oe.g,oe.b,oe.a],u_luminance:5e-5};var ne,oe;D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+x,c.skyboxTexture,0),h.draw(g,D.TRIANGLES,f.DepthMode.disabled,f.StencilMode.disabled,f.ColorMode.unblended,f.CullFaceMode.frontCW,L,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const Zm=f.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class zi{constructor(c){const h=new f.StructArrayLayout5f20;h.emplaceBack(-1,1,1,0,0),h.emplaceBack(1,1,1,1,0),h.emplaceBack(1,-1,1,1,1),h.emplaceBack(-1,-1,1,0,1);const y=new f.StructArrayLayout3ui6;y.emplaceBack(0,1,2),y.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(h,Zm.members),this.indexBuffer=c.createIndexBuffer(y),this.segments=f.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Uh={symbol:function(g,c,h,y,w){if("translucent"!==g.renderPass)return;const x=f.StencilMode.disabled,D=g.colorModeForRenderPass();h.layout.get("text-variable-anchor")&&function(E,A,F,L,$,Q,re){const ne=A.transform,oe="map"===$,ee="map"===Q;for(const te of E){const ue=L.getTile(te),se=ue.getBucket(F);if(!se||!se.text||!se.text.segments.get().length)continue;const pe=f.evaluateSizeForZoom(se.textSizeData,ne.zoom),Ce=ho(te,se.getProjection(),ne),be=ne.calculatePixelsToTileUnitsMatrix(ue),Te=Ri(Ce,ue.tileID.canonical,ee,oe,ne,se.getProjection(),be),Ue="none"!==F.layout.get("icon-text-fit")&&se.hasIconData();if(pe){const ze=Math.pow(2,ne.zoom-ue.tileID.overscaledZ);Wm(se,oe,ee,re,f.symbolSize,ne,Te,te,ze,pe,Ue)}}}(y,g,h,c,h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),w),0!==h.paint.get("icon-opacity").constantOr(1)&&mo(g,c,h,y,!1,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),h.layout.get("icon-rotation-alignment"),h.layout.get("icon-pitch-alignment"),h.layout.get("icon-keep-upright"),x,D),0!==h.paint.get("text-opacity").constantOr(1)&&mo(g,c,h,y,!0,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),h.layout.get("text-keep-upright"),x,D),c.map.showCollisionBoxes&&(kd(g,c,h,y,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),!0),kd(g,c,h,y,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),!1))},circle:function(g,c,h,y){if("translucent"!==g.renderPass)return;const w=h.paint.get("circle-opacity"),x=h.paint.get("circle-stroke-width"),D=h.paint.get("circle-stroke-opacity"),E=void 0!==h.layout.get("circle-sort-key").constantOr(1);if(0===w.constantOr(1)&&(0===x.constantOr(1)||0===D.constantOr(1)))return;const A=g.context,F=A.gl,L=g.transform,$=g.depthModeForSublayer(0,f.DepthMode.ReadOnly),Q=f.StencilMode.disabled,re=g.colorModeForRenderPass(),ne="globe"===L.projection.name,oe=[f.mercatorXfromLng(L.center.lng),f.mercatorYfromLat(L.center.lat)],ee=[];for(let ue=0;ue<y.length;ue++){const se=y[ue],pe=c.getTile(se),Ce=pe.getBucket(h);if(!Ce||Ce.projection.name!==L.projection.name)continue;const be=Ce.programConfigurations.get(h.id),Te=Ar(h);ne&&Te.push("PROJECTION_GLOBE_VIEW");const Ue=g.useProgram("circle",be,Te),ze=Ce.layoutVertexBuffer,Ie=Ce.globeExtVertexBuffer,gt=Ce.indexBuffer,Ne=L.projection.createInversionMatrix(L,se.canonical),Je={programConfiguration:be,program:Ue,layoutVertexBuffer:ze,globeExtVertexBuffer:Ie,indexBuffer:gt,uniformValues:Gl(g,se,pe,Ne,oe,h),tile:pe};if(E){const $e=Ce.segments.get();for(const lt of $e)ee.push({segments:new f.SegmentVector([lt]),sortKey:lt.sortKey,state:Je})}else ee.push({segments:Ce.segments,sortKey:0,state:Je})}E&&ee.sort((ue,se)=>ue.sortKey-se.sortKey);const te={useDepthForOcclusion:!ne};for(const ue of ee){const{programConfiguration:se,program:pe,layoutVertexBuffer:Ce,globeExtVertexBuffer:be,indexBuffer:Te,uniformValues:Ue,tile:ze}=ue.state,Ie=ue.segments;g.terrain&&g.terrain.setupElevationDraw(ze,pe,te),g.prepareDrawProgram(A,pe,ze.tileID.toUnwrapped()),pe.draw(A,F.TRIANGLES,$,Q,re,f.CullFaceMode.disabled,Ue,h.id,Ce,Te,Ie,h.paint,L.zoom,se,[be])}},heatmap:function(g,c,h,y){if(0!==h.paint.get("heatmap-opacity"))if("offscreen"===g.renderPass){const w=g.context,x=w.gl,D=f.StencilMode.disabled,E=new f.ColorMode([x.ONE,x.ONE],f.Color.transparent,[!0,!0,!0,!0]);(function(re,ne,oe,ee){const te=re.gl,ue=ne.width*ee,se=ne.height*ee;re.activeTexture.set(te.TEXTURE1),re.viewport.set([0,0,ue,se]);let pe=oe.heatmapFbo;if(!pe||pe&&(pe.width!==ue||pe.height!==se)){pe&&pe.destroy();const Ce=te.createTexture();te.bindTexture(te.TEXTURE_2D,Ce),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),pe=oe.heatmapFbo=re.createFramebuffer(ue,se,!1),function(be,Te,Ue,ze,Ie,gt){const Ne=be.gl;Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.RGBA,Ie,gt,0,Ne.RGBA,be.extRenderToTextureHalfFloat?be.extTextureHalfFloat.HALF_FLOAT_OES:Ne.UNSIGNED_BYTE,null),ze.colorAttachment.set(Ue)}(re,0,Ce,pe,ue,se)}else te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),re.bindFramebuffer.set(pe.framebuffer)})(w,g,h,"globe"===g.transform.projection.name?.5:.25),w.clear({color:f.Color.transparent});const A=g.transform,F="globe"===A.projection.name,L=F?["PROJECTION_GLOBE_VIEW"]:null,$=F?f.CullFaceMode.frontCCW:f.CullFaceMode.disabled,Q=[f.mercatorXfromLng(A.center.lng),f.mercatorYfromLat(A.center.lat)];for(let re=0;re<y.length;re++){const ne=y[re];if(c.hasRenderableParent(ne))continue;const oe=c.getTile(ne),ee=oe.getBucket(h);if(!ee||ee.projection.name!==A.projection.name)continue;const te=ee.programConfigurations.get(h.id),ue=g.useProgram("heatmap",te,L),{zoom:se}=g.transform;g.terrain&&g.terrain.setupElevationDraw(oe,ue),g.prepareDrawProgram(w,ue,ne.toUnwrapped());const pe=A.projection.createInversionMatrix(A,ne.canonical);ue.draw(w,x.TRIANGLES,f.DepthMode.disabled,D,E,$,jc(g,ne,oe,pe,Q,se,h.paint.get("heatmap-intensity")),h.id,ee.layoutVertexBuffer,ee.indexBuffer,ee.segments,h.paint,g.transform.zoom,te,F?[ee.globeExtVertexBuffer]:null)}w.viewport.set([0,0,g.width,g.height])}else"translucent"===g.renderPass&&(g.context.setColorMode(g.colorModeForRenderPass()),function(w,x){const D=w.context,E=D.gl,A=x.heatmapFbo;if(!A)return;D.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,A.colorAttachment.get()),D.activeTexture.set(E.TEXTURE1);let F=x.colorRampTexture;F||(F=x.colorRampTexture=new f.Texture(D,x.colorRamp,E.RGBA)),F.bind(E.LINEAR,E.CLAMP_TO_EDGE),w.useProgram("heatmapTexture").draw(D,E.TRIANGLES,f.DepthMode.disabled,f.StencilMode.disabled,w.colorModeForRenderPass(),f.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:x.paint.get("heatmap-opacity")},x.id,w.viewportBuffer,w.quadTriangleIndexBuffer,w.viewportSegments,x.paint,w.transform.zoom)}(g,h))},line:function(g,c,h,y){if("translucent"!==g.renderPass)return;const w=h.paint.get("line-opacity"),x=h.paint.get("line-width");if(0===w.constantOr(1)||0===x.constantOr(1))return;const D=g.depthModeForSublayer(0,f.DepthMode.ReadOnly),E=g.colorModeForRenderPass(),A=g.terrain&&g.terrain.renderingToTexture?1:f.exported.devicePixelRatio,F=h.paint.get("line-dasharray"),L=F.constantOr(1),$=h.layout.get("line-cap"),Q=h.paint.get("line-pattern"),re=Q.constantOr(1),ne=h.paint.get("line-gradient"),oe=re?"linePattern":"line",ee=g.context,te=ee.gl,ue=(pe=>{const Ce=[];ql(pe)&&Ce.push("RENDER_LINE_DASH"),pe.paint.get("line-gradient")&&Ce.push("RENDER_LINE_GRADIENT");const be=pe.paint.get("line-trim-offset");0===be[0]&&0===be[1]||Ce.push("RENDER_LINE_TRIM_OFFSET");const Te=pe.paint.get("line-pattern").constantOr(1),Ue=1!==pe.paint.get("line-opacity").constantOr(1);return!Te&&Ue&&Ce.push("RENDER_LINE_ALPHA_DISCARD"),Ce})(h);let se=ue.includes("RENDER_LINE_ALPHA_DISCARD");g.terrain&&g.terrain.clipOrMaskOverlapStencilType()&&(se=!1);for(const pe of y){const Ce=c.getTile(pe);if(re&&!Ce.patternsLoaded())continue;const be=Ce.getBucket(h);if(!be)continue;g.prepareDrawTile();const Te=be.programConfigurations.get(h.id),Ue=g.useProgram(oe,Te,ue),ze=Q.constantOr(null);if(ze&&Ce.imageAtlas){const ot=Ce.imageAtlas.patternPositions[ze.toString()];ot&&Te.setConstantPatternPositions(ot)}const Ie=F.constantOr(null),gt=$.constantOr(null);if(!re&&Ie&&gt&&Ce.lineAtlas){const ot=Ce.lineAtlas.getDash(Ie,gt);ot&&Te.setConstantPatternPositions(ot)}let[Ne,Je]=h.paint.get("line-trim-offset");("round"===gt||"square"===gt)&&Ne!==Je&&(0===Ne&&(Ne-=1),1===Je&&(Je+=1));const $e=g.terrain?pe.projMatrix:null,lt=re?qs(g,Ce,h,$e,A):Wl(g,Ce,h,$e,be.lineClipsArray.length,A,[Ne,Je]);if(ne){const ot=be.gradients[h.id];let yt=ot.texture;if(h.gradientVersion!==ot.version){let Oe=256;if(h.stepInterpolant){const je=c.getSource().maxzoom,Bt=pe.canonical.z===je?Math.ceil(1<<g.transform.maxZoom-pe.canonical.z):1;Oe=f.clamp(f.nextPowerOfTwo(be.maxLineLength/f.EXTENT*1024*Bt),256,ee.maxTextureSize)}ot.gradient=f.renderColorRamp({expression:h.gradientExpression(),evaluationKey:"lineProgress",resolution:Oe,image:ot.gradient||void 0,clips:be.lineClipsArray}),ot.texture?ot.texture.update(ot.gradient):ot.texture=new f.Texture(ee,ot.gradient,te.RGBA),ot.version=h.gradientVersion,yt=ot.texture}ee.activeTexture.set(te.TEXTURE1),yt.bind(h.stepInterpolant?te.NEAREST:te.LINEAR,te.CLAMP_TO_EDGE)}L&&(ee.activeTexture.set(te.TEXTURE0),Ce.lineAtlasTexture.bind(te.LINEAR,te.REPEAT),Te.updatePaintBuffers()),re&&(ee.activeTexture.set(te.TEXTURE0),Ce.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Te.updatePaintBuffers()),g.prepareDrawProgram(ee,Ue,pe.toUnwrapped());const Ze=ot=>{Ue.draw(ee,te.TRIANGLES,D,ot,E,f.CullFaceMode.disabled,lt,h.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,h.paint,g.transform.zoom,Te,[be.layoutVertexBuffer2])};if(se){const ot=g.stencilModeForClipping(pe).ref;0===ot&&g.terrain&&ee.clear({stencil:0});const yt={func:te.EQUAL,mask:255};lt.u_alpha_discard_threshold=.8,Ze(new f.StencilMode(yt,ot,255,te.KEEP,te.KEEP,te.INVERT)),lt.u_alpha_discard_threshold=0,Ze(new f.StencilMode(yt,ot,255,te.KEEP,te.KEEP,te.KEEP))}else Ze(g.stencilModeForClipping(pe))}se&&(g.resetStencilClippingMasks(),g.terrain&&ee.clear({stencil:0}))},fill:function(g,c,h,y){const w=h.paint.get("fill-color"),x=h.paint.get("fill-opacity");if(0===x.constantOr(1))return;const D=g.colorModeForRenderPass(),E=h.paint.get("fill-pattern"),A=g.opaquePassEnabledForLayer()&&!E.constantOr(1)&&1===w.constantOr(f.Color.transparent).a&&1===x.constantOr(0)?"opaque":"translucent";if(g.renderPass===A){const F=g.depthModeForSublayer(1,"opaque"===g.renderPass?f.DepthMode.ReadWrite:f.DepthMode.ReadOnly);Ad(g,c,h,y,F,D,!1)}if("translucent"===g.renderPass&&h.paint.get("fill-antialias")){const F=g.depthModeForSublayer(h.getPaintProperty("fill-outline-color")?2:0,f.DepthMode.ReadOnly);Ad(g,c,h,y,F,D,!0)}},"fill-extrusion":function(g,c,h,y){const w=h.paint.get("fill-extrusion-opacity");if(0!==w&&"translucent"===g.renderPass){const x=new f.DepthMode(g.context.gl.LEQUAL,f.DepthMode.ReadWrite,g.depthRangeFor3D);if(1!==w||h.paint.get("fill-extrusion-pattern").constantOr(1))Iu(g,c,h,y,x,f.StencilMode.disabled,f.ColorMode.disabled),Iu(g,c,h,y,x,g.stencilModeFor3D(),g.colorModeForRenderPass()),g.resetStencilClippingMasks();else{const D=g.colorModeForRenderPass();Iu(g,c,h,y,x,f.StencilMode.disabled,D)}}},hillshade:function(g,c,h,y){if("offscreen"!==g.renderPass&&"translucent"!==g.renderPass)return;const w=g.context,x=g.depthModeForSublayer(0,f.DepthMode.ReadOnly),D=g.colorModeForRenderPass(),E=g.terrain&&g.terrain.renderingToTexture,[A,F]="translucent"!==g.renderPass||E?[{},y]:g.stencilConfigForOverlap(y);for(const L of F){const $=c.getTile(L);if($.needsHillshadePrepare&&"offscreen"===g.renderPass)Ws(g,$,h,x,f.StencilMode.disabled,D);else if("translucent"===g.renderPass){const Q=E&&g.terrain?g.terrain.stencilModeForRTTOverlap(L):A[L.overscaledZ];Md(g,L,$,h,x,Q,D)}}w.viewport.set([0,0,g.width,g.height]),g.resetStencilClippingMasks()},raster:function(g,c,h,y,w,x){if("translucent"!==g.renderPass||0===h.paint.get("raster-opacity")||!y.length)return;const D=g.context,E=D.gl,A=c.getSource(),F=g.useProgram("raster"),L=g.colorModeForRenderPass(),$=g.terrain&&g.terrain.renderingToTexture,[Q,re]=A instanceof xe||$?[{},y]:g.stencilConfigForOverlap(y),ne=re[re.length-1].overscaledZ,oe=!g.options.moving;for(const ee of re){const te=$?f.DepthMode.disabled:g.depthModeForSublayer(ee.overscaledZ-ne,1===h.paint.get("raster-opacity")?f.DepthMode.ReadWrite:f.DepthMode.ReadOnly,E.LESS),ue=ee.toUnwrapped(),se=c.getTile(ee);if($&&(!se||!se.hasData()))continue;const pe=$?ee.projMatrix:g.transform.calculateProjMatrix(ue,oe),Ce=g.terrain&&$?g.terrain.stencilModeForRTTOverlap(ee):Q[ee.overscaledZ],be=x?0:h.paint.get("raster-fade-duration");se.registerFadeDuration(be);const Te=c.findLoadedParent(ee,0),Ue=Ed(se,Te,c,g.transform,be);let ze,Ie;g.terrain&&g.terrain.prepareDrawTile();const gt="nearest"===h.paint.get("raster-resampling")?E.NEAREST:E.LINEAR;D.activeTexture.set(E.TEXTURE0),se.texture.bind(gt,E.CLAMP_TO_EDGE),D.activeTexture.set(E.TEXTURE1),Te?(Te.texture.bind(gt,E.CLAMP_TO_EDGE),ze=Math.pow(2,Te.tileID.overscaledZ-se.tileID.overscaledZ),Ie=[se.tileID.canonical.x*ze%1,se.tileID.canonical.y*ze%1]):se.texture.bind(gt,E.CLAMP_TO_EDGE);const Ne=$c(pe,Ie||[0,0],ze||1,Ue,h,A instanceof xe?A.perspectiveTransform:[0,0]);if(g.prepareDrawProgram(D,F,ue),A instanceof xe)A.boundsBuffer&&A.boundsSegments&&F.draw(D,E.TRIANGLES,te,f.StencilMode.disabled,L,f.CullFaceMode.disabled,Ne,h.id,A.boundsBuffer,g.quadTriangleIndexBuffer,A.boundsSegments);else{const{tileBoundsBuffer:Je,tileBoundsIndexBuffer:$e,tileBoundsSegments:lt}=g.getTileBoundsBuffers(se);F.draw(D,E.TRIANGLES,te,Ce,L,f.CullFaceMode.disabled,Ne,h.id,Je,$e,lt)}}g.resetStencilClippingMasks()},background:function(g,c,h,y){const w=h.paint.get("background-color"),x=h.paint.get("background-opacity");if(0===x)return;const D=g.context,E=D.gl,A=g.transform,F=A.tileSize,L=h.paint.get("background-pattern");if(g.isPatternMissing(L))return;const $=!L&&1===w.a&&1===x&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==$)return;const Q=f.StencilMode.disabled,re=g.depthModeForSublayer(0,"opaque"===$?f.DepthMode.ReadWrite:f.DepthMode.ReadOnly),ne=g.colorModeForRenderPass(),oe=g.useProgram(L?"backgroundPattern":"background");let ee,te=y;te||(ee=g.getBackgroundTiles(),te=Object.values(ee).map(ue=>ue.tileID)),L&&(D.activeTexture.set(E.TEXTURE0),g.imageManager.bind(g.context));for(const ue of te){const se=ue.toUnwrapped(),pe=y?ue.projMatrix:g.transform.calculateProjMatrix(se);g.prepareDrawTile();const Ce=c?c.getTile(ue):ee?ee[ue.key]:new f.Tile(ue,F,A.zoom,g),be=L?Eu(pe,x,g,L,{tileID:ue,tileSize:F}):j0(pe,x,w);g.prepareDrawProgram(D,oe,se);const{tileBoundsBuffer:Te,tileBoundsIndexBuffer:Ue,tileBoundsSegments:ze}=g.getTileBoundsBuffers(Ce);oe.draw(D,E.TRIANGLES,re,Q,ne,f.CullFaceMode.disabled,be,h.id,Te,Ue,ze)}},sky:function(g,c,h){const y=g.transform,w="mercator"===y.projection.name||"globe"===y.projection.name?1:f.smoothstep(7,8,y.zoom),x=h.paint.get("sky-opacity")*w;if(0===x)return;const D=g.context,E=h.paint.get("sky-type"),A=new f.DepthMode(D.gl.LEQUAL,f.DepthMode.ReadOnly,[0,1]),F=g.frameCounter/1e3%1;"atmosphere"===E?"offscreen"===g.renderPass?h.needsSkyboxCapture(g)&&(function(L,$,Q,re){const ne=L.context,oe=ne.gl;let ee=$.skyboxFbo;if(!ee){ee=$.skyboxFbo=ne.createFramebuffer(32,32,!1),$.skyboxGeometry=new ku(ne),$.skyboxTexture=ne.gl.createTexture(),oe.bindTexture(oe.TEXTURE_CUBE_MAP,$.skyboxTexture),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_MAG_FILTER,oe.LINEAR);for(let pe=0;pe<6;++pe)oe.texImage2D(oe.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0,oe.RGBA,32,32,0,oe.RGBA,oe.UNSIGNED_BYTE,null)}ne.bindFramebuffer.set(ee.framebuffer),ne.viewport.set([0,0,32,32]);const te=$.getCenter(L,!0),ue=L.useProgram("skyboxCapture"),se=new Float64Array(16);f.identity(se),f.rotateY(se,se,.5*-Math.PI),Au(ne,$,ue,se,te,0),f.identity(se),f.rotateY(se,se,.5*Math.PI),Au(ne,$,ue,se,te,1),f.identity(se),f.rotateX(se,se,.5*-Math.PI),Au(ne,$,ue,se,te,2),f.identity(se),f.rotateX(se,se,.5*Math.PI),Au(ne,$,ue,se,te,3),f.identity(se),Au(ne,$,ue,se,te,4),f.identity(se),f.rotateY(se,se,Math.PI),Au(ne,$,ue,se,te,5),ne.viewport.set([0,0,L.width,L.height])}(g,h),h.markSkyboxValid(g)):"sky"===g.renderPass&&function(L,$,Q,re,ne){const oe=L.context,ee=oe.gl,te=L.transform,ue=L.useProgram("skybox");oe.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_CUBE_MAP,$.skyboxTexture);const se={u_matrix:te.skyboxMatrix,u_sun_direction:$.getCenter(L,!1),u_cubemap:0,u_opacity:re,u_temporal_offset:ne};L.prepareDrawProgram(oe,ue),ue.draw(oe,ee.TRIANGLES,Q,f.StencilMode.disabled,L.colorModeForRenderPass(),f.CullFaceMode.backCW,se,"skybox",$.skyboxGeometry.vertexBuffer,$.skyboxGeometry.indexBuffer,$.skyboxGeometry.segment)}(g,h,A,x,F):"gradient"===E&&"sky"===g.renderPass&&function(L,$,Q,re,ne){const oe=L.context,ee=oe.gl,te=L.transform,ue=L.useProgram("skyboxGradient");$.skyboxGeometry||($.skyboxGeometry=new ku(oe)),oe.activeTexture.set(ee.TEXTURE0);let se=$.colorRampTexture;se||(se=$.colorRampTexture=new f.Texture(oe,$.colorRamp,ee.RGBA)),se.bind(ee.LINEAR,ee.CLAMP_TO_EDGE);const pe=(Ce=te.skyboxMatrix,be=$.getCenter(L,!1),Te=$.paint.get("sky-gradient-radius"),Ue=re,ze=ne,{u_matrix:Ce,u_color_ramp:0,u_center_direction:be,u_radius:f.degToRad(Te),u_opacity:Ue,u_temporal_offset:ze});var Ce,be,Te,Ue,ze;L.prepareDrawProgram(oe,ue),ue.draw(oe,ee.TRIANGLES,Q,f.StencilMode.disabled,L.colorModeForRenderPass(),f.CullFaceMode.backCW,pe,"skyboxGradient",$.skyboxGeometry.vertexBuffer,$.skyboxGeometry.indexBuffer,$.skyboxGeometry.segment)}(g,h,A,x,F)},debug:function(g,c,h){for(let y=0;y<h.length;y++)W0(g,c,h[y])},custom:function(g,c,h){const y=g.context,w=h.implementation;if(g.transform.projection.unsupportedLayers&&g.transform.projection.unsupportedLayers.includes("custom"))f.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===g.renderPass){const x=w.prerender;x&&(g.setCustomLayerDefaults(),y.setColorMode(g.colorModeForRenderPass()),x.call(w,y.gl,g.transform.customLayerMatrix()),y.setDirty(),g.setBaseState())}else if("translucent"===g.renderPass){g.setCustomLayerDefaults(),y.setColorMode(g.colorModeForRenderPass()),y.setStencilMode(f.StencilMode.disabled);const x="3d"===w.renderingMode?new f.DepthMode(g.context.gl.LEQUAL,f.DepthMode.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,f.DepthMode.ReadOnly);y.setDepthMode(x),w.render(y.gl,g.transform.customLayerMatrix()),y.setDirty(),g.setBaseState(),y.bindFramebuffer.set(null)}}};class Jy{constructor(c,h){this.context=new j(c),this.transform=h,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=f.SourceCache.maxUnderzooming+f.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ul,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,h){const y=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(y||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ao(this,c));const w=this._terrain;this.transform.elevation=y?w:null,w.update(c,this.transform,h)}_updateFog(c){const h=c.fog;if(!h||"globe"===this.transform.projection.name||h.getOpacity(this.transform.pitch)<1||h.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[y,w]=h.getFovAdjustedRange(this.transform._fov);if(y>w)return void(this.transform.fogCullDistSq=null);const x=y+.78*(w-y);this.transform.fogCullDistSq=x*x}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,h){if(this.width=c*f.exported.devicePixelRatio,this.height=h*f.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style.order)this.style._layers[y].resize()}setup(){const c=this.context,h=new f.StructArrayLayout2i4;h.emplaceBack(0,0),h.emplaceBack(f.EXTENT,0),h.emplaceBack(0,f.EXTENT),h.emplaceBack(f.EXTENT,f.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(h,f.posAttributes.members),this.tileExtentSegments=f.SegmentVector.simpleSegment(0,0,4,2);const y=new f.StructArrayLayout2i4;y.emplaceBack(0,0),y.emplaceBack(f.EXTENT,0),y.emplaceBack(0,f.EXTENT),y.emplaceBack(f.EXTENT,f.EXTENT),this.debugBuffer=c.createVertexBuffer(y,f.posAttributes.members),this.debugSegments=f.SegmentVector.simpleSegment(0,0,4,5);const w=new f.StructArrayLayout2i4;w.emplaceBack(-1,-1),w.emplaceBack(1,-1),w.emplaceBack(-1,1),w.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(w,f.posAttributes.members),this.viewportSegments=f.SegmentVector.simpleSegment(0,0,4,2);const x=new f.StructArrayLayout4i8;x.emplaceBack(0,0,0,0),x.emplaceBack(f.EXTENT,0,f.EXTENT,0),x.emplaceBack(0,f.EXTENT,0,f.EXTENT),x.emplaceBack(f.EXTENT,f.EXTENT,f.EXTENT,f.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(x,f.boundsAttributes.members),this.mercatorBoundsSegments=f.SegmentVector.simpleSegment(0,0,4,2);const D=new f.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(D);const E=new f.StructArrayLayout1ui2;for(const F of[0,1,3,2,0])E.emplaceBack(F);this.debugIndexBuffer=c.createIndexBuffer(E),this.emptyTexture=new f.Texture(c,new f.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=f.create();const A=this.context.gl;this.stencilClearMode=new f.StencilMode({func:A.ALWAYS,mask:0},0,255,A.ZERO,A.ZERO,A.ZERO),this.loadTimeStamps.push(f.window.performance.now()),this.atmosphereBuffer=new zi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,h=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,h.TRIANGLES,f.DepthMode.disabled,this.stencilClearMode,f.ColorMode.disabled,f.CullFaceMode.disabled,Dd(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,h,y){if(!h||this.currentStencilSource===h.id||!c.isTileClipped()||!y||0===y.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let E=!1;for(const A of y)if(void 0===this._tileClippingMaskIDs[A.key]){E=!0;break}if(!E)return}this.currentStencilSource=h.id;const w=this.context,x=w.gl;this.nextStencilID+y.length>256&&this.clearStencil(),w.setColorMode(f.ColorMode.disabled),w.setDepthMode(f.DepthMode.disabled);const D=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of y){const A=h.getTile(E),F=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,{tileBoundsBuffer:L,tileBoundsIndexBuffer:$,tileBoundsSegments:Q}=this.getTileBoundsBuffers(A);D.draw(w,x.TRIANGLES,f.DepthMode.disabled,new f.StencilMode({func:x.ALWAYS,mask:0},F,255,x.KEEP,x.KEEP,x.REPLACE),f.ColorMode.disabled,f.CullFaceMode.disabled,Dd(E.projMatrix),"$clipping",L,$,Q)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,h=this.context.gl;return new f.StencilMode({func:h.NOTEQUAL,mask:255},c,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const h=this.context.gl;return new f.StencilMode({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(c){const h=this.context.gl,y=c.sort((D,E)=>E.overscaledZ-D.overscaledZ),w=y[y.length-1].overscaledZ,x=y[0].overscaledZ-w+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const D={};for(let E=0;E<x;E++)D[E+w]=new f.StencilMode({func:h.GEQUAL,mask:255},E+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[D,y]}return[{[w]:f.StencilMode.disabled},y]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new f.ColorMode([c.CONSTANT_COLOR,c.ONE],new f.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?f.ColorMode.unblended:f.ColorMode.alphaBlended}depthModeForSublayer(c,h,y){if(!this.opaquePassEnabledForLayer())return f.DepthMode.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new f.DepthMode(y||this.context.gl.LEQUAL,h,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,h){this.style=c,this.options=h,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(f.exported.now()),this.imageManager.beginFrame();const y=this.style.order,w=this.style._sourceCaches;for(const A in w){const F=w[A];F.used&&F.prepare(this.context)}const x={},D={},E={};for(const A in w){const F=w[A];x[A]=F.getVisibleCoordinates(),D[A]=x[A].slice().reverse(),E[A]=F.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let A=0;A<y.length;A++)if(this.style._layers[y[A]].is3D()){this.opaquePassCutoff=A;break}if(this.terrain&&(this.terrain.updateTileBinding(E),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new f.GlobeSharedBuffers(this.context)),f.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const A of y){const F=this.style._layers[A],L=c._getLayerSourceCache(F);if(!F.hasOffscreenPass()||F.isHidden(this.transform.zoom))continue;const $=L?D[L.id]:void 0;("custom"===F.type||F.isSky()||$&&$.length)&&this.renderLayer(this,L,F,$)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:h.showOverdrawInspector?f.Color.black:f.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const A=this.style._layers[y[this.currentLayer]],F=c._getLayerSourceCache(A);if(A.isSky())continue;const L=F?D[F.id]:void 0;this._renderTileClippingMasks(A,F,L),this.renderLayer(this,F,A,L)}if(this.style.fog&&this.transform.projection.supportsFog&&function(A,F){const L=A.context,$=L.gl,Q=A.transform,re=new f.DepthMode($.LEQUAL,f.DepthMode.ReadOnly,[0,1]),ne=A.useProgram("globeAtmosphere",null,"globe"===Q.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),oe=f.globeToMercatorTransition(Q.zoom),ee=F.properties.get("color").toArray01(),te=F.properties.get("high-color").toArray01(),ue=F.properties.get("space-color").toArray01PremultipliedAlpha(),se=f.identity$1([]);f.rotateY$1(se,se,-f.degToRad(Q._center.lng)),f.rotateX$1(se,se,f.degToRad(Q._center.lat)),f.rotateZ$1(se,se,Q.angle),f.rotateX$1(se,se,-Q._pitch);const pe=f.fromQuat(new Float32Array(16),se),Ce=f.mapValue(F.properties.get("star-intensity"),0,1,0,.25),Te=f.mapValue(F.properties.get("horizon-blend"),0,1,5e-4,.25),Ue=f.globeUseCustomAntiAliasing(A,L,Q)&&5e-4===Te?Q.worldSize/(2*Math.PI*1.025)-1:Q.globeRadius,ze=A.frameCounter/1e3%1,Ie=f.length(Q.globeCenterInViewSpace),gt=Math.sqrt(Math.pow(Ie,2)-Math.pow(Ue,2)),Ne=Math.acos(gt/Ie),Je={u_frustum_tl:Q.frustumCorners.TL,u_frustum_tr:Q.frustumCorners.TR,u_frustum_br:Q.frustumCorners.BR,u_frustum_bl:Q.frustumCorners.BL,u_horizon:Q.frustumCorners.horizon,u_transition:oe,u_fadeout_range:Te,u_color:ee,u_high_color:te,u_space_color:ue,u_star_intensity:Ce,u_star_size:5*f.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:ze,u_horizon_angle:Ne,u_rotation_matrix:pe};A.prepareDrawProgram(L,ne);const $e=A.atmosphereBuffer;$e&&ne.draw(L,$.TRIANGLES,re,f.StencilMode.disabled,f.ColorMode.alphaBlended,f.CullFaceMode.backCW,Je,"skybox",$e.vertexBuffer,$e.indexBuffer,$e.segments)}(this,this.style.fog),this.renderPass="sky",(f.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const A=this.style._layers[y[this.currentLayer]],F=c._getLayerSourceCache(A);A.isSky()&&this.renderLayer(this,F,A,F?D[F.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;){const A=this.style._layers[y[this.currentLayer]],F=c._getLayerSourceCache(A);if(A.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(A)){if(A.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const L=F?("symbol"===A.type?E:D)[F.id]:void 0;this._renderTileClippingMasks(A,F,F?x[F.id]:void 0),this.renderLayer(this,F,A,L),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let A=null;f.values(this.style._layers).forEach(F=>{const L=c._getLayerSourceCache(F);L&&!F.isHidden(this.transform.zoom)&&(!A||A.getSource().maxzoom<L.getSource().maxzoom)&&(A=L)}),A&&this.options.showTileBoundaries&&Uh.debug(this,A,A.getVisibleCoordinates())}this.options.showPadding&&function(A){const F=A.transform.padding;qm(A,A.transform.height-(F.top||0),3,$0),qm(A,F.bottom||0,3,Qy),mf(A,F.left||0,3,pf),mf(A,A.transform.width-(F.right||0),3,ff);const L=A.transform.centerPoint;var $,Q,re,ne;cl($=A,(Q=L.x)-1,(re=A.transform.height-L.y)-10,2,20,ne=G0),cl($,Q-10,re-1,20,2,ne)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(f.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,h,y,w){y.isHidden(this.transform.zoom)||("background"===y.type||"sky"===y.type||"custom"===y.type||w&&w.length)&&(this.id=y.id,this.gpuTimingStart(y),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(y.type)||Uh[y.type](c,h,y,w,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const h=this.context.extTimerQuery;let y=this.gpuTimers[c.id];y||(y=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),y.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,y.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,h=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(h),c.beginQueryEXT(c.TIME_ELAPSED_EXT,h)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const h={};for(const y in c){const w=c[y],x=this.context.extTimerQuery,D=x.getQueryObjectEXT(w.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT(w.query),h[y]=D}return h}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const h=this.context.extTimerQuery;let y=0;for(const w of c)y+=h.getQueryObjectEXT(w,h.QUERY_RESULT_EXT)/1e6,h.deleteQueryEXT(w);return y}translatePosMatrix(c,h,y,w,x){if(!y[0]&&!y[1])return c;const D=x?"map"===w?this.transform.angle:0:"viewport"===w?-this.transform.angle:0;if(D){const F=Math.sin(D),L=Math.cos(D);y=[y[0]*L-y[1]*F,y[0]*F+y[1]*L]}const E=[x?y[0]:Ia(h,y[0],this.transform.zoom),x?y[1]:Ia(h,y[1],this.transform.zoom),0],A=new Float32Array(16);return f.translate(A,c,E),A}saveTileTexture(c){const h=this._tileTextures[c.size[0]];h?h.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const h=this._tileTextures[c];return h&&h.length>0?h.pop():null}isPatternMissing(c){return null===c||void 0!==c&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,h=this.terrain&&0===this.terrain.exaggeration(),y=this.style&&this.style.fog,w=[];return this.terrainRenderModeElevated()&&w.push("TERRAIN"),"globe"===this.transform.projection.name&&w.push("GLOBE"),h&&w.push("ZERO_EXAGGERATION"),y&&!c&&0!==y.getOpacity(this.transform.pitch)&&w.push("FOG"),c&&w.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&w.push("OVERDRAW_INSPECTOR"),w}useProgram(c,h,y){this.cache=this.cache||{};const w=y||[],x=this.currentGlobalDefines().concat(w),D=fo.cacheKey(Gm[c],c,x,h);return this.cache[D]||(this.cache[D]=new fo(this.context,c,Gm[c],h,hf[c],x)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=f.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,h,y){if(this.terrain&&this.terrain.renderingToTexture)return;const w=this.style.fog;if(w){const x=w.getOpacity(this.transform.pitch),D=((E,A,F,L,$,Q,re,ne,oe,ee,te)=>{const ue=E.transform,se=A.properties.get("color").toArray01();se[3]=L;const pe=E.frameCounter/1e3%1;return{u_fog_matrix:F?ue.calculateFogTileMatrix(F):E.identityMat,u_fog_range:A.getFovAdjustedRange(ue._fov),u_fog_color:se,u_fog_horizon_blend:A.properties.get("horizon-blend"),u_fog_temporal_offset:pe,u_frustum_tl:$,u_frustum_tr:Q,u_frustum_br:re,u_frustum_bl:ne,u_globe_pos:oe,u_globe_radius:ee,u_viewport:te,u_globe_transition:f.globeToMercatorTransition(ue.zoom),u_is_globe:+("globe"===ue.projection.name)}})(this,w,y,x,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*f.exported.devicePixelRatio,this.transform.height*f.exported.devicePixelRatio]);h.setFogUniformValues(c,D)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,h=c.createTexture();return c.bindTexture(c.TEXTURE_2D,h),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),h}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&0!==c.getOpacity(this.transform.pitch)}getBackgroundTiles(){const c=this._backgroundTiles,h=this._backgroundTiles={},y=this.transform.coveringTiles({tileSize:512});for(const w of y)h[w.key]=c[w.key]||new f.Tile(w,512,this.transform.tileZoom,this);return h}clearBackgroundTiles(){this._backgroundTiles={}}}class Od{constructor(c=0,h=0,y=0,w=0){if(isNaN(c)||c<0||isNaN(h)||h<0||isNaN(y)||y<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=h,this.left=y,this.right=w}interpolate(c,h,y){return null!=h.top&&null!=c.top&&(this.top=f.number(c.top,h.top,y)),null!=h.bottom&&null!=c.bottom&&(this.bottom=f.number(c.bottom,h.bottom,y)),null!=h.left&&null!=c.left&&(this.left=f.number(c.left,h.left,y)),null!=h.right&&null!=c.right&&(this.right=f.number(c.right,h.right,y)),this}getCenter(c,h){const y=f.clamp((this.left+c-this.right)/2,0,c),w=f.clamp((this.top+h-this.bottom)/2,0,h);return new f.pointGeometry(y,w)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Od(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Zl(g,c){const h=f.getColumn(g,3);f.fromQuat(g,c),f.setColumn(g,3,h)}function Km(g,c){const h=f.identity$1([]);return f.rotateZ$1(h,h,-c),f.rotateX$1(h,h,-g),h}function Z0(g,c){const h=[g[0],g[1],0],y=[c[0],c[1],0];if(f.length(h)>=1e-15){const D=f.normalize([],h);f.scale$2(y,D,f.dot(y,D)),c[0]=y[0],c[1]=y[1]}const w=f.cross([],c,g);if(f.len(w)<1e-15)return null;const x=Math.atan2(-w[1],w[0]);return Km(Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2]),x)}class Ym{constructor(c,h){this.position=c,this.orientation=h}get position(){return this._position}set position(c){if(c){const h=c instanceof f.MercatorCoordinate?c:new f.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(h.x=f.wrap(h.x,0,1)),this._position=h}else this._position=null}lookAtPoint(c,h){if(this.orientation=null,!this.position)return;const y=this._elevation?this._elevation.getAtPointOrZero(f.MercatorCoordinate.fromLngLat(c)):0,w=this.position,x=f.MercatorCoordinate.fromLngLat(c,y),D=[x.x-w.x,x.y-w.y,x.z-w.z];h||(h=[0,0,1]),h[2]=Math.abs(h[2]),this.orientation=Z0(D,h)}setPitchBearing(c,h){this.orientation=Km(f.degToRad(c),f.degToRad(-h))}}class ul{constructor(c,h){this._transform=f.identity([]),this.orientation=h,this.position=c}get mercatorPosition(){const c=this.position;return new f.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=f.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var h;c&&f.setColumn(this._transform,3,[(h=c)[0],h[1],h[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||f.identity$1([]),c&&Zl(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),h=this.right();return{bearing:Math.atan2(-h[1],h[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,h){this._orientation=Km(c,h),Zl(this._transform,this._orientation)}forward(){const c=f.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=f.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=f.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,h){const y=new Float64Array(16);return f.invert(y,this.getWorldToCamera(c,h)),y}getWorldToCameraPosition(c,h,y){const w=this.position;f.scale$2(w,w,-c);const x=new Float64Array(16);return f.fromScaling(x,[y,y,y]),f.translate(x,x,w),x[10]*=h,x}getWorldToCamera(c,h){const y=new Float64Array(16),w=new Float64Array(4),x=this.position;return f.conjugate(w,this._orientation),f.scale$2(x,x,-c),f.fromQuat(y,w),f.translate(y,y,x),y[1]*=-1,y[5]*=-1,y[9]*=-1,y[13]*=-1,y[8]*=h,y[9]*=h,y[10]*=h,y[11]*=h,y}getCameraToClipPerspective(c,h,y,w){const x=new Float64Array(16);return f.perspective(x,c,h,y,w),x}getDistanceToElevation(c,h=!1){const y=0===c?0:f.mercatorZfromAltitude(c,h?f.latFromMercatorY(this.position[1]):this.position[1]),w=this.forward();return(y-this.position[2])/w[2]}clone(){return new ul([...this.position],[...this.orientation])}}function jh(g,c){const h=dl(g.projection,g.zoom,g.width,g.height),y=function(x,D,E,A,F){const L=new f.LngLat(E.lng-180*Kl,E.lat),$=new f.LngLat(E.lng+180*Kl,E.lat),Q=x.project(L.lng,L.lat),re=x.project($.lng,$.lat),ne=-Math.atan2(re.y-Q.y,re.x-Q.x),oe=f.MercatorCoordinate.fromLngLat(E);oe.y=f.clamp(oe.y,-.999975,.999975);const ee=oe.toLngLat(),te=x.project(ee.lng,ee.lat),ue=f.MercatorCoordinate.fromLngLat(ee);ue.x+=Kl;const se=ue.toLngLat(),pe=x.project(se.lng,se.lat),Ce=Gh(pe.x-te.x,pe.y-te.y,ne),be=f.MercatorCoordinate.fromLngLat(ee);be.y+=Kl;const Te=be.toLngLat(),Ue=x.project(Te.lng,Te.lat),ze=Gh(Ue.x-te.x,Ue.y-te.y,ne),Ie=Math.abs(Ce.x)/Math.abs(ze.y),gt=f.identity([]);f.rotateZ(gt,gt,-ne*(1-(F?0:A)));const Ne=f.identity([]);return f.scale(Ne,Ne,[1,1-(1-Ie)*A,1]),Ne[4]=-ze.x/ze.y*A,f.rotateZ(Ne,Ne,ne),f.multiply(Ne,gt,Ne),Ne}(g.projection,0,g.center,h,c),w=pi(g);return f.scale(y,y,[w,w,1]),y}function pi(g){const c=g.projection,h=dl(g.projection,g.zoom,g.width,g.height),y=$h(c,g.center),w=$h(c,f.LngLat.convert(c.center));return Math.pow(2,y*h+(1-h)*w)}function dl(g,c,h,y,w=1/0){const x=g.range;if(!x)return 0;const D=Math.min(w,Math.max(h,y)),E=Math.log(D/1024)/Math.LN2;return f.smoothstep(x[0]+E,x[1]+E,c)}const Kl=1/4e4;function $h(g,c){const h=f.clamp(c.lat,-f.MAX_MERCATOR_LATITUDE,f.MAX_MERCATOR_LATITUDE),y=new f.LngLat(c.lng-180*Kl,h),w=new f.LngLat(c.lng+180*Kl,h),x=g.project(y.lng,h),D=g.project(w.lng,h),E=f.MercatorCoordinate.fromLngLat(y),A=f.MercatorCoordinate.fromLngLat(w),F=D.x-x.x,L=D.y-x.y,$=A.x-E.x,Q=A.y-E.y,re=Math.sqrt(($*$+Q*Q)/(F*F+L*L));return Math.log(re)/Math.LN2}function Gh(g,c,h){const y=Math.cos(h),w=Math.sin(h);return{x:g*y-c*w,y:g*w+c*y}}class Wc{constructor(c,h,y,w,x,D,E){this.tileSize=512,this._renderWorldCopies=void 0===x||x,this._minZoom=c||0,this._maxZoom=h||22,this._minPitch=y??0,this._maxPitch=w??60,this.setProjection(D),this.setMaxBounds(E),this.width=0,this.height=0,this._center=new f.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Od,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ul,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Wc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,h=!1){const y=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||y)&&this._updateCameraOnTerrain(),(c||y)&&this._constrainCamera(h),this._calcMatrices()}getProjection(){return f.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const h=this.projection?this.getProjection():void 0;this.projection=f.getProjection(this.projectionOptions);const y=!He(h,this.getProjection());return y&&this._calcMatrices(),this.mercatorFromTransition=!1,y}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=f.getProjection({name:"mercator"});const h=c!==this.projection.name;return h&&this._calcMatrices(),h}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(c){void 0===c?c=!0:null===c&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return f.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new f.pointGeometry(this.width,this.height)}get bearing(){return f.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const h=-c*Math.PI/180;var y,w,x,D,E,A,F,L,$,Q;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(y=new f.ARRAY_TYPE(4),f.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y),w=this.rotationMatrix,D=this.angle,E=(x=this.rotationMatrix)[0],A=x[1],F=x[2],L=x[3],$=Math.sin(D),Q=Math.cos(D),w[0]=E*Q+F*$,w[1]=A*Q+L*$,w[2]=E*-$+F*Q,w[3]=A*-$+L*Q)}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const h=f.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=f.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const h=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._setZoom(h),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,h=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],y=this.horizonLineFromTop();let w=0,x=0;for(let D=0;D<h.length;D++){const E=new f.pointGeometry(h[D][0]*this.width,y+h[D][1]*(this.height-y)),A=c.pointCoordinate(E);if(!A)continue;const F=1/Math.hypot(A[0]-this._camera.position[0],A[1]-this._camera.position[1]);w+=A[3]*F,x+=F}return 0===x?NaN:w/x}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const c=this._seaLevelZoom,h=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),y=this.pixelsPerMeter/this.worldSize*h,w=this._mercatorZfromZoom(c),x=this._mercatorZfromZoom(this._maxZoom),D=Math.max(w-y,x);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const h=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let y;y=c.z<this._camera.position[2]?[h.x,h.y,h.z]:[c.x,c.y,c.z];const w=f.length(f.sub([],this._camera.position,y));return f.clamp(this._zoomFromMercatorZ(w),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let h=!1;if(c.orientation&&!f.exactEquals(c.orientation,this._camera.orientation)&&(h=this._setCameraOrientation(c.orientation)),c.position){const y=[c.position.x,c.position.y,c.position.z];f.exactEquals$1(y,this._camera.position)||(this._setCameraPosition(y),h=!0)}h&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,h=new Ym;return h.position=new f.MercatorCoordinate(c[0],c[1],c[2]),h.orientation=this._camera.orientation,h._elevation=this.elevation,h._renderWorldCopies=this.renderWorldCopies,h}_setCameraOrientation(c){if(!f.length$1(c))return!1;f.normalize$1(c,c);const h=f.transformQuat([],[0,0,-1],c),y=f.transformQuat([],[0,-1,0],c);if(y[2]<0)return!1;const w=Z0(h,y);return!!w&&(this._camera.orientation=w,!0)}_setCameraPosition(c){const h=this.zoomScale(this.minZoom)*this.tileSize,y=this.zoomScale(this.maxZoom)*this.tileSize,w=this.cameraToCenterDistance;c[2]=f.clamp(c[2],w/y,w/h),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,h,y){this._unmodified=!1,this._edgeInsets.interpolate(c,h,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const h=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(c){const h=[new f.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const y=this.pointCoordinate(new f.pointGeometry(0,0)),w=this.pointCoordinate(new f.pointGeometry(this.width,0)),x=this.pointCoordinate(new f.pointGeometry(this.width,this.height)),D=this.pointCoordinate(new f.pointGeometry(0,this.height)),E=Math.floor(Math.min(y.x,w.x,x.x,D.x)),A=Math.floor(Math.max(y.x,w.x,x.x,D.x)),F=1;for(let L=E-F;L<=A+F;L++)0!==L&&h.push(new f.UnwrappedTileID(L,c))}return h}coveringTiles(c){let h=this.coveringZoomLevel(c);const y=h,w=this.elevation&&!c.isTerrainDEM,x="mercator"===this.projection.name;if(void 0!==c.minzoom&&h<c.minzoom)return[];void 0!==c.maxzoom&&h>c.maxzoom&&(h=c.maxzoom);const D=this.locationCoordinate(this.center),E=this.center.lat,A=1<<h,F=[A*D.x,A*D.y,0],L="globe"===this.projection.name,$=!L,Q=f.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,h,$),re=L?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ne=A*f.mercatorZfromAltitude(1,this.center.lat),oe=this._camera.position[2]/f.mercatorZfromAltitude(1,this.center.lat),ee=[A*re.x,A*re.y,oe*($?1:ne)],te=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),ue=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?h:0,se=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,pe=c.isTerrainDEM?-se:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ce=this.projection.isReprojectedInTileSpace?pi(this):1,be=Ze=>{const yt=new f.MercatorCoordinate(Ze.x+25e-6,Ze.y,Ze.z),Oe=new f.MercatorCoordinate(Ze.x,Ze.y+25e-6,Ze.z),je=Ze.toLngLat(),Bt=yt.toLngLat(),Ut=Oe.toLngLat(),Vt=this.locationCoordinate(je),pn=this.locationCoordinate(Bt),jn=this.locationCoordinate(Ut),rn=Math.hypot(pn.x-Vt.x,pn.y-Vt.y),Pt=Math.hypot(jn.x-Vt.x,jn.y-Vt.y);return Math.sqrt(rn*Pt)*Ce/25e-6},Te=Ze=>{const ot=se,yt=pe;return{aabb:f.tileAABB(this,A,0,0,0,Ze,yt,ot,this.projection),zoom:0,x:0,y:0,minZ:yt,maxZ:ot,wrap:Ze,fullyVisible:!1}},Ue=[];let ze=[];const Ie=h,gt=c.reparseOverscaled?y:h,Ne=Ze=>Ze*Ze,Je=Ne((oe-this._centerAltitude)*ne),$e=Ze=>{if(!this._elevation||!Ze.tileID||!x)return;const ot=this._elevation.getMinMaxForTile(Ze.tileID),yt=Ze.aabb;ot?(yt.min[2]=ot.min,yt.max[2]=ot.max,yt.center[2]=(yt.min[2]+yt.max[2])/2):(Ze.shouldSplit=lt(Ze),Ze.shouldSplit||(yt.min[2]=yt.max[2]=yt.center[2]=this._centerAltitude))},lt=Ze=>{if(Ze.zoom<ue)return!0;if(Ze.zoom===Ie)return!1;if(null!=Ze.shouldSplit)return Ze.shouldSplit;const ot=Ze.aabb.distanceX(ee),yt=Ze.aabb.distanceY(ee);let Oe=Je,je=1;if(L){Oe=Ne(Ze.aabb.distanceZ(ee));const Vt=Math.pow(2,Ze.zoom),pn=f.latFromMercatorY((Ze.y+1)/Vt),jn=f.latFromMercatorY(Ze.y/Vt),rn=Math.min(Math.max(E,pn),jn),Pt=f.circumferenceAtLatitude(rn)/f.circumferenceAtLatitude(E);if(je=rn===E?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Pt/this._mercatorScaleRatio),this.zoom<=f.GLOBE_ZOOM_THRESHOLD_MIN&&Ze.zoom===Ie-1&&Pt>=.9)return!0}else if(w&&(Oe=Ne(Ze.aabb.distanceZ(ee)*ne)),this.projection.isReprojectedInTileSpace&&y<=5){const Vt=Math.pow(2,Ze.zoom),pn=be(new f.MercatorCoordinate((Ze.x+.5)/Vt,(Ze.y+.5)/Vt));je=pn>.85?1:pn}const Bt=ot*ot+yt*yt+Oe;return Bt<Ne((1<<Ie-Ze.zoom)*te*je*((Vt,pn)=>{if(pn*Ne(.707)<Vt)return 1;const jn=Math.sqrt(pn/Vt);return jn/(1.4144271570014144+(Math.pow(1.1,jn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Oe,Je),Bt))};if(this.renderWorldCopies)for(let Ze=1;Ze<=3;Ze++)Ue.push(Te(-Ze)),Ue.push(Te(Ze));for(Ue.push(Te(0));Ue.length>0;){const Ze=Ue.pop(),ot=Ze.x,yt=Ze.y;let Oe=Ze.fullyVisible;if(!Oe){const je=Ze.aabb.intersects(Q);if(0===je)continue;Oe=2===je}if(Ze.zoom!==Ie&&lt(Ze))for(let je=0;je<4;je++){const Bt=(ot<<1)+je%2,Ut=(yt<<1)+(je>>1),Vt={aabb:x?Ze.aabb.quadrant(je):f.tileAABB(this,A,Ze.zoom+1,Bt,Ut,Ze.wrap,Ze.minZ,Ze.maxZ,this.projection),zoom:Ze.zoom+1,x:Bt,y:Ut,wrap:Ze.wrap,fullyVisible:Oe,tileID:void 0,shouldSplit:void 0,minZ:Ze.minZ,maxZ:Ze.maxZ};w&&!L&&(Vt.tileID=new f.OverscaledTileID(Ze.zoom+1===Ie?gt:Ze.zoom+1,Ze.wrap,Ze.zoom+1,Bt,Ut),$e(Vt)),Ue.push(Vt)}else{const je=Ze.zoom===Ie?gt:Ze.zoom;if(c.minzoom&&c.minzoom>je)continue;const Bt=F[0]-(.5+ot+(Ze.wrap<<Ze.zoom))*(1<<h-Ze.zoom),Ut=F[1]-.5-yt,Vt=Ze.tileID?Ze.tileID:new f.OverscaledTileID(je,Ze.wrap,Ze.zoom,ot,yt);ze.push({tileID:Vt,distanceSq:Bt*Bt+Ut*Ut})}}if(this.fogCullDistSq){const Ze=this.fogCullDistSq,ot=this.horizonLineFromTop();ze=ze.filter(yt=>{const Oe=[0,0,0,1],je=[f.EXTENT,f.EXTENT,0,1],Bt=this.calculateFogTileMatrix(yt.tileID.toUnwrapped());f.transformMat4$1(Oe,Oe,Bt),f.transformMat4$1(je,je,Bt);const Ut=f.getAABBPointSquareDist(Oe,je);if(0===Ut)return!0;let Vt=!1;const pn=this._elevation;if(pn&&Ut>Ze&&0!==ot){const jn=this.calculateProjMatrix(yt.tileID.toUnwrapped());let rn;c.isTerrainDEM||(rn=pn.getMinMaxForTile(yt.tileID)),rn||(rn={min:pe,max:se});const Pt=f.furthestTileCorner(this.rotation),Di=[Pt[0]*f.EXTENT,Pt[1]*f.EXTENT,rn.max];f.transformMat4(Di,Di,jn),Vt=(1-Di[1])*this.height*.5<ot}return Ut<Ze||Vt})}return ze.sort((Ze,ot)=>Ze.distanceSq-ot.distanceSq).map(Ze=>Ze.tileID)}resize(c,h){this.width=c,this.height=h,this.pixelsToGLUnits=[2/c,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const h=f.clamp(c.lat,-f.MAX_MERCATOR_LATITUDE,f.MAX_MERCATOR_LATITUDE),y=this.projection.project(c.lng,h);return new f.pointGeometry(y.x*this.worldSize,y.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,h){let y,w;const x=this.centerPoint;if("globe"===this.projection.name){const E=this.worldSize;y=(h.x-x.x)/E,w=(h.y-x.y)/E}else{const E=this.pointCoordinate(h),A=this.pointCoordinate(x);y=E.x-A.x,w=E.y-A.y}const D=this.locationCoordinate(c);this.setLocation(new f.MercatorCoordinate(D.x-y,D.y-w))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,h){const y=h?f.mercatorZfromAltitude(h,c.lat):void 0,w=this.projection.project(c.lng,c.lat);return new f.MercatorCoordinate(w.x,w.y,y)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,h){const y=h??this._centerAltitude,w=[c.x,c.y,0,1],x=[c.x,c.y,1,1];f.transformMat4$1(w,w,this.pixelMatrixInverse),f.transformMat4$1(x,x,this.pixelMatrixInverse);const D=x[3];f.scale$1(w,w,1/w[3]),f.scale$1(x,x,1/D);const E=w[2],A=x[2];return{p0:w,p1:x,t:E===A?0:(y-E)/(A-E)}}screenPointToMercatorRay(c){const h=[c.x,c.y,0,1],y=[c.x,c.y,1,1];return f.transformMat4$1(h,h,this.pixelMatrixInverse),f.transformMat4$1(y,y,this.pixelMatrixInverse),f.scale$1(h,h,1/h[3]),f.scale$1(y,y,1/y[3]),h[2]=f.mercatorZfromAltitude(h[2],this._center.lat)*this.worldSize,y[2]=f.mercatorZfromAltitude(y[2],this._center.lat)*this.worldSize,f.scale$1(h,h,1/this.worldSize),f.scale$1(y,y,1/this.worldSize),new f.Ray([h[0],h[1],h[2]],f.normalize([],f.sub([],y,h)))}rayIntersectionCoordinate(c){const{p0:h,p1:y,t:w}=c,x=f.mercatorZfromAltitude(h[2],this._center.lat),D=f.mercatorZfromAltitude(y[2],this._center.lat);return new f.MercatorCoordinate(f.number(h[0],y[0],w)/this.worldSize,f.number(h[1],y[1],w)/this.worldSize,f.number(x,D,w))}pointCoordinate(c,h=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,h)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let h=this.projection.pointCoordinate3D(this,c.x,c.y);if(h)return new f.MercatorCoordinate(h[0],h[1],h[2]);let y=0,w=this.horizonLineFromTop();if(c.y>w)return this.pointCoordinate(c);const x=.02*w,D=c.clone();for(let E=0;E<10&&w-y>x;E++){D.y=f.number(y,w,.66);const A=this.projection.pointCoordinate3D(this,D.x,D.y);A?(w=D.y,h=A):y=D.y}return h?new f.MercatorCoordinate(h[0],h[1],h[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,h){const y=h&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,w=[c.x*this.worldSize,c.y*this.worldSize,y+c.toAltitude(),1];return f.transformMat4$1(w,w,this.pixelMatrix),w[3]>0?new f.pointGeometry(w[0]/w[3],w[1]/w[3]):new f.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:h}=this._edgeInsets,y=this.height-this._edgeInsets.bottom,w=this.width-this._edgeInsets.right,x=this.pointCoordinate3D(new f.pointGeometry(h,c)),D=this.pointCoordinate3D(new f.pointGeometry(w,c)),E=this.pointCoordinate3D(new f.pointGeometry(w,y)),A=this.pointCoordinate3D(new f.pointGeometry(h,y));let F=Math.min(x.x,A.x),L=Math.max(D.x,E.x),$=Math.min(x.y,D.y),Q=Math.max(A.y,E.y);const re=Math.pow(2,-this.zoom)/16,ne=(be,Te,Ue,ze)=>{const Ie=(be+Ue)/2,gt=(Te+ze)/2,Ne=new f.pointGeometry(Ie,gt),Je=this.pointCoordinate3D(Ne),$e=Math.max(0,F-Je.x,$-Je.y,Je.x-L,Je.y-Q);F=Math.min(F,Je.x),L=Math.max(L,Je.x),$=Math.min($,Je.y),Q=Math.max(Q,Je.y),$e>re&&(ne(be,Te,Ie,gt),ne(Ie,gt,Ue,ze))};ne(h,c,w,c),ne(w,c,w,y),ne(w,y,h,y),ne(h,y,h,c);const[oe,ee]=f.polesInViewport(this),te=oe||ee,ue=oe?90:f.latFromMercatorY($),se=te?180:f.lngFromMercatorX(L),pe=ee?-90:f.latFromMercatorY(Q),Ce=te?-180:f.lngFromMercatorX(F);return new f.LngLatBounds(new f.LngLat(Ce,pe),new f.LngLat(se,ue))}_getBounds(c,h){if("globe"===this.projection.name)return this._getGlobeBounds();const y=new f.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),w=new f.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),x=new f.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),D=new f.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let E=this.pointCoordinate(y,c),A=this.pointCoordinate(w,c);const F=this.pointCoordinate(x,h),L=this.pointCoordinate(D,h),$=(Q,re)=>(re.y-Q.y)/(re.x-Q.x);return E.y>1&&A.y>=0?E=new f.MercatorCoordinate((1-L.y)/$(L,E)+L.x,1):E.y<0&&A.y<=1&&(E=new f.MercatorCoordinate(-L.y/$(L,E)+L.x,0)),A.y>1&&E.y>=0?A=new f.MercatorCoordinate((1-F.y)/$(F,A)+F.x,1):A.y<0&&E.y<=1&&(A=new f.MercatorCoordinate(-F.y/$(F,A)+F.x,0)),(new f.LngLatBounds).extend(this.coordinateLocation(E)).extend(this.coordinateLocation(A)).extend(this.coordinateLocation(L)).extend(this.coordinateLocation(F))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const h=c.visibleDemTiles.reduce((y,w)=>{if(w.dem){const x=w.dem.tree;y.min=Math.min(y.min,x.minimums[0]),y.max=Math.max(y.max,x.maximums[0])}return y},{min:Number.MAX_VALUE,max:0});return this._getBounds(h.min*c.exaggeration(),h.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const h=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,y=this.height/2-h*(1-this._horizonShift);return c?Math.max(0,y):y}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-f.MAX_MERCATOR_LATITUDE,this.maxLat=f.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=f.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=f.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=f.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=f.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,h){return this.projection.createTileMatrix(this,h,c)}calculateDistanceTileData(c){const h=c.key,y=this._distanceTileDataCache;if(y[h])return y[h];const w=c.canonical,x=1/this.height,D=this.cameraWorldSize,E=D/this.zoomScale(w.z),A=(w.x+Math.pow(2,w.z)*c.wrap)*E,F=w.y*E,L=this.point;L.x*=D/this.worldSize,L.y*=D/this.worldSize;const $=this.angle,Q=Math.sin(-$),re=-Math.cos(-$);return y[h]={bearing:[Q,re],center:[(L.x-A)*x,(L.y-F)*x],scale:E/f.EXTENT*x},y[h]}calculateFogTileMatrix(c){const h=c.key,y=this._fogTileMatrixCache;if(y[h])return y[h];const w=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return f.multiply(w,this.worldToFogMatrix,w),y[h]=new Float32Array(w),y[h]}calculateProjMatrix(c,h=!1){const y=c.key,w=h?this._alignedProjMatrixCache:this._projMatrixCache;if(w[y])return w[y];const x=this.calculatePosMatrix(c,this.worldSize);return f.multiply(x,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:h?this.alignedProjMatrix:this.projMatrix,x),w[y]=new Float32Array(x),w[y]}calculatePixelsToTileUnitsMatrix(c){const h=c.tileID.key,y=this._pixelsToTileUnitsCache;if(y[h])return y[h];const w=function(x,D){const{scale:E}=x.tileTransform,A=E*f.EXTENT/(x.tileSize*Math.pow(2,D.zoom-x.tileID.overscaledZ+x.tileID.canonical.z));return F=new Float32Array(4),Q=(L=D.inverseAdjustmentMatrix)[1],re=L[2],ne=L[3],ee=($=[A,A])[1],F[0]=L[0]*(oe=$[0]),F[1]=Q*oe,F[2]=re*ee,F[3]=ne*ee,F;var F,L,$,Q,re,ne,oe,ee}(c,this);return y[h]=w,y[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const c=this._elevation;this._updateCameraState();const h=f.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,y=this._computeCameraPosition(h),w=this._camera.forward(),x=f.mercatorZfromAltitude(1,this._center.lat);y[2]/=x,w[2]/=x,f.normalize(w,w);const D=c.raycast(y,w,c.exaggeration());if(D){const E=f.scaleAndAdd([],y,w,D),A=new f.MercatorCoordinate(E[0],E[1],f.mercatorZfromAltitude(E[2],f.latFromMercatorY(E[1]))),F=(A.z+f.length([A.x-y[0],A.y-y[1],A.z-y[2]*x]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(F),this._centerAltitude=A.toAltitude(),this._center=this.coordinateLocation(A),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const h=this._elevation,y=f.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(y),x=h.getAtPointOrZero(new f.MercatorCoordinate(...w)),D=this.pixelsPerMeter/this.worldSize*x,E=this._minimumHeightOverTerrain(),A=w[2]-D;if(A<=E)if(A<0||c){const F=this.locationCoordinate(this._center,this._centerAltitude),L=[w[0],w[1],F.z-w[2]],$=f.length(L);L[2]-=(E-A)/this._pixelsPerMercatorPixel;const Q=f.length(L);if(0===Q)return;f.scale$2(L,L,$/Q*this._pixelsPerMercatorPixel),this._camera.position=[w[0],w[1],F.z*this._pixelsPerMercatorPixel-L[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const Q=this.center;return Q.lat=f.clamp(Q.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(Q.lng=f.clamp(Q.lng,this.minLng,this.maxLng)),this.center=Q,void(this._constraining=!1)}const h=this._unmodified,{x:y,y:w}=this.point;let x=0,D=y,E=w;const A=this.width/2,F=this.height/2,L=this.worldMinY*this.scale,$=this.worldMaxY*this.scale;if(w-F<L&&(E=L+F),w+F>$&&(E=$-F),$-L<this.height&&(x=Math.max(x,this.height/($-L)),E=($+L)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Q=this.worldMinX*this.scale,re=this.worldMaxX*this.scale,ne=this.worldSize/2-(Q+re)/2;D=(y+ne+this.worldSize)%this.worldSize-ne,D-A<Q&&(D=Q+A),D+A>re&&(D=re-A),re-Q<this.width&&(x=Math.max(x,this.width/(re-Q)),D=(re+Q)/2)}D===y&&E===w||(this.center=this.unproject(new f.pointGeometry(D,E))),x&&(this.zoom+=this.scaleZoom(x)),this._constrainCamera(),this._unmodified=h,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,h=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=f.mercatorZfromAltitude(1,this.center.lat)/f.mercatorZfromAltitude(1,f.GLOBE_SCALE_MATCH_LATITUDE));const y=dl(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,y),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const w=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?h:1),x=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);x[8]=2*-c.x/this.width,x[9]=2*c.y/this.height;let D=f.mul([],x,w);if(this.projection.isReprojectedInTileSpace){const Ce=this.locationCoordinate(this.center),be=f.identity([]);f.translate(be,be,[Ce.x*this.worldSize,Ce.y*this.worldSize,0]),f.multiply(be,be,jh(this)),f.translate(be,be,[-Ce.x*this.worldSize,-Ce.y*this.worldSize,0]),f.multiply(D,D,be),this.inverseAdjustmentMatrix=function(Te){const Ue=jh(Te,!0);return Zt([],[Ue[0],Ue[1],Ue[4],Ue[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=f.scale([],D,[this.worldSize,this.worldSize,this.worldSize/h,1]),this.projMatrix=D,this.invProjMatrix=f.invert(new Float64Array(16),this.projMatrix);const E=f.invert([],x);this.frustumCorners=f.FrustumCorners.fromInvProjectionMatrix(E,this.horizonLineFromTop(),this.height);const A=new Float32Array(16);f.identity(A),f.scale(A,A,[1,-1,1]),f.rotateX(A,A,this._pitch),f.rotateZ(A,A,this.angle);const F=f.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),L=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;F[8]=2*-c.x/this.width,F[9]=2*(c.y+L)/this.height,this.skyboxMatrix=f.multiply(A,F,A);const $=this.point,Q=$.x,re=$.y,ne=this.width%2/2,oe=this.height%2/2,ee=Math.cos(this.angle),te=Math.sin(this.angle),ue=Q-Math.round(Q)+ee*ne+te*oe,se=re-Math.round(re)+ee*oe+te*ne,pe=new Float64Array(D);if(f.translate(pe,pe,[ue>.5?ue-1:ue,se>.5?se-1:se,0]),this.alignedProjMatrix=pe,D=f.create(),f.scale(D,D,[this.width/2,-this.height/2,1]),f.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=f.create(),f.scale(D,D,[1,-1,1]),f.translate(D,D,[-1,-1,0]),f.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=f.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=f.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=f.calculateGlobeMatrix(this);const Ce=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=f.transformMat4(Ce,Ce,w),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,h=this.cameraPixelsPerMeter,y=this._camera.position,w=1/this.height/this._pixelsPerMercatorPixel,x=[c,c,h];f.scale$2(x,x,w),f.scale$2(y,y,-1),f.multiply$2(y,y,x);const D=f.create();f.translate(D,D,y),f.scale(D,D,x),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,h,w)}_computeCameraPosition(c){const h=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,y=this._camera.forward(),w=this.point,x=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*h-c/this.worldSize*this._centerAltitude;return[w.x/this.worldSize-y[0]*x,w.y/this.worldSize-y[1]*x,c/this.worldSize*this._centerAltitude-y[2]*x]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const h=this._maxCameraBoundsDistance()*Math.cos(this._pitch),y=this._camera.position[2],w=c[2];let x=1;this.projection.wrap&&(this.center=this.center.wrap()),w>0&&(x=Math.min((h-y)/w,1)),this._camera.position=f.scaleAndAdd([],this._camera.position,c,x),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,h=this._camera.forward(),{pitch:y,bearing:w}=this._camera.getPitchBearing(),x=f.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(f.degToRad(this._maxPitch)),E=Math.max((c[2]-x)/Math.cos(y),D),A=this._zoomFromMercatorZ(E);f.scaleAndAdd(c,c,h,E),this._pitch=f.clamp(y,f.degToRad(this.minPitch),f.degToRad(this.maxPitch)),this.angle=f.wrap(w,-Math.PI,Math.PI),this._setZoom(f.clamp(A,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new f.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const h=D=>{const E=this.getCameraToCenterDistance(this.projection,D);return this.scaleZoom(E/(c*this.tileSize))};let y,w=h(this.zoom),x=Math.abs(w-h(w));for(;y!==x;)w=h(w),y=x,x=Math.abs(w-h(w));return w}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(f.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,h){const y=Math.min(c.x,h.x),w=Math.max(c.x,h.x),x=Math.min(c.y,h.y),D=Math.max(c.y,h.y);if(x<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const E=[new f.pointGeometry(y,x),new f.pointGeometry(w,D),new f.pointGeometry(y,D),new f.pointGeometry(w,x)],A=this.renderWorldCopies?-3:0,F=this.renderWorldCopies?4:1;for(const L of E){const $=this.pointRayIntersection(L);if($.t<0)return!0;const Q=this.rayIntersectionCoordinate($);if(Q.x<A||Q.y<0||Q.x>F||Q.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+f.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new f.pointGeometry(0,0),new f.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,h){const y=f.length(f.sub([],this._camera.position,c)),w=this._zoomFromMercatorZ(y)+h;return y-this._mercatorZfromZoom(w)}getCameraPoint(){if("globe"===this.projection.name){const c=function([h,y,w],x){const D=[h,y,w,1];f.transformMat4$1(D,D,x);const E=D[3]=Math.max(D[3],1e-6);return D[0]/=E,D[1]/=E,D[2]/=E,D}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new f.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new f.pointGeometry(0,c))}}getCameraToCenterDistance(c,h=this.zoom){const y=dl(c,h,this.width,this.height,1024),w=c.pixelSpaceConversion(this.center.lat,this.worldSize,y);return.5/Math.tan(.5*this._fov)*this.height*w}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&f.multiply(c,c,this.globeMatrix),c}}function Pd(g,c){let h=!1,y=null;const w=()=>{y=null,h&&(g(),y=setTimeout(w,c),h=!1)};return()=>(h=!0,y||w(),y)}class Ot{constructor(c){this._hashName=c&&encodeURIComponent(c),f.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pd(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,f.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),f.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const h=Ks(c);if(this._hashName){const y=this._hashName;let w=!1;const x=f.window.location.hash.slice(1).split("&").map(D=>{const E=D.split("=")[0];return E===y?(w=!0,`${E}=${h}`):D}).filter(D=>D);return w||x.push(`${y}=${h}`),`#${x.join("&")}`}return`#${h}`}_getCurrentHash(){const c=f.window.location.hash.replace("#","");if(this._hashName){let h;return c.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(h=y)}),(h&&h[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const h=this._getCurrentHash();if(h.length>=3&&!h.some(y=>isNaN(y))){const y=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(h[3]||0):c.getBearing();return c.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:y,pitch:+(h[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=f.window.location.href.replace(/(#.+)?$/,this.getHashString());f.window.history.replaceState(f.window.history.state,null,c)}}function Ks(g,c){const h=g.getCenter(),y=Math.round(100*g.getZoom())/100,w=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,w),D=Math.round(h.lng*x)/x,E=Math.round(h.lat*x)/x,A=g.getBearing(),F=g.getPitch();let L=c?`/${D}/${E}/${y}`:`${y}/${E}/${D}`;return(A||F)&&(L+="/"+Math.round(10*A)/10),F&&(L+=`/${Math.round(F)}`),L}const Po={linearity:.3,easing:f.bezier(0,0,.3,1)},Wh=f.extend({deceleration:2500,maxSpeed:1400},Po),Xm=f.extend({deceleration:20,maxSpeed:1400},Po),Yl=f.extend({deceleration:1e3,maxSpeed:360},Po),Qm=f.extend({deceleration:1e3,maxSpeed:90},Po);class gf{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,h=f.exported.now();for(;c.length>0&&h-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new f.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(h.pan.mag()){const x=qc(h.pan.mag(),y,f.extend({},Wh,c||{}));w.offset=h.pan.mult(x.amount/h.pan.mag()),w.center=this._map.transform.center,wr(w,x)}if(h.zoom){const x=qc(h.zoom,y,Xm);w.zoom=this._map.transform.zoom+x.amount,wr(w,x)}if(h.bearing){const x=qc(h.bearing,y,Yl);w.bearing=this._map.transform.bearing+f.clamp(x.amount,-179,179),wr(w,x)}if(h.pitch){const x=qc(h.pitch,y,Qm);w.pitch=this._map.transform.pitch+x.amount,wr(w,x)}if(w.zoom||w.bearing){const x=void 0===h.pinchAround?h.around:h.pinchAround;w.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),w.noMoveStart=!0,w}}function wr(g,c){(!g.duration||g.duration<c.duration)&&(g.duration=c.duration,g.easing=c.easing)}function qc(g,c,h){const{maxSpeed:y,linearity:w,deceleration:x}=h,D=f.clamp(g*w/(c/1e3),-y,y),E=Math.abs(D)/(x*w);return{easing:h.easing,duration:1e3*E,amount:D*(E/2)}}class Es extends f.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y,w={}){const x=Fe(h.getCanvasContainer(),y),D=h.unproject(x);super(c,f.extend({point:x,lngLat:D,originalEvent:y},w)),this._defaultPrevented=!1,this.target=h}}class Xl extends f.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y){const w="touchend"===c?y.changedTouches:y.touches,x=Wt(h.getCanvasContainer(),w),D=x.map(A=>h.unproject(A)),E=x.reduce((A,F,L,$)=>A.add(F.div($.length)),new f.pointGeometry(0,0));super(c,{points:x,point:E,lngLats:D,lngLat:h.unproject(E),originalEvent:y}),this._defaultPrevented=!1}}class so extends f.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y){super(c,{originalEvent:y}),this._defaultPrevented=!1}}class K0{constructor(c,h){this._map=c,this._clickTolerance=h.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new so(c.type,this._map,c))}mousedown(c,h){return this._mousedownPos=h,this._firePreventable(new Es(c.type,this._map,c))}mouseup(c){this._map.fire(new Es(c.type,this._map,c))}preclick(c){const h=f.extend({},c);h.type="preclick",this._map.fire(new Es(h.type,this._map,h))}click(c,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||(this.preclick(c),this._map.fire(new Es(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new Es(c.type,this._map,c))}mouseover(c){this._map.fire(new Es(c.type,this._map,c))}mouseout(c){this._map.fire(new Es(c.type,this._map,c))}touchstart(c){return this._firePreventable(new Xl(c.type,this._map,c))}touchmove(c){this._map.fire(new Xl(c.type,this._map,c))}touchend(c){this._map.fire(new Xl(c.type,this._map,c))}touchcancel(c){this._map.fire(new Xl(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _f{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new Es(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Es("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Es(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zc{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,h){this.isEnabled()&&c.shiftKey&&0===c.button&&(rr(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(c,h){if(!this._active)return;const y=h,w=this._startPos,x=this._lastPos;if(!w||!x||x.equals(y)||!this._box&&y.dist(w)<this._clickTolerance)return;this._lastPos=y,this._box||(this._box=mn("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const D=Math.min(w.x,y.x),E=Math.max(w.x,y.x),A=Math.min(w.y,y.y),F=Math.max(w.y,y.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${D}px,${A}px)`,this._box.style.width=E-D+"px",this._box.style.height=F-A+"px")})}mouseupWindow(c,h){if(!this._active)return;const y=this._startPos,w=h;if(y&&0===c.button){if(this.reset(),xn(),y.x!==w.x||y.y!==w.y)return this._map.fire(new f.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:x=>x.fitScreenCoordinates(y,w,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&27===c.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),fi(),delete this._startPos,delete this._lastPos}_fireEvent(c,h){return this._map.fire(new f.Event(c,{originalEvent:h}))}}function ao(g,c){const h={};for(let y=0;y<g.length;y++)h[g[y].identifier]=c[y];return h}class yf{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,h,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=c.timeStamp),y.length===this.numTouches&&(this.centroid=function(w){const x=new f.pointGeometry(0,0);for(const D of w)x._add(D);return x.div(w.length)}(h),this.touches=ao(y,h)))}touchmove(c,h,y){if(this.aborted||!this.centroid)return;const w=ao(y,h);for(const x in this.touches){const D=this.touches[x],E=w[x];(!E||E.dist(D)>30)&&(this.aborted=!0)}}touchend(c,h,y){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),0===y.length){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class Kc{constructor(c){this.singleTap=new yf(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,h,y){this.singleTap.touchstart(c,h,y)}touchmove(c,h,y){this.singleTap.touchmove(c,h,y)}touchend(c,h,y){const w=this.singleTap.touchend(c,h,y);if(w){const x=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(w)<30;if(x&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class Jm{constructor(){this._zoomIn=new Kc({numTouches:1,numTaps:2}),this._zoomOut=new Kc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,h,y){this._zoomIn.touchstart(c,h,y),this._zoomOut.touchstart(c,h,y)}touchmove(c,h,y){this._zoomIn.touchmove(c,h,y),this._zoomOut.touchmove(c,h,y)}touchend(c,h,y){const w=this._zoomIn.touchend(c,h,y),x=this._zoomOut.touchend(c,h,y);return w?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(w)},{originalEvent:c})}):x?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(x)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const pa={0:1,2:2};class Ou{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,h){return!1}_move(c,h){return{}}mousedown(c,h){if(this._lastPoint)return;const y=yn(c);this._correctButton(c,y)&&(this._lastPoint=h,this._eventButton=y)}mousemoveWindow(c,h){const y=this._lastPoint;if(y)if(c.preventDefault(),null!=this._eventButton&&function(w,x){const D=pa[x];return void 0===w.buttons||(w.buttons&D)!==D}(c,this._eventButton))this.reset();else if(this._moved||!(h.dist(y)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(y,h)}mouseupWindow(c){this._lastPoint&&yn(c)===this._eventButton&&(this._moved&&xn(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qh extends Ou{mousedown(c,h){super.mousedown(c,h),this._lastPoint&&(this._active=!0)}_correctButton(c,h){return 0===h&&!c.ctrlKey}_move(c,h){return{around:h,panDelta:h.sub(c)}}}class Gn extends Ou{_correctButton(c,h){return 0===h&&c.ctrlKey||2===h}_move(c,h){const y=.8*(h.x-c.x);if(y)return this._active=!0,{bearingDelta:y}}contextmenu(c){c.preventDefault()}}class Zh extends Ou{_correctButton(c,h){return 0===h&&c.ctrlKey||2===h}_move(c,h){const y=-.5*(h.y-c.y);if(y)return this._active=!0,{pitchDelta:y}}contextmenu(c){c.preventDefault()}}class Y0{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=h.clickTolerance||1,this.reset(),f.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new f.pointGeometry(0,0)}touchstart(c,h,y){return this._calculateTransform(c,h,y)}touchmove(c,h,y){if(this._active&&!(y.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===y.length&&!f.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,h,y)}}touchend(c,h,y){this._calculateTransform(c,h,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,h,y){y.length>0&&(this._active=!0);const w=ao(y,h),x=new f.pointGeometry(0,0),D=new f.pointGeometry(0,0);let E=0;for(const F in w){const L=w[F],$=this._touches[F];$&&(x._add(L),D._add(L.sub($)),E++,w[F]=L)}if(this._touches=w,E<this._minTouches||!D.mag())return;const A=D.div(E);return this._sum._add(A),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(E),panDelta:A}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=mn("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Kh{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,h,y){return{}}touchstart(c,h,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([h[0],h[1]]))}touchmove(c,h,y){const w=this._firstTwoTouches;if(!w)return;c.preventDefault();const[x,D]=w,E=hl(y,h,x),A=hl(y,h,D);if(!E||!A)return;const F=this._aroundCenter?null:E.add(A).div(2);return this._move([E,A],F,c)}touchend(c,h,y){if(!this._firstTwoTouches)return;const[w,x]=this._firstTwoTouches,D=hl(y,h,w),E=hl(y,h,x);D&&E||(this._active&&xn(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&"center"===c.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function hl(g,c,h){for(let y=0;y<g.length;y++)if(g[y].identifier===h)return c[y]}function vf(g,c){return Math.log(g/c)/Math.LN2}class bf extends Kh{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,h){const y=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(vf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:vf(this._distance,y),pinchAround:h}}}function eg(g,c){return 180*g.angleWith(c)/Math.PI}class tg extends Kh{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,h){const y=this._vector;if(this._vector=c[0].sub(c[1]),y&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:eg(this._vector,y),pinchAround:h}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const h=25/(Math.PI*this._minDiameter)*360,y=this._startVector;if(!y)return!1;const w=eg(c,y);return Math.abs(w)<h}}function _t(g){return Math.abs(g.y)>Math.abs(g.x)}class Mi extends Kh{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,_t(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,h,y){const w=this._lastPoints;if(!w)return;const x=c[0].sub(w[0]),D=c[1].sub(w[1]);return this._map._cooperativeGestures&&!f.isFullscreen()&&y.touches.length<3||(this._valid=this.gestureBeginsVertically(x,D,y.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(x.y+D.y)/2*-.5})}gestureBeginsVertically(c,h,y){if(void 0!==this._valid)return this._valid;const w=c.mag()>=2,x=h.mag()>=2;if(!w&&!x)return;if(!w||!x)return null==this._firstMove&&(this._firstMove=y),y-this._firstMove<100&&void 0;const D=c.y>0==h.y>0;return _t(c)&&_t(h)&&D}}const ye={panStep:100,bearingStep:15,pitchStep:10};class me{constructor(){const c=ye;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let h=0,y=0,w=0,x=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),x=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),x=1);break;case 38:c.shiftKey?w=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?w=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,w=0),{cameraAnimation:E=>{const A=E.getZoom();E.easeTo({duration:300,easeId:"keyboardHandler",easing:Zr,zoom:h?Math.round(A)+h*(c.shiftKey?2:1):A,bearing:E.getBearing()+y*this._bearingStep,pitch:E.getPitch()+w*this._pitchStep,offset:[-x*this._panStep,-D*this._panStep],center:E.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Zr(g){return g*(2-g)}const Yh=4.000244140625;class Rd{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,f.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&"center"===c.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||f.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let h=c.deltaMode===f.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const y=f.exported.now(),w=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,0!==h&&h%Yh==0?this._type="wheel":0!==h&&Math.abs(h)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(w*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),c.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=c,this._delta-=h,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=Fe(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:h,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;"wheel"===this._type&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const h=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(0!==this._delta){const A="wheel"===this._type&&Math.abs(this._delta)>Yh?this._wheelZoomRate:this._defaultZoomRate;let F=2/(1+Math.exp(-Math.abs(this._delta*A)));this._delta<0&&0!==F&&(F=1/F);const L=h(),$=Math.pow(2,L),Q="number"==typeof this._targetZoom?c.zoomScale(this._targetZoom):$;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Q*F))),"wheel"===this._type&&(this._startZoom=L,this._easing=this._smoothOutEasing(200)),this._delta=0}const y="number"==typeof this._targetZoom?this._targetZoom:h(),w=this._startZoom,x=this._easing;let D,E=!1;if("wheel"===this._type&&w&&x){const A=Math.min((f.exported.now()-this._lastWheelEventTime)/200,1),F=x(A);D=f.number(w,y,F),A<1?this._frameId||(this._frameId=!0):E=!0}else D=y,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:D-h(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let h=f.ease;if(this._prevEase){const y=this._prevEase,w=(f.exported.now()-y.start)/y.duration,x=y.easing(w+.01)-y.easing(w),D=.27/Math.sqrt(x*x+1e-4)*.01,E=Math.sqrt(.0729-D*D);h=f.bezier(D,E,.25,1)}return this._prevEase={start:f.exported.now(),duration:c,easing:h},h}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=mn("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(f.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Fa{constructor(c,h){this._clickZoom=c,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fa{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,h){return c.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:y.getZoom()+(c.shiftKey?-1:1),around:y.unproject(h)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xh{constructor(){this._tap=new Kc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,h,y){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?y.length>0&&(this._swipePoint=h[0],this._swipeTouch=y[0].identifier):this._tap.touchstart(c,h,y))}touchmove(c,h,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const w=h[0],x=w.y-this._swipePoint.y;return this._swipePoint=w,c.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(c,h,y)}touchend(c,h,y){this._tapTime?this._swipePoint&&0===y.length&&this.reset():this._tap.touchend(c,h,y)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nd{constructor(c,h,y){this._el=c,this._mousePan=h,this._touchPan=y}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class za{constructor(c,h,y){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=h,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wf{constructor(c,h,y,w){this._el=c,this._touchZoom=h,this._touchRotate=y,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Nt=g=>g.zoom||g.drag||g.pitch||g.rotate;class Ro extends f.Event{}class Ba{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,h){const y=f.sub([],h,c);this.radius=f.length(y[2]<0?f.div([],y,this.constants):[y[0],y[1],0])}projectRay(c){f.div(c,c,this.constants),f.normalize(c,c),f.mul$1(c,c,this.constants);const h=f.scale$2([],c,this.radius);if(h[2]>0){const y=f.scale$2([],[0,0,1],f.dot(h,[0,0,1])),w=f.scale$2([],f.normalize([],[h[0],h[1],0]),this.radius),x=f.add([],h,f.scale$2([],f.sub([],f.add([],w,y),h),2));h[0]=x[0],h[1]=x[1]}return h}}function pl(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class Va{constructor(c,h){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gf(c),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Ba,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(h),f.bindAll(["handleEvent","handleWindowEvent"],this);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[f.window.document,"mousemove",{capture:!0}],[f.window.document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[f.window,"blur",void 0]];for(const[w,x,D]of this._listeners)w.addEventListener(x,w===f.window.document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[c,h,y]of this._listeners)c.removeEventListener(h,c===f.window.document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(c){const h=this._map,y=h.getCanvasContainer();this._add("mapEvent",new K0(h,c));const w=h.boxZoom=new Zc(h,c);this._add("boxZoom",w);const x=new Jm,D=new fa;h.doubleClickZoom=new Fa(D,x),this._add("tapZoom",x),this._add("clickZoom",D);const E=new Xh;this._add("tapDragZoom",E);const A=h.touchPitch=new Mi(h);this._add("touchPitch",A);const F=new Gn(c),L=new Zh(c);h.dragRotate=new za(c,F,L),this._add("mouseRotate",F,["mousePitch"]),this._add("mousePitch",L,["mouseRotate"]);const $=new qh(c),Q=new Y0(h,c);h.dragPan=new Nd(y,$,Q),this._add("mousePan",$),this._add("touchPan",Q,["touchZoom","touchRotate"]);const re=new tg,ne=new bf;h.touchZoomRotate=new wf(y,ne,re,E),this._add("touchRotate",re,["touchPan","touchZoom"]),this._add("touchZoom",ne,["touchPan","touchRotate"]),this._add("blockableMapEvent",new _f(h));const oe=h.scrollZoom=new Rd(h,this);this._add("scrollZoom",oe,["mousePan"]);const ee=h.keyboard=new me;this._add("keyboard",ee);for(const te of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[te]&&h[te].enable(c[te])}_add(c,h,y){this._handlers.push({handlerName:c,handler:h,allowed:y}),this._handlersById[c]=h}stop(c){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Nt(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,h,y){for(const w in c)if(w!==y&&(!h||h.indexOf(w)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const h=[];for(const y of c)this._el.contains(y.target)&&h.push(y);return h}handleEvent(c,h){this._updatingCamera=!0;const y="renderFrame"===c.type,w=y?void 0:c,x={needsRenderFrame:!1},D={},E={},A=c.touches?this._getMapTouches(c.touches):void 0,F=A?Wt(this._el,A):y?void 0:Fe(this._el,c);for(const{handlerName:Q,handler:re,allowed:ne}of this._handlers){if(!re.isEnabled())continue;let oe;this._blockedByActive(E,ne,Q)?re.reset():re[h||c.type]&&(oe=re[h||c.type](c,F,A),this.mergeHandlerResult(x,D,oe,Q,w),oe&&oe.needsRenderFrame&&this._triggerRenderFrame()),(oe||re.isActive())&&(E[Q]=re)}const L={};for(const Q in this._previousActiveHandlers)E[Q]||(L[Q]=w);this._previousActiveHandlers=E,(Object.keys(L).length||pl(x))&&(this._changes.push([x,D,L]),this._triggerRenderFrame()),(Object.keys(E).length||pl(x))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:$}=x;$&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],$(this._map))}mergeHandlerResult(c,h,y,w,x){if(!y)return;f.extend(c,y);const D={handlerName:w,originalEvent:y.originalEvent||x};void 0!==y.zoomDelta&&(h.zoom=D),void 0!==y.panDelta&&(h.drag=D),void 0!==y.pitchDelta&&(h.pitch=D),void 0!==y.bearingDelta&&(h.rotate=D)}_applyChanges(){const c={},h={},y={};for(const[w,x,D]of this._changes)w.panDelta&&(c.panDelta=(c.panDelta||new f.pointGeometry(0,0))._add(w.panDelta)),w.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+w.pitchDelta),void 0!==w.around&&(c.around=w.around),void 0!==w.aroundCoord&&(c.aroundCoord=w.aroundCoord),void 0!==w.pinchAround&&(c.pinchAround=w.pinchAround),w.noInertia&&(c.noInertia=w.noInertia),f.extend(h,x),f.extend(y,D);this._updateMapTransform(c,h,y),this._changes=[]}_updateMapTransform(c,h,y){const w=this._map,x=w.transform,D=ue=>[ue.x,ue.y,ue.z];if((ue=>{const se=this._eventsInProgress.drag;return se&&!this._handlersById[se.handlerName].isActive()})()&&!pl(c)){const ue=x.zoom;x.cameraElevationReference="sea",x.recenterOnTerrain(),x.cameraElevationReference="ground",ue!==x.zoom&&this._map._update(!0)}if(x._isCameraConstrained&&w._stop(!0),!pl(c))return void this._fireEvents(h,y,!0);let{panDelta:E,zoomDelta:A,bearingDelta:F,pitchDelta:L,around:$,aroundCoord:Q,pinchAround:re}=c;x._isCameraConstrained&&(A>0&&(A=0),x._isCameraConstrained=!1),void 0!==re&&($=re),(ue=>h.drag&&!this._eventsInProgress.drag)()&&$&&(this._dragOrigin=D(x.pointCoordinate3D($)),this._trackingEllipsoid.setup(x._camera.position,this._dragOrigin)),x.cameraElevationReference="sea",w._stop(!0),$=$||w.transform.centerPoint,F&&(x.bearing+=F),L&&(x.pitch+=L),x._updateCameraState();const ne=[0,0,0];if(E)if("mercator"===x.projection.name){const ue=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay($).dir),se=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay($.sub(E)).dir);ne[0]=se[0]-ue[0],ne[1]=se[1]-ue[1]}else{const ue=x.pointCoordinate($);if("globe"===x.projection.name){E=E.rotate(-x.angle);const se=x._pixelsPerMercatorPixel/x.worldSize;ne[0]=-E.x*f.mercatorScale(f.latFromMercatorY(ue.y))*se,ne[1]=-E.y*f.mercatorScale(x.center.lat)*se}else{const se=x.pointCoordinate($.sub(E));ue&&se&&(ne[0]=se.x-ue.x,ne[1]=se.y-ue.y)}}const oe=x.zoom,ee=[0,0,0];if(A){const ue=D(Q||x.pointCoordinate3D($)),se={dir:f.normalize([],f.sub([],ue,x._camera.position))};if(se.dir[2]<0){const pe=x.zoomDeltaToMovement(ue,A);f.scale$2(ee,se.dir,pe)}}const te=f.add(ne,ne,ee);x._translateCameraConstrained(te),A&&Math.abs(x.zoom-oe)>1e-4&&x.recenterOnTerrain(),x.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(h,y,!0)}_fireEvents(c,h,y){const w=Nt(this._eventsInProgress),x=Nt(c),D={};for(const L in c){const{originalEvent:$}=c[L];this._eventsInProgress[L]||(D[`${L}start`]=$),this._eventsInProgress[L]=c[L]}!w&&x&&this._fireEvent("movestart",x.originalEvent);for(const L in D)this._fireEvent(L,D[L]);x&&this._fireEvent("move",x.originalEvent);for(const L in c){const{originalEvent:$}=c[L];this._fireEvent(L,$)}const E={};let A;for(const L in this._eventsInProgress){const{handlerName:$,originalEvent:Q}=this._eventsInProgress[L];this._handlersById[$].isActive()||(delete this._eventsInProgress[L],A=h[$]||Q,E[`${L}end`]=A)}for(const L in E)this._fireEvent(L,E[L]);const F=Nt(this._eventsInProgress);if(y&&(w||x)&&!F){this._updatingCamera=!0;const L=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$=Q=>0!==Q&&-this._bearingSnap<Q&&Q<this._bearingSnap;L?($(L.bearing||this._map.getBearing())&&(L.bearing=0),this._map.easeTo(L,{originalEvent:A})):(this._map.fire(new f.Event("moveend",{originalEvent:A})),$(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,h){this._map.fire(new f.Event(c,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new Ro("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const ma="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ng extends f.Evented{constructor(c,h){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=h.bearingSnap,f.bindAll(["_renderFrameCallback"],this)}getCenter(){return new f.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,h){return this.jumpTo({center:c},h)}panBy(c,h,y){return c=f.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,f.extend({offset:c},h),y)}panTo(c,h,y){return this.easeTo(f.extend({center:c},h),y)}getZoom(){return this.transform.zoom}setZoom(c,h){return this.jumpTo({zoom:c},h),this}zoomTo(c,h,y){return this.easeTo(f.extend({zoom:c},h),y)}zoomIn(c,h){return this.zoomTo(this.getZoom()+1,c,h),this}zoomOut(c,h){return this.zoomTo(this.getZoom()-1,c,h),this}getBearing(){return this.transform.bearing}setBearing(c,h){return this.jumpTo({bearing:c},h),this}getPadding(){return this.transform.padding}setPadding(c,h){return this.jumpTo({padding:c},h),this}rotateTo(c,h,y){return this.easeTo(f.extend({bearing:c},h),y)}resetNorth(c,h){return this.rotateTo(0,f.extend({duration:1e3},c),h),this}resetNorthPitch(c,h){return this.easeTo(f.extend({bearing:0,pitch:0,duration:1e3},c),h),this}snapToNorth(c,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,h):this}getPitch(){return this.transform.pitch}setPitch(c,h){return this.jumpTo({pitch:c},h),this}cameraForBounds(c,h){c=f.LngLatBounds.convert(c);const y=h&&h.bearing||0,w=h&&h.pitch||0,x=c.getNorthWest(),D=c.getSouthEast();return this._cameraForBounds(this.transform,x,D,y,w,h)}_extendCameraOptions(c){const h={top:0,bottom:0,right:0,left:0};if("number"==typeof(c=f.extend({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding){const y=c.padding;c.padding={top:y,bottom:y,right:y,left:y}}return c.padding=f.extend(h,c.padding),c}_minimumAABBFrustumDistance(c,h){const y=h.max[0]-h.min[0],w=h.max[1]-h.min[1];return y/w>c.aspect?y/(2*Math.tan(.5*c.fovX)*c.aspect):w/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,h,y,w,x,D){const E=c.clone(),A=this._extendCameraOptions(D);E.bearing=w,E.pitch=x;const F=f.LngLat.convert(h),L=f.LngLat.convert(y),$=.5*(F.lat+L.lat),Q=.5*(F.lng+L.lng),re=f.latLngToECEF($,Q),ne=f.normalize([],re),oe=f.normalize([],f.cross([],ne,[0,1,0])),ee=f.cross([],oe,ne),te=[oe[0],oe[1],oe[2],0,ee[0],ee[1],ee[2],0,ne[0],ne[1],ne[2],0,0,0,0,1],ue=[re,f.latLngToECEF(F.lat,F.lng),f.latLngToECEF(L.lat,F.lng),f.latLngToECEF(L.lat,L.lng),f.latLngToECEF(F.lat,L.lng),f.latLngToECEF($,F.lng),f.latLngToECEF($,L.lng),f.latLngToECEF(F.lat,Q),f.latLngToECEF(L.lat,Q)];let se=f.Aabb.fromPoints(ue.map(Oe=>[f.dot(oe,Oe),f.dot(ee,Oe),f.dot(ne,Oe)]));const pe=f.transformMat4([],se.center,te);0===f.squaredLength(pe)&&f.set(pe,0,0,1),f.normalize(pe,pe),f.scale$2(pe,pe,f.GLOBE_RADIUS),E.center=f.ecefToLatLng(pe);const Ce=E.getWorldToCameraMatrix(),be=f.invert(new Float64Array(16),Ce);se=f.Aabb.applyTransform(se,f.multiply([],Ce,te)),f.transformMat4(pe,pe,Ce);const Te=.5*(se.max[2]-se.min[2]),Ue=this._minimumAABBFrustumDistance(E,se),ze=f.scale$2([],[0,0,1],Te),Ie=f.add(ze,pe,ze),gt=Ue+(0===E.pitch?0:f.distance(pe,Ie)),Ne=E.globeCenterInViewSpace,Je=f.sub([],pe,[Ne[0],Ne[1],Ne[2]]);f.normalize(Je,Je),f.scale$2(Je,Je,gt);const $e=f.add([],pe,Je);f.transformMat4($e,$e,be);const lt=f.earthRadius/f.GLOBE_RADIUS,Ze=f.length($e),ot=f.mercatorZfromAltitude(Ze*lt-f.earthRadius,0),yt=Math.min(E.zoomFromMercatorZAdjusted(ot),A.maxZoom);return yt>.5*(f.GLOBE_ZOOM_THRESHOLD_MIN+f.GLOBE_ZOOM_THRESHOLD_MAX)?(E.setProjection({name:"mercator"}),E.zoom=yt,this._cameraForBounds(E,h,y,w,x,D)):{center:E.center,zoom:yt,bearing:w,pitch:x}}queryTerrainElevation(c,h){const y=this.transform.elevation;return y?(h=f.extend({},{exaggerated:!0},h),y.getAtPoint(f.MercatorCoordinate.fromLngLat(c),null,h.exaggerated)):null}_cameraForBounds(c,h,y,w,x,D){if("globe"===c.projection.name)return this._cameraForBoundsOnGlobe(c,h,y,w,x,D);const E=c.clone(),A=this._extendCameraOptions(D),F=E.padding;E.bearing=w,E.pitch=x;const L=f.LngLat.convert(h),$=f.LngLat.convert(y),Q=new f.LngLat(L.lng,$.lat),re=new f.LngLat($.lng,L.lat),ne=E.project(L),oe=E.project($),ee=this.queryTerrainElevation(L),te=this.queryTerrainElevation($),ue=this.queryTerrainElevation(Q),se=this.queryTerrainElevation(re),pe=[[ne.x,ne.y,Math.min(ee||0,te||0,ue||0,se||0)],[oe.x,oe.y,Math.max(ee||0,te||0,ue||0,se||0)]];let Ce=f.Aabb.fromPoints(pe);const be=E.getWorldToCameraMatrix(),Te=f.invert(new Float64Array(16),be);Ce=f.Aabb.applyTransform(Ce,be);const Ue=f.sub([],Ce.max,Ce.min),ze=F.left||0,Ie=F.right||0,gt=F.bottom||0,Ne=F.top||0,{left:Je,right:$e,top:lt,bottom:Ze}=A.padding,ot=.5*(ze+Ie),yt=.5*(Ne+gt),Oe=Math.min(E.scaleZoom(E.scale*Math.min((E.width-(ze+Ie+Je+$e))/Ue[0],(E.height-(gt+Ne+Ze+lt))/Ue[1])),A.maxZoom),je=E.scale/E.zoomScale(Oe);Ce=new f.Aabb([Ce.min[0]-(Je+ot)*je,Ce.min[1]-(Ze+yt)*je,Ce.min[2]],[Ce.max[0]+($e+ot)*je,Ce.max[1]+(lt+yt)*je,Ce.max[2]]);const Bt=.5*Ue[2],Ut=this._minimumAABBFrustumDistance(E,Ce),Vt=[0,0,1,0];f.transformMat4$1(Vt,Vt,be),f.normalize$2(Vt,Vt);const pn=f.scale$2([],Vt,Ut+Bt),jn=f.add([],Ce.center,pn),rn=("number"==typeof A.offset.x&&"number"==typeof A.offset.y?new f.pointGeometry(A.offset.x,A.offset.y):f.pointGeometry.convert(A.offset)).rotate(-f.degToRad(w));Ce.center[0]-=rn.x*je,Ce.center[1]+=rn.y*je,f.transformMat4(Ce.center,Ce.center,Te),f.transformMat4(jn,jn,Te);const Pt=[Ce.center[0],Ce.center[1],jn[2]*E.pixelsPerMeter];f.scale$2(Pt,Pt,1/E.worldSize);const Di=f.lngFromMercatorX(Pt[0]),Ei=f.latFromMercatorY(Pt[1]),Wi=Math.min(E._zoomFromMercatorZ(Pt[2]),A.maxZoom),Bi=new f.LngLat(Di,Ei);return E.mercatorFromTransition&&Wi<.5*(f.GLOBE_ZOOM_THRESHOLD_MIN+f.GLOBE_ZOOM_THRESHOLD_MAX)?(E.setProjection({name:"globe"}),E.zoom=Wi,this._cameraForBounds(E,h,y,w,x,D)):{center:Bi,zoom:Wi,bearing:w,pitch:x}}fitBounds(c,h,y){const w=this.cameraForBounds(c,h);return this._fitInternal(w,h,y)}fitScreenCoordinates(c,h,y,w,x){const D=f.pointGeometry.convert(c),E=f.pointGeometry.convert(h),A=new f.pointGeometry(Math.min(D.x,E.x),Math.min(D.y,E.y)),F=new f.pointGeometry(Math.max(D.x,E.x),Math.max(D.y,E.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(D,E))return this;const L=this.transform.pointLocation3D(A),$=this.transform.pointLocation3D(F),Q=this.transform.pointLocation3D(new f.pointGeometry(A.x,F.y)),re=this.transform.pointLocation3D(new f.pointGeometry(F.x,A.y)),ne=[Math.min(L.lng,$.lng,Q.lng,re.lng),Math.min(L.lat,$.lat,Q.lat,re.lat)],oe=[Math.max(L.lng,$.lng,Q.lng,re.lng),Math.max(L.lat,$.lat,Q.lat,re.lat)],ee=w&&w.pitch?w.pitch:this.getPitch(),te=this._cameraForBounds(this.transform,ne,oe,y,ee,w);return this._fitInternal(te,w,x)}_fitInternal(c,h,y){return c?(delete(h=f.extend(c,h)).padding,h.linear?this.easeTo(h,y):this.flyTo(h,y)):this}jumpTo(c,h){this.stop();const y=c.preloadOnly?this.transform.clone():this.transform;let w=!1,x=!1,D=!1;return"zoom"in c&&y.zoom!==+c.zoom&&(w=!0,y.zoom=+c.zoom),void 0!==c.center&&(y.center=f.LngLat.convert(c.center)),"bearing"in c&&y.bearing!==+c.bearing&&(x=!0,y.bearing=+c.bearing),"pitch"in c&&y.pitch!==+c.pitch&&(D=!0,y.pitch=+c.pitch),null==c.padding||y.isPaddingEqual(c.padding)||(y.padding=c.padding),c.preloadOnly?(this._preloadTiles(y),this):(this.fire(new f.Event("movestart",h)).fire(new f.Event("move",h)),w&&this.fire(new f.Event("zoomstart",h)).fire(new f.Event("zoom",h)).fire(new f.Event("zoomend",h)),x&&this.fire(new f.Event("rotatestart",h)).fire(new f.Event("rotate",h)).fire(new f.Event("rotateend",h)),D&&this.fire(new f.Event("pitchstart",h)).fire(new f.Event("pitch",h)).fire(new f.Event("pitchend",h)),this.fire(new f.Event("moveend",h)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||f.warnOnce(ma),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,h){const y=this.transform;if(!y.projection.supportsFreeCamera)return f.warnOnce(ma),this;this.stop();const w=y.zoom,x=y.pitch,D=y.bearing;y.setFreeCameraOptions(c);const E=w!==y.zoom,A=x!==y.pitch,F=D!==y.bearing;return this.fire(new f.Event("movestart",h)).fire(new f.Event("move",h)),E&&this.fire(new f.Event("zoomstart",h)).fire(new f.Event("zoom",h)).fire(new f.Event("zoomend",h)),F&&this.fire(new f.Event("rotatestart",h)).fire(new f.Event("rotate",h)).fire(new f.Event("rotateend",h)),A&&this.fire(new f.Event("pitchstart",h)).fire(new f.Event("pitch",h)).fire(new f.Event("pitchend",h)),this.fire(new f.Event("moveend",h)),this}easeTo(c,h){this._stop(!1,c.easeId),(!1===(c=f.extend({offset:[0,0],duration:500,easing:f.ease},c)).animate||!c.essential&&f.exported.prefersReducedMotion)&&(c.duration=0);const y=this.transform,w=this.getZoom(),x=this.getBearing(),D=this.getPitch(),E=this.getPadding(),A="zoom"in c?+c.zoom:w,F="bearing"in c?this._normalizeBearing(c.bearing,x):x,L="pitch"in c?+c.pitch:D,$="padding"in c?c.padding:y.padding,Q=f.pointGeometry.convert(c.offset);let re,ne,oe;if("globe"===y.projection.name){const ze=f.MercatorCoordinate.fromLngLat(y.center),Ie=Q.rotate(-y.angle);ze.x+=Ie.x/y.worldSize,ze.y+=Ie.y/y.worldSize;const gt=ze.toLngLat(),Ne=f.LngLat.convert(c.center||gt);this._normalizeCenter(Ne),re=y.centerPoint.add(Ie),ne=new f.pointGeometry(ze.x,ze.y).mult(y.worldSize),oe=new f.pointGeometry(f.mercatorXfromLng(Ne.lng),f.mercatorYfromLat(Ne.lat)).mult(y.worldSize).sub(ne)}else{re=y.centerPoint.add(Q);const ze=y.pointLocation(re),Ie=f.LngLat.convert(c.center||ze);this._normalizeCenter(Ie),ne=y.project(ze),oe=y.project(Ie).sub(ne)}const ee=y.zoomScale(A-w);let te,ue;c.around&&(te=f.LngLat.convert(c.around),ue=y.locationPoint(te));const se=this._zooming||A!==w,pe=this._rotating||x!==F,Ce=this._pitching||L!==D,be=!y.isPaddingEqual($),Te=ze=>Ie=>{if(se&&(ze.zoom=f.number(w,A,Ie)),pe&&(ze.bearing=f.number(x,F,Ie)),Ce&&(ze.pitch=f.number(D,L,Ie)),be&&(ze.interpolatePadding(E,$,Ie),re=ze.centerPoint.add(Q)),te)ze.setLocationAtPoint(te,ue);else{const gt=ze.zoomScale(ze.zoom-w),Ne=A>w?Math.min(2,ee):Math.max(.5,ee),Je=Math.pow(Ne,1-Ie),$e=ze.unproject(ne.add(oe.mult(Ie*Je)).mult(gt));ze.setLocationAtPoint(ze.renderWorldCopies?$e.wrap():$e,re)}return c.preloadOnly||this._fireMoveEvents(h),ze};if(c.preloadOnly){const ze=this._emulate(Te,c.duration,y);return this._preloadTiles(ze),this}const Ue={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=se,this._rotating=pe,this._pitching=Ce,this._padding=be,this._easeId=c.easeId,this._prepareEase(h,c.noMoveStart,Ue),this._ease(Te(y),ze=>{y.recenterOnTerrain(),this._afterEase(h,ze)},c),this}_prepareEase(c,h,y={}){this._moving=!0,this.transform.cameraElevationReference="sea",h||y.moving||this.fire(new f.Event("movestart",c)),this._zooming&&!y.zooming&&this.fire(new f.Event("zoomstart",c)),this._rotating&&!y.rotating&&this.fire(new f.Event("rotatestart",c)),this._pitching&&!y.pitching&&this.fire(new f.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new f.Event("move",c)),this._zooming&&this.fire(new f.Event("zoom",c)),this._rotating&&this.fire(new f.Event("rotate",c)),this._pitching&&this.fire(new f.Event("pitch",c))}_afterEase(c,h){if(this._easeId&&h&&this._easeId===h)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const y=this._zooming,w=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new f.Event("zoomend",c)),w&&this.fire(new f.Event("rotateend",c)),x&&this.fire(new f.Event("pitchend",c)),this.fire(new f.Event("moveend",c))}flyTo(c,h){if(!c.essential&&f.exported.prefersReducedMotion){const Oe=f.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Oe,h)}this.stop(),c=f.extend({offset:[0,0],speed:1.2,curve:1.42,easing:f.ease},c);const y=this.transform,w=this.getZoom(),x=this.getBearing(),D=this.getPitch(),E=this.getPadding(),A="zoom"in c?f.clamp(+c.zoom,y.minZoom,y.maxZoom):w,F="bearing"in c?this._normalizeBearing(c.bearing,x):x,L="pitch"in c?+c.pitch:D,$="padding"in c?c.padding:y.padding,Q=y.zoomScale(A-w),re=f.pointGeometry.convert(c.offset);let ne=y.centerPoint.add(re);const oe=y.pointLocation(ne),ee=f.LngLat.convert(c.center||oe);this._normalizeCenter(ee);const te=y.project(oe),ue=y.project(ee).sub(te);let se=c.curve;const pe=Math.max(y.width,y.height),Ce=pe/Q,be=ue.mag();if("minZoom"in c){const Oe=f.clamp(Math.min(c.minZoom,w,A),y.minZoom,y.maxZoom),je=pe/y.zoomScale(Oe-w);se=Math.sqrt(je/be*2)}const Te=se*se;function Ue(Oe){const je=(Ce*Ce-pe*pe+(Oe?-1:1)*Te*Te*be*be)/(2*(Oe?Ce:pe)*Te*be);return Math.log(Math.sqrt(je*je+1)-je)}function ze(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function Ie(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}const gt=Ue(0);let Ne=function(Oe){return Ie(gt)/Ie(gt+se*Oe)},Je=function(Oe){return pe*((Ie(gt)*(ze(je=gt+se*Oe)/Ie(je))-ze(gt))/Te)/be;var je},$e=(Ue(1)-gt)/se;if(Math.abs(be)<1e-6||!isFinite($e)){if(Math.abs(pe-Ce)<1e-6)return this.easeTo(c,h);const Oe=Ce<pe?-1:1;$e=Math.abs(Math.log(Ce/pe))/se,Je=function(){return 0},Ne=function(je){return Math.exp(Oe*se*je)}}c.duration="duration"in c?+c.duration:1e3*$e/("screenSpeed"in c?+c.screenSpeed/se:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const lt=x!==F,Ze=L!==D,ot=!y.isPaddingEqual($),yt=Oe=>je=>{const Bt=je*$e,Ut=1/Ne(Bt);Oe.zoom=1===je?A:w+Oe.scaleZoom(Ut),lt&&(Oe.bearing=f.number(x,F,je)),Ze&&(Oe.pitch=f.number(D,L,je)),ot&&(Oe.interpolatePadding(E,$,je),ne=Oe.centerPoint.add(re));const Vt=1===je?ee:Oe.unproject(te.add(ue.mult(Je(Bt))).mult(Ut));return Oe.setLocationAtPoint(Oe.renderWorldCopies?Vt.wrap():Vt,ne),Oe._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(h),Oe};if(c.preloadOnly){const Oe=this._emulate(yt,c.duration,y);return this._preloadTiles(Oe),this}return this._zooming=!0,this._rotating=lt,this._pitching=Ze,this._padding=ot,this._prepareEase(h,!1),this._ease(yt(y),()=>this._afterEase(h),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const y=this._onEaseEnd;this._onEaseEnd=void 0,y.call(this,h)}if(!c){const y=this.handlers;y&&y.stop(!1)}return this}_ease(c,h,y){!1===y.animate||0===y.duration?(c(1),h()):(this._easeStart=f.exported.now(),this._easeOptions=y,this._onEaseFrame=c,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((f.exported.now()-this._easeStart)/this._easeOptions.duration,1),h=this._onEaseFrame;h&&h(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,h){c=f.wrap(c,-180,180);const y=Math.abs(c-h);return Math.abs(c-360-h)<y&&(c-=360),Math.abs(c+360-h)<y&&(c+=360),c}_normalizeCenter(c){const h=this.transform;if(!h.renderWorldCopies||h.maxBounds)return;const y=c.lng-h.center.lng;c.lng+=y>180?-360:y<-180?360:0}_emulate(c,h,y){const w=Math.ceil(15*h/1e3),x=[],D=c(y.clone());for(let E=0;E<=w;E++){const A=D(E/w);x.push(A.clone())}return x}}class Qh{constructor(c={}){this.options=c,f.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const h=this.options&&this.options.compact;return this._map=c,this._container=mn("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=mn("button","mapboxgl-ctrl-attrib-button",this._container),mn("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=mn("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),h&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===h&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,h){const y=this._map._getUIString(`AttributionControl.${h}`);c.setAttribute("aria-label",y),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",y)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const h=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||f.config.ACCESS_TOKEN}];if(c){const y=h.reduce((w,x,D)=>(x.value&&(w+=`${x.key}=${x.value}${D<h.length-1?"&":""}`),w),"?");c.href=`${f.config.FEEDBACK_URL}/${y}#${Ks(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||"metadata"!==c.sourceDataType&&"visibility"!==c.sourceDataType&&"style"!==c.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const h=this._map.style._sourceCaches;for(const w in h){const x=h[w];if(x.used){const D=x.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c.sort((w,x)=>w.length-x.length),c=c.filter((w,x)=>{for(let D=x+1;D<c.length;D++)if(c[D].indexOf(w)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const y=c.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,c.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Cf{constructor(){f.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=mn("div","mapboxgl-ctrl");const h=mn("a","mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://www.mapbox.com/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&"metadata"!==c.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(0===Object.entries(c).length)return!0;for(const h in c){const y=c[h].getSource();if(y.hasOwnProperty("mapbox_logo")&&!y.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const h=c[0];this._map.getCanvasContainer().offsetWidth<250?h.classList.add("mapboxgl-compact"):h.classList.remove("mapboxgl-compact")}}}class xf{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const h=++this._id;return this._queue.push({callback:c,id:h,cancelled:!1}),h}remove(c){const h=this._currentlyRunning,y=h?this._queue.concat(h):this._queue;for(const w of y)if(w.id===c)return void(w.cancelled=!0)}run(c=0){const h=this._currentlyRunning=this._queue;this._queue=[];for(const y of h)if(!y.cancelled&&(y.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Ld(g,c,h){if(g=new f.LngLat(g.lng,g.lat),c){const y=new f.LngLat(g.lng-360,g.lat),w=new f.LngLat(g.lng+360,g.lat),x=360*Math.ceil(Math.abs(g.lng-h.center.lng)/360),D=h.locationPoint(g).distSqr(c),E=c.x<0||c.y<0||c.x>h.width||c.y>h.height;h.locationPoint(y).distSqr(c)<D&&(E||Math.abs(y.lng-h.center.lng)<x)?g=y:h.locationPoint(w).distSqr(c)<D&&(E||Math.abs(w.lng-h.center.lng)<x)&&(g=w)}for(;Math.abs(g.lng-h.center.lng)>180;){const y=h.locationPoint(g);if(y.x>=0&&y.y>=0&&y.x<=h.width&&y.y<=h.height)break;g.lng>h.center.lng?g.lng-=360:g.lng+=360}return g}const Ql={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Pu extends f.Evented{constructor(c,h){if(super(),(c instanceof f.window.HTMLElement||h)&&(c=f.extend({element:c},h)),f.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=f.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=mn("div");const w=41,x=27,D=Ci("svg",{display:"block",height:w*this._scale+"px",width:x*this._scale+"px",viewBox:`0 0 ${x} ${w}`},this._element),E=Ci("radialGradient",{id:"shadowGradient"},Ci("defs",{},D));Ci("stop",{offset:"10%","stop-opacity":.4},E),Ci("stop",{offset:"100%","stop-opacity":.05},E),Ci("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},D),Ci("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},D),Ci("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},D),Ci("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},D),this._offset=f.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",w=>{w.preventDefault()}),this._element.addEventListener("mousedown",w=>{w.preventDefault()});const y=this._element.classList;for(const w in Ql)y.remove(`mapboxgl-marker-anchor-${w}`);y.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=f.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const w=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(24.6+w)],"bottom-right":[-w,-1*(24.6+w)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const h=c.code,y=c.charCode||c.keyCode;"Space"!==h&&"Enter"!==h&&32!==y&&13!==y||this.togglePopup()}_onMapClick(c){const h=c.originalEvent.target,y=this._element;this._popup&&(h===y||y.contains(h))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,h=this._pos;if(!c||!h)return!1;const y=c.unproject(h),w=c.getFreeCameraOptions();if(!w.position)return!1;const x=w.position.toLngLat();return x.distanceTo(y)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const h=this._pos;if(!h||h.x<0||h.x>c.transform.width||h.y<0||h.y>c.transform.height)return void this._clearFadeTimer();const y=c.unproject(h);let w;c._showingGlobe()&&f.isLngLatBehindGlobe(c.transform,this._lngLat)?w=0:(w=1-c._queryFogOpacity(y),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(w*=this._occludedOpacity)),this._element.style.opacity=`${w}`,this._element.style.pointerEvents=w>0?"auto":"none",this._popup&&this._popup._setOpacity(w),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const h=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${c.x}px,${c.y}px)\n            ${Ql[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${h.x}px,${h.y}px)\n        `}_calculateXYTransform(){const c=this._pos,h=this._map,y=this.getPitchAlignment();if(!h||!c||"map"!==y)return"";if(!h._showingGlobe()){const A=h.getPitch();return A?`rotateX(${A}deg)`:""}const w=f.radToDeg(f.globeTiltAtLngLat(h.transform,this._lngLat)),x=c.sub(f.globeCenterToScreenPoint(h.transform)),D=Math.abs(x.x)+Math.abs(x.y);if(0===D)return"";const E=w/D;return`rotateX(${-x.y*E}deg) rotateY(${x.x*E}deg)`}_calculateZTransform(){const c=this._pos,h=this._map;if(!h||!c)return"";let y=0;const w=this.getRotationAlignment();if("map"===w)if(h._showingGlobe()){const x=h.project(new f.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),D=h.project(new f.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(x);y=f.radToDeg(Math.atan2(D.y,D.x))-90}else y=-h.getBearing();else if("horizon"===w){const x=f.smoothstep(4,6,h.getZoom()),D=f.globeCenterToScreenPoint(h.transform);D.y+=x*h.transform.height;const E=c.sub(D),A=f.radToDeg(Math.atan2(E.y,E.x));y=(A>90?A-270:A+90)*(1-x)}return y+=this._rotation,y?`rotateZ(${y}deg)`:""}_update(c){f.window.cancelAnimationFrame(this._updateFrameId);const h=this._map;h&&(h.transform.renderWorldCopies&&(this._lngLat=Ld(this._lngLat,this._pos,h.transform)),this._pos=h.project(this._lngLat),!0===c?this._updateFrameId=f.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),h._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(h._showingGlobe()||h.getTerrain()||h.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=f.pointGeometry.convert(c),this._update(),this}_onMove(c){const h=this._map;if(!h)return;const y=this._pointerdownPos,w=this._positionDelta;if(y&&w){if(!this._isDragging){const x=this._clickTolerance||h._clickTolerance;if(c.point.dist(y)<x)return;this._isDragging=!0}this._pos=c.point.sub(w),this._lngLat=h.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new f.Event("dragstart"))),this.fire(new f.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new f.Event("dragend")),this._state="inactive"}_addDragHandler(c){const h=this._map,y=this._pos;h&&y&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(y),this._pointerdownPos=c.point,this._state="pending",h.on("mousemove",this._onMove),h.on("touchmove",this._onMove),h.once("mouseup",this._onUp),h.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const h=this._map;return h&&(c?(h.on("mousedown",this._addDragHandler),h.on("touchstart",this._addDragHandler)):(h.off("mousedown",this._addDragHandler),h.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Ru={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ig=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jh(g=new f.pointGeometry(0,0),c="bottom"){if("number"==typeof g){const h=Math.round(Math.sqrt(.5*Math.pow(g,2)));switch(c){case"top":return new f.pointGeometry(0,g);case"top-left":return new f.pointGeometry(h,h);case"top-right":return new f.pointGeometry(-h,h);case"bottom":return new f.pointGeometry(0,-g);case"bottom-left":return new f.pointGeometry(h,-h);case"bottom-right":return new f.pointGeometry(-h,-h);case"left":return new f.pointGeometry(g,0);case"right":return new f.pointGeometry(-g,0)}return new f.pointGeometry(0,0)}return g instanceof f.pointGeometry||Array.isArray(g)?f.pointGeometry.convert(g):f.pointGeometry.convert(g[c]||[0,0])}class ep{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const h=f.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-h)+this._end*h}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,h,y){this._start=this.getValue(h),this._end=c,this._startTime=h,this._endTime=h+y}}const Sf={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Tf={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Mf={showCompass:!0,showZoom:!0,visualizePitch:!1};class Df{constructor(c,h,y=!1){this._clickTolerance=10,this.element=h,this.mouseRotate=new Gn({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,y&&(this.mousePitch=new Zh({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),f.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),h.addEventListener("mousedown",this.mousedown),h.addEventListener("touchstart",this.touchstart,{passive:!1}),h.addEventListener("touchmove",this.touchmove),h.addEventListener("touchend",this.touchend),h.addEventListener("touchcancel",this.reset)}down(c,h){this.mouseRotate.mousedown(c,h),this.mousePitch&&this.mousePitch.mousedown(c,h),rr()}move(c,h){const y=this.map,w=this.mouseRotate.mousemoveWindow(c,h),x=w&&w.bearingDelta;if(x&&y.setBearing(y.getBearing()+x),this.mousePitch){const D=this.mousePitch.mousemoveWindow(c,h),E=D&&D.pitchDelta;E&&y.setPitch(y.getPitch()+E)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){fi(),f.window.removeEventListener("mousemove",this.mousemove),f.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(f.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),Fe(this.element,c)),f.window.addEventListener("mousemove",this.mousemove),f.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,Fe(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){1!==c.targetTouches.length?this.reset():(this._startPos=this._lastPos=Wt(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){1!==c.targetTouches.length?this.reset():(this._lastPos=Wt(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){0===c.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Fd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},rg={maxWidth:100,unit:"metric"};function og(g,c,h){const y=go(c),w=y/c,x={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[h];this._map._requestDomTask(()=>{this._container.style.width=g*w+"px",this._container.innerHTML=`${y}&nbsp;${x}`})}function go(g){const c=Math.pow(10,`${Math.floor(g)}`.length-1);let h=g/c;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:h>=1?1:function(y){const w=Math.pow(10,Math.ceil(-Math.log(y)/Math.LN10));return Math.round(y*w)/w}(h),c*h}const Ys={version:f.version,supported:$n,setRTLTextPlugin:f.setRTLTextPlugin,getRTLTextPluginStatus:f.getRTLTextPluginStatus,Map:class extends ng{constructor(g){if(f.LivePerformanceUtils.mark(f.PerformanceMarkers.create),null!=(g=f.extend({},Tf,g)).minZoom&&null!=g.maxZoom&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=g.minPitch&&null!=g.maxPitch&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=g.minPitch&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=g.maxPitch&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(g.antialias&&f.isSafariWithAntialiasingBug(f.window)&&(g.antialias=!1,f.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Wc(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),g),this._interactive=g.interactive,this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=g.crossSourceCollisions,this._collectResourceTiming=g.collectResourceTiming,this._optimizeForTerrain=g.optimizeForTerrain,this._language=this._parseLanguage(g.language),this._worldview=g.worldview,this._renderTaskQueue=new xf,this._domRenderTaskQueue=new xf,this._controls=[],this._markers=[],this._popups=[],this._mapId=f.uniqueId(),this._locale=f.extend({},Sf,g.locale),this._clickTolerance=g.clickTolerance,this._cooperativeGestures=g.cooperativeGestures,this._performanceMetricsCollection=g.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ep(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new f.RequestManager(g.transformRequest,g.accessToken,g.testMode),this._silenceAuthErrors=!!g.testMode,"string"==typeof g.container){if(this._container=f.window.document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof f.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(this._container.childNodes.length>0&&f.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),g.maxBounds&&this.setMaxBounds(g.maxBounds),f.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==f.window&&(f.window.addEventListener("online",this._onWindowOnline,!1),f.window.addEventListener("resize",this._onWindowResize,!1),f.window.addEventListener("orientationchange",this._onWindowResize,!1),f.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),f.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Va(this,g),this._localFontFamily=g.localFontFamily,this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),g.projection&&this.setProjection(g.projection),this._hash=g.hash&&new Ot("string"==typeof g.hash&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,f.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),g.attributionControl&&this.addControl(new Qh({customAttribution:g.customAttribution})),this._logoControl=new Cf,this.addControl(this._logoControl,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update("style"===c.dataType),this.fire(new f.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new f.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(g,c){if(void 0===c&&(c=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=g.onAdd(this);this._controls.push(g);const y=this._controlPositions[c];return-1!==c.indexOf("bottom")?y.insertBefore(h,y.firstChild):y.appendChild(h),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(g);return c>-1&&this._controls.splice(c,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(g){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new f.Event("movestart",g)).fire(new f.Event("move",g)),this.fire(new f.Event("resize",g)),c&&this.fire(new f.Event("moveend",g)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(g){return this.transform.setMaxBounds(f.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g?this.setZoom(g):this.fire(new f.Event("zoomstart")).fire(new f.Event("zoom")).fire(new f.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g?this.setZoom(g):this.fire(new f.Event("zoomstart")).fire(new f.Event("zoom")).fire(new f.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g?this.setPitch(g):this.fire(new f.Event("pitchstart")).fire(new f.Event("pitch")).fire(new f.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g?this.setPitch(g):this.fire(new f.Event("pitchstart")).fire(new f.Event("pitch")).fire(new f.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(g){return"auto"===g?f.window.navigator.language:Array.isArray(g)?0===g.length?void 0:g.map(c=>"auto"===c?f.window.navigator.language:c):g}setLanguage(g){const c=this._parseLanguage(g);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const h of this._controls)h._setLanguage&&h._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(g){return this.style&&g!==this._worldview?(this._worldview=g,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(g){return this._lazyInitEmptyStyle(),g?"string"==typeof g&&(g={name:g}):g=null,this._useExplicitProjection=!!g,this._prioritizeAndUpdateProjection(g,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const g=this.transform,c=g.projection.name;let h;"globe"===c&&g.zoom>=f.GLOBE_ZOOM_THRESHOLD_MAX?(g.setMercatorFromTransition(),h=!0):"mercator"===c&&g.zoom<f.GLOBE_ZOOM_THRESHOLD_MAX&&(g.setProjection({name:"globe"}),h=!0),h&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(g,c){return this._updateProjection(g||c||{name:"mercator"})}_updateProjection(g){let c;if(c="globe"===g.name&&this.transform.zoom>=f.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(g),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const h in this.style._sourceCaches)this.style._sourceCaches[h].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(g){return this.transform.locationPoint3D(f.LngLat.convert(g))}unproject(g){return this.transform.pointLocation3D(f.pointGeometry.convert(g))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(g,c,h){if("mouseenter"===g||"mouseover"===g){let y=!1;const w=D=>{const E=c.filter(F=>this.getLayer(F)),A=E.length?this.queryRenderedFeatures(D.point,{layers:E}):[];A.length?y||(y=!0,h.call(this,new Es(g,this,D.originalEvent,{features:A}))):y=!1},x=()=>{y=!1};return{layers:new Set(c),listener:h,delegates:{mousemove:w,mouseout:x}}}if("mouseleave"===g||"mouseout"===g){let y=!1;const w=D=>{const E=c.filter(A=>this.getLayer(A));(E.length?this.queryRenderedFeatures(D.point,{layers:E}):[]).length?y=!0:y&&(y=!1,h.call(this,new Es(g,this,D.originalEvent)))},x=D=>{y&&(y=!1,h.call(this,new Es(g,this,D.originalEvent)))};return{layers:new Set(c),listener:h,delegates:{mousemove:w,mouseout:x}}}{const y=w=>{const x=c.filter(E=>this.getLayer(E)),D=x.length?this.queryRenderedFeatures(w.point,{layers:x}):[];D.length&&(w.features=D,h.call(this,w),delete w.features)};return{layers:new Set(c),listener:h,delegates:{[g]:y}}}}on(g,c,h){if(void 0===h)return super.on(g,c);Array.isArray(c)||(c=[c]);const y=this._createDelegatedListener(g,c,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(y);for(const w in y.delegates)this.on(w,y.delegates[w]);return this}once(g,c,h){if(void 0===h)return super.once(g,c);Array.isArray(c)||(c=[c]);const y=this._createDelegatedListener(g,c,h);for(const w in y.delegates)this.once(w,y.delegates[w]);return this}off(g,c,h){if(void 0===h)return super.off(g,c);c=new Set(Array.isArray(c)?c:[c]);const y=(x,D)=>{if(x.size!==D.size)return!1;for(const E of x)if(!D.has(E))return!1;return!0},w=this._delegatedListeners?this._delegatedListeners[g]:void 0;return w&&(x=>{for(let D=0;D<x.length;D++){const E=x[D];if(E.listener===h&&y(E.layers,c)){for(const A in E.delegates)this.off(A,E.delegates[A]);return x.splice(D,1),this}}})(w),this}queryRenderedFeatures(g,c){return this.style?(void 0!==c||void 0===g||g instanceof f.pointGeometry||Array.isArray(g)||(c=g,g=void 0),this.style.queryRenderedFeatures(g=g||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(g,c){return this.style.querySourceFeatures(g,c)}setStyle(g,c){return!1!==(c=f.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&g?(this._diffStyle(g,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(g,c))}_getUIString(g){const c=this._locale[g];if(null==c)throw new Error(`Missing UI string '${g}'`);return c}_updateStyle(g,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),g&&(this.style=new Wr(this,c||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof g?this.style.loadURL(g):this.style.loadJSON(g)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Wr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,c){if("string"==typeof g){const h=this._requestManager.normalizeStyleURL(g),y=this._requestManager.transformRequest(h,f.ResourceType.Style);f.getJSON(y,(w,x)=>{w?this.fire(new f.ErrorEvent(w)):x&&this._updateDiff(x,c)})}else"object"==typeof g&&this._updateDiff(g,c)}_updateDiff(g,c){try{this.style.setState(g)&&this._update(!0)}catch(h){f.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(g,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(f.warnOnce("There is no style added to the map."),!1)}addSource(g,c){return this._lazyInitEmptyStyle(),this.style.addSource(g,c),this._update(!0)}isSourceLoaded(g){return!!this.style&&this.style._isSourceCacheLoaded(g)}areTilesLoaded(){const g=this.style&&this.style._sourceCaches;for(const c in g){const h=g[c]._tiles;for(const y in h){const w=h[y];if("loaded"!==w.state&&"errored"!==w.state)return!1}}return!0}addSourceType(g,c,h){this._lazyInitEmptyStyle(),this.style.addSourceType(g,c,h)}removeSource(g){return this.style.removeSource(g),this._updateTerrain(),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,c,{pixelRatio:h=1,sdf:y=!1,stretchX:w,stretchY:x,content:D}={}){if(this._lazyInitEmptyStyle(),c instanceof f.window.HTMLImageElement||f.window.ImageBitmap&&c instanceof f.window.ImageBitmap){const{width:E,height:A,data:F}=f.exported.getImageData(c);this.style.addImage(g,{data:new f.RGBAImage({width:E,height:A},F),pixelRatio:h,stretchX:w,stretchY:x,content:D,sdf:y,version:0})}else if(void 0===c.width||void 0===c.height)this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:E,height:A}=c,F=c;this.style.addImage(g,{data:new f.RGBAImage({width:E,height:A},new Uint8Array(F.data)),pixelRatio:h,stretchX:w,stretchY:x,content:D,sdf:y,version:0,userImage:F}),F.onAdd&&F.onAdd(this,g)}}updateImage(g,c){const h=this.style.getImage(g);if(!h)return void this.fire(new f.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=c instanceof f.window.HTMLImageElement||f.window.ImageBitmap&&c instanceof f.window.ImageBitmap?f.exported.getImageData(c):c,{width:w,height:x}=y;void 0!==w&&void 0!==x?w===h.data.width&&x===h.data.height?(h.data.replace(y.data,!(c instanceof f.window.HTMLImageElement||f.window.ImageBitmap&&c instanceof f.window.ImageBitmap)),this.style.updateImage(g,h)):this.fire(new f.ErrorEvent(new Error(`The width and height of the updated image (${w}, ${x})\n                must be that same as the previous version of the image\n                (${h.data.width}, ${h.data.height})`))):this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new f.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,c){f.getImage(this._requestManager.transformRequest(g,f.ResourceType.Image),(h,y)=>{c(h,y instanceof f.window.HTMLImageElement?f.exported.getImageData(y):y)})}listImages(){return this.style.listImages()}addLayer(g,c){return this._lazyInitEmptyStyle(),this.style.addLayer(g,c),this._update(!0)}moveLayer(g,c){return this.style.moveLayer(g,c),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,c,h){return this.style.setLayerZoomRange(g,c,h),this._update(!0)}setFilter(g,c,h={}){return this.style.setFilter(g,c,h),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,c,h,y={}){return this.style.setPaintProperty(g,c,h,y),this._update(!0)}getPaintProperty(g,c){return this.style.getPaintProperty(g,c)}setLayoutProperty(g,c,h,y={}){return this.style.setLayoutProperty(g,c,h,y),this._update(!0)}getLayoutProperty(g,c){return this.style.getLayoutProperty(g,c)}setLight(g,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(g){return this._lazyInitEmptyStyle(),!g&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(g),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(g){return this._lazyInitEmptyStyle(),this.style.setFog(g),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(g){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(f.LngLat.convert(g),this.transform):0}setFeatureState(g,c){return this.style.setFeatureState(g,c),this._update()}removeFeatureState(g,c){return this.style.removeFeatureState(g,c),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}_updateContainerDimensions(){if(!this._container)return;const g=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let h,y,w,x=this._container;for(;x&&(!y||!w);){const D=f.window.getComputedStyle(x).transform;D&&"none"!==D&&(h=D.match(/matrix.*\((.+)\)/)[1].split(", "),h[0]&&"0"!==h[0]&&"1"!==h[0]&&(y=h[0]),h[3]&&"0"!==h[3]&&"1"!==h[3]&&(w=h[3])),x=x.parentElement}this._containerWidth=y?Math.abs(g/y):g,this._containerHeight=w?Math.abs(c/w):c}_detectMissingCSS(){"rgb(250, 128, 114)"!==f.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&f.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=mn("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=mn("div","mapboxgl-canvas-container",g);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=mn("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const h=this._controlContainer=mn("div","mapboxgl-control-container",g),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{y[w]=mn("div",`mapboxgl-ctrl-${w}`,h)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,c){const h=f.exported.devicePixelRatio||1;this._canvas.width=h*Math.ceil(g),this._canvas.height=h*Math.ceil(c),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${c}px`}_addMarker(g){this._markers.push(g)}_removeMarker(g){const c=this._markers.indexOf(g);-1!==c&&this._markers.splice(c,1)}_addPopup(g){this._popups.push(g)}_removePopup(g){const c=this._popups.indexOf(g);-1!==c&&this._popups.splice(c,1)}_setupPainter(){const g=f.extend({},$n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);c?(f.storeAuthState(c,!0),this.painter=new Jy(c,this.transform),this.on("data",h=>{"source"===h.dataType&&this.painter.setTileLoadedFlag(!0)}),f.exported$1.testSupport(c)):this.fire(new f.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new f.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new f.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_requestDomTask(g){!this.loaded()||this.loaded()&&!this.isMoving()?g():this._domRenderTaskQueue.add(g)}_render(g){let c;const h=this.painter.context.extTimerQuery,y=f.exported.now();if(this.listens("gpu-timing-frame")&&(c=h.createQueryEXT(),h.beginQueryEXT(h.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],f.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],f.window.performance.now())),this._renderTaskQueue.run(g),this._domRenderTaskQueue.run(g),this._removed)return;this._updateProjectionTransition();const w=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const E=this.transform.zoom,A=this.transform.pitch,F=f.exported.now(),L=new f.EvaluationParameters(E,{now:F,fadeDuration:w,pitch:A,transition:this.style.getTransition()});this.style.update(L)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let x=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),x=this._updateAverageElevation(y),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):x=this._updateAverageElevation(y),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,w,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new f.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new f.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const E=f.exported.now()-y;h.endQueryEXT(h.TIME_ELAPSED_EXT,c),setTimeout(()=>{const A=h.getQueryObjectEXT(c,h.QUERY_RESULT_EXT)/1e6;h.deleteQueryEXT(c),this.fire(new f.Event("gpu-timing-frame",{cpuTime:E,gpuTime:A})),f.window.performance.mark("frame-gpu",{startTime:y,detail:{gpuTime:A}})},50)}if(this.listens("gpu-timing-layer")){const E=this.painter.collectGpuTimers();setTimeout(()=>{const A=this.painter.queryGpuTimers(E);this.fire(new f.Event("gpu-timing-layer",{layerTimes:A}))},50)}if(this.listens("gpu-timing-deferred-render")){const E=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const A=this.painter.queryGpuTimeDeferredRender(E);this.fire(new f.Event("gpu-timing-deferred-render",{gpuTime:A}))},50)}const D=this._sourcesDirty||this._styleDirty||this._placementDirty||x;if(D||this._repaint)this.triggerRepaint();else{const E=!this.isMoving()&&this.loaded();if(E&&(x=this._updateAverageElevation(y,!0)),x)this.triggerRepaint();else if(this._triggerFrame(!1),E&&(this.fire(new f.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const A=this._calculateSpeedIndex();this.fire(new f.Event("speedindexcompleted",{speedIndex:A})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||D||(this._fullyLoaded=!0,f.LivePerformanceUtils.mark(f.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&f.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(g){for(const c of this._markers)g&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!g||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(g,c=!1){const h=y=>(this.transform.averageElevation=y,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&h(0);if((c||g-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(g)){const y=this.transform.averageElevation;let w=this.transform.sampleAverageElevation(),x=!1;this.transform.elevation&&(x=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(w)?w=0:this._averageElevationLastSampledAt=g;const D=Math.abs(y-w);if(D>1){if(this._isInitialLoad||x)return this._averageElevation.jumpTo(w),h(w);this._averageElevation.easeTo(w,g,300)}else if(D>1e-4)return this._averageElevation.jumpTo(w),h(w)}return!!this._averageElevation.isEasing(g)&&h(this._averageElevation.getValue(g))}_authenticate(){f.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,g=>{if(g&&(g.message===f.AUTH_ERR_MSG||401===g.status)){const c=this.painter.context.gl;f.storeAuthState(c,!1),this._logoControl instanceof Cf&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new f.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),f.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const g=this._isDragging();this.painter.updateTerrain(this.style,g)}_calculateSpeedIndex(){const g=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const h=this.painter.context.gl,y=h.createFramebuffer();function w(x){h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,x,0);const D=new Uint8Array(h.drawingBufferWidth*h.drawingBufferHeight*4);return h.readPixels(0,0,h.drawingBufferWidth,h.drawingBufferHeight,h.RGBA,h.UNSIGNED_BYTE,D),D}return h.bindFramebuffer(h.FRAMEBUFFER,y),this._canvasPixelComparison(w(g),c.canvasCopies.map(w),c.timeStamps)}_canvasPixelComparison(g,c,h){let y=h[1]-h[0];const w=g.length/4;for(let x=0;x<c.length;x++){const D=c[x];let E=0;for(let A=0;A<D.length;A+=4)D[A]===g[A]&&D[A+1]===g[A+1]&&D[A+2]===g[A+2]&&D[A+3]===g[A+3]&&(E+=1);y+=(h[x+2]-h[x+1])*(1-E/w)}return y}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==f.window&&(f.window.removeEventListener("resize",this._onWindowResize,!1),f.window.removeEventListener("orientationchange",this._onWindowResize,!1),f.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),f.window.removeEventListener("online",this._onWindowOnline,!1),f.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),f.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new f.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(g){this._renderNextFrame=this._renderNextFrame||g,this.style&&!this._frame&&(this._frame=f.exported.frame(c=>{const h=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,h&&this._render(c)}))}_preloadTiles(g){const c=this.style?Object.values(this.style._sourceCaches):[];return f.asyncAll(c,(h,y)=>h._preloadTiles(g,y),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}_onVisibilityChange(){"hidden"===f.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(g){this._showTerrainWireframe!==g&&(this._showTerrainWireframe=g,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(g){this._speedIndexTiming!==g&&(this._speedIndexTiming=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(g){this._showTileAABBs!==g&&(this._showTileAABBs=g,g&&this._update())}_setCacheLimits(g,c){f.setCacheLimits(g,c)}get version(){return f.version}},NavigationControl:class{constructor(g){this.options=f.extend({},Mf,g),this._container=mn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(f.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),mn("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),mn("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(f.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const h=this._map;h&&(this.options.visualizePitch?h.resetNorthPitch({},{originalEvent:c}):h.resetNorth({},{originalEvent:c}))}),this._compassIcon=mn("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map;if(!g)return;const c=g.getZoom(),h=c===g.getMaxZoom(),y=c===g.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())}_rotateCompassArrow(){const g=this._map;if(!g)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(g.transform.pitch*(Math.PI/180)),.5)}) rotateX(${g.transform.pitch}deg) rotateZ(${g.transform.angle*(180/Math.PI)}deg)`:`rotate(${g.transform.angle*(180/Math.PI)}deg)`;g._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),g.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&g.on("pitch",this._rotateCompassArrow),g.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Df(g,this._compass,this.options.visualizePitch)),this._container}onRemove(){const g=this._map;g&&(this._container.remove(),this.options.showZoom&&g.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&g.off("pitch",this._rotateCompassArrow),g.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(g,c){const h=mn("button",g,this._container);return h.type="button",h.addEventListener("click",c),h}_setButtonTitle(g,c){if(!this._map)return;const h=this._map._getUIString(`NavigationControl.${c}`);g.setAttribute("aria-label",h),g.firstElementChild&&g.firstElementChild.setAttribute("title",h)}},GeolocateControl:class extends f.Evented{constructor(g){super(),this.options=f.extend({geolocation:f.window.navigator.geolocation},Fd,g),f.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Pd(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(g){return this._map=g,this._container=mn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(g){const c=(h=!!this.options.geolocation)=>{this._supportsGeolocation=h,g(h)};void 0!==this._supportsGeolocation?g(this._supportsGeolocation):void 0!==f.window.navigator.permissions?f.window.navigator.permissions.query({name:"geolocation"}).then(h=>c("denied"!==h.state)).catch(()=>c()):c()}_isOutOfMapMaxBounds(g){const c=this._map.getMaxBounds(),h=g.coords;return!!c&&(h.longitude<c.getWest()||h.longitude>c.getEast()||h.latitude<c.getSouth()||h.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new f.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(g),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("geolocate",g)),this._finish()}}_updateCamera(g){const c=new f.LngLat(g.coords.longitude,g.coords.latitude),h=g.coords.accuracy,y=this._map.getBearing(),w=f.extend({bearing:y},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(h),w,{geolocateSource:!0})}_updateMarker(g){if(g){const c=new f.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map.transform,c=f.mercatorZfromAltitude(1,g._center.lat)*g.worldSize,h=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${h}px`,this._circleElement.style.height=`${h}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(g){if(this._map){if(this.options.trackUserLocation)if(1===g.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===g.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=mn("button","mapboxgl-ctrl-geolocate",this._container),mn("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===g){f.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=mn("div","mapboxgl-user-location"),this._dotElement.appendChild(mn("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(mn("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Pu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=mn("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Pu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||"ACTIVE_LOCK"!==this._watchState||c.originalEvent&&"resize"===c.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new f.Event("trackuserlocationend")))})}}_onDeviceOrientation(g){this._userLocationDotMarker&&(g.webkitCompassHeading?this._heading=g.webkitCompassHeading:!0===g.absolute&&(this._heading=-1*g.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return f.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new f.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new f.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new f.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(g={maximumAge:6e5,timeout:0},this._noTimeout=!0):(g=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,g),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const g=()=>{f.window.addEventListener("ondeviceorientationabsolute"in f.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==f.window.DeviceMotionEvent&&"function"==typeof f.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(c=>{"granted"===c&&g()}).catch(console.error):g()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),f.window.removeEventListener("deviceorientation",this._onDeviceOrientation),f.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Qh,ScaleControl:class{constructor(g){this.options=f.extend({},rg,g),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=og.bind(this)),f.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const g=this.options.maxWidth||100,c=this._map,h=c._containerHeight/2,y=c._containerWidth/2-g/2,w=c.unproject([y,h]),x=c.unproject([y+g,h]),D=w.distanceTo(x);if("imperial"===this.options.unit){const E=3.2808*D;E>5280?this._setScale(g,E/5280,"mile"):this._setScale(g,E,"foot")}else"nautical"===this.options.unit?this._setScale(g,D/1852,"nautical-mile"):D>=1e3?this._setScale(g,D/1e3,"kilometer"):this._setScale(g,D,"meter")}_setScale(g,c,h){const y=go(c),w=y/c;this._map._requestDomTask(()=>{this._container.style.width=g*w+"px",this._container.innerHTML="nautical-mile"!==h?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:h}).format(y):`${y}&nbsp;nm`})}onAdd(g){return this._map=g,this._language=g.getLanguage(),this._container=mn("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(g){this._language=g,this._update()}setUnit(g){this.options.unit=g,this._update()}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof f.window.HTMLElement?this._container=g.container:f.warnOnce("Full screen control 'container' must be a DOM element.")),f.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in f.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in f.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=mn("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",f.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,f.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!f.window.document.fullscreenEnabled&&!f.window.document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=mn("button","mapboxgl-ctrl-fullscreen",this._controlContainer);mn("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),f.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",g)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(f.window.document.fullscreenElement||f.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?f.window.document.exitFullscreen?f.window.document.exitFullscreen():f.window.document.webkitCancelFullScreen&&f.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends f.Evented{constructor(g){super(),this.options=f.extend(Object.create(Ru),g),f.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(g&&g.className?g.className.trim().split(/\s+/):[])}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&g.on("preclick",this._onClose),this.options.closeOnMove&&g.on("move",this._onClose),g.on("remove",this.remove),this._update(),g._addPopup(this),this._focusFirstElement(),this._trackPointer?(g.on("mousemove",this._onMouseEvent),g.on("mouseup",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")):g.on("move",this._update),this.fire(new f.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const g=this._map;return g&&(g.off("move",this._update),g.off("move",this._onClose),g.off("preclick",this._onClose),g.off("click",this._onClose),g.off("remove",this.remove),g.off("mousemove",this._onMouseEvent),g.off("mouseup",this._onMouseEvent),g.off("drag",this._onMouseEvent),g._canvasContainer&&g._canvasContainer.classList.remove("mapboxgl-track-pointer"),g._removePopup(this),this._map=void 0),this.fire(new f.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){this._lngLat=f.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const g=this._map;return g&&(g.off("move",this._update),g.on("mousemove",this._onMouseEvent),g.on("drag",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(f.window.document.createTextNode(g))}setHTML(g){const c=f.window.document.createDocumentFragment(),h=f.window.document.createElement("body");let y;for(h.innerHTML=g;y=h.firstChild,y;)c.appendChild(y);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=mn("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(g),this.options.closeButton){const h=this._closeButton=mn("button","mapboxgl-popup-close-button",c);h.type="button",h.setAttribute("aria-label","Close popup"),h.setAttribute("aria-hidden","true"),h.innerHTML="&#215;",h.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(g){return this._classList.add(g),this._updateClassList(),this}removeClassName(g){return this._classList.delete(g),this._updateClassList(),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){let c;return this._classList.delete(g)?c=!1:(this._classList.add(g),c=!0),this._updateClassList(),c}_onMouseEvent(g){this._update(g.point)}_getAnchor(g){if(this.options.anchor)return this.options.anchor;const c=this._map,h=this._container,y=this._pos;if(!c||!h||!y)return"bottom";const w=h.offsetWidth,x=h.offsetHeight,D=y.x<w/2,E=y.x>c.transform.width-w/2;if(y.y+g<x)return D?"top-left":E?"top-right":"top";if(y.y>c.transform.height-x){if(D)return"bottom-left";if(E)return"bottom-right"}return D?"left":E?"right":"bottom"}_updateClassList(){const g=this._container;if(!g)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),g.className=c.join(" ")}_update(g){const c=this._map,h=this._content;if(!c||!this._lngLat&&!this._trackPointer||!h)return;let y=this._container;if(y||(y=this._container=mn("div","mapboxgl-popup",c.getContainer()),this._tip=mn("div","mapboxgl-popup-tip",y),y.appendChild(h)),this.options.maxWidth&&y.style.maxWidth!==this.options.maxWidth&&(y.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ld(this._lngLat,this._pos,c.transform)),!this._trackPointer||g){const w=this._pos=this._trackPointer&&g?g:c.project(this._lngLat),x=Jh(this.options.offset),D=this._anchor=this._getAnchor(x.y),E=Jh(this.options.offset,D),A=w.add(E).round();c._requestDomTask(()=>{this._container&&D&&(this._container.style.transform=`${Ql[D]} translate(${A.x}px,${A.y}px)`)})}if(!this._marker&&c._showingGlobe()){const w=f.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(w)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(ig);g&&g.focus()}_onClose(){this.remove()}_setOpacity(g){this._container&&(this._container.style.opacity=`${g}`),this._content&&(this._content.style.pointerEvents=g?"auto":"none")}},Marker:Pu,Style:Wr,LngLat:f.LngLat,LngLatBounds:f.LngLatBounds,Point:f.pointGeometry,MercatorCoordinate:f.MercatorCoordinate,FreeCameraOptions:Ym,Evented:f.Evented,config:f.config,prewarm:function(){Tn().acquire(gn)},clearPrewarmedResources:function(){const g=Xt;g&&(g.isPreloaded()&&1===g.numActive()?(g.release(gn),Xt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return f.config.ACCESS_TOKEN},set accessToken(g){f.config.ACCESS_TOKEN=g},get baseApiUrl(){return f.config.API_URL},set baseApiUrl(g){f.config.API_URL=g},get workerCount(){return cn.workerCount},set workerCount(g){cn.workerCount=g},get maxParallelImageRequests(){return f.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){f.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){f.clearTileCache(g)},workerUrl:"",workerClass:null,setNow:f.exported.setNow,restoreNow:f.exported.restoreNow};return Ys}),kt}()}},sf=>{sf(sf.s=173)}]);