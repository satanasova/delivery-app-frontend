<div class="chat-container">
  <nb-chat size="medium" title="Team Chat" [ngClass]="{'chat-minimized': chatMin}" scrollBottom="true">
    <nb-chat-message *ngFor="let msg of messages"
                     [type]="msg.type"
                     [message]="msg.text"
                     [reply]="msg.reply"
                     [sender]="msg.reply ? '' : msg.sender.name"
                     [date]="msg.date"
                     dateFormat="hh:mm:ss a"
                     [latitude]="msg.lat"
                     [longitude]="msg.lng"
                     [avatar]="msg.sender.avatarUrl">
  </nb-chat-message>
  <nb-chat-form (send)="sendMessage($event)" [dropFiles]="true">
  </nb-chat-form>
  </nb-chat>
  <nb-icon [icon]="chatMin ? 'arrow-ios-upward-outline' : 'minus-outline'" class="chat-min-icon" (click)="toggleMinimizeChat()"></nb-icon>
  <nb-badge *ngIf="unreadMsgsCount > 0" [text]="unreadMsgsCount" status="danger" class="chat-badge" position="top left"></nb-badge>
</div>
