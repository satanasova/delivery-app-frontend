<nb-card size="medium"> 
  <nb-card-header> Offices </nb-card-header>
  <nb-card-body>
    <p-table [value]="offices" >
      <ng-template pTemplate="header">
          <tr>
              <th *ngFor="let col of cols" [pSortableColumn]="col.field" [ngSwitch]="col.filterConfig?.filterType">
                {{col.header}}

                <p-columnFilter *ngSwitchCase="'range'" [field]="col.field" matchMode="between" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                  <ng-template pTemplate="filter" let-filter="filterCallback">
                      <p-slider [ngModel]="getRangeModel(col)" [min]="getRangeValues(col)[0]" [max]="getRangeValues(col)[1]" [range]="true" (onSlideEnd)="filter($event.values)" styleClass="m-3"></p-slider>
                        <div class="flex align-items-center justify-content-center p-2">
                          <span>{{getRangeModel(col)[0]}}&nbsp;-&nbsp;</span>
                          <span>{{getRangeModel(col)[1]}}</span>
                        </div>
                  </ng-template>
                </p-columnFilter>

                <p-columnFilter *ngSwitchCase="'select'" [field]="col.field" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                  <ng-template pTemplate="header">
                      <div class="px-3 pt-3 pb-0">
                          <span class="font-bold">{{col.header}} Picker</span>
                      </div>
                  </ng-template>
                  <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                      <p-multiSelect [ngModel]="value" [options]="getOptions(col)" placeholder="Any" (onChange)="filter($event.value)" optionLabel="name" [showHeader]="false">
                          <ng-template let-option pTemplate="item">
                              <div class="p-multiselect-representative-option" [innerHtml]="getOptionText(col, option)">
                              </div>
                          </ng-template>
                      </p-multiSelect>
                  </ng-template>
                </p-columnFilter>

                <p-columnFilter *ngSwitchCase="'date'" type="date" [field]="col.field" display="menu" [showAddButton]="false">
                  <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                    <p-calendar #calendar [ngModel]="value" (onSelect)="filter(calendar.value)" (onInput)="setup(calendar.value, col.field)" dateFormat="dd/mm/yy" ></p-calendar>
                  </ng-template>
                </p-columnFilter>

                <p-columnFilter *ngSwitchCase="'boolean'" type="boolean" [field]="col.field" display="menu">
                  <!-- <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                    <p-triStateCheckbox [ngModel]="value" label="Item Label"></p-triStateCheckbox>
                  </ng-template> -->
                </p-columnFilter>

                <p-columnFilter *ngSwitchCase="'number'" type="numeric" [field]="col.field" display="menu" [showAddButton]="false"></p-columnFilter>

                <p-columnFilter *ngSwitchDefault type="text" [field]="col.field" display="menu" [showAddButton]="false"></p-columnFilter>
   
                <div [ngSwitch]="col.filterConfig?.filterType">
                  <div *ngSwitchCase="'range'">range</div>
                  <div *ngSwitchCase="'select'">select</div>
                  <div *ngSwitchCase="'date'">date</div>
                  <div *ngSwitchCase="'boolean'">boolean</div>
                  <div *ngSwitchCase="'number'">number</div>
                  <div *ngSwitchDefault>text</div>
                </div>

              </th>
          </tr>
    
  
      </ng-template>
      <ng-template pTemplate="body" let-office>
          <tr>
              <td *ngFor="let col of cols" [innerHtml]="getDisplayText(col, office)"> 
              </td>
          </tr>
      </ng-template>
  </p-table>
  </nb-card-body>
</nb-card>

<!-- <app-demo-table></app-demo-table> -->
